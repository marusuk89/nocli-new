(()=>{function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};__webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__);n.loaded=!0;return n.exports}var __webpack_modules__={1296:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1635);r.__exportStar(n(5538),t);r.__exportStar(n(8501),t);r.__exportStar(n(1402),t);r.__exportStar(n(909),t);r.__exportStar(n(8503),t)},1402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BaseDao=void 0;const r=n(1635);t.BaseDao=class{constructor(e,t){this.dbConnection=e;this.dbTableName=t}add(e){return r.__awaiter(this,void 0,void 0,(function*(){yield this.dbConnection.table(this.dbTableName).add(e)}))}bulkAdd(e){return r.__awaiter(this,void 0,void 0,(function*(){yield this.dbConnection.table(this.dbTableName).bulkAdd(e)}))}getById(e){return this.dbConnection.table(this.dbTableName).where("id").equals(e).first()}getAll(){return r.__awaiter(this,void 0,void 0,(function*(){return this.dbConnection.table(this.dbTableName).toArray().then((e=>e)).catch((e=>{Error(e);return[]}))}))}getAllByDesc(e){return r.__awaiter(this,void 0,void 0,(function*(){return this.dbConnection.table(this.dbTableName).orderBy(e).reverse().toArray().then((e=>e)).catch((e=>{Error(e);return[]}))}))}deleteById(e){return r.__awaiter(this,void 0,void 0,(function*(){yield this.dbConnection.table(this.dbTableName).where("id").equals(e).delete()}))}deleteAll(){return r.__awaiter(this,void 0,void 0,(function*(){yield this.dbConnection.table(this.dbTableName).clear()}))}getCount(){return this.dbConnection.table(this.dbTableName).count()}getLatestRecord(){return this.dbConnection.table(this.dbTableName).orderBy("id").last()}deleteRecordLessThanId(e){return r.__awaiter(this,void 0,void 0,(function*(){yield this.dbConnection.table(this.dbTableName).where("id").below(e).delete()}))}getTableName(){return this.dbTableName}}},8501:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DbConnection=void 0;const r=n(1635),i=n(5830),o=n(5538);class s extends i.Dexie{static get Instance(){return this.singleton}constructor(e){super(e)}static getDbConnection(e){return r.__awaiter(this,void 0,void 0,(function*(){if(!s.singleton){s.singleton=new s(e);(yield s.exists(e))||s.singleton.initDbSchema();let t=!0;Object.getOwnPropertyNames(o.DB_SCHEMA).every((e=>{s.singleton&&!s.singleton[e]&&(t=!1);return t}));t||s.singleton.initDbSchema();yield s.singleton.open()}return s.singleton}))}static closeDBConnection(){if(s.singleton){s.singleton.close();s.singleton=void 0}}initDbSchema(){this.version(o.DB_VERSION).stores(o.DB_SCHEMA)}}t.DbConnection=s},5538:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DB_SCHEMA=t.SESSION_TABLE_SCHEMA=t.SESSION_TABLE_NAME=t.LOG_TABLE_SCHEMA=t.LOG_TABLE_NAME=t.DB_VERSION=t.DB_NAME=void 0;t.DB_NAME="EM_DB";t.DB_VERSION=1;t.LOG_TABLE_NAME="consoleLog";t.LOG_TABLE_SCHEMA="++id,\n                        session,\n                        logger,\n                        timestamp,\n                        level,\n                        messages,\n                        exception";t.SESSION_TABLE_NAME="logSession";t.SESSION_TABLE_SCHEMA="++id, \n                          name,\n                          session";t.DB_SCHEMA={consoleLog:t.LOG_TABLE_SCHEMA,logSession:t.SESSION_TABLE_SCHEMA}},8503:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LogDao=void 0;const r=n(1635),i=n(1402),o=n(5538);class s extends i.BaseDao{constructor(e){super(e,o.LOG_TABLE_NAME)}deleteLogBeforeSession(e){return r.__awaiter(this,void 0,void 0,(function*(){yield this.dbConnection.table(this.dbTableName).where("session").below(e).delete()}))}getBySession(e){return r.__awaiter(this,void 0,void 0,(function*(){return this.dbConnection.table(this.dbTableName).where("session").equals(e).toArray().then((e=>e)).catch((e=>{Error(e);return[]}))}))}getByTimestampRange(e,t){return r.__awaiter(this,void 0,void 0,(function*(){return this.dbConnection.table(this.dbTableName).where("timestamp").between(e,t).toArray().then((e=>e)).catch((e=>{Error(e);return[]}))}))}}t.LogDao=s},909:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SessionDao=void 0;const r=n(1402),i=n(5538);class o extends r.BaseDao{constructor(e){super(e,i.SESSION_TABLE_NAME)}}t.SessionDao=o},5738:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1635);"undefined"!==typeof window?window.global=window:n.g.window="";const i=r.__importStar(n(6863));n.g.window||(n.g.window=i);r.__exportStar(n(5761),t);r.__exportStar(n(6518),t);r.__exportStar(n(687),t);r.__exportStar(n(8176),t);r.__exportStar(n(9816),t);r.__exportStar(n(6104),t)},7612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BrowserConsoleLogAppender=void 0;const r=n(6863);class i extends r.BrowserConsoleAppender{constructor(){super();super.setLayout(new r.PatternLayout("%d{HH:mm:ss} %-5p %c - %m%n"))}}t.BrowserConsoleLogAppender=i},6463:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ConsoleAppender=void 0;const r=n(6863);class i extends r.Appender{constructor(){super();super.setLayout(new r.PatternLayout("%d{HH:mm:ss} %-5p %c - %m%n"))}append(e){this.getLayout().format(e).toString()}}t.ConsoleAppender=i},8176:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DataBaseAppender=void 0;const r=n(6863);class i extends r.Appender{constructor(e){super();this.logDbService=e}append(e){var t;null===(t=this.logDbService)||void 0===t||t.addLog(this.createLogRecord(e)).then().catch((()=>{}))}createLogRecord(e){return{logger:e.logger.name,timestamp:e.timeStampInMilliseconds,level:e.level,messages:e.messages.map((e=>null===e||void 0===e?`${e}`:e.toString())),exception:this.errorAsObject(e.exception)}}errorAsObject(e){return e?{name:e.name,message:e.message,stack:e.stack}:null}}t.DataBaseAppender=i},9816:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FileAppender=void 0;const r=n(6863);class i extends r.Appender{constructor(e){super();super.setLayout(new r.PatternLayout("%d{HH:mm:ss} %-5p %c - %m%n"));this.logStream=e}append(e){const t=this.getLayout().format(e).toString();this.logStream.write(t)}flush(){return new Promise((e=>{this.logStream.on("finish",e);this.logStream.end()}))}}t.FileAppender=i},5761:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LogDbService=t.DB_LOG_SIZE_NO_LIMIT=void 0;const r=n(1635),i=n(1296);t.DB_LOG_SIZE_NO_LIMIT=-1;class o{static setInstance(e){this.inst=e}static get instance(){return this.inst}constructor(e){this.currentSession=Date.now().valueOf();this.maxLogSize=e;this.previousSession=-1;this.previousSession2=-1}init(e){return r.__awaiter(this,void 0,void 0,(function*(){const t=yield i.DbConnection.getDbConnection(e);this.logDao=new i.LogDao(t);this.sessionDao=new i.SessionDao(t);yield this.updateLogSession()}))}static getInstance(e,t){return r.__awaiter(this,void 0,void 0,(function*(){const n=new o(t);yield n.init(e);return n}))}get CurrentSession(){return this.currentSession}get PreviousSession(){return this.previousSession}get PreviousSession2(){return this.previousSession2}updateLogSession(){return r.__awaiter(this,void 0,void 0,(function*(){yield this.getLast2SessionFromDb();yield this.sessionDao.deleteAll();yield this.updateLast2SessionsToDb();yield this.deleteLogOlderThanLast2Sessions()}))}getLast2SessionFromDb(){return r.__awaiter(this,void 0,void 0,(function*(){const e=yield this.sessionDao.getAllByDesc("session");if(e&&e.length>=2){this.previousSession=e[0].session;this.previousSession2=e[1].session}else e&&e.length>=1&&(this.previousSession=e[0].session)}))}updateLast2SessionsToDb(){return r.__awaiter(this,void 0,void 0,(function*(){if(-1!==this.previousSession2){const e={name:"previous2",session:this.previousSession2};yield this.sessionDao.add(e)}if(-1!==this.previousSession){const e={name:"previous",session:this.previousSession};yield this.sessionDao.add(e)}const e={name:"current",session:this.currentSession};yield this.sessionDao.add(e)}))}deleteLogOlderThanLast2Sessions(){return r.__awaiter(this,void 0,void 0,(function*(){this.previousSession2&&(yield this.logDao.deleteLogBeforeSession(this.previousSession2))}))}addLog(e){return r.__awaiter(this,void 0,void 0,(function*(){if(this.isLogSizeLimited()&&(yield this.isRecordLimitExceeded())){const e=yield this.logDao.getLatestRecord().then((e=>e?e.id:e));e&&(yield this.logDao.deleteRecordLessThanId(e+1-this.maxLogSize/2))}e.session=this.currentSession;yield this.logDao.add(e)}))}isLogSizeLimited(){return this.maxLogSize!==t.DB_LOG_SIZE_NO_LIMIT}isRecordLimitExceeded(){return r.__awaiter(this,void 0,void 0,(function*(){const e=yield this.logDao.getCount();return o.isNumber(e)&&e+1>=this.maxLogSize}))}getLogOfCurrentSession(){return r.__awaiter(this,void 0,void 0,(function*(){return this.logDao.getBySession(this.currentSession)}))}getLogBySession(e){return r.__awaiter(this,void 0,void 0,(function*(){return this.logDao.getBySession(e)}))}getByTimestampRange(e,t){return r.__awaiter(this,void 0,void 0,(function*(){return this.logDao.getByTimestampRange(e,t)}))}clearAllLogs(){return r.__awaiter(this,void 0,void 0,(function*(){yield this.logDao.deleteAll()}))}getBlobLogs(){return r.__awaiter(this,void 0,void 0,(function*(){const e=yield this.logDao.getAll();return{name:"BROWSER_LOGS.json",blob:new Blob([JSON.stringify(e,null,2)],{type:"blob"})}}))}static isNumber(e){return"number"===typeof e}}t.LogDbService=o},6518:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LogService=void 0;const r="undefined"!==typeof window,i="undefined"===typeof window&&"undefined"!==typeof process,o=n(687),s=n(6463),a=n(7612),c=n(6863),u=(0,c.getLogger)("UNCAUGHT");t.LogService=class{constructor(){const e=[];r&&e.push(new a.BrowserConsoleLogAppender);i&&e.push(new s.ConsoleAppender);this.config({level:o.LogLevel.ALL,logAppenders:e})}static get instance(){return this._instance||(this._instance=new this)}getLogger(e){return(0,c.getLogger)(e)}config(e){this.loggerConfiguration=e;e.logAppenders&&e.logAppenders.forEach((e=>{(0,c.getRootLogger)().addAppender(e)}));(0,c.getRootLogger)().setLevel(e.level);(0,c.setShowStackTraces)(!0)}setLevel(e){this.loggerConfiguration.level=e;(0,c.getRootLogger)().setLevel(e)}getLevel(){return(0,c.getRootLogger)().getLevel()}enableLogUncaughtErrors(e){e.addEventListener("error",(e=>{"ResizeObserver loop limit exceeded"!==e.message&&u.error(`Application error: ${e.error?e.error.message:e.message}`,e.error?e.error:e)}))}getRootLogger(){return(0,c.getRootLogger)()}reset(){(0,c.getRootLogger)().removeAllAppenders()}}},687:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PatternLayout=t.Appender=t.Logger=t.LogLevel=t.LoggerDatabaseDefaultConfig=t.LoggerConfig=void 0;const r=n(1296),i=n(6863),o=n(5761);t.LoggerConfig=class{constructor(){this.level=i.Level.INFO}};t.LoggerDatabaseDefaultConfig=class{constructor(){this.logDbName=r.DB_NAME;this.maxLogSize=o.DB_LOG_SIZE_NO_LIMIT}};var s=n(6863);Object.defineProperty(t,"LogLevel",{enumerable:!0,get:function(){return s.Level}});Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return s.Logger}});Object.defineProperty(t,"Appender",{enumerable:!0,get:function(){return s.Appender}});Object.defineProperty(t,"PatternLayout",{enumerable:!0,get:function(){return s.PatternLayout}})},6104:(e,t)=>{"use strict";function n(e,t){r.has(e.toLocaleLowerCase())&&(t="***");return t}Object.defineProperty(t,"__esModule",{value:!0});t.safeJsonStringify=t.sensitiveDataKeys=void 0;t.sensitiveDataKeys=["password","newpassword","pwd","token","tokeninfo"];const r=new Map(t.sensitiveDataKeys.map((e=>[e,1])));t.safeJsonStringify=function(e){let t="";try{t+=JSON.stringify(e,n)}catch(e){t+="Failed to stringify"}return t}},8045:e=>{"use strict";e.exports=function(e,t){for(var n=new Array(arguments.length-1),r=0,i=2,o=!0;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,s){n[r]=function(e){if(o){o=!1;if(e)s(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}}};try{e.apply(t||null,n)}catch(e){if(o){o=!1;s(e)}}}))}},8839:(e,t)=>{"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var r=new Array(64),i=new Array(123),o=0;o<64;)i[r[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;n.encode=function(e,t,n){for(var i,o=null,s=[],a=0,c=0;t<n;){var u=e[t++];switch(c){case 0:s[a++]=r[u>>2];i=(3&u)<<4;c=1;break;case 1:s[a++]=r[i|u>>4];i=(15&u)<<2;c=2;break;case 2:s[a++]=r[i|u>>6];s[a++]=r[63&u];c=0}if(a>8191){(o||(o=[])).push(String.fromCharCode.apply(String,s));a=0}}if(c){s[a++]=r[i];s[a++]=61;1===c&&(s[a++]=61)}if(o){a&&o.push(String.fromCharCode.apply(String,s.slice(0,a)));return o.join("")}return String.fromCharCode.apply(String,s.slice(0,a))};var s="invalid encoding";n.decode=function(e,t,n){for(var r,o=n,a=0,c=0;c<e.length;){var u=e.charCodeAt(c++);if(61===u&&a>1)break;if(void 0===(u=i[u]))throw Error(s);switch(a){case 0:r=u;a=1;break;case 1:t[n++]=r<<2|(48&u)>>4;r=u;a=2;break;case 2:t[n++]=(15&r)<<4|(60&u)>>2;r=u;a=3;break;case 3:t[n++]=(3&r)<<6|u;a=0}}if(1===a)throw Error(s);return n-o};n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},4358:e=>{"use strict";function t(){this._listeners={}}e.exports=t;t.prototype.on=function(e,t,n){(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this});return this};t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this};t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},9410:e=>{"use strict";function t(e){"undefined"!==typeof Float32Array?function(){function t(e,t,n){o[0]=e;t[n]=s[0];t[n+1]=s[1];t[n+2]=s[2];t[n+3]=s[3]}function n(e,t,n){o[0]=e;t[n]=s[3];t[n+1]=s[2];t[n+2]=s[1];t[n+3]=s[0]}function r(e,t){s[0]=e[t];s[1]=e[t+1];s[2]=e[t+2];s[3]=e[t+3];return o[0]}function i(e,t){s[3]=e[t];s[2]=e[t+1];s[1]=e[t+2];s[0]=e[t+3];return o[0]}var o=new Float32Array([-0]),s=new Uint8Array(o.buffer),a=128===s[3];e.writeFloatLE=a?t:n;e.writeFloatBE=a?n:t;e.readFloatLE=a?r:i;e.readFloatBE=a?i:r}():function(){function t(e,t,n,r){var i=t<0?1:0;i&&(t=-t);if(0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,n,r)}}function s(e,t,n){var r=e(t,n),i=2*(r>>31)+1,o=r>>>23&255,s=8388607&r;return 255===o?s?NaN:i*(1/0):0===o?1401298464324817e-60*i*s:i*Math.pow(2,o-150)*(s+8388608)}e.writeFloatLE=t.bind(null,n);e.writeFloatBE=t.bind(null,r);e.readFloatLE=s.bind(null,i);e.readFloatBE=s.bind(null,o)}();"undefined"!==typeof Float64Array?function(){function t(e,t,n){o[0]=e;t[n]=s[0];t[n+1]=s[1];t[n+2]=s[2];t[n+3]=s[3];t[n+4]=s[4];t[n+5]=s[5];t[n+6]=s[6];t[n+7]=s[7]}function n(e,t,n){o[0]=e;t[n]=s[7];t[n+1]=s[6];t[n+2]=s[5];t[n+3]=s[4];t[n+4]=s[3];t[n+5]=s[2];t[n+6]=s[1];t[n+7]=s[0]}function r(e,t){s[0]=e[t];s[1]=e[t+1];s[2]=e[t+2];s[3]=e[t+3];s[4]=e[t+4];s[5]=e[t+5];s[6]=e[t+6];s[7]=e[t+7];return o[0]}function i(e,t){s[7]=e[t];s[6]=e[t+1];s[5]=e[t+2];s[4]=e[t+3];s[3]=e[t+4];s[2]=e[t+5];s[1]=e[t+6];s[0]=e[t+7];return o[0]}var o=new Float64Array([-0]),s=new Uint8Array(o.buffer),a=128===s[7];e.writeDoubleLE=a?t:n;e.writeDoubleBE=a?n:t;e.readDoubleLE=a?r:i;e.readDoubleBE=a?i:r}():function(){function t(e,t,n,r,i,o){var s=r<0?1:0;s&&(r=-r);if(0===r){e(0,i,o+t);e(1/r>0?0:2147483648,i,o+n)}else if(isNaN(r)){e(0,i,o+t);e(2146959360,i,o+n)}else if(r>17976931348623157e292){e(0,i,o+t);e((s<<31|2146435072)>>>0,i,o+n)}else{var a;if(r<22250738585072014e-324){e((a=r/5e-324)>>>0,i,o+t);e((s<<31|a/4294967296)>>>0,i,o+n)}else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023);e(4503599627370496*(a=r*Math.pow(2,-c))>>>0,i,o+t);e((s<<31|c+1023<<20|1048576*a&1048575)>>>0,i,o+n)}}}function s(e,t,n,r,i){var o=e(r,i+t),s=e(r,i+n),a=2*(s>>31)+1,c=s>>>20&2047,u=4294967296*(1048575&s)+o;return 2047===c?u?NaN:a*(1/0):0===c?5e-324*a*u:a*Math.pow(2,c-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,n,0,4);e.writeDoubleBE=t.bind(null,r,4,0);e.readDoubleLE=s.bind(null,i,0,4);e.readDoubleBE=s.bind(null,o,4,0)}();return e}function n(e,t,n){t[n]=255&e;t[n+1]=e>>>8&255;t[n+2]=e>>>16&255;t[n+3]=e>>>24}function r(e,t,n){t[n]=e>>>24;t[n+1]=e>>>16&255;t[n+2]=e>>>8&255;t[n+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function o(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},4153:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},9390:e=>{"use strict";e.exports=function(e,t,n){var r=n||8192,i=r>>>1,o=null,s=r;return function(n){if(n<1||n>i)return e(n);if(s+n>r){o=e(r);s=0}var a=t.call(o,s,s+=n);7&s&&(s=1+(7|s));return a}}},1447:(e,t)=>{"use strict";var n=t;n.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)if((n=e.charCodeAt(r))<128)t+=1;else if(n<2048)t+=2;else if(55296===(64512&n)&&56320===(64512&e.charCodeAt(r+1))){++r;t+=4}else t+=3;return t};n.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,o=[],s=0;t<n;){if((r=e[t++])<128)o[s++]=r;else if(r>191&&r<224)o[s++]=(31&r)<<6|63&e[t++];else if(r>239&&r<365){r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536;o[s++]=55296+(r>>10);o[s++]=56320+(1023&r)}else o[s++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++];if(s>8191){(i||(i=[])).push(String.fromCharCode.apply(String,o));s=0}}if(i){s&&i.push(String.fromCharCode.apply(String,o.slice(0,s)));return i.join("")}return String.fromCharCode.apply(String,o.slice(0,s))};n.write=function(e,t,n){for(var r,i,o=n,s=0;s<e.length;++s)if((r=e.charCodeAt(s))<128)t[n++]=r;else if(r<2048){t[n++]=r>>6|192;t[n++]=63&r|128}else if(55296===(64512&r)&&56320===(64512&(i=e.charCodeAt(s+1)))){r=65536+((1023&r)<<10)+(1023&i);++s;t[n++]=r>>18|240;t[n++]=r>>12&63|128;t[n++]=r>>6&63|128;t[n++]=63&r|128}else{t[n++]=r>>12|224;t[n++]=r>>6&63|128;t[n++]=63&r|128}return n-o}},6737:e=>{"use strict";e.exports=function(e){return function(){var t=arguments.length;if(t){for(var n=[],r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}return e.call(this,[])}}},1013:(e,t,n)=>{"use strict";function r(e,t,n){const r=t.parameters.parameters;return(i,o,a,c)=>{const u={},l=c&&c.properties&&"configurationReset"===c.properties.indName;if(8!==Number(a)||!l){if(i===h.COMPLETED||i===h.FAILED){const e=r.inputFileContent,t=r.planScfFileContent,o=r.ratScfFileContent,s=r.outputFileContent,a=r.lazyOutputFileContent;e&&e.close();t&&t.close();o&&o.close();if(s&&s.isDirty){s.close();if(i===h.COMPLETED){u.outputFileContent=s;u.outputFileName=r.outputFileName}}if(a&&a.isDirty){a.close();if(i===h.COMPLETED){u.outputFileContent=a;u.outputFileName=r.outputFileName}}n.stop();C=!0}else n.restart();s(e,t,i,o,a,u)}}}function i(e,t,n,r){s(e,t,h.FAILED,n,r)}function o(e,t,n,r){const i=Object.assign({time:c(),requestStatus:t,requestMessage:n,errorCode:r});e.send(i)}function s(e,{requestId:t},n,r,i,o={}){r=a(r);y.info(`CLI send: requestId: ${t}, requestStatus: ${n}, requestMessage: ${m.truncate(JSON.stringify(r),{length:200})}, errorCode: ${i}`);const s=Object.assign({time:c(),requestId:t,requestStatus:n,requestMessage:r,errorCode:i},o);e.send(s)}function a(e){const t=JSON.stringify(e);return t.includes("fulfillmentValue")?JSON.parse(t).fulfillmentValue:e}function c(){return(new Date).toLocaleTimeString()}const u=n(8975),l=n(2069),f=n(606),d=n(6307),h=n(9099),p=n(7007),m=n(2543),g=n(7639),y=u.getLogger("admin.cli.adminApi.adminApi"),_=new p,{MSG:v}=n(821),{INVALID_OPERATION:E,INVALID_PARAMETERS:S,SITE_UNREACHABLE:b}=n(3350);let T=m.noop(),C=!1;const I={type:"object",id:"message",properties:{requestId:{type:"number"},requestType:{type:"string"},parameters:{type:"object",properties:{name:{type:"string"},parameters:{type:"object",properties:{outputFileContent:{type:"object"},timeout:{type:"integer",minimum:5e3},cliPerformanceEnhance:{type:"boolean"}},required:["outputFileContent"]},required:["name","properties"]}}},required:["requestId","parameters"]};e.exports={addHandler:function(e){T=e},handle:function(e,t,n=new d){y.debug(`Request received: ${l.stringifyForLogs(e)}`);const{status:o,message:a}=f.validate(e,I);if(!o){i(t,e,a,S);return}if(!T){i(t,e,g.NO_SUCH_REQUEST_TYPE,E);return}const c=r(t,e,n);"powerReset"!==e.parameters.name&&function(e,t,n){n.start((()=>{s(e,t,h.ONGOING,g.WAITING_FOR_RESPONSE)}),5e3)}(t,e,n);!function(e,t,n,r,i){e(t,n,(function(e){_.once(t.requestId,e)}),(function(e){_.emit(e)}),r,i).then((function(){y.info(function(){return[`CLI request completed, name: ${t.parameters.name}, requestId: ${t.requestId}`,`Full request: ${l.stringifyForLogs(t)}`].join("\n")}())})).catch((function(e){y.info(function(){return[`CLI request failed, name: ${t.parameters.name}, requestId: ${t.requestId}, error: ${l.stringifyForLogs(e)}`,`Full request: ${l.stringifyForLogs(t)}`].join("\n")}())}))}(T,e,c,(()=>{s(t,e,h.ONGOING,v.CANT_CONNECT_TO_BTS,b)}),(()=>({updateMessage:function(r){n.stop();C||n.start((()=>{s(t,e,h.ONGOING,r)}),5e3)}})))},handleLogin:function(e,t,n){e.signIn(t,(e=>{o(n,h.COMPLETED,e,0)}),(({message:e,errorCode:t})=>{o(n,h.FAILED,e,t)}))},createCompletionListener:r,convertRequestMessageForPromise:a}},4965:(e,t,n)=>{"use strict";const r=n(8314);e.exports=function(e){const{createServices:t,services:n}=r();t({},e);const i=n.getInstance("connectionInitializerSteps");return{services:n,connectionInitializerSteps:i}}},9099:(e,t,n)=>{"use strict";const r=n(7440);e.exports={ONGOING:"ongoing",COMPLETED:"completed",FAILED:"failed",UPDATE:"update",getRequestStatus(e){return r.isRunning(e)?this.ONGOING:r.isSucceeding(e)?this.COMPLETED:r.isFailing(e)?this.FAILED:null}}},606:(e,t,n)=>{"use strict";const r=n(439),i=n(7706),{INVALID_PARAMETERS:o}=n(3350),s=n(7639);e.exports=Object.freeze({validate:function(e,t){const n=r.validate(e,t),a=n?"":function(){let e=r.error.dataPath;e.length&&(e+=", ");e+=r.error.message;return`${s.API.INVALID_SCHEMA}: ${e}`}();return{status:n,message:a,error:n?null:new i(a,o)}}});r.addFormat("file-support",(e=>e.constructor.FILE_SUPPORT?null:s.API.PROCEDURE_DOES_NOT_SUPPORT_BASE64_ENCODED_FILE_CONTENT))},7639:e=>{"use strict";e.exports={OPERATION_FAILED:"Operation failed",OPERATION_FAILED_REQ_REMOVE:"Operation failed, corresponding request instance has been removed",OPERATION_SUCCEEDED:"Succeeded",NO_SUCH_REQUEST_TYPE:"No such request type",OUTPUT_FILE_NAME_TOO_LONG:"The length of output file name is bigger than 250, please use --output-file to define a file which name length is shorter then 250.",ACCESS_DENIED_BY_PERMISSION:"Operation rejected due to no access permission",ACCESS_DENIED_BY_DOWNGRADED:"Operation rejected due to account is downgraded by system",WAITING_FOR_RESPONSE:"Waiting for response",NO_OBJECT_WITH_DN:"No object with distname",NO_CONFIG_OBJECT_WITH_DN:"No relevant configuration object with distname",MISSING_REQUIRED_PROPERTY:"Missing required property",DISPATCHER_TYPE_SHOULD_BE_SPECIFIED:"Dispatcher type should be specified",SPECIFIED_DEVICE_ID_WAS_NOT_FOUND:"Specified device ID was not found",SPECIFIED_NODE_ID_WAS_NOT_FOUND:"Specified nodeId was not found",ALD_ID_NOT_FOUND:"ALD id for specified data was not found.",NO_OBJECT_FOUND:"Object was not found.",ALARMS_FOUND:"enB contains alarms",SCF_FILESIZE_LIMIT_EXCEEDED:"Specified input-file exceeded max file size",CONFIGURATION_RESET_UNAVAILABLE_IN_REMOTE_CONNECTION_MESSAGE:"Configuration reset unavailable in remote connection",CONFIGURATION_RESET_UNAVAILABLE_IN_NON_OPERATOR_OWNED_BACKAUL_MESSAGE:"Configuration reset unavailable in non-operator owned backhaul",FEATURE_FLAG_ACTSYNCTOFRONTHAUL_IS_NOT_TRUE:"Feature flag 'actSyncToFronthaul' is not true or currently connected BTS is not AirScale",FEATURE_FLAG_ACTSYNCTORU_IS_NOT_TRUE:"Feature flag 'actSyncToRU' is not true or currently connected BTS is not AirScale",DC_PORTS_NO_UNDER_SAME_PDU:"All DC ports shall be under same PDU",ONLY_ON_DCPORT_SUPPORT_POWER_OFF:"Only on DC ports support set power off",ONLY_OFF_DCPORT_SUPPORT_POWER_ON:"Only off DC ports support set power on",API:{INVALID_SCHEMA:"Invalid schema",PROCEDURE_DID_NOT_FINISH_BEFORE_TIMEOUT:"Procedure didn't finish before timeout",PROCEDURE_DOES_NOT_SUPPORT_BASE64_ENCODED_FILE_CONTENT:"This procedure does not support base64 encoded file content",INVALID_PARAMETERS:"Invalid parameters",CONNECTION_LOST:"Connection lost during progress ongoing"},SNAPSHOT:{MUST_BE_IDLE_TO_START:"Snapshot cannot be started when technical report procedure is active.",MUST_BE_ONGOING_TO_CANCEL:"Snapshot cannot be cancelled when technical report procedure is not active.",SUCCESSFULLY_CREATED:"has been successfully created.",SUCCESSFULLY_SENT:"has been successfully sent.",FEATURE_FLAG_ACTSCREL_IS_NOT_TRUE:"Feature flag 'actSysCriticalEventLogs' is not true",FAILURES:{DISCONNECTED:"Connection lost during progress ongoing",ACTION_FAILED:"Collection failed",RESULT_FAILED:"Collection finished with errors",CANCELLED:"Collection canceled",CANCEL_FAILED:"Collection cancel failed",INTERRUPTED:"Collection failed",REJECTED:"Request rejected",PREPARE_REJECTED:"Request rejected as software update is ongoing.",PREPARE_BUSY:"Request rejected as another snapshot collection is ongoing.",PREPARE_INVALID_MESSAGE:"Request rejected",PREPARE_EXECUTION_ERROR:"Request rejected",PREPARE_UNKNOWN_OBJECT:"Request rejected",PREPARE_ALDSWUPDATE_NOT_SET:"Request rejected",PREPARE_BAD_VALUE:"Request rejected due to wrong regexp format for filter keyword.",PREPARE_FAILED:"Request rejected",PREPARE_TIME_OUT:"Request rejected",PREPARE_NO_SESSION_LINK_EXISTS:"Request rejected",PREPARE_NO_SESSION_LINK_ACTIVE:"Request rejected",PREPARE_MISSING_CONFIGURATION_FOR_REMOTE_DESTINATION:"Request rejected",PREPARE_RESULT_NOTHING_TO_DO:"No collection files exist",PREPARE_RESULT_ACCEPTED:"Prepare collection accepted",PREPARE_RESULT_REJECTED:"Prepare collection rejected",PREPARE_RESULT_ABORTED:"Prepare collection aborted",PREPARE_RESULT_TIME_OUT:"Prepare collection timeout",PREPARE_RESULT_FAILED:"Prepare collection failed",PREPARE_SITE_RESET:"Request rejected as site reset is ongoing.",PREPARE_RAT_RESET:"Request rejected as rat reset is ongoing.",PREPARE_POWER_RESET:"Request rejected as power reset is ongoing.",PREPARE_SECONDARY_CORE:"Request rejected as secondary core reset is ongoing.",COLLECT_SNAPSHOT_NOT_READY:"Request rejected as snapshot collection is not ready.",COLLECT_BUSY:"Request rejected",COLLECT_INVALID_MESSAGE:"Request rejected",COLLECT_EXECUTION_ERROR:"Request rejected",COLLECT_UNKNOWN_OBJECT:"Request rejected",COLLECT_ALDSWUPDATE_NOT_SET:"Request rejected",COLLECT_BAD_VALUE:"Request rejected",COLLECT_FAILED:"Request rejected",COLLECT_TIME_OUT:"Request rejected",COLLECT_NO_SESSION_LINK_EXISTS:"Request rejected",COLLECT_NO_SESSION_LINK_ACTIVE:"Request rejected",COLLECT_MISSING_CONFIGURATION_FOR_REMOTE_DESTINATION:"Request rejected",COLLECT_RESULT_NOTHING_TO_DO:"Collection couldn't be started. Try again later",COLLECT_RESULT_ABORTED:"Collection finished with errors. Try again later",COLLECT_RESULT_TIME_OUT:"Collection finished with errors: Timeout",COLLECT_RESULT_FAILED:"Collection finished with errors",REMOTE_REJECTED:"Request rejected as software update is ongoing.",REMOTE_BUSY:"Request rejected as another snapshot collection is ongoing.",REMOTE_INVALID_MESSAGE:"Request rejected",REMOTE_EXECUTION_ERROR:"Request rejected",REMOTE_UNKNOWN_OBJECT:"Request rejected",REMOTE_ALDSWUPDATE_NOT_SET:"Request rejected",REMOTE_BAD_VALUE:"Request rejected due to wrong regexp format for filter keyword.",REMOTE_FAILED:"Request rejected",REMOTE_TIME_OUT:"Request rejected",REMOTE_NO_SESSION_LINK_EXISTS:"Request rejected",REMOTE_NO_SESSION_LINK_ACTIVE:"Request rejected due to no active link with snapshot remote destination.",REMOTE_MISSING_CONFIGURATION_FOR_REMOTE_DESTINATION:"Request rejected due to missing configuration for remote destination.",REMOTE_RESULT_NOTHING_TO_DO:"Collection couldn't be started. Try again later",REMOTE_RESULT_ABORTED:"Remote snapshot collection failed: Aborted",REMOTE_RESULT_TIME_OUT:"Remote snapshot collection failed: Timeout",REMOTE_RESULT_FAILED:"Remote snapshot collection failed",REMOTE_SITE_RESET:"Request rejected as site reset is ongoing.",REMOTE_RAT_RESET:"Request rejected as rat reset is ongoing.",REMOTE_POWER_RESET:"Request rejected as power reset is ongoing.",REMOTE_SECONDARY_CORE:"Request rejected as secondary core reset is ongoing.",OBJECT_NOT_FOUND:"Object not found"}},POWER_RESET:{Default:"Starting power reset...",PrepareOngoing:"Remote snapshot collection is ongoing.",PrepareSucceeded:'Remote snapshot collection is completed with result "Succeed".',PrepareFailed:'Remote snapshot collection is completed with result "Failed", power reset is ongoing.',UploadOngoing:"Remote snapshot upload is ongoing.",UploadSucceeded:'Remote snapshot upload is completed with result "Succeed", power reset is ongoing.',UploadFailed:'Remote snapshot upload is completed with result "Failed", power reset is ongoing.',NothingToDo:"Snapshot is currently unavailable, power reset is ongoing.",snapshotOngoingReject:"Request is rejected as snapshot process is ongoing.",SWMOngoingReject:"Request is rejected as software management process is ongoing.",CMOngoingReject:"Request is rejected as CM process is ongoing.",PowerResetReject:"Request is rejected as power reset process is ongoing.",SiteResetReject:"Request is rejected as site reset process is ongoing.",HwNotReadyReject:"Request is rejected as HW is not ready for cold reset.",ColdResetConditionNotMet:"The reset conditions are not met for coldResetSecondaryCoreViaBackplane.",InvalidParam:"Invalid operation, 'resetWithSnapshot' and 'coldResetSecondaryCoreViaBackplane' cannot be set to true at the same time."},GET_FILE:{NOT_IMS2:"The input file shall be an ims2 file",NOT_CSV:"The output file shall be a csv file",NOT_XML:"The output file shall be a xml file",NOT_JSON:"The output file must have a .json extension.",PARSE_ERR:"Parsing ims2 file failed"},IMS:{DOWNLOADING_IMS_FAILED:"Downloading ims failed"},DOWNLOAD_SACK_FILE:{DOWNLOADING_SACK_FILE_SUCCEEDED:"Sack file has been successfully downloaded."},INFO_MODEL:{NO_LNCEL_OBJECTS_IN_INFO_MODEL_TREE:"No LNCEL_A objects in info model tree",IM_TREE_NODE_NOT_FOUND:"Object not found",UNABLE_TO_FIND_SWCONFIG_L_IN_IM_TREE:"Unable to find SWCONFIG_L object in info model tree",UNABLE_TO_FIND_MRBTS_M_IN_IM_TREE:"Unable to find mrbtsM in imTree"},BTS:{FAILED_TO_SYNC_WITH_BTS:"Failed to sync with bts"},SRT:{ID_IS_NAN:"Id part of item name is not a number",DASH_MISSING:"Invalid item name, missing dash",NO_ITEMS_FOUND:"No items of requested type were found",REQUESTED_ITEM_WAS_NOT_FOUND:"Requested item was not found",NO_GNCEL_R_FOUND:"No GNCEL_R was found"},GPS:{GPS_OBJECTS_CONTAINS_ALARMS:"GPS objects contains alarms"},SYNCHRONIZATION:{NO_BTS_SYNC_MODE_FOUND:"No BTS sync mode was found"},PRB_MEASUREMENT:{NO_ONGOING_PRB_MEASUREMENT:"No ongoing PRB measurement"},RF_DIAGNOSTIC:{RF_DIAGNOSTIC_TEST_ONLY_SUPPORTED_ONAIR_AND_TDS:"RF Diagnostic Test is only supported when testing RAT in onAir mode or BTS is in TDS mode.",INPUT_CELL_NOT_FOUND:"Input cell not found",ONLY_SUPPORTED_ONE_CELL_OR_EMPTY_IN_ONAIR_AND_TDS:"Only supported one cell or empty when testing RAT in onAir mode or BTS is in TDS mode",RF_STATISTICS_DIAGNOSTIC_TEST_ONLY_SUPPORTED_ONAIR:"RF Statistics Diagnostic Test is only supported when LTE or NR RAT is onAir.",ONLY_SUPPORTED_ONE_RADIO_OR_EMPTY:"Only supported one radio or empty",INPUT_RADIO_NOT_FOUND:"Input radio not found",NR_RF_DIAGNOSTIC_NOT_SUPPORT_BANDS:"Structure parameter 'bandRfTestThresholds' is not supported for NR cell type."},INTERFACE_MIRRORING:{ACTIVE_PARALLEL_L1L2:"Parallel L1-L2 mirroring is ongoing",ACTIVE:"Interface mirroring is ongoing",PARALLEL_VALIDATE:"When parallelL1L2Mirroring = true, only 'operation' is required, other parameters will be auto filled.",NO_NRCELL_CHOSEN:"No valid nrcell on remote L1 IQ capture configuration",NO_CAPTURE_ON_EVENT_IS_ACTIVE:"No ongoing runtime L1 IQ capture configuration with capture on event is enabled",IDLE:"No interface mirroring is ongoing"},SUCCESS:"Success",FAILED:"Failed",PARTIAL_SUCCESS:"Partial success",SNAPSHOT_CONFIGURATION:{PDL_FAILED:"Failed, PDL validation error.",NIDD_FAILED:"Failed, NIDD validation error. Please fix in PE."},R3_NOT_SUPPORTED_MESSAGE:"Not supported for current system module(s)",ALD_NOT_SHARING_MESSAGE:"Feature flag 'actAldSharing' is not true",DUAL_CORE_NOT_SUPPORTED_MESSAGE:"Both merged BTSs need to be single core",PDU:{AT_LEAST_ONE:"At least one optional parameter shall be configured",SETTING_DAILY:"powerScheduleDaily must be configured when powerSetting is set to Daily",SETTING_WEEKLY:"powerSchedulesWeekly must be configured when powerSetting is set to Weekly",VALUE_UNIQUE:"Value of day shall be unique in powerSchedulesWeekly",DAY_OF_WEEK_UNIQUE:"Value of dayOfWeek shall be unique in pwrOffDCPortTimeWinList.",HIGHER_2V:"reconnectVoltage is required to have a higher absolute value than disconnectVoltage by at least 2V.",UNCOMMISSIONED:" cannot be configured for uncommissioned DC port.",ACT_DN_EMPTY_MSG:"Activate automatic power off for energy saving cannot be set to true if connectedHWDN is not configured.",ACT_TIME_LIST_EMPTY_MSG:"Activate automatic power off for energy saving cannot be set to true if pwrOffDCPortTimeWinList is not configured.",ADV_TIME_NOT_CONFIGURED_MSG_WINLIST:"The advance time to power on PDU port must be configured if power off PDU DC port time window list configured on the same port.",ADV_TIME_NOT_CONFIGURED_MSG_ACTIVATE:"The advance time to power on PDU port must be configured if activate automatic power off for energy saving set to true.",START_WINDOW_MSG:"The start time of each day should be no earlier than the time window end of the last day. Please correct the time of ",ACT_DN_NOT_RMOD_MSG:"Activate automatic power off for energy saving cannot be set to true if connectedHWDN is not configured as rmod.",CONNECTDN_IS_NOT_ALLOWED_HW:"Current connectedHWDN is not a distname of RMOD/SMOD/PWRMOD.",ACT_DN_MODULE_SHARING_ENABLED:"Activate automatic power off for energy saving cannot be set to true if the module sharing is enabled for the connected radio module.",ACT_DN_CONFIGURED_RADIO_MASTER_DN:"Activate automatic power off for energy saving cannot be set to true if the radio master distinguished name is configured for the connected radio module.",ACT_DN_NOT_EQUAL_ON:'Activate automatic power off for energy saving cannot be set to true if current DC port power setting is not equal to "On".',ACT_DN_NOT_DEEPSLEEP:"Activate automatic power off for energy saving cannot be set to true if connectedHWDN is not deepsleep rmod.",ACT_DN_NOT_SHUT_DOWN:"Activate automatic power off for energy saving cannot be set to true if connectedHWDN is not a radio module which supports shutdown.",ACT_DN_NOT_CONNECTED_NR_CELL:"Activate automatic power off for energy saving cannot be set to true if connectedHWDN has no cell or other cell than NR cell configured.",CONNECTDN_IS_USED:"Current connectedHWDN is selected by other port.",CONNECTDN_IS_NOT_FOUND:"Current connectedHWDN is not existing in BTS.",CONFIG_PWRMOD_NOT_SUPPORT:"Not support for FPFD",IPADDRESS_INVAILD:"IP address not vaild",NETMASK_INVAILD:"Subnet mask not vaild",GATEWAY_INVAILD:"Gateway address not vaild"},WIFI_MANAGEMENT:{DATA_SIZE_EXCEEDED:"Not pass nidd validation: Configured user items exceed maximum value",MANDATORY_CHECK_FAILED:"Not pass nidd validation: Configured user data missing mandatory parameters",UNIQUE_CHECK_FAILED:"Not pass nidd validation: userLabel and wpa3SaePwidQualifier shall be unique",INVALID_PWID:"Not pass nidd validation: wpa3SaePwidQualifier shall in the allowed range",INVALID_USER_LABEL:"Not pass nidd validation: Configured user data has invalid user label",INVALID_MAC_ADDRESS:"Not pass nidd validation: Configured user data has invalid mac address",INVALID_PASSPHRASE:"Not pass nidd validation: Configured user data has invalid passphrase",MAC_NOT_EXISTED:"Wi-Fi connected user's MAC not existed"},DEBUG_TRACING:{CELLS_MAP_TO_SAME_RADIO:"Different NR cells connect to same RMOD",RMOD_IQ_CAPTURE_NOT_SUPPORT:"RMOD connected to the NR uplink cells are not supported for UPlane L1 IQ Data Capture",MIXED_72A_AND_72E:"7-2a and 7-2e mode cannot be both selected together, please change the cell configuration",INVALID_TARGET_RMOD:"Incorrect targetRMOD, get correct value with getUPlaneL1IQCaptureRMODAndAntennaList command"},REMOVE_UNIT_DENIED_BY_INVALID_PARAMETERS:"Operation is not allowed for target object(s)",RF_SCAN:{RFTESTING_FEATURE_FLAG_NOT_SUPPORTED_MESSAGE:"Feature flag 'actRfiTesting' is not true",RFTESTING_ONLY_SUPPORT_ONAIR_TDS_MESSAGE:"RF Scan is only supported when BTS is in onAir mode or in TDS mode",RFTESTING_ONLY_SUPPORT_ONAIR_MESSAGE:"RF scan on the technology value is only supported in onAir mode",ANTENNADN_ONLY_SUPPORT_NMIMO_BF:"'antennaDN' is not needed when radio is not mMIMO, but configured beamforming cell(s)",CELLDN_REQUIRED_FOR_RX_CAPPIER:"The cellDN is required if captureType is 'RX_CARRIER'"},RAML_FORMAT_VALIDATION_ERROR:"Not pass RAML format validation",CNUM_NOT_ACTIVATED:"Centralized user management is not activated",TEST_RET:{INVALID_ALD_TYPE:"Invalid ALD, shall be RET type",INVALID_TARGET_DN:"Invalid targetDN, shall be MRBTS or RMOD or RMOD_R or ALD or ALD_R"},DOWNLOAD_SW_CONFIG_FILE:{NOT_VALID_FILE:"The output file shall be a txt file.",SUCCESS:"Download succeeded.",NothingToDo:"Download failed, there is no SW config file existing.",Timeout:"Download failed, timeout.",Failed:"Download failed."},BASEBAND_REPLACEMENT:{INVALID_TARGET_DN:"Invalid targetDN, shall be BBMOD or BBMOD_R",NOT_SUPPORTED_BY_HW:"Starting replacement rejected: not supported by HW."},GET_ACCOUNT_STATUS_REPORT:{NOT_VALID_FILE:"Invalid parameters: the output file must have a .json/.JSON extension",SUCCESS:"Successfully get the account status report",FAILED:"Failed to get the report"},GET_SUPPRESSED_ALARMS:{NOT_VALID_FILE:"Invalid parameters: the output file shall be provided",SUCCESS:"Successfully get the suppressed alarms",FAILED:"Failed to get the suppressed alarms",FILE_NOT_CREATED:"Request rejected as file not created"}}},8607:(e,t,n)=>{"use strict";const r=n(2104),i=n(7639),{SMA_UNREACHABLE:o}=n(7733),{MSG:s}=n(821);e.exports={newInstance:function({onlineImTree:e,connectionService:t}){return{connectToBts:function(e){return new r(((n,r)=>{if(t.isSignedIn())n();else{const i={signIn(){t.removeListener(this);n()},error(n,i){if(!function(e="",t){const n=e.message||e,r=n===o||n.startsWith(s.CANT_CONNECT_TO_BTS)||n.startsWith(s.DISCONNECTED_WITH_CLOSE_CODE);t&&r&&t(e);return r}(n,e)){r(i);t.removeListener(this)}}};t.addListener(i);t.isSignInInProgress()||t.singIn(!0)}}))},checkIfDnExists:function(t){return new r(((n,r)=>{e.getImTree().then((e=>{e.findByDistName(t)?n():r(`${i.NO_OBJECT_WITH_DN}: ${t}`)}))}))},signIn:function(e,n,r){const i={error(e,n){t.removeListener(this);r(n)}};t.addListener(i);t.loginByPost(e).then((e=>{t.removeListener(i);n(e.successResp)})).catch((()=>{t.removeListener(i)}))}}}}},6307:e=>{"use strict";e.exports=class{constructor(){this.shouldStop=!0}start(e,t){this.callback=e;this.intervalMs=t;this.stop();this.shouldStop=!1;this.intervalId=setInterval((()=>{this.shouldStop||this.callback()}),this.intervalMs)}restart(){this.stop();this.start(this.callback,this.intervalMs)}stop(){this.shouldStop=!0;clearInterval(this.intervalId);this.intervalId=null}isStarted(){return!this.shouldStop}}},8314:(e,t,n)=>{"use strict";const r=n(6122);n(8975).getLogger("admin.core.login.serviceFactory");e.exports=function(){const e=new r;return{createServices:function(t,r,i){e.setInstance("$localStorage",(()=>t));e.setInstance("$sessionStorage",(()=>r));e.setInstance("originator",(()=>i));e.setInstance("metaService",(()=>n(3790)()));e.setInstance("ratService",(()=>n(5398).newInstance()));e.setInstance("fileTransferService",(()=>n(7958).newInstance()));e.setInstance("sequentialExecutorFactory",(()=>n(6642).newInstance()));e.setInstance("socket",(function(){return n(821).newInstance({metaService:this.getInstance("metaService"),executor:this.getInstance("sequentialExecutorFactory"),fileTransfer:this.getInstance("fileTransferService"),originator:this.getInstance("originator")})}));e.setInstance("decoderService",(function(){return n(3662).newInstance(this.getInstance("metaService"))}));e.setInstance("currentSettings",(function(){return n(404)({localStorage:this.getInstance("$localStorage"),imAuth:this.getInstance("imAuth")})}));e.setInstance("nodeFinder",(function(){return n(7874)(this.getInstance("socket"),this.getInstance("instanceIdFinder"))}));e.setInstance("connectedSystemModuleService",(function(){return n(7433).newInstance({nodeFinder:this.getInstance("nodeFinder")})}));e.setInstance("instanceIdFinder",(function(){return n(1747).newInstance({socket:this.getInstance("socket")})}));e.setInstance("updateService",(function(){return n(2674)({socket:this.getInstance("socket"),metaService:this.getInstance("metaService"),decoderService:this.getInstance("decoderService"),executor:this.getInstance("sequentialExecutorFactory"),imAuth:this.getInstance("imAuth"),connectedSystemModuleService:this.getInstance("connectedSystemModuleService"),instanceIdFinder:this.getInstance("instanceIdFinder"),sessionStorage:this.getInstance("$sessionStorage")})}));e.setInstance("signInHandlerService",(function(){return n(5982)({socket:this.getInstance("socket"),instanceIdFinder:this.getInstance("instanceIdFinder"),imAuth:this.getInstance("imAuth"),sessionStorage:this.getInstance("$sessionStorage")})}));e.setInstance("authService",(()=>n(8142)));e.setInstance("imAuthFactory",(function(){return this.getInstance("authService").imAuthFactory({socket:this.getInstance("socket"),routes:{}})}));e.setInstance("imAuth",(function(){return this.getInstance("authService").imAuth({imAuthFactoryInst:this.getInstance("imAuthFactory"),sessionStorage:this.getInstance("$sessionStorage")})}));e.setInstance("connectionService",(function(){return n(7716)({updateService:this.getInstance("updateService"),signInHandlerService:this.getInstance("signInHandlerService"),imAuth:this.getInstance("imAuth"),currentSettings:this.getInstance("currentSettings")})}));e.setInstance("connectionInitializerSteps",(function(){return n(8607).newInstance({connectionService:this.getInstance("connectionService")})}));return e},services:e}}},7706:(e,t,n)=>{"use strict";const{FAILED:r}=n(9099);e.exports=class extends Error{constructor(e,t,n=null,i=r){super(e);this.errorCode=t;this.extraData=n;this.status=i}}},6122:(e,t,n)=>{"use strict";const r=n(2543),i=n(8975).getLogger("admin.core.LazyInstances");class o{constructor(e,t){this.name=e;this.instanceConstructor=t}create(){if(r.isUndefined(this.instance)){i.info(`Instance created: ${this.name}`);this.instance=this.instanceConstructor()}return this.instance}}e.exports=class{constructor(e,t){this.externals=e||[];this.internalCtx={};this.filterFn=t;this.proxy=new Proxy({},{get:(e,t)=>this.getInstance(t)})}hasInstance(e){return!!this.internalCtx[e]}getInstance(e){const t=this.findLocalInstance(e);if(t)return t.create();const n=this.findExternalInstance(e);if(n)return n.create();throw new Error(`Instance not found: ${e}`)}findLocalInstance(e){return this.internalCtx[e]}findExternalInstance(e){const t=this.externals.find((t=>t.hasInstance(e)));return t&&t.findLocalInstance(e)}setInstance(e,t){if(this.filterFn&&!this.filterFn(e))return this;const n=t.bind(this);if(this.hasInstance(e))throw new Error(`Instance already exists: ${e}`);this.internalCtx[e]=new o(e,n);return this}setInstanceWithProxy(e,t){this.setInstance(e,(()=>t()(this.proxy)))}setClassInstance(e,t){this.setInstance(e,(()=>new(t())(this.proxy)))}setExecutorClassInstance(e,t){this.setInstance(e,(()=>{const e=new(t())(this.proxy);return(...t)=>e.execute(...t)}))}setExecutorInstance(e,t){this.setInstance(e,(()=>t()(this.proxy).execute))}forEach(e){Object.keys(this.internalCtx).forEach((t=>{e(this.getInstance(t),t)}))}findAllInstances(){return Object.keys(this.internalCtx)}}},3350:e=>{"use strict";e.exports={NO_PROBLEMS:0,MISCELLANEOUS_PROBLEMS:1,INVALID_OPERATION:2,INVALID_PARAMETERS:3,SITE_UNREACHABLE:4,SITE_RESERVED:5,LOGIN_FAILED:6,UNEXPECTED_ERROR:7,TIMEOUT:8,LICENSE_NOT_AVAILABLE:9,OUTPUT_FILE_NAME_TOO_LONG:10,NO_ONGOING_PRB_MEASUREMENT:12,NO_EXISTED_BAND:13,BLOCK_RESET_FAILED:69,RESET_CONDITION_NOT_MET:11,UNSUPPORTED_TARGETDN:30,CONFIGURATION_RESET_UNAVAILABLE_IN_REMOTE_CONNECTION:146,CONFIGURATION_RESET_FAILED:145,DOWNLOAD_SCF_FAILED:53,UNZIP_SW_UPDATE_FILE_FAILED:16,SW_UPDATE_FAILED:17,SW_UPDATE_ABORTED:18,SW_UPDATE_NOT_ALLOWED:19,CNUM_NOT_ACTIVATED:20,SW_SYNCHRONIZE_FAILED:150,MO_NOT_FOUND_IN_TREE:70,GPS_ALARM_EXIST:59,ALARMS_EXIST:37,GET_HISTORY_ALARMS_FAILED:56,INVALID_COMMISSIONING_PARAMETERS:24,INVALID_COMMISSIONING_FILE:25,VALIDATE_SCF_FAILED:23,DOWNLOAD_PLAN_FAILED:27,ACTIVATE_PLAN_FAILED:28,BBPOOL_RESET_FAILED:69,SYNC_SSH_CONFIG_FAILED:69,ACTSYNCTOFRONTHAUL_IS_NOT_TRUE:168,ACTSYNCTORU_IS_NOT_TRUE:170,RESULT_FAILED_OR_REJECT:69,INVALID_PACKAGE:40,GENERATE_PACKAGE_FAILED:41,SERVICE_OAM_LOOPBACK_NOT_EQUAL:42,RMOD_DONT_SUPPORT_L1_IQ_CAPTURE:80,DC_PORT_NOT_COMMISSIONED:89,DC_PORTS_SHALL_BE_UNDER_SAME_PDU:90,ONLY_ON_SUPPORT_POWER_OFF:92,ONLY_OFF_SUPPORT_POWER_ON:91,DIFFERENT_CELLS_MAP_TO_SAME_RADIO:81,INCORRECT_TARGET_RMOD:82,INCORRECT_TARGET_PWRMOD:82,MISSING_TIMING_STATUS:15,RF_DIAGNOSTIC_TEST_ONLY_SUPPORTED_ONAIR_AND_TDS:72,INPUT_CELL_NOT_FOUND:73,NR_RF_DIAGNOSTIC_NOT_SUPPORT_BANDS:74,ONLY_SUPPORTED_ONE_CELL_OR_EMPTY_IN_ONAIR_AND_TDS:75,RF_STATISTICS_DIAGNOSTIC_TEST_ONLY_SUPPORTED_ONAIR:76,INPUT_RADIO_NOT_FOUND:77,ONLY_SUPPORTED_ONE_RADIO_OR_EMPTY:78,R3_NOT_SUPPORTED:169,ACCESS_DENIED_BY_PERMISSION:171,ACCESS_DENIED_BY_DOWNGRADED:172,ALD_NOT_SHARING:173,DUAL_CORE_NOT_SUPPORTED:14,RFTESTING_FEATURE_FLAG_NOT_SUPPORTED:174,RFTESTING_ONLY_SUPPORT_TDS_ONAIR:175,RFTESTING_ONLY_SUPPORT_ONAIR:176,SW_UPDATE_NOT_ALLOWED_FOR_INCOMPATIBLE_PACKAGE:177,INVALID_SW_COMPATIBILITY_FILE:178,MAC_NOT_EXISTED:179,NOT_PASS_NIDD_DEFINITION_VALIDATION:180,NOT_PASS_RAML_FORMAT_VALIDATION:181,SCREL_NOT_SUPPORT:182,ANTENNADN_ONLY_SUPPORT_NMIMO_BF:183}},2069:(e,t,n)=>{"use strict";const r=n(2543),{needHidenPwdKeys:i}=n(8029);e.exports={stringifyForLogs:function(e){const t=2e3;return JSON.stringify(e,((e,n)=>{if(r.isArray(n)&&n.length>t){const e=r.take(n,t);return`First 2000 entries: ${JSON.stringify(e)}`}if(n instanceof Error)return function(e){return r.transform(Object.getOwnPropertyNames(e),((t,n)=>{t[n]=e[n]}),{})}(n);if(i.includes(e))return"******";"outputFileContent"===e&&"string"===typeof n&&n.length>t&&(n=`${n.substring(0,t)}...`);return n}))}}},8029:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.needHidenPwdKeys=void 0;t.needHidenPwdKeys=["defaultNetconfAccountName","defaultNetconfAccountPwd","additionalNetconfAccountPwd","defaultNetconfAccount","authentifierSshServer","additionalNetconfAccount","bindPassword"]},4881:(e,t,n)=>{"use strict";function r(){return n.g.APPLICATION_INFO&&n.g.APPLICATION_INFO.name||a}function i(){if(!n.g.APPLICATION_INFO)return s;if(n.g.APPLICATION_INFO.version)return n.g.APPLICATION_INFO.version;const e=o();return e.branch===s&&e.hash===s?s:`${e.branch}@${e.hash}`}function o(){if(!n.g.APPLICATION_INFO)return{branch:s,hash:s};const e={};e.branch=n.g.APPLICATION_INFO.branch||s;e.hash=n.g.APPLICATION_INFO.hash||n.g.APPLICATION_INFO.revision||s;return e}const s="unknown",a="Web Element Manager";e.exports={getBrowserInfo:function(){return window.navigator.userAgent},getAppName:r,getAppVersion:i,getBuildTime:function(){return n.g.APPLICATION_INFO&&n.g.APPLICATION_INFO.buildTime||s},getReleaseInfo:o,getCopyRightYear:function(){var e;const t=null===(e=n.g.APPLICATION_INFO)||void 0===e?void 0:e.buildTime;return t?new Date(+t).getFullYear():(new Date).getFullYear()},hasAppInfo:function(){return i()!==`${s}`},getShortAppName:function(){const e=r();return e===a?"WebEM":e},isDefaultAppName:function(){return r()===a},UNKNOWN_STATE:s,DEFAULT_APP_NAME:a}},8142:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var i=n(4994)(n(3693)),o=n(4070);const s=n(3774),a=n(2543),c=n(2104),u=n(8975),l=n(8313),f=n(9238),d={SHA1:{name:"SHA1",hash:e=>(new s).digest(e),id:1},PLAIN_TEXT:{id:2,name:"PLAIN_TEXT",hash:e=>e}},h={userName:"admin",authMethod:d.SHA1},p={LOGIN_SUCCESS:"loginSuccess",LOGOUT_SUCCESS:"logoutSuccess",LOGIN_ERROR:{USER_NOT_FOUND:"User is not found.",INVALID_UNSPECIFIED:"Unspecified reason",USER_OR_TOKEN_INVALID:"Invalid username or password. Please try again",USER_TEMPORARILY_LOCKED:"Access denied due to pending login delay",USER_PERMANENTLY_LOCKED:"Username or alias is inactive",ORIGINATOR_NOT_SUPPORTED:"License not available",LOCAL_ACCOUNT_BLOCKED:"BTS local account is blocked",ACCESS_WEBEM_LIMITED:"User login request has exceeded the limitation. Please try again later",LDAP_BIND_FAILED:"LDAP server binds failed.",LDAP_UNREACHABLE:"LDAP server is unreachable.",MPLANE_IP_NOT_READY:"Mplane IP address is not ready.",NORTHBOUND_INTERFACE_NOT_READY:"Northbound interface is not ready.",DCC_USER_NOT_SUPPORTED_IN_GUI:"DCC user is not allowed to access by GUI."}},m="BTSRead",g="BTS System Administrator";e.exports={imAuth:function({imAuthFactoryInst:e,sessionStorage:t,featureFlag:n}){return e.newInstance(t,n)},imAuthFactory:function({socket:e,routes:t={}}){return{newInstance:function(s,y){function _(e){return!e.message&&e.errorCode&&Object.keys(p.LOGIN_ERROR).includes(e.errorCode)}function v(){return o.AuthUtils.decrypt(s.httpSessionId)}function E(){if(!s.loginInfo)return s.loginInfo;const e=o.AuthUtils.decrypt(s.loginInfo.httpSessionId);return Object.assign({},s.loginInfo,{httpSessionId:e})}function S(e){delete e.password;s.loginInfo=Object.assign({},e,{httpSessionId:o.AuthUtils.encrypt(e.httpSessionId)})}function b(){delete s.currentUser}function T(){return s.currentUser}function C(){delete s.routePath}function I(e){e.autoconnect&&(e.encryptionData=o.AuthUtils.encrypt(e.token));delete e.token;s.currentUser=e}function w(){const e=T();return e&&e.profile}function N(){return!!k()&&T().isOfflineUser}function A(){const e=T();return e&&e.autoconnect}function R(){const e=T();return e?e.token||o.AuthUtils.decrypt(e.encryptionData):null}function O(){const e=T();return e&&e.userName}function L(){const e=T();return e&&e.host}function D(){const e=T();return e&&n.g.parseInt(e.port,10)}function x(){const e=T();return e&&e.isSecure}function P(e,t){const n=e.id;if(!n)return!1;if(!k())return!1;if(t&&y&&!y.isFeatureEnabled(e.flag))return!1;const r=E(),i=T().readOnlyAccess?f.getByName(m):f.getByName(r.profile);if(i.accessAllRouteIds)return!0;if(i.includedRouteIds&&i.excludedRouteIds)throw new Error("Use only includedRouteIds or excludedRouteIds");return i.includedRouteIds?i.includedRouteIds.includes(n):!!i.excludedRouteIds&&(t&&!s.rndMode&&i.longName===g?!i.rndModeIncludedRouteIds.includes(n):!i.excludedRouteIds.includes(n))}function k(){return!!T()}function B(e,t){U.notify({type:e,data:t})}const M=u.getLogger("imc-web-ui.imAuth"),U=l.newEvent();return{AUTH_METHOD:d,loginOnlineUser:function(t){function n(e){return a.assign({isOfflineUser:!1,profile:e},t)}return new c(((r,i)=>{function c(t){_(t)&&(t.message=p.LOGIN_ERROR[t.errorCode]);u.push(t.message);b();e.isConnected()&&e.disconnect();e.removeListener(d);i(u)}const u=[],l=["LOCALUSER","SERVICEUSER","ROOTUSER"],d={webEmVersionDetected:e=>{s.webEmVersion=e||"unKnown webEmVersion"},passwordChangeDetected:t=>{var i;S(t);s.httpSessionId=o.AuthUtils.encrypt(t.httpSessionId);I(n({}));e.removeListener(d);r({httpSessionId:t.httpSessionId,usersUsedDefaultPassword:null===(i=a.orderBy(t.usersUsedDefaultPassword,[e=>l.indexOf(e.accountType)]))||void 0===i?void 0:i.map((e=>e.username)),forcedPasswordUpdate:!0})},loggedIn:i=>{!function(e){s.httpSessionId=o.AuthUtils.encrypt(e.httpSessionId);t.readOnlyAccess=e.readOnlyAccess;t.activationStatus=e.activationStatus;s.rndMode=!!e.rndMode;t.actualUserName=e.userName;a.isEmpty(t.userName)&&(t.userName=e.userName);if(e.password){t.token=t.authMethod.hash(e.password);delete t.loginMethod}S(e);const r=e.profile,i=f.getByName(r);if(i){I(n(i));delete t.token;M.info(`LoggedIn online user as ${r}`);t.readOnlyAccess&&M.info("User privileges downgraded to Read-Only")}else c({message:`Invalid user profile: '${r}'`})}(i);e.removeListener(d);r({httpSessionId:i.httpSessionId,forcedPasswordUpdate:!1});B("loginSuccess",i)},readOnlySelected:e=>{s.readOnlySelected=e},connectionError:c,compatibilityError:()=>{c({message:"Invalid gateway version."})},loginError:c};e.addListener(d);s.isNetactLogin=!!t.isNetactLogin;if("dcuser"===t.userName&&"9020"===t.port){M.info("login reject because of dcuser...");c({message:p.LOGIN_ERROR.DCC_USER_NOT_SUPPORTED_IN_GUI})}else{t.autoconnect&&(s.autoConnect=t.autoconnect);e.loginByPost(t).catch(a.noop)}}))},loginWithOfflineMode:function(e){const t=(e=e||{profile:"offline"}).profile,n=f.getByName(t);I(function(e,t){return a.assign({isOfflineUser:!0,profile:t},e)}(h,n));S(e);B("loginSuccess",e);M.info(`LoggedIn offline user with profile: ${t}`);return c.resolve()},loginUserWhenSessionLocked:function(t,n){if(A()&&!s.isNetactLogin){const e=R();return""!==e||t.token?e?t.token?t.token===e?c.resolve("Password is validated"):c.reject("Invalid password"):c.reject("Password is not provided"):c.reject("Could not retrieve password from storage"):c.resolve("Password is validated")}const r=this.getHost(),i=this.getPort(),o=this.getUserName(),u=t.token,l=this.getReadOnlyAccessRequired(),f={isSecure:this.isSecure(),host:r,port:i,userName:o,token:u,readOnlyAccessRequired:l};return e.loginRequestWhenSessionLocked(f,n).then((e=>c.resolve(e))).catch((e=>{let t;const n={errorCode:a.get(e,"data.result"),message:a.get(e,"data.resultDescription")};_(n)&&(t=p.LOGIN_ERROR[n.errorCode]);return c.reject(t||e.errorMessage||"Login request failed")}))},isUserSessionLocked:function(){return s.lockScreenEnabled},logout:function(t,n=!1){t=t||{};!n&&b();C();!function(){Object.keys(s).forEach((e=>{e.startsWith("CEM.CACHE.")&&delete s[e]}))}();e.disconnect();B(p.LOGOUT_SUCCESS,t)},getHost:L,getPort:D,getLoginInfo:E,getHttpSessionId:v,setHttpSessionId:function(e){s.httpSessionId=e},isSecure:x,getUserName:O,setUserName:function(e){T().userName=e},getActualUserName:function(){const e=T();return e&&e.actualUserName},getReadOnlyAccessRequired:function(){const e=T();return e&&e.readOnlyAccessRequired},getProfile:w,getToken:R,setToken:function(e){T().encryptionData=o.AuthUtils.encrypt(e)},getAuthMethod:function(){if(!T())return null;const e=T().authMethod.name;return d[e]},isOfflineUser:N,isOnlineUser:function(){return!!k()&&!N()},getDefaultRouteUrl:function(){const e=a.find(t,(e=>e.id===T().profile.defaultRouteId));return e&&e.originalPath},shouldConnectAfterRefresh:function(){return!0},setConnectingAfterRefresh:function(){s.shouldConnectAfterRefresh=!0},isLoggedIn:k,hasCachedPwd:function(){const e=T(),t=e&&e.encryptionData;return!!(t&&t.encryptedString&&t.key)},isValidatedRouteId:function(e){return P(e,!0)},isRouteIdValidIgnoreRnd:function(e){return P(e,!1)},hasAccessTo:function(e){if(!k())return!1;const t=T().readOnlyAccess?f.getByName(m):w();return s.rndMode||t.longName!==g?!a.includes(t.excludedFunctionality,e):!a.includes(t.rndModeIncludedFunctionality,e)},updateCurrentUser:function(e){s.currentUser.profile=f.getByName(e.profile);S(e)},watch:function(e){return U.watch(e)},unwatch:function(e){U.unwatch(e)},EVENTS:p,isReadOnlyUserAccount:function(){const e=w(),t=T();return t&&t.readOnlyAccess||e&&"BTS Read-Only User"===e.longName},isBTSSecurityAdministratorAccount:function(){const e=w();return e&&"BTS Security Administrator"===e.longName},isBTSApplicationAdministratorAccount:function(){const e=w();return e&&"BTS Application Administrator"===e.longName},isCentralizedUser:function(){return"CENTRALIZED"===E().accountType},getSsoTokenFromUri:function(e,t=6e3){const n=`https://${L()}/NetActSSO/token`,r=`{"username": "${O()}", "password": "${e||R()}" }`;return new c(((e,i)=>{const o=new XMLHttpRequest;o.open("POST",n);o.onreadystatechange=function(){if(o.readyState>3&&200===o.status){const t=JSON.parse(o.responseText).token;e(t);M.info("Getting sso token success")}else if(o.readyState>3&&200!==o.status&&0!==o.status){i(o.status);M.error(`Getting sso token failed, http status: ${o.status}.`)}};o.setRequestHeader("X-Requested-With","XMLHttpRequest");o.setRequestHeader("Content-Type","application/json");o.timeout=t;o.ontimeout=function(){o.abort();i("timeout");M.error(`Failed to get sso token within ${t} milliseconds`)};o.send(r);M.info(`Start getting sso token from ${n}`)})).timeout(t)},removeRouteFromStorage:C,setRouteInStorage:function(e){s.routePath=e},getRouteFromStorage:function(){return s.routePath},isSystemUser:function(){const e=w();return e&&e.longName===g&&!T().readOnlyAccess},isRndPath:function(e){return"developer"===e.split("/")[1]},isRndMode:function(){return s.rndMode},updateForcedPasswordFlag:function(e){e?s.forcedPasswordUpdate=!0:delete s.forcedPasswordUpdate},passwordUpdateRequest:function(t){const n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({isSecure:x(),httpSessionId:v(),port:D(),host:L()},t);return e.passwordUpdateRequest(n)},isAutoConnect:A,setLoginErrorMsg:function(e){s.loginErrorMsg=[e]},getLoginErrorMsg:function(){return s.loginErrorMsg},clearLoginErrorMsg:function(){s.loginErrorMsg=[];window.sessionStorage.removeItem("ngStorage-loginErrorMsg")}}}}},EVENTS:p,AUTH_METHOD:d}},4070:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AuthUtils=void 0;const r=n(9547),i=n(2543);t.AuthUtils=class{static encrypt(e){if(i.isNil(e)||this.isEncrypted(e))return e;const t=r.random.getBytesSync(32),n=r.random.getBytesSync(16),o=r.cipher.createCipher("AES-ECB",t);o.start({iv:n});o.update(r.util.createBuffer(e));o.finish();return{encryptedString:o.output.data,initVectors:n,key:t}}static decrypt(e){if(!e)return null;if(!this.isEncrypted(e))return e;const t=new r.util.ByteStringBuffer(e.encryptedString),n=r.cipher.createDecipher("AES-ECB",e.key);n.start({iv:e.initVectors});n.update(t);if(!n.finish())return null;const i=n.output.toString();delete n.output;return i}static isEncrypted(e){return"[object Object]"===Object.prototype.toString.call(e)&&e.hasOwnProperty("encryptedString")}}},9238:(e,t,n)=>{"use strict";const r=n(2543),i=n(3774),o={excludedRouteIds:["info-model","process-analysis-overview","process-analysis-editor","procedures-editor","timings","kpi-editor-links","kpi-editor-classes","fault-generation","other-alarms","dtp-calibration","gsm-test-pattern-transmission","developer-flags","vendor-parameters","ipsec-expert-mode","system-load-counters","syslog-extractor","feature-flags"],excludedFunctionality:["SHOW_PARAMETERS","SHOW_OPTIF_PARAMETERS","SHOW_PARAMETER_HISTORY","SETTINGS_UPDATE_INTERVAL","OTHER_ABNORMALITIES","SHOW_TIMELINE_DETAILS","SHOW_SITE_PARAMETERS","STATE_INFO_CHART","SOFTWARE_DETAILS","KPI_GRID_DISTNAME","TIMELINE","FAULT_GENERATION","UPDATE_INTERVAL","TRANSLATE","SAVE_CONFIGURATION_PLAN_DELTA_AS_JSON","FOR_FUTURE_FEATURES_PARAMETERS","SYSTEM_LOAD_COUNTERS","MANUAL_LOAD_PM_FILE","SHOW_RD_VIEW","SUPPORT_ALL_LAA_PATTERN_ID"],defaultRouteId:"simplified-site"},s=[{longName:"BTS System Administrator",name:"8c198cb865e153b99d7dd822944920080aa2bd9b",allowedIndexes:[0,1,2,3,4],defaultRouteId:o.defaultRouteId,rndModeIncludedFunctionality:o.excludedFunctionality,rndModeIncludedRouteIds:o.excludedRouteIds,excludedFunctionality:[],excludedRouteIds:[]},{longName:"BTS Security Administrator",name:"7b3aa9fc6020faea597be105202c7f43262533b5",allowedIndexes:[1,2,3,4],defaultRouteId:o.defaultRouteId,excludedFunctionality:o.excludedFunctionality.concat(["BTS_RESET","FETCH_DIAGNOSTIC_CHECK_STATUS","SITE_RESET","CONFIGURATION_AUTOMATION","CONFIGURATION_RESET","SITE_BLOCK","SITE_UNBLOCK","COMMISSIONING_WIZARD","AUTOCONNECTION","ANTENNA_LINE_DEVICES_SOFTWARE","CELL_BLOCK","CELL_UNBLOCK","AMF_LOCK_UNLOCK","LOCK_UNLOCK_LANE","RAT_BLOCK","RAT_UNBLOCK","ACTIVATION_CHECKBOX","START_SOFTWARE_UPDATE","NCF_CONFIGURATION","SW_ROLLBACK","SW_BACKUP","SW_SYNCHRONIZE","HARDWARE_DETAILS_RADIO_BLOCK","HARDWARE_DETAILS_RADIO_UNBLOCK","HARDWARE_DETAILS_RESET","REMOVE_OBJECT","NORMAL_PARAMS","UPDATE_INTERVAL","RADIO_UNLOCK","RAE_GET_OPERATION","CREATE_PLAN","LOAD_SCF","ADD_RAT","REMOVE_RAT","SET_NETWORK","SET_POWER_STATES","SET_POWER_SEND","SW_UPDATE_BROWSE","SW_CONNECT_AND_REFRESH","SW_CANCEL","CELL_LOCK_UNLOCK","RETU_UNBLOCK","BBMOD_LOCK","BBMOD_RESET","TTMOD_RESET","REMOVE_LINK","PLUG_AND_PLAY_ACTIONS","RESET_TECHNOLOGY","DIAGNOSTICS_VIEW","CLEAR_FINISHED_RESULTS","LOCK_UNLOCK_BTS","DELETE_BSR","ORU_SOFTWARE","SYNC","CANCEL_VSWR_ALARM"]),excludedRouteIds:o.excludedRouteIds.concat(["ald-sharing-configuration","test-dedicated-state","diagnostic-check","synchronization-tuning","configuration-reset","tuning","antenna-line","bsr-remove","oru-sw","ip-connectivity-test","rf-diagnostic-test","test-setup","test-result","statistics-test-result","commissioning","configuration-automation","emergency-bypass","backup-tunnel","synchronization-status","synchronization-test-clock","synchronization-ptp-master","faults","controls","eth-port-mirroring","interface-mirroring","ip-traffic-capturing","sfp","ant-monitoring","pim","dtp","rf-scan","vswr-configuration","nr-downlink","nr-uplink","nr-performance","downlink","uplink","wcdma-downlink","wcdma-uplink","gsm-bcch","gsm-loop-test","twamp-measurements","ethernet-link-oam","ethernet-service-oam","singlelink","multilink","ipv4-routing","ipv6-routing","routing-policies","ip-security-associations","pmtu-discovery","gsm-traffic","pdh-loopback","calibrate-epimc-fhs","change-bts-rad-params","ip-sec-psk-configuration","ret-management","rae-management","debug-tracing","reset-port-switchover","bts-power-reset","bbmod-power-reset","snapshot-configuration","troubleshooting-scripts","schedule-forced-bts-site-reset","replace-baseband-module","emergency-ru-and-fhs-reset"])},{longName:"BTS Application Administrator",name:"29b9ee64cfb02fd99b06693d0d4e3163e86ff63f",allowedIndexes:[2],defaultRouteId:o.defaultRouteId,excludedFunctionality:o.excludedFunctionality.concat(["CERTIFICATE_MANAGEMENT","CREATE_PLAN","LOAD_SCF","ADD_RAT","REMOVE_RAT","AUTOCONNECTION","SEC_ADM_ONLY","UPDATE_INTERVAL","ENABLE_ETHERNET_PORT_SECURITY","DISABLE_SERVICE_ACCOUNT_SSH","SERVICE_ACCOUNT_MANAGEMENT","ACCOUNT_STATUS_REPORT","PLUG_AND_PLAY_ACTIONS","CHANGE_LOCAL_ACCOUNT_STATE"]),excludedRouteIds:o.excludedRouteIds.concat(["operator-certificates","automatic-management","certificate-revocation-lists","macsec-psk-configuration","vendor-certificates","cbrs-certificates","cbrs-certificate-revocation-list","netconf-certificates","ethernet-port-security","fips-compliance-self-test","rnd-service-port","ssh-netconf-radio","tls-netconf-radio","schedule-forced-bts-site-reset","ldap-server-configuration","ssd-wifi-configuration"])},{longName:"BTS Read-Only User",name:"99a016c28c80553292e78a17bcb00010ae9f9f3a",allowedIndexes:[3],defaultRouteId:o.defaultRouteId,excludedFunctionality:o.excludedFunctionality.concat(["BTS_RESET","FETCH_DIAGNOSTIC_CHECK_STATUS","SITE_RESET","CONFIGURATION_AUTOMATION","CONFIGURATION_RESET","SITE_BLOCK","SITE_UNBLOCK","COMMISSIONING_WIZARD","CONFIGURATION_AUTOMATION","DEFINITION_ERRORS","RELATION_ERRORS","HARDWARE_ERRORS","AUTOCONNECTION","ANTENNA_LINE_DEVICES_SOFTWARE","PM_OBJECT_FILTERING","CERTIFICATE_MANAGEMENT","CELL_BLOCK","CELL_UNBLOCK","RAT_BLOCK","RAT_UNBLOCK","SAVE_SOFTWARE_HISTORY_REPORT","SAVE_SOFTWARE_UPDATE_REPORT","ACTIVATION_CHECKBOX","START_SOFTWARE_UPDATE","NCF_CONFIGURATION","SW_ROLLBACK","SW_BACKUP","SW_SYNCHRONIZE","HARDWARE_DETAILS_RADIO_BLOCK","HARDWARE_DETAILS_RADIO_UNBLOCK","HARDWARE_DETAILS_RESET","REMOVE_OBJECT","TUNING_TAB","SEC_ADM_ONLY","ENABLE_ETHERNET_PORT_SECURITY","ENABLE_RD_SERVICE_PORT","DISABLE_SERVICE_ACCOUNT_SSH","DISABLE_SYNC_SSH_CONFIGURATION","START_IP_TRAFFIC_CAPTURING","STOP_IP_TRAFFIC_CAPTURING","GENERATE_IP_TRAFFIC","UPDATE_INTERVAL","RESET_TECHNOLOGY","SERVICE_ACCOUNT_MANAGEMENT","ACCOUNT_STATUS_REPORT","SOFTWARE_UPDATE_TAB","CHANGE_LOCAL_ACCOUNT_STATE","RESTORE_DEFAULTS","BTS_LOG_SEND","IMS2_SAVING","TIMELINE_MERGING","RADIO_UNLOCK","CREATE_PLAN","LOAD_SCF","ADD_RAT","REMOVE_RAT","UNDO_CHANGES","UPDATE_MODE","VALIDATE_PLAN","ACTIVATE_PLAN","FIX_ERRORS","SAVE_REPORT","VALIDATE_WITH_DETECTED_HW","ADD_OBJECT","DELETE_OBJECT","REVERT_OBJECT","COPY_FROM_RIGHT_AND_LEFT","RET_SEND_BUTTON","RAE_MANAGEMENT_BUTTON_SHOW","SET_NETWORK","SET_POWER_STATES","SET_POWER_SEND","AMF_LOCK_UNLOCK","LOCK_UNLOCK_LANE","CELL_LOCK_UNLOCK","RETU_UNBLOCK","BBMOD_LOCK","BBMOD_RESET","TTMOD_RESET","REMOVE_LINK","PARAMETER_ADD_ELEMENT","PARAMETER_DELETE_ELEMENT","PARAMETER_REVERT_ELEMENT","PLUG_AND_PLAY_ACTIONS","DIAGNOSTICS_VIEW","CLEAR_FINISHED_RESULTS","LOCK_UNLOCK_BTS","DELETE_BSR","ORU_SOFTWARE","SYNC","CANCEL_VSWR_ALARM"]),excludedRouteIds:o.excludedRouteIds.concat(["configuration-automation","ald-sharing-configuration","macsec-psk-configuration","vendor-certificates","operator-certificates","automatic-management","certificate-revocation-lists","cbrs-certificates","cbrs-certificate-revocation-list","netconf-certificates","test-dedicated-state","synchronization-tuning","software-update","software-versions","configuration-reset","commissioning","configuration-automation","definition-errors","relation-errors","hardware-errors","antenna-line","bsr-remove","oru-sw","ip-connectivity-test","rf-diagnostic-test","diagnostic-check","test-setup","test-result","statistics-test-result","ethernet-link-oam","ethernet-service-oam","emergency-bypass","backup-tunnel","synchronization-status","synchronization-test-clock","synchronization-ptp-master","faults","controls","eth-port-mirroring","interface-mirroring","ip-traffic-capturing","ant-monitoring","pim","dtp","rf-scan","vswr-configuration","nr-downlink","nr-uplink","nr-performance","downlink","uplink","wcdma-downlink","wcdma-uplink","gsm-bcch","gsm-loop-test","snapshot","twamp-measurements","singlelink","multilink","ipv4-routing","ipv6-routing","routing-policies","ip-security-associations","pmtu-discovery","gsm-traffic","pdh-loopback","calibrate-epimc-fhs","ethernet-port-security","fips-compliance-self-test","rnd-service-port","service-account-ssh","change-bts-rad-params","im-snapshot","ip-sec-psk-configuration","debug-tracing","reset-port-switchover","bts-power-reset","bbmod-power-reset","ssh-netconf-radio","tls-netconf-radio","lss-user-configuration","snapshot-configuration","troubleshooting-scripts","schedule-forced-bts-site-reset","emergency-ru-and-fhs-reset","ldap-server-configuration","replace-baseband-module","ssd-wifi-configuration"])},{longName:"BTS Data Collection User",name:"b45e565939eb650c0de32c608d117361f5507213",allowedIndexes:[4],defaultRouteId:o.defaultRouteId,excludedFunctionality:o.excludedFunctionality,excludedRouteIds:o.excludedRouteIds.concat(["ssh-netconf-radio","tls-netconf-radio"])},{longName:"Developer Account",name:"3dacbce532ccd48f27fa62e993067b3c35f094f7",allowedIndexes:[0,1,2,3,4],defaultRouteId:"info-model",accessAllRouteIds:!0,excludedFunctionality:[],excludedRouteIds:[]},{longName:"Offline Account",name:"d1ffda5dc9903c9a42d66636aea9405e311c6f85",defaultRouteId:o.defaultRouteId,accessAllRouteIds:!1,excludedFunctionality:o.excludedFunctionality.concat(["CONNECT_TO_BTS","USER_ACCOUNT","UPDATE_INTERVAL"]),excludedRouteIds:o.excludedRouteIds},{longName:"Read Only",name:"9a27718297218c3757c365d357d13f49d0fa3065",defaultRouteId:"info-model",accessAllRouteIds:!0,excludedFunctionality:["CONNECT_TO_BTS","USER_ACCOUNT","UPDATE_INTERVAL","TRANSLATE","FOR_FUTURE_FEATURES_PARAMETERS"],excludedRouteIds:[]}];e.exports={getByName:function(e){const t=(new i).digest(e.toLowerCase()),n=s.find((function(e){return e.name===t}));return n?r.cloneDeep(n):null},getProfiles:function(){return s},LOCAL_USER_PROFILES:s}},4528:(e,t,n)=>{"use strict";function r(e){const t=o(e);return t!==a&&t!==c}function i(e){return o(e)===a}function o(e){const t=e.getDecodedParameters().stateInfo;return t&&t.proceduralState}const s=n(1039).A,a="NotCommissioned",c="Initializing";e.exports={getBtsCommissionStatuses:function(e){const t=e.findByClassPaths(s.MRBTS_M),n=e.findByClassPaths(s.BTS_L);return{everyMrbtsMCommisioned:!!t.length&&t.every(r),everyMrbtsMUncommisioned:!t.length||t.every(i),mrbtsMNodesCount:t.length,detectedBTSCount:n.length}}}},5880:e=>{"use strict";e.exports={newInstance:function(e){function t(t,n){const c={key:t,value:n};i.set(t,c);if(s)r(c);else{s=c;a=c}o++;o>e&&function(){i.delete(a.key);const e=a.newer;e.older=null;a=e;o--}();return c}function n(e){if(s===e)return;a===e&&(a=e.newer);const t=e.older,n=e.newer;t&&(t.newer=n);n&&(n.older=t);r(e)}function r(e){s.newer=e;e.older=s;e.newer=null;s=e}const i=new Map;let o=0,s=null,a=null;return{set:function(e,r){const o=i.get(e);if(o){o.value=r;n(o)}else t(e,r)},get:function(e,r){let o=i.get(e);o?n(o):r&&(o=t(e,r(e)));return o?o.value:null},clear:function(){o=0;i.clear();s=null;a=null}}}}},8488:(e,t,n)=>{"use strict";var r=n(4994);Object.defineProperty(t,"__esModule",{value:!0});t["default"]=void 0;var i=r(n(9679)),o=n(2607);t["default"]=(0,o.generateClassIndex)(i.default)},2343:(e,t,n)=>{"use strict";const r=n(2543);e.exports={newBiMultiMap:function(){function e(e){if(r.isUndefined(e))throw new Error("Key is undefined")}function t(e){if(r.isUndefined(e))throw new Error("Value is undefined")}const n=new Map,i=new Map;return{put:function(o,s){e(o);t(s);let a=n.get(o),c=i.get(s);const u=r.isUndefined(a),l=r.isUndefined(c);a=a||[];c=c||[];!l&&c.includes(o)||c.push(o);!u&&a.includes(s)||a.push(s);i.set(s,c);n.set(o,a)},values:function(...t){if(0===t.length)return function(){return Array.from(i.keys())}();const r=t[0];e(r);const o=n.get(r);return o?o.slice():null},keys:function(...e){if(0===e.length)return function(){return Array.from(n.keys())}();const r=e[0];t(r);const o=i.get(r);return o?o.slice():null},countKeys:function(...e){if(0===e.length)return function(){return n.size}();const r=e[0];t(r);return(i.get(r)||[]).length},countValues:function(...t){if(0===t.length)return function(){return i.size}();const r=t[0];e(r);return(n.get(r)||[]).length},clear:function(){n.clear();i.clear()},removeEntry:function(o,s){e(o);t(s);const a=n.get(o),c=i.get(s),u=r.isUndefined(a),l=r.isUndefined(c);if(u||l)return null;const f=r.indexOf(a,s);-1!==f&&a.splice(f,1);r.isEmpty(a)&&n.delete(o);const d=r.indexOf(c,o);-1!==d&&c.splice(d,1);r.isEmpty(c)&&i.delete(s);return s},removeKey:function(t){e(t);const o=n.get(t);if(r.isUndefined(o))return null;r.forEach(o,(e=>{const n=i.get(e),o=r.indexOf(n,t);-1!==o&&n.splice(o,1);r.isEmpty(n)&&i.delete(e)}));n.delete(t);return o},removeValue:function(e){t(e);const o=i.get(e);if(r.isUndefined(o))return null;r.forEach(o,(t=>{const i=n.get(t),o=r.indexOf(i,e);-1!==o&&i.splice(o,1);r.isEmpty(i)&&n.delete(t)}));i.delete(e);return o},containsEntry:function(o,s){e(o);t(s);const a=n.get(o),c=i.get(s),u=r.isUndefined(a),l=r.isUndefined(c);return!u&&!l&&(a.length<c.length?r.includes(a,s):r.includes(c,o))},containsKey:function(t){e(t);return!r.isUndefined(n.get(t))},containsValue:function(e){t(e);return!r.isUndefined(i.get(e))}}}}},4173:e=>{"use strict";e.exports=Object.freeze({BTS_CONF:"BTS_CONF",CHANNELGROUP_A:"CHANNELGROUP_A",CHANNEL_A:"CHANNEL_A",CONF_REF:"CONF_REF",CRAN_CONFIG:"CRAN_CONFIG",DELTA:"DELTA",EQM:"EQM",EQM_R:"EQM_R",ETH_PORT_SECURITY_L:"ETH_PORT_SECURITY_L",FTM:"FTM",LNBTS:"LNBTS",MRBTS:"MRBTS",MRBTS_R:"MRBTS_R",NP:"NP",RAT:"RAT",SCF:"SCF",SWM:"SWM",HWLINK_NG_L:"HWLINK_NG_L",FRI:"FRI",SMOD:"SMOD",BBMOD:"BBMOD",CLOCK:"CLOCK",TRMOD:"TRMOD",BTS_SERVICE:"BTS_SERVICE",SW_UPDATE_SERVICE:"SW_UPDATE_SERVICE",SW_UPDATE_L:"SW_UPDATE_L",URI:"URI",SESSION:"SESSION",SW_UPDATE_IND:"SW_UPDATE_IND",APEQM_R:"APEQM_R",ALD_R:"ALD_R",EQM_L:"EQM_L",LNBTS_A:"LNBTS_A",BTS_L:"BTS_L",RETU_R:"RETU_R",NACK:"NACK",CLOCK_A:"CLOCK_A",CLOCK_CONF_M:"CLOCK_CONF_M",CLOCK_R:"CLOCK_R",CABINET_R:"CABINET_R",SMOD_R:"SMOD_R",SYNCE_A:"SYNCE_A",SYNCE_R:"SYNCE_R",TOPP_R:"TOPP_R",TOPF_R:"TOPF_R",TOPF_A:"TOPF_A",OSCILLATOR:"OSCILLATOR",CCU:"CCU",REF:"REF",PINGRES_CONF_M:"PINGRES_CONF_M",RUNTIME_VIEW:"RUNTIME_VIEW",GTPU_PATH:"GTPU_PATH",RNC:"RNC",WBTS:"WBTS",RMOD:"RMOD",ASIRMOD:"ASIRMOD",SERVER_INFO:"SERVER_INFO",SWCONFIG_L:"SWCONFIG_L",GNSSE_R:"GNSSE_R",GNSSI_R:"GNSSI_R",LOOP_TEST_REPORT:"LOOP_TEST_REPORT",BBMOD_R:"BBMOD_R",RMOD_R:"RMOD_R",ASIRMOD_R:"ASIRMOD_R",TRMOD_R:"TRMOD_R",TTMOD_R:"TTMOD_R",PWRMOD_R:"PWRMOD_R",DCPORT_R:"DCPORT_R",LNCEL_R:"LNCEL_R",ANTL_CONF_M:"ANTL_CONF_M",FHS_R:"FHS_R",FHS:"FHS",FHS_BP_L:"FHS_BP_L",CABLINK_R:"CABLINK_R",EPIMC_R:"EPIMC_R",EPIMC_A:"EPIMC_A",EPIMC_M:"EPIMC_M",CHANNEL_M:"CHANNEL_M",EPIMC_CALIBRATION_PROCEDURE_R:"EPIMC_CALIBRATION_PROCEDURE_R",NR_UPLINK_TEST_REPORT:"NR_UPLINK_TEST_REPORT",NR_UPLINKCCM_TEST_REPORT:"NR_UPLINKCCM_TEST_REPORT",ANTL_M:"ANTL_M",TX_L:"TX_L",TX_PU_BP_L:"TX_PU_BP_L",LNCEL_M:"LNCEL_M",WNCEL_M:"WNCEL_M",GNCEL_M:"GNCEL_M",NRCELL_M:"NRCELL_M",TTRX_M:"TTRX_M",UPLANE_CARRIER_L:"UPLANE_CARRIER_L",CARRIER_GROUPC_L:"CARRIER_GROUPC_L",LNCEL_A:"LNCEL_A",WNCEL_A:"WNCEL_A",GNCEL_A:"GNCEL_A",NRCELL_A:"NRCELL_A",TTRX_ST_A:"TTRX_ST_A",TTRX_RE_A:"TTRX_RE_A",TNBTS_R:"TNBTS_R"})},1039:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=n(2607),o=r(n(9679));t.A=Object.freeze((0,i.generateClassPaths)(o.default))},4295:e=>{"use strict";e.exports=Object.freeze({ALD:"ALD_A",RETU:"RETU_A",CAREL:"CAREL_A",APEQM:"APEQM_A",EQM:"EQM_A",HWTOP:"HWTOP_A",LNBTS:"LNBTS_A",WNBTS:"WNBTS_A",TNBTS:"TNBTS_A",BS_INSTANCE:"BS_INSTANCE_A",TBC_STANDALONE:"TBC_STANDALONE_A",TBC_REMOTE:"TBC_REMOTE_A",TTRX_ST:"TTRX_ST_A",TTRX_RE:"TTRX_RE_A",WNCEL:"WNCEL_A",GNBTS:"GNBTS_A",GNBCF:"GNBCF_A",GSM_TRS_CONF:"GSM_TRS_CONF",GNCEL:"GNCEL_A",LNCEL:"LNCEL_A",LNCELDESC:"LNCELDESC_A",MRBTS:"MRBTS_A",MNL:"MNL_A",MNLENT:"MNLENT_A",CELLMAPPING:"CELLMAPPING_A",LCELC:"LCELC_A",LCELNR:"LCELNR_A",LNCEL_FDD:"LNCEL_FDD_A",LNCEL_TDD:"LNCEL_TDD_A",CHANNELGROUP:"CHANNELGROUP_A",CHANNEL:"CHANNEL_A",GNSSE:"GNSSE_A",GNSSI:"GNSSI_A",FEATGADM:"FEATGADM_A",CABINET:"CABINET_A",SMOD:"SMOD_A",BBMOD:"BBMOD_A",TRMOD:"TRMOD_A",TIME:"TIME_A",SYNC:"SYNC_A",MRBTSDESC:"MRBTSDESC_A",MPLANENW:"MPLANENW_A",MPLANEFHNW:"MPLANEFHNW_A",TRSNW:"TRSNW_A",EAC_IN:"EAC_IN_A",EAC_OUT:"EAC_OUT_A",PMRNL_A:"PMRNL_A",LNADJ_A:"LNADJ_A",LNADJL_A:"LNADJL_A",LNADJW_A:"LNADJW_A",LNADJG_A:"LNADJG_A",ULCOMP_A:"ULCOMP_A",NBIOT_FDD:"NBIOT_FDD_A",CLOCK:"CLOCK_A",RMOD:"RMOD_A",FHS:"FHS_A",ASIRMOD:"ASIRMOD_A",LCELL:"LCELL_A",LCELW:"LCELW_A",LTTRX:"LTTRX_A",PHYANT:"PHYANT_A",NRBTS:"NRBTS_A",NRCEL_A:"NRCELL_A",NRCEL_FDD:"NRCELL_FDD_A",NRCEL_TDD:"NRCELL_TDD_A",LOOPBACKREQ:"LOOPBACKREQ_A",CMD:"CMD_A",COMBINEDRESETREQ:"COMBINEDRESETREQ_A",COMBINEDRESETRES:"COMBINEDRESETRES_A",FEATCADM_A:"FEATCADM_A",SECADM_A:"SECADM_A",PTPMASTER_A:"PTPMASTER_A",ANTL:"ANTL_A",SECANT:"SECANT_A",REDUNDANCY_A:"REDUNDANCY_A",TRBLCADM_A:"TRBLCADM_A"})},8181:(e,t)=>{"use strict";t.A=void 0;t.A=Object.freeze({MODULES:{CPU:"CPU_L",CCU:"CCU_L",TRMOD:"TRMOD_L",SMOD:"SMOD_L",SMOD_EXT:"SMOD_EXT_L",SMOD_BP_L:"SMOD_BP_L",RMOD_BP_L:"RMOD_BP_L",BBMOD:"BBMOD_L",RMOD:"RMOD_L",RU:"RU_L",UP_TIME:"UP_TIME",UNIT_TEMPERATURE:"UNIT_TEMPERATURE_REPORT",MHA:"MHA_L",RET:"RET_L",PHYANT:"PHYANT_L",TRU:"TRU_L",BBU:"BBU_L",PDU:"PDU_L",DSP:"DSP_L",CORE:"CORE_L",LNA:"LNA_L",RETU:"RETU_L",RAE:"RAE_L",RAEU:"RAEU_L",PWRMOD:"PWRMOD_L",CABINET:"CABINET_L",ALD:"ALD_L"},BBCONV:"BBCONV_L",BBSWITCH:"BBSWITCH_L",HWPORT:"HWPORT_L",EQM:"EQM_L",TIME:"TIME_L",HWTOP:"HWTOP_L",HWLINK:"HWLINK_L",BBTOP:"BBTOP_L",LNBTS:"LNBTS",BTS_CONF:"BTS_CONF",QSFP:"QSFP_L",SFP:"SFP_L",CONNECTOR:"CONNECTOR_L",CABLNK:"CABLNK_L",LCELL:"LCELL",LNCEL:"LNCEL",LNREL:"LNREL",LNADJ:"LNADJ",LNADJL:"LNADJL",LNADJW:"LNADJW",RAT:"RAT",GTPU_PATH:"GTPU_PATH",SUBCELL:"SUBCELL",CHANNEL:"CHANNEL",LNMME:"LNMME",RNC:"RNC_L",WNCEL:"WNCEL_L",WNCELG:"WNCELG_L",SFP_PARAMS:"SFP_PARAMS_L",UPLANECARRIER:"UPLANE_CARRIER_L",FAN:"FAN_L",BUILD_DATA:"BUILD_DATA_L",STORAGE:"STORAGE_L",FILE_SYSTEM:"FILE_SYSTEM_L",MEMORY:"MEMORY_L",ALARM:"ALARM_L",SOC:"SOC_L",CCU:"CCU_L",BOARD:"BOARD_L",CPU:"CPU_L",MCTRL:"MCTRL",POWER_GROUP:"POWER_GROUP_L",POWER_MEASUREMENT:"POWER_MEASUREMENT_L",CONCENTRATOR:"CONCENTRATOR_L",CARRIER_GROUP:"CARRIER_GROUP_L",CARRIER_GROUPC:"CARRIER_GROUPC_L",CONCENTRATOR_BP:"CONCENTRATOR_BP_L",BM_OBJECTS:{OSCILLATOR:"OSCILLATOR",FAN:"FAN"},PATH:"PATH",LED:"LED_L",LTS:"LTS",WTS:"WTS",LTE:{BTS:"LNBTS_L",NCEL:"LNCEL_L"},WCDMA:{BTS:"WBTS_L",NCEL:"WNCEL_L"},GSM:{BTS:"BCF_L",NCEL:"GNCEL_L"},GTS:"GTS",BTS:"BTS_L",TAS:"TAS_L",FUNC:"FUNC_L",VU:"VU_L",VUBUS:"VUBUS_L",GNSS:"GNSS",FRI:{ALARM:"ALARM"},WBTS:"WBTS_L",DSP_M:"DSP_M",DSP_L:"DSP_L",CLOCK:"CLOCK_L",COMSWITCH:"COMSWITCH_L",FAN_R:"FAN_R",WNBTS:"WNBTS_R",TX:"TX_L",FFU:"FFU_L",FF:"FF",SWITCH_ETH_INTERFACE:"SWITCH_ETH_INTERFACE",INET_INTERFACE:"INET_INTERFACE",PA:"PA_L",NR_CELL_MAPPING_INFO_L:"NR_CELL_MAPPING_INFO_L",CARRIERGROUPC_R:"CARRIERGROUPC_R"})},9679:(e,t,n)=>{"use strict";var r=n(4994);Object.defineProperty(t,"__esModule",{value:!0});t["default"]=void 0;var i=n(2607),o=r(n(3985));const s={BBU_L:{POWER_GROUP_L:{SOC_L:{CPU_L:{MEMORY_L:{},STORAGE_L:{FILE_SYSTEM_L:{}}},DSP_L:{}}},STORAGE_L:{FILE_SYSTEM_L:{}}},CCU_L:{COMSWITCH_L:{COMAPPS_L:{SECURITY_L:{CERTIFICATES_CONF_L:{CERTIFICATE_L:{}},SSH_SERVICE_ACCOUNT_L:{},ETH_PORT_SECURITY_L:{},CRL_CONF_L:{CRL_INFO_L:{}},SERVICE_PORT_L:{},IPSEC_CONF_L:{IPSEC_EXPERT_MODE_L:{},IPSEC_SADB_L:{IKE_SA_L:{},IPSEC_SA_L:{}}}},SUPERVISION_L:{TWAMP_SENDER_L:{TWAMP_SENDER_STATISTICS_L:{}},TRAFFIC_CAPTURING_L:{CAPTURED_IP_TRAFFIC_FILE:{}}},TRANSPORT_SYNC_L:{TRS_SYNCE_L:{}}},PDHPHY_L:{}},BBSWITCH_L:{HWPORT_L:{}},SOC_L:{CPU_L:{MEMORY_L:{},STORAGE_L:{FILE_SYSTEM_L:{}}}},STORAGE_L:{FILE_SYSTEM_L:{BUILD_DATA_L:{}}},POWER_GROUP_L:{SOC_L:{CPU_L:{STORAGE_L:{FILE_SYSTEM_L:{}}}}},TRAGENT_L:{}},CLOCK_L:{},CONCENTRATOR_L:{CONNECTOR_L:{SFP_L:{}}},CONNECTOR_L:{SFP_L:{}},GNSS_L:{},POWER_MEASUREMENT_L:{},TIME_L:{},TRU_L:{STORAGE_L:{FILE_SYSTEM_L:{}},TRAGENT_L:{},TRU_ALARM_NOTIF_L:{}},SMOD_BP_L:{},SWCONFIG_L:{},BOARD_L:{STORAGE_L:{FILE_SYSTEM_L:{BUILD_DATA_L:{}}},POWER_GROUP_L:{SOC_L:{CPU_L:{MEMORY_L:{},STORAGE_L:{FILE_SYSTEM_L:{}}},DSP_L:{}},STORAGE_L:{FILE_SYSTEM_L:{BUILD_DATA_L:{}}},COMSWITCH_L:{COMAPPS_L:{SECURITY_L:{SSH_SERVICE_ACCOUNT_L:{},ETH_PORT_SECURITY_L:{},CERTIFICATES_CONF_L:{CERTIFICATE_L:{}},CRL_CONF_L:{CRL_INFO_L:{}},SERVICE_PORT_L:{},IPSEC_CONF_L:{IPSEC_EXPERT_MODE_L:{},IPSEC_SADB_L:{IKE_SA_L:{},IPSEC_SA_L:{}}}},TRANSPORT_SYNC_L:{TRS_SYNCE_L:{}},SUPERVISION_L:{TWAMP_SENDER_L:{TWAMP_SENDER_STATISTICS_L:{}},TRAFFIC_CAPTURING_L:{CAPTURED_IP_TRAFFIC_FILE:{}}}},PDHPHY_L:{}}},COMSWITCH_L:{COMAPPS_L:{SECURITY_L:{SSH_SERVICE_ACCOUNT_L:{},ETH_PORT_SECURITY_L:{},CERTIFICATES_CONF_L:{CERTIFICATE_L:{}},CRL_CONF_L:{CRL_INFO_L:{}},SERVICE_PORT_L:{},IPSEC_CONF_L:{IPSEC_EXPERT_MODE_L:{},IPSEC_SADB_L:{IKE_SA_L:{},IPSEC_SA_L:{}}}},TRANSPORT_SYNC_L:{TRS_SYNCE_L:{}},SUPERVISION_L:{TWAMP_SENDER_L:{TWAMP_SENDER_STATISTICS_L:{}},TRAFFIC_CAPTURING_L:{CAPTURED_IP_TRAFFIC_FILE:{}}}},PDHPHY_L:{},WIFIFULLDATA_L:{WIFI_CLIENTS_L:{},WIFIWLANDATA_L:{WIFIBSSID_L:{}}}}}},a={MRBTS:{EQM:{CABINET:{TEMP_SENSOR:{},FAN:{}},SMOD:{BBU:{CPU:{TEMP_SENSOR:{}},DSP:{TEMP_SENSOR:{}}},CCU:{BBSWITCH:{TEMP_SENSOR:{},HWPORT_L:{}},CPU:{TEMP_SENSOR:{}},OSCILLATOR:{TEMP_SENSOR:{}},TEMP_SENSOR:{}},CLOCK:{},GNSS:{},NTP:{},SYNC_OUT:{},TEMP_SENSOR:{},TIME:{},FAN:{}},GNSS:{}},RAT:{ASM:{INTERFACE_MIRRORING_PROCEDURE_R:{},POWER_RESET_SNAPSHOT_PROCEDURE_R:{},START_INTERFACE_MIRRORING_IND:{},STOP_INTERFACE_MIRRORING_IND:{},FETCH_DIAGNOSTIC_CHECK_STATUS_IND:{FETCH_DIAGNOSTIC_CHECK_STATUS_RESULT:{}},TECHREP_L:{SNAPSHOT:{}}},BSTAT:{PERFMON_L:{PERFMON_FILE_L:{FILE_TRANSFER_NOTIF:{}}},TECHREP_L:{SNAPSHOT:{DIAGN_FILE:{FILE_TRANSFER_NOTIF:{}}}}},BTS_L:{BTS_CONF:{NP:{SCF:{MRBTS_A:{EQM_A:{APEQM_A:{ALD_A:{LNA_A:{},RETU_A:{}},CABINET_A:{BBMOD_A:{SFP_A:{LANE_A:{}}},SMOD_A:{EAC_IN_A:{},EAC_OUT_A:{},SFP_A:{LANE_A:{}}},TRMOD_A:{SFP_A:{LANE_A:{}}},TTMOD_A:{},PWRMOD_A:{}},PASSDEV_A:{},RMOD_A:{ANTL_A:{},RSL_A:{},EAC_IN_A:{},EAC_OUT_A:{},PHYANT_A:{},SFP_A:{LANE_A:{}}},PWRMOD_A:{DCPORT_A:{}},ASIRMOD_A:{ASIANTL_A:{SFP_A:{LANE_A:{}}}},FHS_A:{EAC_IN_A:{},EAC_OUT_A:{},EPIMC_A:{},SFP_A:{LANE_A:{}}}},SMOD_EXT_A:{},SECANT_A:{},HWTOP_A:{CABLINK_A:{},LOGLINK_A:{}}},GNBTS_A:{GNBCF_A:{GNCEL_A:{}}},LNBTS_A:{CAGENB_A:{},GTPU_A:{},LNMME_A:{},TRSNW_A:{},LNCEL_A:{LNCEL_FDD_A:{},LNCEL_TDD_A:{},LNREL_A:{},LNRELW_A:{},LNRELG_A:{},CAREL_A:{},NBIOT_FDD_A:{}},LNADJ_A:{LNADJL_A:{}},LNADJG_A:{},ULCOMP_A:{},LNADJW_A:{}},NRBTS_A:{SERVEDAMF_A:{},LTEENB_A:{},NRNEARRTRIC_A:{},NRE2LINK_A:{},NRADJGNB_A:{},XNLINK_A:{},NRCELL_A:{NRCELL_FDD_A:{}},NRCELLGRP_A:{},NRDU_A:{}},MNL_A:{CMD_A:{COPYSWTOPASSIVEREQ_A:{COPYSWTOPASSIVERES_A:{}},HWRESETREQ_A:{HWRESETRES_A:{}},COMBINEDRESETREQ_A:{COMBINEDRESETRES_A:{}}},AMGR_A:{LUAC_A:{}},MNLENT_A:{CELLMAPPING_A:{LCELC_A:{CHANNELGROUP_A:{CHANNEL_A:{}}},LCELW_A:{CHANNELGROUP_A:{CHANNEL_A:{}}},LCELL_A:{CHANNELGROUP_A:{CHANNEL_A:{}}},LCELNR_A:{CHANNELGROUP_A:{CHANNEL_A:{}}}},SECADM_A:{},DNS_A:{},FEATCADM_A:{FEATGADM_A:{}},REDUNDANCY_A:{},MPLANENW_A:{},FMCADM_A:{},PMCADM_A:{},SYNC_A:{CLOCK_A:{CLOCK_FDD_A:{},CLOCK_TDD_A:{},NTP_A:{},GNSSE_A:{},GNSSI_A:{},SYNCE_A:{SYNCE_R:{}},TOP_A:{TOPF_A:{},TOPP_A:{}},PDH_A:{},PTPMASTER_A:{}},TIME_A:{}},TEST_A:{RFREQ_A:{},RFTHLD_A:{},RFSTATREQ_A:{}},TRBLCADM_A:{},MPLANEONAP_A:{VESENDPOINT_A:{}}},CERTH_A:{CMP_A:{},CRLH_A:{CRLDPCONFIG_A:{}},CMPECDSA_A:{}}},TNLSVC_A:{TNL_A:{IPAPP_A:{BFD_A:{},TWAMP_A:{},IPSECC_A:{SECPOL_A:{},EMBYPASSREQ_A:{EMBYPASSRES_A:{}},IKEPROTGRP_A:{IKEPSWITCHREQ_A:{IKEPSWITCHRES_A:{}},IKEPPSTUNNELSWITCHREQ_A:{IKEPPSTUNNELSWITCHRES_A:{}}}}},IPNO_A:{IPIF_A:{IPADDRESSV4_A:{},IPADDRESSV6_A:{}},PATHMTUDISCOVERREQ_A:{},IPRTV6_A:{},IPRT_A:{},RTPOL_A:{}},ETHSVC_A:{ETHLK_A:{},ETHIF_A:{ETHIF_R:{}},L2SWI_A:{BRGPRT_A:{},IBRGPRT_A:{},LAGRP_A:{}},ETHMIRROR_A:{ETHMIRRORSET_A:{}}},PPTT_A:{LOOPBACKREQ_A:{LOOPBACKRES_A:{}}},ETHAPP_A:{OAMMD_A:{}},WLAN_A:{}}},WNBTS_A:{WNCEL_A:{}},TNBTS_A:{BS_INSTANCE_A:{TBC_STANDALONE_A:{TTRX_ST_A:{TTRX_CONF_ST_A:{}}},TBC_REMOTE_A:{TTRX_RE_A:{TTRX_CONF_RE:{}}}}}}},DELTA:{CHANGE_CONTEXT:{IKEPROTGRP_A:{}}}},NMS_L:{}},EQM_L:{PWRMOD_L:{CONNECTOR_L:{},PDU_L:{}},ALD_L:{LNA_L:{},RETU_L:{},RAEU_L:{ANTENNA_PARAMETERS:{},ANTENNA_PARAMETERS_1D:{}}},CABINET_L:{PWRMOD_L:{CONNECTOR_L:{},PDU_L:{}},BBMOD_L:{BBMOD_BP_L:{},BBU_L:{BBSWITCH_L:{HWPORT_L:{}},POWER_GROUP_L:{SOC_L:{DSP_L:{},CPU_L:{STORAGE_L:{FILE_SYSTEM_L:{}}}}}},BOARD_L:{},CONNECTOR_L:{SFP_L:{}},CONCENTRATOR_L:{CONNECTOR_L:{}}},TRMOD_L:{TRU_L:{},CONNECTOR_L:{}},EXTALMBOX_L:{},SMOD_L:s},RMOD_L:{RRH_SYNC:{},HWTOP_L:{HWLINK_L:{},CABLNK_L:{}},CONNECTOR_L:{},RU_L:{UP_TIME:{},UNIT_TEMPERATURE_REPORT:{},POWER_MEASUREMENT_L:{},STORAGE_L:{FILE_SYSTEM_L:{BUILD_DATA_L:{}}},TRAGENT_L:{},VUBUS_L:{VU_L:{VU_BP_L:{}}},TX_PU_L:{TX_L:{},TX_PU_BP_L:{}},RX_PU_L:{RX_PU_BP_L:{}},FF_L:{FFU_L:{}},PA_L:{},RU_BP_L:{},SESSION_INFO:{},FAN_MEASUREMENT_L:{}},FAN_L:{},CONCENTRATOR_L:{CONNECTOR_L:{SFP_L:{}}},RMOD_BP_L:{}},RET_L:{},PHYANT_L:{},SMOD_EXT_L:s,TRMOD_L:{TRU_L:{}},FHS_L:{CONNECTOR_L:{},EPIMC_L:{EPIMC_MEASUREMENTS_L:{}},FHS_BP_L:{},FAN_L:{}},NEIGHBOR_NODE_L:{}},FHS_L:{FHSU_L:{STORAGE_L:{FILE_SYSTEM_L:{}}},FAN_L:{}},FUNC_L:{BTS_SERVICE:{BTS_SERVICE_PROCEDURE:{}},RESET_REQ:{},CHANGE_BLOCKING_STATE_REQ:{}},HWTOP_L:{CABLNK_L:{}},SW_LOADER_L:{CCU_L:{STORAGE_L:{FILE_SYSTEM_L:{}}}},LNBTS:{ALARM_L:{},CPLANE:{LNADJ:{LNADJL:{}},LNADJG:{},LNADJW:{},LNMME:{}},LNCEL:{LNREL:{},LNRELW:{}},LNMCE:{LNM3:{}},PLMN:{},UPLANE:{GTPU_PATH:{}},FTM:{},ULCOMP_NODE:{ULCOMP_LAYER:{},ULCOMP_CELL:{}}}},TAS_L:{CERTIFICATES_CONF_L:{CERTIFICATE_L:{}},CRL_CONF_L:{CRL_INFO_L:{}}},DEM:{ENTITY_RESET_REQ:{},REPLACEMENT_PROCEDURE_R:{CHANGE_CONTEXT:{}}},FRI:{ALARM:{},DEFAULT_SNAPSHOT_FAULT_TRIGGERS:{}},GTS:{BCF_L:{GNCEL_L:{CARRIER_GROUP_L:{CARRIER_GROUPC_L:{}}},GSM_TRS_CONF:{}}},NRTS:{NRBTS_L:{NRCELL_L:{NR_CELL_MAPPING_INFO_L:{}}},CELL_TO_POOL_MAPPING_L:{}},MCTRL:{BBTOP_M:{MRBTS_M:{GNBTS_M:{CELL_M:{CHANNEL_GROUP_M:{CHANNEL_M:{CHANNEL_PROPERTIES:{},ECPRI_PROPERTIES:{},PATH:{},REF:{},RSSI_MEASUREMENT:{},DEVICES_LIST:{},CONF_REF:{}}},LCELC_M:{},GNCEL_M:{},REF:{}}},LNBTS_M:{CELL_M:{CHANNEL_GROUP_M:{CHANNEL_M:{CHANNEL_PROPERTIES:{},ECPRI_PROPERTIES:{},PATH:{},REF:{},CONF_REF:{},DEVICES_LIST:{},RTWP_MEASUREMENT:{},RSSI_MEASUREMENT:{}}},LCELL_M:{},LNCEL_M:{CONF_REF:{}},REF:{}}},WNBTS_M:{CELL_M:{CHANNEL_GROUP_M:{CHANNEL_M:{CHANNEL_PROPERTIES:{},ECPRI_PROPERTIES:{},PATH:{},REF:{},DEVICES_LIST:{},RTWP_MEASUREMENT:{}}},LCELW_M:{},WNCEL_M:{},REF:{}}},NRBTS_M:{CELL_M:{CHANNEL_GROUP_M:{CHANNEL_M:{CHANNEL_PROPERTIES:{},ECPRI_PROPERTIES:{},PATH:{},REF:{},DEVICES_LIST:{},CONF_REF:{}}},NRCELL_M:{},REF:{},CONF_REF:{}}},TNBTS_M:{CELL_M:{CHANNEL_GROUP_M:{CHANNEL_M:{CHANNEL_PROPERTIES:{},ECPRI_PROPERTIES:{},REF:{},DEVICES_LIST:{},CONF_REF:{}}},TTRX_M:{},REF:{}}}}}},REM:{ENTITY_RESET_REQ:{}},LTS:{LNBTS_L:{LNMME_L:{},ALARM_L:{},LNCEL_L:{ALARM_L:{}},GTPU_PATH:{},PLMN:{}}},NE3SADAPT:{NE3S_SESSION:{}},RUNTIME_VIEW:{MRBTS_R:{HW_R:{INVUNIT_R:{}},BLOCK_PROCEDURE_R:{},CONF_REF:{},EQM_R:{APEQM_R:{PWRMOD_R:{REF:{},PWRMOD_M:{},DCPORT_R:{CONF_REF:{}},CONF_REF:{}},ALD_R:{CONF_REF:{},LNA_R:{REF:{},CONF_REF:{}},RAEU_R:{},RETU_R:{}},APEQM_CONF_M:{},CABINET_R:{BBMOD_R:{CONF_REF:{},REF:{},SFP_R:{CONF_REF:{},REF:{},LANE_R:{CONF_REF:{}}}},FAN_R:{},CONF_REF:{},REF:{},SMOD_R:{CONF_REF:{},GNSSE_R:{CONF_REF:{},REF:{}},GNSSI_R:{CONF_REF:{},REF:{}},FAN_R:{},REF:{},SFP_R:{CONF_REF:{},REF:{},LANE_R:{CONF_REF:{}}},EAC_R:{CONF_REF:{},REF:{}},PFOE_R:{}},PWRMOD_R:{CONF_REF:{},REF:{}},TRMOD_R:{CONF_REF:{},REF:{},SFP_R:{CONF_REF:{},REF:{},LANE_R:{CONF_REF:{}}}},EXTALMBOX_R:{REF:{}},TTMOD_R:{CONF_REF:{},REF:{}}},CONF_REF:{},RMOD_R:{ANTL_R:{ANTL_M:{},ANTL_CONF_M:{},CONF_REF:{},REF:{},RFSNIFFING:{CAPTURED_SIGNAL_FILE:{FILE_TRANSFER_NOTIF:{}}}},RFSNIFFING:{CAPTURED_SIGNAL_FILE:{FILE_TRANSFER_NOTIF:{}}},PHYANT_R:{PHYANTU_R:{REF:{}},CONF_REF:{}},CONF_REF:{},EAC_R:{CONF_REF:{},REF:{}},FAN_R:{REF:{}},REF:{},RMOD_CONF_M:{},RMOD_M:{},RSL_R:{CONF_REF:{},REF:{},RSL_CONF_M:{}},SFP_R:{CONF_REF:{},REF:{},LANE_R:{CONF_REF:{}}}},ASIRMOD_R:{CONF_REF:{},REF:{},ASIANTL_R:{ASIANTL_CONF_M:{},CONF_REF:{},REF:{}},SFP_R:{CONF_REF:{},REF:{},LANE_R:{CONF_REF:{}}},FAN_R:{REF:{}}},FHS_R:{REF:{},CONF_REF:{},EAC_R:{CONF_REF:{},REF:{}},SFP_R:{CONF_REF:{},REF:{},LANE_R:{CONF_REF:{}}},EPIMC_R:{EPIMC_M:{}},FAN_R:{REF:{}}}},HWTOP_R:{CABLINK_R:{CONF_REF:{},REF:{}},LOGLINK_R:{CONF_REF:{},REF:{}}},PASSDEV_R:{},SMOD_EXT_R:{CONF_REF:{},REF:{},SECONDARY_REF:{}}},GNBTS_R:{CONF_REF:{},GNBCF_R:{CONF_REF:{},GNCEL_CONF_M:{CONF_REF:{},GNCEL_R:{CARRIERGROUPC_R:{GSM_TRAFFIC_TRACE_REPORT:{},CONF_REF:{},REF:{},GSM_TRAFFIC_TRACE_PROCEDURE_R:{},LOOP_TEST_REPORT:{}},CONF_REF:{},REF:{}}}},RAT_RESET_PROCEDURE_R:{}},LNBTS_R:{COUNTERS:{},CONF_REF:{},LNCEL_R:{COUNTERS:{},CONF_REF:{},LNCEL_FDD_R:{CONF_REF:{}},REF:{},SIB_R:{CONF_REF:{}},LTE_DOWNLINK_TEST:{},LTE_UPLINK_TEST:{LTE_UPLINK_TEST_REPORT:{}},LTE_UPLINKCCM_TEST:{LTE_UPLINKCCM_TEST_REPORT:{}},L1_STREAMING_TRACE_PROCEDURE_R:{}},LNMME_R:{CONF_REF:{},REF:{}},RAT_RESET_PROCEDURE_R:{},LTE_PRB_MEASUREMENT:{DIAGN_FILE:{FILE_TRANSFER_NOTIF:{FILE_TRANSFER_RESULT:{}}}}},NRBTS_R:{COUNTERS:{},CONF_REF:{},LTEENB_R:{CONF_REF:{}},NRADJGNB_R:{CONF_REF:{}},XNLINK_R:{CONF_REF:{}},SERVEDAMF_R:{CONF_REF:{}},NRDU_R:{CONF_REF:{}},NRCELL_R:{COUNTERS:{},CONF_REF:{},REF:{},NR_DOWNLINK_TEST:{NR_DOWNLINK_TEST_PARAMS:{}},NR_UPLINK_TEST:{NR_UPLINK_TEST_PARAMS:{},NR_UPLINK_TEST_REPORT:{}},NR_UPLINKCCM_TEST:{NR_UPLINKCCM_TEST_PARAMS:{},NR_UPLINKCCM_TEST_REPORT:{}},L1_STREAMING_TRACE_PROCEDURE_R:{}},L2_STREAMING_TRACE_PROCEDURE_R:{}},TNBTS_R:{BS_INSTANCE_R:{TTRX_R:{CONF_REF:{},REF:{}}}},MNL_CONF_M:{CMD_CONF_M:{HWRESETREQ_CONF_M:{HWRESETRES_R:{}},COPYSWTOPASSIVEREQ_CONF_M:{COPYSWTOPASSIVERES_R:{CONF_REF:{}}}},MNLENT_CONF_M:{CERTHENT_CONF_M:{CMP_R:{},CMPECDSA_R:{}},BBADM_R:{BBPOOL_R:{},CONF_REF:{}},CAPCFG_R:{},FEATCADM_CONF_M:{CONF_REF:{}},MPLANENW_CONF_M:{MPLANENW_R:{CONF_REF:{}}},MPLANERESIL_CONF_M:{},MPLANEONAP_CONF_M:{MPLANEONAP_R:{CONF_REF:{}},VESENDPOINT_R:{CONF_REF:{}}},SECADM_CONF_M:{},SYNC_CONF_M:{SYNC_R:{},CLOCK_CONF_M:{CLOCK_R:{CONF_REF:{}},NTP_CONF_M:{NTP_R:{CONF_REF:{}},REF:{}},REF:{},SYNCE_CONF_M:{SYNCE_R:{}},TOP_CONF_M:{TOPF_CONF_M:{TOPF_R:{}},TOPP_CONF_M:{TOPP_R:{}}},PTPMASTER_CONF_M:{PTPMASTER_R:{}}}},TEST_CONF_M:{RFREQ_CONF_M:{RFRES_R:{CONF_REF:{}}},RFSTATREQ_CONF_M:{RFSTATRES_R:{CONF_REF:{}}}},TRBLCADM_CONF_M:{TRBLCADM_R:{CONF_REF:{}}},XPAP_R:{XPIF_R:{XPIFREMOTE_R:{CONF_REF:{}}}}},MNL_R:{CONF_REF:{},MNLENT_R:{}}},PLAN_ACTIVATION_PROCEDURE_R:{},PLAN_DOWNLOAD_PROCEDURE_R:{},SW_UPDATE_PROCEDURE_R:{CONFIGURATION_MIGRATION_REPORT:{}},TNLSVC_CONF_M:{TNL_CONF_M:{PPTT_CONF_M:{PPTT_R:{}},ETHAPP_CONF_M:{LOAM_CONF_M:{LOAM_R:{}},OAMMA_CONF_M:{OAMMA_R:{CONF_REF:{}}}},ETHSVC_CONF_M:{ETHIF_CONF_M:{ETHIF_R:{CONF_REF:{}}},ETHLK_CONF_M:{ETHLK_R:{REF:{},CONF_REF:{}}}},TNL_R:{IPNO_R:{},ETHSVC_R:{}},IPNO_CONF_M:{PINGREQ_CONF_M:{PINGREQ_R:{PINGRES_R:{}}},IPIF_CONF_M:{IPADDRESSV4_CONF_M:{IPADDRESSV4_R:{CONF_REF:{},REF:{}}},IPADDRESSV6_CONF_M:{IPADDRESSV6_R:{CONF_REF:{},REF:{}}}},PATHMTUDISCOVERREQ_CONF_M:{PATHMTUDISCOVERRES_CONF_M:{PATHMTUDISCOVERRES_R:{}}},IPRT_CONF_M:{IPRT_R:{CONF_REF:{}}},IPRTV6_CONF_M:{IPRTV6_R:{CONF_REF:{}}},IPSECC_CONF_M:{IPSECC_R:{},IKEPROTGRP_CONF_M:{IKEPROTGRP_R:{}}}},TRIGGER_CONF_M:{TRIGGER_R:{CONF_REF:{}}},IPAPP_CONF_M:{IPSECC_CONF_M:{IPSECC_R:{},IKEP_CONF_M:{IKEP_R:{CONF_REF:{}}}}},P3SL_CONF_M:{P3SL_R:{}},P3LP_CONF_M:{P3LP_R:{}},P3ML_CONF_M:{P3ML_R:{}}}},NEIGHBOR_NODE_R:{},WNBTS_R:{CONF_REF:{},RAT_RESET_PROCEDURE_R:{},WNCEL_R:{CONF_REF:{},REF:{},WCDMA_DOWNLINK_TEST:{},WCDMA_UPLINK_TEST:{WCDMA_UPLINK_TEST_REPORT:{}}}},PRECHECK_PROCEDURE_R:{DISK_SPACE_REPORT:{},ROLLBACK_READINESS_REPORT:{},SW_DOWNLOAD_REPORT:{},RESET_COVERAGE_REPORT:{},CPU_USAGE_REPORT:{},RAM_USAGE_REPORT:{},FLASH_DISK_HEALTH_REPORT:{},RATS_STATE_REPORT:{},ACTIVE_CRITICAL_ALARMS_REPORT:{},CONFIGURATION_REPORT:{},CONFIGURATION_MIGRATION_REPORT:{}},POSTCHECK_PROCEDURE_R:{ROLLBACK_READINESS_REPORT:{},CPU_USAGE_REPORT:{},RAM_USAGE_REPORT:{},RATS_STATE_REPORT:{},CONFIGURATION_REPORT:{}},DEBUG_TRACE_CONFIG_PARAMS_R:{},L1_IQ_DATA_PROCEDURE_R:{},L1_IQ_CONFIG_R:{CONFIGURE_L1_IQ_DATA_PARAMETERS:{}}}},SWM:{SW_DOWNLOAD_REQ:{FILE_STATE_L:{},SW_DOWNLOAD_STATUS:{}},SW_PRECHECK_REQ:{SW_PRECHECK_REQ_RESULT:{}},BPF_MAPPING_FILE:{}},ONAPADAPT:{NETCONF_SERVER:{}},URI:{NETWORK_CONFIG:{NCF:{AUTOCON_N:{}}},SERVER_INFO:{},PERSISTENT_CONFIGURATION:{},CONFIGURATION_AVAILABILITY_IND:{},SESSION:{ADD_CERTIFICATE_IND:{},MACSEC_PSK_CONFIGURATION_IND:{},CRYPTO_SELF_TEST_IND:{DIAGN_FILE:{FILE_TRANSFER_NOTIF:{FILE_TRANSFER_RESULT:{}}}},FETCH_CRYPTO_SELF_TEST_REPORT_IND:{DIAGN_FILE:{FILE_TRANSFER_NOTIF:{FILE_TRANSFER_RESULT:{}}}},ALD_CONFIGURE_IND:{},BLOCK_IND:{},CALIBRATE_IND:{},CHANGE_DAC_WORD_IND:{},CHANGE_ETHERNET_PORT_SECURITY_IND:{},CHANGE_LOCAL_ACCOUNT_STATE_IND:{},CHANGE_TEST_CLOCK_STATE_IND:{},CMP_CONFIG_IND:{},CNUM_UPDATE_IND:{},SET_IPSEC_PSK_IND:{},CMP_INITIALIZE_IND:{},CMP_KEY_UPDATE_IND:{},MODIFY_ALD_SELECTION_MODE_IND:{},FETCH_DIAGNOSTIC_CHECKPOINTS_IND:{},RUN_FULL_DIAGNOSTIC_CHECK_IND:{},RUN_CUSTOMIZED_DIAGNOSTIC_CHECK_IND:{},GET_DIAGNOSTIC_CHECK_REPORT_IND:{},DIAGNOSTIC_CHECK_COMPLETION_MONITORING_IND:{},CRL_UPDATE_IND:{},DEL_CERTIFICATE_IND:{},DELETE_EE_CERTIFICATE_CHAIN_IND:{},DISABLE_POWER_LINE_IND:{},ENABLE_POWER_LINE_IND:{},ENABLE_IPSEC_EXPERT_MODE_IND:{},DISABLE_IPSEC_EXPERT_MODE_IND:{},CONFIGURE_IPSEC_EXPERT_MODE_SETTINGS_IND:{},CHANGE_SSH_ACCESS_STATE_IND:{},GET_CERTIFICATE_FILE_IND:{FILE_TRANSFER_NOTIF:{}},GET_FREQUENCY_HISTORY_IND:{GET_FREQUENCY_HISTORY_TASK:{FILE_TRANSFER_NOTIF:{}}},GET_IM_SNAPSHOT_IND:{FILE_TRANSFER_NOTIF:{}},FETCH_DATA_DECODER_IND:{DIAGN_FILE:{FILE_TRANSFER_NOTIF:{FILE_TRANSFER_RESULT:{}}}},GET_RAW_ALARM_HISTORY_IND:{},GET_TOGGLING_FAULT_HISTORY_IND:{FILE_TRANSFER_NOTIF:{}},GET_SW_DOWNLOAD_REPORT_IND:{FILE_TRANSFER_NOTIF:{}},GET_RFM_PLUGIN_IND:{FILE_TRANSFER_NOTIF:{}},GET_CONFIGURATION_IND:{FILE_TRANSFER_NOTIF:{}},GET_SW_HISTORY_REPORT_IND:{FILE_TRANSFER_NOTIF:{}},SET_PER_TRX_POWER_IND:{},SET_AUTOCONNECTION_SITE_ID_IND:{},CHANGE_AUTOCONFIGURATION_STATE_IND:{},SET_AUTOCONNECTION_TRANSPORT_PARAMS_IND:{},CLEAR_AUTOCONNECTION_PARAMETER_IND:{},MAINTENANCE_DONE_IND:{},MODIFY_SSH_USER_IND:{},[o.default.PLAN_VALIDATE]:{},[o.default.PLAN_ACTIVATE]:{},[o.default.CANCEL_PROVISION]:{},MODIFY_WEB_SERVICE_USER_IND:{},REMOTE_SNAPSHOT_IND:{},REMOVE_IND:{},DELETE_BSR_FILES_IND:{},RESET_IND:{},RESET_TO_TEST_DEDICATED_IND:{},RESTORE_VENDOR_CERTIFICATE_IND:{},RUN_BASH_COMMAND_IND:{},SET_ANGLE_IND:{},SET_POWER_OUTPUT_PORT_CONFIG_AND_STATE_IND:{},SET_RAD_PARAMS_IND:{},GET_RAD_PARAMS_IND:{},FETCH_RAD_DEBUG_PARAMETERS_IND:{},SNAPSHOT_COLLECT_IND:{},SNAPSHOT_CANCEL_IND:{},SNAPSHOT_PREPARE_IND:{},START_COARSE_TUNING_IND:{},START_LTE_DOWNLINK_TEST_IND:{},START_LTE_UPLINK_TEST_IND:{},STOP_LTE_DOWNLINK_TEST_IND:{},STOP_LTE_UPLINK_TEST_IND:{},START_WCDMA_UPLINK_TEST_IND:{},STOP_WCDMA_UPLINK_TEST_IND:{},START_WCDMA_DOWNLINK_TEST_IND:{},STOP_WCDMA_DOWNLINK_TEST_IND:{},SW_ROLLBACK_IND:{},SW_UPDATE_ABORT_IND:{},SW_UPDATE_IND:{SW_FILE_TRANSFER_NOTIF:{},SW_UPDATE_RESULT:{},SW_UPDATE_REPORT:{},DOWNLOAD_MIGRATED_PLAN_FILE_TASK:{FILE_TRANSFER_NOTIF:{FILE_TRANSFER_RESULT:{}}}},SW_PRECHECK_IND:{},UNBLOCK_IND:{},USER_ACCOUNT_SET_IND:{},VSWR_THRESHOLD_SET_IND:{},VSWR_THRESHOLD_TUNING_START_IND:{},VSWR_THRESHOLD_TUNING_STOP_IND:{},START_IP_CAPTURE_FILE_IND:{},START_IP_CAPTURE_STREAMING_IND:{},ABORT_IP_CAPTURE_FILE_GENERATION_IND:{},STOP_IP_CAPTURE_FILE_IND:{},STOP_IP_CAPTURE_STREAMING_IND:{},CHANGE_RND_PORTS_STATE_IND:{},CHANGE_EAC_STATE_IND:{},GENERATE_IP_CAPTURE_FILE_IND:{},ANTENNA_LINE_ONLINE_MONITORING_IND:{},START_GSM_TEST_PATTERN_TEST_IND:{},STOP_GSM_TEST_PATTERN_TEST_IND:{},START_GSM_BCCH_TRANS_TEST_IND:{},STOP_GSM_BCCH_TRANS_TEST_IND:{},START_GSM_LOOP_TEST_IND:{},STOP_GSM_LOOP_TEST_IND:{},START_LTE_UPLINKCCM_TEST_IND:{},STOP_LTE_UPLINKCCM_TEST_IND:{},START_NR_DOWNLINK_TEST_IND:{},START_NR_UPLINK_TEST_IND:{},START_NR_UPLINKCCM_TEST_IND:{},STOP_NR_DOWNLINK_TEST_IND:{},STOP_NR_UPLINK_TEST_IND:{},STOP_NR_UPLINKCCM_TEST_IND:{},GET_BPFMAPPING_INFO_IND:{},RFSNIFFING_COLLECT_IND:{},RFSNIFFING_CANCEL_IND:{},GENERATE_CERTIFICATE_CSR_IND:{},GET_CERTIFICATE_CSR_IND:{FILE_TRANSFER_NOTIF:{}},DOWNLOAD_WEIGHTFILE_IND:{},UPLOADFILE_IND:{FILE_TRANSFER_NOTIF:{}},GET_DEVICE_DATA_IND:{},GET_WEIGHT_DATA_1D_IND:{},GET_BEAM_DATA_IND:{},GET_DIRECTION_DATA_IND:{},NEIGHBOR_NODE_IND:{},GET_WEIGHT_DATA_IND:{},START_GSM_TRAFFIC_TRACE_IND:{},STOP_GSM_TRAFFIC_TRACE_IND:{},START_GSM_MULTI_LOOP_TEST_IND:{},STOP_GSM_MULTI_LOOP_TEST_IND:{},LINK_OAM_IND:{},SERVICE_OAM_IND:{},GET_UNKNOWN_SOAM_INFO_IND:{},START_EPIMC_CALIBRATION_IND:{},STOP_EPIMC_CALIBRATION_IND:{},SET_POWER_OUTPUT_PORT_STATE_IND:{},SET_NETWORK_SETTINGS_IND:{},SET_POWER_OUTPUT_PORT_CONFIG_IND:{},START_L1_STREAMING_TRACE_IND:{},START_L2_STREAMING_TRACE_IND:{},STOP_L1_STREAMING_TRACE_IND:{},STOP_L2_STREAMING_TRACE_IND:{},COLLECT_L1_IQ_DATA_IND:{},CONFIGURE_L1_IQ_DATA_IND:{},DISABLE_L1_IQ_DATA_CONFIGURATION_IND:{},PINGTEST_IND:{},DOWNLOAD_NETWORK_CONFIGURATION_IND:{},ACTIVATE_NETWORK_CONFIGURATION_IND:{},CNUM_CHANGE_STATE_IND:{},FETCH_WIFI_SSD_IND:{FETCH_WIFI_SSD_RESULT:{}},UPDATE_WIFI_SSD_IND:{UPDATE_WIFI_SSD_RESULT:{}},BEAM_PATTERN_CHANGE_IND:{},PERFORM_RF_TEST_IND:{},GET_PNP_REPORT_IND:{},RESET_PORT_SWITCHOVER_IND:{},SYNC_SSH_CONFIGURATION_IND:{},[o.default.NETCONF_ACCOUNT_CONFIGURATION_IND]:{},CONFIGURE_CPLANE_TRACE_IND:{},COLLECT_LTE_PRB_MEASUREMENT_IND:{},CANCEL_LTE_PRB_MEASUREMENT_IND:{},SANITY_CHECK_IND:{},[o.default.SET_RAD_DEBUG_PARAMETERS_IND]:{},[o.default.FETCH_RAD_DEBUG_DOMAINS_IND]:{},[o.default.FETCH_RAD_DEBUG_PARAMETERS_IND]:{},LSS_ACCOUNT_SET_IND:{},FETCH_SCRIPTS_IND:{},LAUNCH_SCRIPT_IND:{},GET_CELL_TIMINGS_IND:{},GET_PORT_TIMINGS_IND:{},GET_SNAPSHOT_HISTORY_IND:{FILE_TRANSFER_NOTIF:{}},GET_SCREL_HISTORY_IND:{FILE_TRANSFER_NOTIF:{}},START_EMERGENCY_RESET_TIMER_IND:{},CLOSE_SESSIONS_IND:{},CLOSE_WIFI_CLIENT_IND:{},KILL_NETCONF_SESSION_IND:{},QUERY_ACCOUNTS_FROM_RMODS_IND:{QUERY_ACCOUNTS_FROM_RMODS_RESULT:{}},HW_RESET_IND:{},PREPARE_REPLACEMENT_IND:{},ABORT_REPLACEMENT_IND:{},FINISH_REPLACEMENT_IND:{},FETCH_MIRRORING_MSG_LIST_IND:{},START_INTERFACE_MIRRORING_IND:{},STOP_INTERFACE_MIRRORING_IND:{},SET_TX_POWER_THRESHOLD_IND:{},TEST_RET_IND:{TEST_RET_PROCEDURE_R:{}},DOWNLOAD_SWCONFIG_IND:{DIAGN_FILE:{FILE_TRANSFER_NOTIF:{FILE_TRANSFER_RESULT:{}}}},CONFIGURE_WIFI_LMP_IND:{CONFIGURE_WIFI_LMP_IND_RESULT:{}},FETCH_L2_PROFILE_LIST_IND:{},FETCH_LOCAL_USER_ACCOUNT_STATUS_REPORT_IND:{FETCH_LOCAL_USER_ACCOUNT_STATUS_REPORT_RESULT:{}},FETCH_SUPPRESSED_ALARM_HISTORY_IND:{DIAGN_FILE:{FILE_TRANSFER_NOTIF:{FILE_TRANSFER_RESULT:{}}}}}},WTS:{CORE_POOL_L:{},RNC_L:{REF:{}},WBTS_L:{WNCELG_L:{},WNCEL_L:{CARRIER_GROUP_L:{UPLANE_CARRIER_L:{}},CELL_POLICY:{}}},RNC:{WBTS:{}}},EVENT_LOG:{EVENT:{}},CA_FRONTHAUL:{FCP_TRIGGERED_CAPTURE_CAPABILITIES:{CELL_ARRAY_ELEMENT_GROUP_MAPPINGS:{}}}}}};t["default"]=(0,i.generateStructureTree)(a)},9530:e=>{"use strict";e.exports=Object.freeze(["BSTAT","BTS_L","CEM","WTS","DCS","DEM","DTS","FRI","LTS","MCI","MCTRL","REM","RUNTIME_VIEW","SWM","SYSADAPTER","URI"])},8364:e=>{"use strict";e.exports=Object.freeze({PLAN_ACTIVATION_PROCEDURE_R:"PLAN_ACTIVATION_PROCEDURE_R",REPLACEMENT_PROCEDURE_R:"REPLACEMENT_PROCEDURE_R",PPTT:"PPTT_R",GNSSE:"GNSSE_R",GNSSI:"GNSSI_R",SMOD:"SMOD_R",GNBCF:"GNBCF_R",SMOD_EXT:"SMOD_EXT_R",RMOD:"RMOD_R",RMOD_L:"RMOD_L",RU_L:"RU_L",TX_PU_L:"TX_PU_L",TX_L:"TX_L",ASIRMOD:"ASIRMOD_R",BBMOD:"BBMOD_R",CABINET:"CABINET_R",PHYANT:"PHYANT_R",PHYANTU:"PHYANTU_R",RUNTIME_VIEW:"RUNTIME_VIEW",EQM:"EQM_R",APEQM:"APEQM_R",HWTOP:"HWTOP_R",REF:"REF",CONF_REF:"CONF_REF",SECONDARY_REF:"SECONDARY_REF",BBTOP:"BBTOP_M",CHANNEL:"CHANNEL_M",CHANNEL_A:"CHANNEL_A",RTWP_MEASUREMENT:"RTWP_MEASUREMENT",RSSI_MEASUREMENT:"RSSI_MEASUREMENT",ETP_MEASUREMENT:"ETP_MEASUREMENT",CHANNEL_GROUP:"CHANNEL_GROUP_M",CHANNELGROUP_A:"CHANNELGROUP_A",CHANNEL_PROPERTIES:"CHANNEL_PROPERTIES",CELL:"CELL_M",MCTRL:"MCTRL",MRBTS:"MRBTS_M",MRBTS_R:"MRBTS_R",MNL_R:"MNL_R",MNL_CONF_M:"MNL_CONF_M",MPLANEONAP:"MPLANEONAP_R",VESENDPOINT:"VESENDPOINT_A",CONNECTOR_L:"CONNECTOR_L",CONCENTRATOR_L:"CONCENTRATOR_L",CARRIER_GROUP:"CARRIER_GROUP_L",CARRIER_GROUPC:"CARRIER_GROUPC_L",SFP_L:"SFP_L",SFP:"SFP_R",PFOE:"PFOE_R",LANE:"LANE_R",RSL:"RSL_R",ANTL:"ANTL_R",ANTL_M:"ANTL_M",ASIANTL:"ASIANTL_R",ANTL_CONF_M:"ANTL_CONF_M",CABLINK:"CABLINK_R",CABLINK_A:"CABLINK_A",LOGLINK:"LOGLINK_R",DEVICES_LIST:"DEVICES_LIST",RETU:"RETU_R",ALD:"ALD_R",PASSDEV:"PASSDEV_R",LNA:"LNA_R",RAEU:"RAEU_R",ETHLK:"ETHLK_R",TNL:"TNL_R",CARRIERGROUPC:"CARRIERGROUPC_R",SERVEDAMF:"SERVEDAMF_R",SERVEDAMF_A:"SERVEDAMF_A",LNMME:"LNMME_R",NMS:"MPLANENW_R",LTEENB:"LTEENB_R",NRNEARRTRIC_A:"NRNEARRTRIC_A",NRE2LINK_A:"NRE2LINK_A",NRADJGNB:"NRADJGNB_R",XPIFREMOTE:"XPIFREMOTE_R",XNLINK:"XNLINK_R",TRMOD:"TRMOD_R",TTMOD:"TTMOD_R",VSWR:"VSWR_R",EAC:"EAC_R",CLOCK_CONF_M:"CLOCK_CONF_M",CLOCK:"CLOCK_R",COUNTERS:"COUNTERS",PWRMOD:"PWRMOD_R",FPFH_PWRMOD_R:"FPFH_PWRMOD_R",FPFD_PWRMOD_R:"FPFD_PWRMOD_R",PWRMOD_M:"PWRMOD_M",DCPORT:"DCPORT_R",FAN:"FAN_R",LNADJ:"LNADJ_R",FHS:"FHS_R",PORTMAPPING_A:"PORTMAPPING_A",EPIMC:"EPIMC_R",RAT_RESET_PROCEDURE_R:"RAT_RESET_PROCEDURE_R",MPLANENW:"MPLANENW_R",MPLANERESIL:"MPLANERESIL_R",EXTALMBOX:"EXTALMBOX_R",NRBTS_A:"NRBTS_A",NRCELLGRP_A:"NRCELLGRP_A",CPRI_EXTENSION_L:"CPRI_EXTENSION_L",PEER_CARRIER_L:"PEER_CARRIER_L",SYNCE:"SYNCE_R",NR:{BTS:"NRBTS_M",NCEL:"NRCELL_M",BTS_R:"NRBTS_R",NCEL_R:"NRCELL_R",REL:"NRREL_A",NRDU_R:"NRDU_R",NRDU_A:"NRDU_A",NRCEL_A:"NRCELL_A"},LTE:{BTS:"LNBTS_M",NCEL:"LNCEL_M",LCEL:"LCELL_M",BTS_R:"LNBTS_R",NCEL_R:"LNCEL_R",REL:"LNREL_A",RELW:"LNRELW_A",RELG:"LNRELG_A"},WCDMA:{BTS:"WNBTS_M",NCEL:"WNCEL_M",LCEL:"LCELW_M",BTS_R:"WNBTS_R",NCEL_R:"WNCEL_R",REL:"LNREL_A",RELW:"LNRELW_A",RELG:"LNRELG_A"},GSM:{BTS:"GNBTS_M",NCEL:"GNCEL_M",LCEL:"LCELC_M",BTS_R:"GNBTS_R",NCEL_R:"GNCEL_R",REL:"LNREL_A",RELW:"LNRELW_A",RELG:"LNRELG_A",LCELC_A:"LCELC_A"},TTRX:{BTS:"TNBTS_M",BTS_R:"TNBTS_R",NCEL:"TTRX_M",NCEL_R:"TTRX_R",CONF_ST:"TTRX_CONF_ST_A",CONF_RE:"TTRX_CONF_RE_A"},NE3SADAPT:"NE3SADAPT"})},821:(e,t,n)=>{"use strict";const r=n(2543),i=n(2104),o=n(3790),s=n(8500),a=n(504),c=n(4805),u=n(9270),l=n(8220),f=n(8492),d=n(6140),h=n(7958),p=n(8975).getLogger("admin.core.btsClient"),m=n(2130),g={create(e,t){const n=new WebSocket(e,t);n.isConnected=()=>n.readyState===WebSocket.OPEN;return n}},y={CANT_CONNECT_TO_BTS:"Cannot connect to BTS...",DISCONNECTED_WITH_CLOSE_CODE:"Disconnected with close code:",VERSION_REQ_FAILED:"Version request failed...",LOGIN_REQ_FAILED:"Login request failed..."};e.exports={MSG:y,newInstance:function({customSocketFactory:e,metaService:t=o({}),messages:n=c.createMessages(),objectInfoTranslator:_=d.newInstance(n,t),fileTransfer:v=h.newInstance()}={}){function E(e,n){if(e.getResponseHeader("Content-Length")===t.getMetaBufferForUid(t.getLastMetaUid()).byteLength.toString()){n(t.getMetaBufferForUid(t.getLastMetaUid()));e.abort()}}function S(e){if(t.getLastMetaUid()&&e.byteLength===t.getMetaBufferForUid(t.getLastMetaUid()).byteLength){p.info("Remote meta equals to the one in metaService");C("meta",e);return w()}return t.setMeta(e).then((t=>{p.info("Meta set successfully");C("meta",e);return t})).then((e=>_.registerMetaTypes(e))).then(w)}function b(e){F&&e.setConfirmedAck(F);if(T()){p.debug(`Sending request to BTS: 0x${e.getId().toString(16)}`);U.send(e.build());C("sent",e)}else p.debug(`Connection is closed! Cannot send request to BTS: 0x${e.getId().toString(16)}`)}function T(){return!!U&&U.isConnected()}function C(e,t){B.forEach((n=>{r.isFunction(n[e])&&n[e](t)}))}function I(e){p.info(`send establish session with minimum update interval ${H.updateInterval}`);b(q.newMessage(s.ESTABLISH_SESSION).setHttpSessionId(e.httpSessionId).setSessionType(e.sessionType).setClientVersion(e.clientVersion).setClientVersionHash(e.clientId).setUpdateIntervalMin(H.updateInterval).setHeartbeatInterval(30).setHeartbeatLostThreshold(3).setFileSizeThresholdInKB(32))}function w(){p.info("Sending sync");b(q.newMessage(s.SYNC).setType("FULL_SYNC").setTransactionId(1).setUrgent(!0).setPull(!0))}function N(e){return e&&e.reason&&"BY_USER"===e.reason?"USER":"BTS"}function A(e={}){function t(e,t){if(U){try{U.close(e,t);p.info("Socket closed successfully.")}catch(e){p.error("Close error",e)}U.onclose({code:e,reason:t})}}p.info(`Disconnect, reason: ${e.reason||""}, force: ${!!e.force}`);e.force?function(e){U&&t(4e3,e)}(e.reason):function(){t(1e3,"BY_USER")}()}function R(){}function O(e){e=e||{};r.forEach(["connected","disconnected","data","dataNotif","connectionError","compatibilityError","meta","loggedIn","loginError","signInCompleted","sent","heartbeatReceived","webEmVersionDetected","fileTransferInfo","sessionsLimitExceeded","sessionEstablishmentError","sessionsAccessLimited","restrictedAccessRequest","legalNotice","passwordChangeDetected","ackSeq","handleRoleBaseAccessControlResponse"],(t=>{e[t]=e[t]||R}));return e}function L(e){const t=Object.keys(e);B.push(O(e));!function(e){e.includes("legalNotice")&&V.hasResponse&&C("legalNotice",V)}(t)}function D(e,t){return K.addMessageListener(e,t)}function x(e,t,n){return new i(((r,i)=>{const o=new XMLHttpRequest;o.open("POST",e);o.onreadystatechange=function(){if(o.readyState>3)if(200===o.status){p.info(`Getting ${P(e)} response success`);r(JSON.parse(o.responseText))}else{p.error(`Getting ${P(e)} response failed, http status: ${o.status}.`);i(o.status)}};o.setRequestHeader("X-Requested-With","XMLHttpRequest");o.setRequestHeader("Content-Type","application/json");n?o.send(`httpSessionId=${t.httpSessionId}`):o.send(JSON.stringify(t));p.info(`Start getting response from ${P(e)}`)}))}function P(e){return e.includes("httpSessionId")?e.split("?").shift():e}function k({isSecure:e,host:t,port:n}){return`${e?"https":"http"}://${m.isIpV6(t)?`[${t}]`:t}:${n}`}let B=[];const M=e||g;M.create=M.create||g.create;let U=null,F=null,j=null,G=!1;const H={},V={hasResponse:!1,resSucceed:!1,result:{}},q=u.newInstance(n),W=l.newInstance(n),K=f.newInstance(H,_);L({connected(e){const n=`${H.isSecure?"https":"http"}://${m.isIpV6(H.host)?`[${H.host}]`:H.host}`,r=H.port,i="/meta.zip",o=e.getAssignedSessionId();p.info(`connecting ${n}:${r}${i} to download meta`);v.setConnectionParameters({port:r,host:n,sessionId:o});j=e.getSessionObjectDistname();G=!0;C("signInCompleted",j);v.getFile(i,t.getLastMetaUid()&&E,!0).then(S).catch((e=>{p.info(`Meta download failed with error: ${e.message}`);A({force:!0,reason:`Meta download failed with error: ${e.message}`})}))},disconnected(){G=!1}});D(s.IM_CONTENT,(e=>{F=e.getSeq();C("ackSeq",F)}));return{loginByPost:function(e){const t=k(e);return function(e){return function(e){return new i(((t,n)=>{const r=new XMLHttpRequest;r.open("GET",e);r.responseType="json";r.send();r.onreadystatechange=function(){if(r.readyState>3)if(200===r.status){p.info(`Getting ${P(e)} response success`);t(r.response)}else{p.error(`Getting ${P(e)} response failed, http status: ${r.status}.`);n(r.status)}};p.info(`Start getting response from ${P(e)}`)}))}(`${e}/VersionRequest`).then((e=>{p.info(`SW version on eNB detected: ${e.webEmVersion}.`);C("webEmVersionDetected",e.webEmVersion);if(e.soamIfVersion===s.SOAMIF_VERSION||e.soamIfVersion===s.SOAMIF_VERSION_ENCODE)return e;C("compatibilityError",{message:"Invalid soamIf version.",data:{available:e.soamIfVersion,required:s.SOAMIF_VERSION}});return i.reject({errorMsg:"Invalid soamIf version",data:e})})).catch((e=>{e.errorMsg||C("loginError",{errorCode:e,message:y.VERSION_REQ_FAILED});return i.reject(e)}))}(t).then((()=>function(e,t){const n={login:e.userName,token:e.token,originator:e.originator||"WEB_EM",authMethod:e.loginMethod||"LOGIN_BASED",readOnlyAccessRequired:e.readOnlyAccessRequired||!1};return x(`${t}/LoginRequest`,n).then((e=>{if("SUCCESS"===e.result){if(e.successResp.forcedPasswordUpdate){p.info(`Forced Password Update flag was detected: ${e.successResp.forcedPasswordUpdate}`);C("passwordChangeDetected",e.successResp)}else{C("readOnlySelected",n.readOnlyAccessRequired);C("loggedIn",e.successResp)}return e}C("loginError",{errorCode:e.result,message:e.resultDescription});return i.reject({errorMsg:e.result,data:e,errorType:y.LOGIN_REQ_FAILED})})).catch((e=>{e.errorMsg||C("loginError",{errorCode:e,message:y.LOGIN_REQ_FAILED});return i.reject(e)}))}(e,t))).catch((e=>{p.warn(`error: ${JSON.stringify(e.errorMsg)}`);return i.reject(e)}))},connect:function(e){p.info(`Connect, host: ${e.host}, port: ${e.port}`);if(!T()){r.get(e,"updateInterval")||(e.updateInterval=5e3);try{U=function(){const t=e.isSecure?"wss://":"ws://",n=m.isIpV6(e.host)?`[${e.host}]`:e.host,r=M.create(`${t}${n}:${e.port}`,["binary","base64"]);r.binaryType="arraybuffer";return r}()}catch(e){p.error("Connection error: ",e.message);C("connectionError",{errorCode:e.code,message:e.message});return}H.host=e.host;H.port=e.port;H.isSecure=e.isSecure;H.updateInterval=e.updateInterval;U.onopen=function(){U.isConnected()&&I({sessionType:a.ESTABLISH.CONTROL_SESSION,clientVersion:e.adminVersion,clientId:e.clientId,httpSessionId:e.httpSessionId})};U.onmessage=function(e){if(!e.data||!function(e){return e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e)}(e.data))return i.reject();const t=W.decode(e.data);return K.handle(t).then((e=>{e.forEach((e=>{e&&C(e.eventName,e.eventData)}))}))};U.onclose=function(t,n){p.info(`On close, code: ${t.code}, reason: ${n}`);j=null;if(!e.autoconnect){p.info("Autoconnect function is disabled, won't reconnect.");1e3!==t.code&&C("connectionError",{errorCode:t.code,message:`${y.DISCONNECTED_WITH_CLOSE_CODE}: ${t.code}`});C("disconnected",{source:N(t),closeEvent:t});U.onopen=R;U.onmessage=R;U.onclose=R;U.onerror=R;F=null}};U.onerror=function(e={}){p.info(`On error: ${e.message}`);j=null;C("connectionError",{errorCode:-1,message:y.CANT_CONNECT_TO_BTS})}}},isConnected:T,isSessionEstablished:function(){return G},getConnectionInfo:function(){return H},disconnect:A,addListener:L,removeListener:function(e){B=r.without(B,e)},send:b,sendFileTransferResult:function(e){p.info(`Sending file fileTransmissionResponse of file:${e.fileName}, file relativePath:\n            ${e.relativePath}, fileId: ${e.fileId}!`);const t=q.newMessage(s.FILE_TRANSMISSION_RESPONSE).setRelativePath(e.relativePath).setFileId(e.fileId);e.isSuccessful?t.setStatusSucceeded():t.setStatusFailed();T()&&U.send(t.build())},sendSessionsListRequest:function(){},sendRestrictedAccessResponse:function(e){p.info("Sending restricted access response");b(q.newMessage(s.RESTRICTED_ACCESS_RESPONSE).setRestrictedAccessSucceeded().setAccessType(e.accessType))},sendImContent:function(e){p.info("Sending imContent");b(q.newMessage(s.IM_CONTENT).setUpdates(e))},addMessageListener:D,getObjectIdMapper:function(){return _.getMapper()},getSessionObjectDistName:function(){return j},legalRequestByPost:function(e){function t({hasResponse:e,resSucceed:t,result:n}){V.hasResponse=e;V.resSucceed=t;V.result=n||{};C("legalNotice",V)}return x(`${k(e)}/LegalRequest`,{httpSessionId:e.httpSessionId},!0).timeout(6e3).then((e=>{t({hasResponse:!0,resSucceed:!0,result:e})})).catch((()=>{t({hasResponse:!0,resSucceed:!1,result:{}})}))},passwordUpdateRequest:function({isSecure:e,httpSessionId:t,port:n,host:r,username:o,password:s,oldPassword:a}){return x(`${k({isSecure:e,port:n,host:r})}/PasswordUpdateRequest`,{httpSessionId:t,username:o,password:s,oldPassword:a}).timeout(6e3).then((e=>e)).catch((e=>{p.error(`password update error: ${e}`);return i.reject(e)}))},loginRequestWhenSessionLocked:function(e,t){return x(`${k(e)}/LoginRequest`,{login:e.userName,token:e.token,originator:e.originator||"WEB_EM",authMethod:e.loginMethod||"LOGIN_BASED",readOnlyAccessRequired:e.readOnlyAccessRequired||!1}).then((e=>{if("SUCCESS"===e.result){if(e.successResp.forcedPasswordUpdate&&t){p.info(`Forced Password Update flag was detected: ${e.successResp.forcedPasswordUpdate}`);C("passwordChangeDetected",e.successResp)}return e}return i.reject({errorMsg:e.result,data:e})})).catch((e=>i.reject(e)))},createListener:O,setMeta:S,onHeaderReceived:E,sendEstablishSession:I}},getDefaultUpdateIntervalMs:()=>5e3}},1747:(e,t,n)=>{"use strict";const r=n(1190),i=n(8313),o=n(2543),s=n(8975).getLogger("admin.core.instanceIdFinder");e.exports={newInstance:function({socket:e}){function t(e){n.notify(e)}const n=i.newEvent();let a,c;const u={signInCompleted:function(n){c=a;a=r.getId(r.getParent(n));s.info(`Instance id of connected BTS has been set to: ${a} basing on current connection.`);t(a);e.addListener(l);e.removeListener(u)}},l={disconnected:function(){e.removeListener(l);c=a;a=null;t(a);e.addListener(u)}};e.addListener(u);return{getInstanceId:function(){return a},setInstanceIdFromIms:function(e){c=a;a=e;s.info(`Instance id of connected BTS has been set to: ${a} basing on ims2 file.`);t(a)},getPreviousInstanceId:function(){return c},watch:function(e){n.watch(e);o.isNumber(a)&&e(a)},unwatch:function(e){n.unwatch(e)}}}}},4958:(e,t,n)=>{"use strict";const r=n(2543),i=n(2343),o=n(1190).SEPARATOR;e.exports={newInstance:function(){function e(e){const t=c.values(e);return t&&t[0]}function t(e){const t=u.keys(e);return t&&t[0]}function n(e){if(!l.has(e.uuid)){if(r.isUndefined(e.instanceId))throw new Error(`Missing instanceId in objectInfo "${e.uuid}"`);l.set(e.uuid,e)}}function s(e){const t=function e(t){if(u.containsKey(t))return u.values(t)[0];const n=l.get(t);return n?n.parentUuid?e(n.parentUuid)+a(n):a(n):null}(e);!u.containsKey(e)&&t&&u.put(e,t);return t}function a(t){return`${o}${e(t.objectType)}-${t.instanceId}`}const c=i.newBiMultiMap(),u=i.newBiMultiMap(),l=new Map;return{addClassName:function(e,t=""){if(c.containsKey(e))throw new Error(`Duplicate className id "${e}"`);t=t.toUpperCase();if(c.containsValue(t))throw new Error(`Duplicate className "${t}"`);c.put(e,t)},getClassName:e,getClassNameId:function(e){const t=c.keys(e);return t&&t[0]},getUuidByDistName:t,registerObjectInfos:function(e){e.forEach(n);e.forEach((e=>{s(e.uuid)}))},resolveDistName:s,removeUuid:function(e){l.delete(e);u.removeKey(e)},resolveObjectInfo:function(e){!function(){if(!e||e.charAt(0)!==o||e.charAt(e.length-1)===o||e!==e.toUpperCase())throw new Error(`Invalid distName format, distName "${e}"`)}();const n=t(e);return n&&l.get(n)}}}}},5757:(e,t,n)=>{"use strict";const r=n(4805);e.exports={newInstance:function({soamifMessages:e=r.createMessages()}={}){function t(e){return e&&Buffer.from(e).toString("hex")}function n(e){return e?"string"===typeof e?new Uint8Array(Buffer.from(e,"hex")):new Uint8Array(Buffer.from(e,"binary")):null}return{buildObjectInfo:function(n){const r=e.objectInfo();r.setProto(n);return{uuid:t(r.getObjectId()),objectType:r.getObjectType(),instanceId:r.getInstanceId(),parentUuid:t(r.getParentId())}},buildObjectInfoMsg:function(t){const r=e.objectInfo();r.setObjectId(n(t.uuid));r.setObjectType(t.objectType);r.setInstanceId(t.instanceId);r.setParentId(n(t.parentUuid));return r.getProto()},buildCreatorId:function(t){const n=e.objectInfo();n.setProto(t);const r=n.getObjectCreateInfo();return r&&r.creator_id},uuidBytesToHex:t,hexToUuidBytes:n}}}},6140:(e,t,n)=>{"use strict";const r=n(3790),i=n(4958),o=n(5757);e.exports={newInstance:function(e,t=r({})){function n(e){function t(e){return e?new Uint8Array(e):new Uint8Array(0)}var n;if("distName"===(null===(n=e[0])||void 0===n?void 0:n.objectInfo.objectInfo))return e.map((e=>({distName:e.objectInfo.distName,uuid:e.objectInfo.distName,payload:t(e.content)})));const r=e.map((e=>({objectInfo:s.buildObjectInfo(e.objectInfo),payload:t(e.content)})));a.registerObjectInfos(r.map((e=>e.objectInfo)));return r.map((e=>({distName:a.resolveDistName(e.objectInfo.uuid),uuid:e.objectInfo.uuid,payload:e.payload})))}const s=o.newInstance({soamifMessages:e});let a=i.newInstance();return{registerMetaTypes:function(e){a=i.newInstance();!function(e){t.getMetaRepository().getClassNamesForUid(e).forEach((n=>{const r=t.getTypeInfo(e,n).getId();a.addClassName(r,n)}))}(e)},resolveObjectInfo:function(e){const t=a.resolveObjectInfo(e);return s.buildObjectInfoMsg(t)},resolveIMContent:function(e){var t,r;const i="distName"===(null===(t=e.updated[0])||void 0===t?void 0:t.objectInfo.objectInfo)||"distName"===(null===(r=e.removed[0])||void 0===r?void 0:r.objectInfo)?e.removed.map((e=>e.distName)):function(e){const t=e.map((e=>s.uuidBytesToHex(e.uuidInfo.objectId))),n=t.map((e=>a.resolveDistName(e))).filter((e=>e));t.forEach(a.removeUuid);return n}(e.removed),o=n(e.updated);return{timestamp:e.timestamp,managedObjects:o,removedDistNames:i}},resolveManagedObjects:n,getMapper:function(){return a}}}}},8492:(e,t,n)=>{"use strict";const r=n(8500),i=n(8449),o=n(8313),s=n(8975).getLogger("admin.core.communication.messageHandler");e.exports={newInstance:function(e,t){function n(e,t){return{eventName:e,eventData:t}}function a(e,t){c[e]=c[e]||o.newEvent();return c[e].watch(t)}const c={};a(r.SESSION_ESTABLISHED,(function(e){s.info("handling session established");if(e.getResult()!==i.SUCCESS){s.info("session establishment failure");if(e.getResult()===i.INVALID_UNSPECIFIED)return n("sessionEstablishmentError",{errorCode:e.getResult(),message:e.getResultDescription()});if(e.getResult()===i.SESSIONS_LIMIT_EXCEEDED)return n("sessionsLimitExceeded",{errorCode:e.getResult(),message:e.getResultDescription()});if(e.getResult()===i.ACCESS_LIMITED)return n("sessionsAccessLimited",{errorCode:e.getResult(),message:e.getResultDescription()})}s.info(`Bts set update interval to: ${e.getUpdateIntervalMin()}`);return n("connected",e)}));a(r.IM_CONTENT,(function(e){s.debug(`handling handleIMContent with sequence number ${e.getSeq()}`);const r=e.getUpdates(),i=r.updated,o=r.removed;return n("data",t.resolveIMContent({updated:i,removed:o,timestamp:e.getTimestamp()}))}));a(r.HEARTBEAT,(function(e){s.info("handling heartbeat");return n("heartbeatReceived",e)}));a(r.FILE_TRANSMISSION_REQUEST,(function(e){s.debug("handling handleFileTransmission");const t=e.getFileTransferInfo();s.debug(`File transmission: ${JSON.stringify(t)}`);return n("fileTransferInfo",t)}));a(r.RESTRICTED_ACCESS_REQUEST,(function(e){s.info(`handling restricted access request, accessType is: ${e.getAccessType()}`);return n("restrictedAccessRequest",{accessType:e.getAccessType(),timer:e.getTimer(),reason:e.getReason()})}));a(r.DATA_NOTIF,(function(e){s.info(`handling dataNotif, event is: ${e.getEvent()}, version is: ${e.getContent()}`);return n("dataNotif",{eventType:e.getEvent(),content:e.getContent()})}));a(r.ROLE_BASE_ACCESS_CONTROL_RESPONSE,(function(e){s.info(`Handling handleRoleBaseAccessControlResponse, requestDn is: ${e.getRequestDn()}, errorNo is: ${e.getErrorNo()}`);return n("handleRoleBaseAccessControlResponse",{errorNo:e.getErrorNo(),requestDn:e.getRequestDn()})}));return{handle:function(e){return c[e.getId()].notify(e)},addMessageListener:a}}}},7433:(e,t,n)=>{"use strict";const r=n(4528),i=n(8313);e.exports={newInstance:function({events:e=i,nodeFinder:t}={}){function n(){o.notify({isDisplayFullTree:s})}const o=e.newEvent();let s=!0;return{getBtsCommissionStatuses:r.getBtsCommissionStatuses,watchDisplayFullTreeChange:o.watch,unwatchDisplayFullTreeChange:o.unwatch,areAllRatRootsAvailable:function(e){const t=r.getBtsCommissionStatuses(e);return 1===t.detectedBTSCount||s&&t.everyMrbtsMUncommisioned},setFlagToDisplayFullTree:function(){const e=!1===s;s=!0;e&&n()},setFlagToFilterTree:function(){const e=!0===s;s=!1;e&&n()},isConnectedToUncommissionedSingleCore:function(e){const t=r.getBtsCommissionStatuses(e);return 1===t.detectedBTSCount&&t.everyMrbtsMUncommisioned},isConnectedToUncommissionedMrbtsMNode:function(e){return t.getActiveMrbtsMNode(e).then((e=>{if(!e)return!1;const t=e.getDecodedParameters().stateInfo;return t&&"NotCommissioned"===t.proceduralState}))},isConnectedToUncommissionedDualCore:function(e){const t=r.getBtsCommissionStatuses(e);return t.detectedBTSCount>1&&t.everyMrbtsMUncommisioned},areAllRatRootsAvailableForDecoratedTree:function(e){const t=r.getBtsCommissionStatuses(e);return s&&(t.everyMrbtsMUncommisioned||!t.everyMrbtsMCommisioned)}}}}},7716:(e,t,n)=>{"use strict";e.exports=function({updateService:e,signInHandlerService:t,imAuth:n,currentSettings:o}){function s(e,t){const r=i.getReleaseInfo(),s=n.getAuthMethod();return{userName:n.getUserName(),token:t||n.getToken(),authMethodId:s&&s.id,host:n.getHost(),port:n.getPort(),isSecure:n.isSecure(),adminVersion:r.branch,clientId:r.hash,updateInterval:o.getUpdateInterval(),readOnlyAccessRequired:n.getReadOnlyAccessRequired(),httpSessionId:e||n.getHttpSessionId()}}return{addListener:t.addListener,removeListener:t.removeListener,isSignedIn:t.isSignedIn,isSignInInProgress:t.isSignInInProgress,loginByPost:t.loginOnly,singIn:function(n=!1,r){return e.clearHistory().then(e.enableSocketData).then((()=>{t.signIn(s(r),!1,n)}))},waitUntilConnect:function(){return new r((e=>{const n={connected(){t.removeListener(n);e()}};t.addListener(n)}))},autoConnect:function(n){return e.clearHistory().then(e.enableSocketData).then((()=>{t.signIn(function(e){const t=i.getReleaseInfo(),n=e.authMethod;return{userName:e.userName,authMethodId:n&&n.id,host:e.host,port:e.port,isSecure:e.isSecure,adminVersion:t.branch,clientId:t.hash,updateInterval:o.getUpdateInterval(),readOnlyAccessRequired:e.readOnlyAccessRequired,loginMethod:e.loginMethod}}(n),!0)}))},signOut:function(){return e.clearHistory().then(t.signOut)},logout:function(){t.signOut()},singInWithTempAutoConnect:function(n){return e.clearHistory().then(e.enableSocketData).then((()=>t.singInWithTempAutoConnect(s("",n)))).catch((e=>r.reject(e)))}}};const r=n(2104),i=n(4881)},5982:(e,t,n)=>{"use strict";var r=n(4070);e.exports=function({socket:e,instanceIdFinder:t,imAuth:n,sessionStorage:y}){return function(){const e=o.getLogger("signin-handler.service"),t=1e3;return{newInstance:function(n,o,y,_){function v(e,t){K.notify({type:e,data:t})}function E(e){i.forEach(["connected","disconnected","signIn","signOut","autoReconnect","error","info","stateChanged","sessionsLimitExceeded","sessionEstablishmentError","sessionsAccessLimited"],(t=>{e[t]=e[t]||i.noop}));M.push(e)}function S(t,...n){const r=[];i.forEach(M,(e=>{r.push(e[t])}));i.forEach(r,(t=>{try{t.apply(null,n)}catch(t){e.error(t.stack||t)}}))}function b(e){if(q===e)return;const t=q;q=e;S("stateChanged",e,t)}function T(e){U=e.token?function(e){const t=i.cloneDeep(e);t.encryptionData=r.AuthUtils.encrypt(t.token);delete t.token;return t}(e):e;U.httpSessionId=r.AuthUtils.encrypt(U.httpSessionId)}function C(){const e=r.AuthUtils.decrypt(U.httpSessionId);return Object.assign({},U,{httpSessionId:e})}function I(e){return n.loginByPost({userName:y.getUserName()?y.getUserName():e.userName,token:y.getToken()||e.token||r.AuthUtils.decrypt(e.encryptionData),isSecure:e.isSecure,host:e.host,port:e.port}).then((t=>{v(z.SIGN_IN_COMPLETED);e.httpSessionId=t.successResp.httpSessionId;t.successResp.forcedPasswordUpdate?_.httpSessionId=r.AuthUtils.encrypt(e.httpSessionId):_.hasConfirmedLegalNotice?n.connect(e):n.legalRequestByPost(e).finally((()=>{n.connect(e)}))})).catch((e=>{const t=y.isAutoConnect(),n=e&&e.errorType,r=Y.isNodeJS();!t||n!==k.LOGIN_REQ_FAILED||r||[p,m].includes(null===e||void 0===e?void 0:e.errorMsg)||D(e);return i.noop}))}function w(e){G=!0;j=e||t}function N(){G=!1}function A(){if(H){clearTimeout(H);H=null}}function R(e,t){if(V){clearTimeout(V);V=null;e?v(z.CONNECT_COMPLETED):v(z.CANCEL_TEMP_AUTO_RECONNECT,t)}}function O(){return!("undefined"===typeof process||!process.versions||!process.versions.node)}function L(){function t(){A();b(x.IN_PROGRESS);S("autoReconnect");H=setTimeout((function(){if(H){A();b(x.IN_PROGRESS);S("info","starting auto reconnect...");I(C())}}),j)}return{loggedIn(e){y.updateCurrentUser(e)},connected(){A();S("connected");if(!y.isAutoConnect()&&!O()){N();R(!0)}},disconnected(e){S("disconnected");A();!function(e){return"BTS"===e.source&&G&&!W}(e)?b(x.SIGNED_OUT):t();W=!1;y.isAutoConnect()||R()},signInCompleted(e){S("signIn",e)},sessionsLimitExceeded(e){const t="Number of sessions exceeded";S("error",t,new s(t,f));S("sessionsLimitExceeded",e);A();b(x.SIGNED_OUT);y.isAutoConnect()||R()},sessionsAccessLimited(e){const t="Session couldn't be established. Because restricted access feature is activated.";S("error",t,new s(t,f));S("sessionsAccessLimited",e);A();b(x.SIGNED_OUT);y.isAutoConnect()||R()},sessionEstablishmentError(e){F&&S("error",e.message,new s(e.message,a));A();b(x.SIGNED_OUT);y.isAutoConnect()||R()},restrictedAccessRequest(t){if(t.accessType===P.TERMINATE_PREDICT||t.accessType===P.ACCESS_CANCEL){W=!0;A();e.info(`restrictedAccessRequest accessType is ${t.accessType}, autoReconnect canceled`);t.accessType===P.ACCESS_CANCEL&&b(x.SIGNED_OUT);y.isAutoConnect()||R()}},connectionError(e){F&&S("error",e.message,new s(e.message,u));A();G?t():b(x.SIGNED_OUT)},compatibilityError(e){F&&S("error",e.message,new s(e.message,c));A();b(x.SIGNED_OUT);y.isAutoConnect()||R()},loginError(e){e.message=i.isEmpty(e.message)?d[e.errorCode]||"Login error":e.message;F&&S("error",e.message,new s(e.message,e.message===d.ORIGINATOR_NOT_SUPPORTED?l:a));A();const r=[k.VERSION_REQ_FAILED,k.LOGIN_REQ_FAILED,h].includes(e.message)||[p,m].includes(e.errorCode);if(G&&r)t();else{y.isAutoConnect()||R(!1,e);b(x.SIGNED_OUT);n.disconnect()}},passwordChangeDetected(){if(F&&!G){const e="Default password is not allowed to be used anymore, please visit desktop WebEM to modify it.";S("error",e,new s(e,a))}A();b(x.SIGNED_OUT);y.isAutoConnect()||R()}}}function D(e){var t;const n=window.location.pathname,r=(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.resultDescription)||d[null===e||void 0===e?void 0:e.errorMsg]||(null===e||void 0===e?void 0:e.errorMsg)||"";y.setLoginErrorMsg(r);y.logout();window.location.href=window.location.origin.concat(n)}const x={SIGNED_IN:"SIGNED_IN",SIGNED_OUT:"SIGNED_OUT",IN_PROGRESS:"IN_PROGRESS"},P={TERMINATE_PREDICT:1,ACCESS_CANCEL:4},k={VERSION_REQ_FAILED:"Version request failed...",LOGIN_REQ_FAILED:"Login request failed..."};let B=null;const M=[];let U=null,F=!0,j=0,G=!1,H=null,V=null,q=x.SIGNED_OUT,W=!1;const K=g.newEvent(),z={SIGN_IN_COMPLETED:"signInCompleted",CANCEL_TEMP_AUTO_RECONNECT:"cancelTempAutoConnect",CONNECT_COMPLETED:"connectCompleted"};E({loggedIn:()=>{e.info("loggedIn");b(x.IN_PROGRESS)},autoReconnect:()=>{e.info("autoReconnect");b(x.IN_PROGRESS)},signIn:()=>{e.info("signIn");e.info(`instance id is ${o.getInstanceId()}`);b(x.SIGNED_IN)},signOut:()=>{e.info("signOut");b(x.SIGNED_OUT)},disconnected:()=>{e.info("disconnected")},error:t=>{e.error(t)},info:t=>{e.info(t)}});const Y={STATE:x,addListener:E,removeListener:function(e){i.remove(M,(t=>t===e))},signIn:function(e,t=!1,r=!1){A();b(x.IN_PROGRESS);T(e);F=!t;B&&n.removeListener(B);B=L();n.addListener(B);n.isConnected()&&n.disconnect();const i=C();return r?_.hasConfirmedLegalNotice?n.connect(i):n.legalRequestByPost(i).finally((()=>n.connect(i))):I(i)},signOut:function(){function e(){n.removeListener(B);S("disconnected");S("signOut");b(x.SIGNED_OUT)}if(U){A();if(n.isConnected()){B.disconnected=e;B.connectionError=e;B.compatibilityError=e;n.disconnect()}else e()}},loginOnly:function(e){A();b(x.IN_PROGRESS);T(e);B&&n.removeListener(B);B=L();n.addListener(B);return n.loginByPost(e)},enableAutoReconnect:w,disableAutoReconnect:N,isSignInInProgress:function(){return q===x.IN_PROGRESS},isSignedIn:function(){return q===x.SIGNED_IN},getState:function(){return q},isConnected:function(){return n.isConnected()},singInWithTempAutoConnect:function(e){w();V=setTimeout((()=>{N();v(z.CANCEL_TEMP_AUTO_RECONNECT)}),18e5);A();b(x.IN_PROGRESS);T(e);F=!0;B&&n.removeListener(B);B=L();n.addListener(B);n.isConnected()&&n.disconnect();return I(C())},watch:function(e){return K.watch(e)},unwatch:function(e){K.unwatch(e)},EVENTS:z,cancelTempAutoReconnect:R,loginByPost:I,isNodeJS:O,backToLoginPage:D};return Y}}}().newInstance(e,t,n,y)};const i=n(2543),o=n(8975),s=n(7706),{LOGIN_FAILED:a,MISCELLANEOUS_PROBLEMS:c,SITE_UNREACHABLE:u,LICENSE_NOT_AVAILABLE:l,SITE_RESERVED:f}=n(3350),d=n(8142).EVENTS.LOGIN_ERROR,{SMA_UNREACHABLE:h,MPLANE_IP_NOT_READY:p,NORTHBOUND_INTERFACE_NOT_READY:m}=n(7733),g=n(8313)},7733:e=>{"use strict";e.exports={SMA_UNREACHABLE:"SMA_UNREACHABLE",MPLANE_IP_NOT_READY:"MPLANE_IP_NOT_READY",NORTHBOUND_INTERFACE_NOT_READY:"NORTHBOUND_INTERFACE_NOT_READY"}},3662:(e,t,n)=>{"use strict";const r=n(298),i=n(8975).getLogger("admin.core.decoderService");e.exports={newInstance:function(e){return function(e,t){function n(t,n,o,s,a){if(function(e){return e instanceof Uint8Array}(n))try{const i=e.getTypeInfo(t,o);return r.decode(i,n,s,a)}catch(e){i.error(`Failed to decode object "${o}"`);throw e}return n}const r=t();return{getDecodedParametersByClassName:n,getDecodedParametersByDistName:function(e,t,r,i){return n(e,t,function(e){const t=e.split("/").slice(-1)[0];return t.substring(0,t.indexOf("-"))}(r),i,r)},getTypeInfo:function(t,n){return e.getTypeInfo(t,n)}}}(e,r)}}},8660:(e,t,n)=>{"use strict";const r=n(2543),i=n(4628),{ImTree:o}=n(2180),s=Symbol("mergeChange"),a=Symbol("mergeReset"),c=Symbol("setIds");e.exports=class{constructor(){this.NO_META_UID="NO META UID";this.startEntryId=null;this.endEntryId=null;this.updatesMap=new Map;this.metaUid=this.NO_META_UID;this.timestamp=-1;this.isReset=!1}mergeEntry(e){e.change?this[s](e):e.reset&&this[a](e)}getEntryRange(){return{startId:this.startEntryId,endId:this.endEntryId}}toEntry(){const e=Array.from(this.updatesMap.values()),t={id:this.endEntryId,numOfChanges:e.length,change:{updated:e,removed:[]},reset:this.isReset,timestamp:this.timestamp,metaUid:this.metaUid};t.hasAlarm=i.hasAlarm(t);t.estimatedSizeInBytes=i.estimateByteSizeOfEntry(t);return t}toImTree(){const e=new o,t=this.toEntry();if(!t.change)return null;const n=t.change;for(let r=0;r<n.updated.length;r++)e.merge(n.updated[r],t.metaUid);return e}[s](e){this[c](e.id);this.metaUid=e.metaUid;this.timestamp=e.timestamp;this.isReset=!1;const t=e.change;for(let e=0;e<t.removed.length;e++)this.updatesMap.delete(t.removed[e]);for(let e=0;e<t.updated.length;e++){const n=t.updated[e];this.updatesMap.set(n.distName,n)}}[a](e){this[c](e.id);this.updatesMap=new Map;this.metaUid=this.NO_META_UID;this.timestamp=e.timestamp;this.isReset=!0}[c](e){r.isNull(this.startEntryId)&&(this.startEntryId=e);this.endEntryId=e}}},9021:e=>{"use strict";e.exports=function(){let e=0;return{setOffset:function(t){e=t},getOffset:function(){return e},getTimestamp:function(){return Date.now()+e}}}},8313:(e,t,n)=>{"use strict";const r=n(2104);e.exports={newEvent(){function e(e){if(!i.has(e))throw new Error(`Watcher was not added: ${e.toString()}`);i=new Set(i);i.delete(e);!i.size&&n&&n()}let t,n,i=new Set;return{watch:function(n){i=new Set(i);i.add(n);1===i.size&&t&&t();return{unwatch(){e(n)}}},unwatch:e,notify:function(e){const t=[];i.forEach((n=>{t.push(n(e))}));return r.all(t)},onFirstAdded:function(e){t=e},onLastRemoved:function(e){n=e},getWatchersCount:function(){return i.size}}}}},7958:(e,t,n)=>{"use strict";const r=n(9005),i=n(2104),o=i.promisify(r.put,{multiArgs:!0}),s=n(8975).getLogger("admin.core.fileTransferService"),a="File request failed with message: ",c=6e5;e.exports={newInstance:function(){function e(e,t={},n,r){return new i(((i,o)=>{const u=new XMLHttpRequest;let l=0;!function f(){u.onreadystatechange=()=>{if(2===u.readyState&&n)n(u,i);else if(4===u.readyState)if(200===u.status&&null!==u.response)i(Buffer.from(u.response));else if(r&&l<2){l++;s.info(`Start to retry : ${l}`);f()}else o(new Error(a+u.status))};u.onabort=()=>{o(new Error("File request abort error: "+u.status))};u.open("GET",e);r||(u.timeout=c);u.responseType="arraybuffer";Object.keys(t).forEach((e=>u.setRequestHeader(e,t[e])));u.send()}()}))}function t(e){return`${r}:${u}${e}`}const n={};let r,u;return{FILE_REQ_FAIL_MSG:a,setConnectionParameters:function({host:e,port:t,sessionId:i}){r=e;u=t;n["X-Request-ID"]=i;return this},getFile:function(r,i,o){return e(t(r),n,i,o)},getFileByUrl:function(t){return e(t)},putFile:function(e,r,a={}){const u=t(e);s.info(`Putting file to [${u}]`);return o({url:u,body:r.buffer,timeout:c,headers:Object.assign({},n,a)}).then((e=>{if(200===e[0].statusCode)return i.resolve(e[0].statusCode);s.info(`Status code of http put is: ${e[0].statusCode}`);return i.reject(new Error(e[0].statusCode))})).catch((e=>{let t;e.stack&&s.warn(e.stack);t="[object ProgressEvent]"===e.message?"Network error occurred. Possible causes include network issues, CORS restrictions, or a timeout.":"[object Object]"===Object.prototype.toString.call(e.message)?JSON.stringify(e.message):e.message;return i.reject(new Error("File upload failed with message: "+t))}))},createUrl:t,DEFAULT_HEADERS:n,REQUEST_TIMEOUT:c}}}},1918:(e,t,n)=>{"use strict";function r(e){return 2===e.findByIndexedClassName(a.MODULES.SMOD).length}function i(e){const t=e.findByIndexedClassName(a.MODULES.SMOD);return t.length<2?null:[c.getHardwareRelease(t[0]),c.getHardwareRelease(t[1])]}function o(e){const t=e.findChildByClassName(a.MODULES.SMOD);return c.getHardwareRelease(t)}const s=n(2543),a=n(8181).A,c=n(9115),u=n(2515),l=n(4173),{EMPTY_STRING:f}=n(3631),d={RELEASE3_FSIH:1,RELEASE3:2,RELEASE4:3};e.exports={RELEASE_TYPES:d,getReleaseTypeFromCabinet:function({cabinetLNode:e,cabinetRNode:t}){let n;n=function(e){const t=e.findChildByClassName(l.SMOD_R);if(!t)return!1;const n=t.getDecodedParameters();return n.productName&&n.productName.includes("FSIH")}(t)?d.RELEASE3_FSIH:3===o(e)?d.RELEASE3:d.RELEASE4;return n},booleanToYesOrNo:function(e){return s.isBoolean(e)?e?"Yes":"No":f},isOutdoorCabinet:function(e){const t=e.findFirstByIndexedClassName(a.MODULES.CABINET),n=t&&t.getDecodedParameters().productCode;return s.includes(g,null===n||void 0===n?void 0:n.split(".")[0])},isRelease3SingleCore:function(e){if(1!==e.findByIndexedClassName(a.MODULES.SMOD).length)return!1;const t=e.findFirstByIndexedClassName(a.MODULES.SMOD),n=t&&c.getHardwareRelease(t);return n&&3===n},isDualCore:r,getComponentYCoord:function(e,t){return!e[h][p]&&e[h][t].isMissing?h:m},channelState:function(e){const t=u.getCarriersState(e.node),n=e.node.getDecodedParameters(),r=n.stateInfo&&n.stateInfo.availabilityStatus;return"Online"===r&&"Activated"===t?"Online":"Online"===r&&"Activated"!==t||"Degraded"===r&&"Activated"!==t||"Offline"===r||"NotInstalled"===r?"Offline":"Failed"===r?"Failed":"Degraded"===r?"Degraded":"Dependency"===r?"Dependency":"Undefined"},getDualCoreConfiguration:i,getReleaseVersionByCabinetL:o,isDualCoreAndContainRelease3:function(e){const t=i(e);return r(e)&&t.includes(3)}};const h=2,p="wholeShelfModule",m=-1,g=["474262A","476444A"]},6610:(e,t,n)=>{"use strict";const r=n(8075);e.exports={create:function(e){return{provide:function(t){const n=r.findRatNode(t);if(!n)return{};const i=e.getInstanceId();return n.getChildren().reduce(((e,t)=>{(e[t.className]||function(){const r={currentNode:function(){return i&&n.findChildByClassAndId(t.className,i)||t}(),nodes:[]};e[t.className]=r;return r}()).nodes.push(t);return e}),{})}}}}},3631:(e,t,n)=>{"use strict";const r=n(2543),i={base:{name:"",factor:1},mega:{name:"M",factor:1e6},kilo:{name:"k",factor:1e3},deci:{name:"d",factor:.1},mili:{name:"m",factor:.001},micro:{name:"u",factor:1e-6},nano:{name:"n",factor:1e-9}},o={DEFAULT:(e,t,n)=>`${e} ${t}${n}`,"":(e,t,n)=>`${e}${n}`};e.exports={units:{kWh:"kWh",m:"m",V:"V",A:"A",W:"W",Hz:"Hz",C:"",MBs:"Mb/s",s:"s",db:"dB",bd:"Bd",bs:"b/s",dBm:"dBm",degree:""},weights:i,NOT_AVAILABLE:"N/A",EMPTY_STRING:"-",SEPARATOR:"-",convertValueUnit:function(e,t,{sourcePrefix:n=i.base,targetPrefix:s,decimalPlaces:a}={}){if(0!==e&&!e)return null;if(!r.isFinite(Number(e)))return e;if(s||r.isNumber(a)){s||(s=n);r.isNumber(a)||(a=0);e=r.round(e*n.factor/s.factor,a).toFixed(a)}else s=n;return function(e,t,n){return(o[n]||o.DEFAULT)(e,t,n)}(e,s&&s.name||"",t)}}},4926:(e,t,n)=>{"use strict";const r=n(2543),i=n(8975).getLogger("admin.core.historyFactory"),o=n(8660),s=n(4628);e.exports={newInstance:function({snapshotStep:e,sessionStorage:t}){function n(n){n.id=y()?0:v().id+1;n.hasAlarm=s.hasAlarm(n);n.estimatedSizeInBytes=s.estimateByteSizeOfEntry(n);S.push(n);n.id%e===0&&E.push(u(n));t&&t.cliPerformanceEnhance&&a(S.length);b.mergeEntry(n)}function a(e){if(y()||1===g())return S;const t=Math.min(e,S.length);if(t<2){i.info(`Merging - skipping merge because of [ ${t} < 2 ]`);return null}const n=new o;i.info(`Merging first ${t} entries`);for(let e=0;e<t;e++)n.mergeEntry(S[e]);S=S.slice(t-1);S[0]=n.toEntry();!function(){for(let e=0;e<g();e++)S[e].id=e}();!function(){const t=e-1;i.debug(`before merge - history snapshots#${p()}`);const n=_();!function(e){r.remove(E,(t=>t.lastEntryId<=e))}(t);!function(){for(let e=0;e<E.length;e++)E[e].lastEntryId=E[e].lastEntryId-t}();E.unshift(u(n));i.debug(`after merge - history snapshots#${p()}`)}();i.info(`Merge of first ${t} entries done`);i.info(`Merged entry sizeMB = ${c(S[0].estimatedSizeInBytes)}`);i.info(`Entries range after merge: [${r.first(S).id}, ${r.last(S).id}]`);return S}function c(e){return(e/1024/1024).toFixed(3)}function u(t){const n=l(t.id);return n?function(t){const n=new Map(t.map),r=t.lastEntryId,i=r+Math.min(e,S.length-1);for(let e=r;e<=i;e++)h(n,m(e));return{lastEntryId:i,map:n}}(n):function(){const e=new Map;h(e,t);return{lastEntryId:t.id,map:e}}()}function l(e){for(let t=p()-1;t>=0;t--){const n=E[t];if(e>=n.lastEntryId)return n}return null}function f(e){const t=l(e);if(!t)return null;if(e===t.lastEntryId)return t.map;const n=new Map(t.map);for(let r=t.lastEntryId;r<=e;r++)h(n,m(r));return n}function d(){b=new o;S=[];E=[]}function h(e,t){if(t.change){const n=t.change;for(let t=0;t<n.removed.length;t++)e.delete(n.removed[t]);for(let r=0;r<n.updated.length;r++){const i=n.updated[r];e.set(i.distName,{payload:i.payload,uuid:i.uuid,metaUid:t.metaUid})}}t.reset&&e.clear()}function p(){return E.length}function m(e){if(y())return null;const t=e-_().id;return S[t]}function g(){return S.length}function y(){return 0===g()}function _(){return S[0]}function v(){return S[g()-1]}e=e||1e4;let E=[],S=[],b=new o;return{getEntry:m,hasEntry:function(e){return!!m(e)},getEntriesIterator:function(){const e=S.slice(0);let t=0;return{size:()=>e.length,next:()=>t<e.length?{value:e[t++],done:!1}:{done:!0}}},addEntry:n,getEntries:function(){return S.slice(0)},getLastEntry:v,getLastSecEntry:function(){return S[g()-2]},getFirstEntry:_,dropEntriesRange:function(e,t){S=S.slice(0,e).concat(S.slice(t));i.debug(`Entries from ${e} to ${t} dropped.`);!function(){for(let t=e;t<g();t++)S[t].id=t}();!function(){i.debug(`before drop - history snapshots#${p()}`);!function(){r.remove(E,(n=>n.lastEntryId>=e&&n.lastEntryId<t))}();!function(){const n=t-e;for(let t=E.length-1;t>=e;t--)E[t].lastEntryId=E[t].lastEntryId-n}();i.debug(`after drop - history snapshots#${p()}`)}()},size:g,isEmpty:y,clear:d,snapshotForEntryId:f,snapshotForIndex:function(e){return E[e]&&E[e].map},snapshotEntryForId:function(e){return function(e){const t=function(e){const t=[];e.forEach(((e,n)=>{e.distName=n;t.push(e)}));return t}(e),n={numOfChanges:t.length,change:{updated:t,removed:[]}};n.hasAlarm=s.hasAlarm(n);n.estimatedSizeInBytes=s.estimateByteSizeOfEntry(n);return n}(f(e))},snapshotsSize:p,mergeEntries:function(){const e=b.toEntry();d();n(e);return e},mergeFirstEntries:a,mergeEntriesRange:function(e,t){if(y()||1===g())return S;if(t-e<2){i.info("Merging - skipping merge because number of entries to merge is < 2.");return null}if(e<0||t>g()){i.info("Merging - skipping merge because parameters are out of history size boundary.");return null}const n=new o;i.info(`Merging entries from ${e} to ${t} (excluding).`);for(let r=e;r<t;r++)n.mergeEntry(S[r]);const s=S.slice(0,e),a=S.slice(t);S=s.concat([n.toEntry()]).concat(a);!function(){for(let t=e;t<g();t++)S[t].id=t}();!function(){i.debug(`before merge - history snapshots#${p()}`);const n=_();!function(){r.remove(E,(n=>n.lastEntryId>=e&&n.lastEntryId<t))}();!function(){const n=t-e-1;for(let t=E.length-1;t>=e;t--)E[t].lastEntryId=E[t].lastEntryId-n}();E.unshift(u(n));i.debug(`after merge - history snapshots#${p()}`)}();i.info(`Merge entries from ${e} to ${t} (excluding) done.`);i.info(`Merged entries size in MB = ${c(S[0].estimatedSizeInBytes)}.`);i.info(`Entries range after merge: [${r.first(S).id}, ${r.last(S).id}]`);return S}}}}},5350:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Bucket=void 0;class n{constructor(e){this.className=e;this.className=e;this.elements=new Map}add(e){this.elements.set(e.id,e)}getNodeById(e){return this.elements.get(e)}removeByNodeId(e){this.elements.delete(e)}toArray(){const e=[];this.elements.forEach((t=>{e.push(t)}));return e}size(){return this.elements.size}getAny(){const e=this.elements.values().next();return e&&e.value}[Symbol.iterator](){return this.elements.values()}find(e){for(const t of this.elements.values())if(e(t))return t;return null}}t.Bucket=n},4636:(e,t,n)=>{"use strict";function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}function o(e,t,n,r,i=0,s=!0){if(r<i)return;if("DELTA"===e.className&&s)return;let a,c;e.className===t&&n.push(e);for(let u=0,l=e.buckets.length;u<l;u++){a=e.buckets[u];c=a.elements;if(a.className!==t){const e=i+1;c.forEach((i=>{o(i,t,n,r,e,s)}))}else c.forEach((e=>{n.push(e)}))}}function s(e,t){const n=[];for(let r=0;r<t.length;r++){const i=e.root.classMap.get(t[r]);i&&(0,l.filterOffspringNodes)(e,i,n)}return n}function a(e,t){e.forEachChild((e=>{t(e);a(e,t)}))}Object.defineProperty(t,"__esModule",{value:!0});t.Node=void 0;var c=i(n(2543)),u=n(5350),l=n(2607),f=i(n(1190));const d={next:()=>({done:!0})};class h{get parameters(){return this.getDecodedParameters()}constructor(e,t,n){this.className=e;this.structureNode=n;this.id=t;this.name=`${this.className}-${this.id}`;this.uuid=null;this.buckets=[];this.parent=null;this.root=null;this.payload=null;this._parameters=null;this.distName=null;this.metaUid=null}addNode(e,t,n){const r=this.structureNode&&this.structureNode.children&&this.structureNode.children[e],i=new h(e,parseInt(t,10),r);i.metaUid=n;const o=this;o.add(i);const s=o.distName||"";i.distName=[s,"/",i.className,"-",i.id].join("");i.parent=o;i.root=o.root;i.root.nodeMap.set(i.distName,i);i.addToClassIndex();return i}isMissing(){return c.isNull(this.payload)&&c.isNull(this._parameters)}getDecodedParameters(){if(this._parameters)return this._parameters;this.isMissing()?this._parameters={}:this._parameters=this.root.decoderService.getDecodedParametersByClassName(this.metaUid,this.payload,this.className,this.root,this.distName);return this._parameters}getTypeInfo(){if(this.typeInfo)return this.typeInfo;this.typeInfo=this.root.decoderService.getTypeInfo(this.metaUid,this.className);return this.typeInfo}size(){return function(e){let t=0;a(e,(()=>{t++}));return t}(this)}getName(){return this.name}getDistName(){return this.distName}getBucket(e){const t=e&&this.getBucketOrIndex(e);return c.isNumber(t)?null:t}getBucketOrIndex(e){let t=0,n=this.buckets.length-1;for(;t<=n;){const r=t+n>>1,i=this.buckets[r],o=i.className;if(e===o)return i;e<o?n=r-1:e>o&&(t=r+1)}return n+1}getOrCreateBucket(e){const t=this.getBucketOrIndex(e);if(c.isNumber(t)){const n=new u.Bucket(e);this.buckets.splice(t,0,n);return n}return t}add(e){this.getOrCreateBucket(e.className).add(e)}remove(e){const t=this.getBucket(e.className);t&&t.removeByNodeId(e.id)}find(e){for(const t of this)if(e(t))return t;return null}findAll(e){const t=[];this.traverse((n=>{e(n)&&t.push(n)}));return t}findByDistName(e){const t=f.convertFromFqDN(e);return this.isRoot()?this.root.nodeMap.get(t)||null:function(e,t){if(!t||0!==t.indexOf("/"))return null;const n=t.split("/");let r=e;for(let e=1,t=n.length;e<t;e++){const t=n[e];r=r.findChildByName(t);if(!r)return null}return r}(this,t)}findByClassName(e,t,n=!0){const r=[];o(this,e,r,t,0,n);return r}findStructureNodesByClassName(e){const t=this.root.classIndex[e];t||(0,l.throwNotIndexedClassNameError)(e);this.structureNode||(0,l.throwNotIndexedClassNameError)(this.className);const n=this.structureNode.filterOffspringNodes(t);0===n.length&&(0,l.throwCantFindPathError)([e],this);return n}findByIndexedClassName(e){return s(this,this.findStructureNodesByClassName(e))}findFirstByIndexedClassName(e,t){return function(e,t,n){for(let r=0;r<t.length;r++){const i=e.root.classMap.get(t[r]);if(i){const t=(0,l.findFirstOffspringNode)(e,i,n);if(t)return t}}return null}(this,this.findStructureNodesByClassName(e),t)}findByClassQuery(e){const t=this.isRoot()?null:this;return s(this,(0,l.findStructureNodes)(e,this.root.classIndex,t))}findByStructureNode(e){return s(this,[e])}findByClassPath(e){const t=[];(0,l.addNodesWithClassNameFromPathArray)(this,e,0,t);return t}findByClassPaths(e){return e.reduce(((e,t)=>e.concat(this.findByClassPath(t))),[])}findAnyByClassName(e,t){const n=[this];let r,i,o=0;for(;o<n.length;){r=n[o];o++;for(let o=0,s=r.buckets.length;o<s;o++){i=r.buckets[o];if(i.className===e&&i.size()){const e=t?i.find(t):i.getAny();if(e)return e}i.elements.forEach((e=>{n.push(e)}))}}return null}findByUuid(e){return this.find((t=>e===t.uuid))}findChildByClassName(e,t){const n=this.getBucket(e);return n&&(t?n.find(t):n.getAny())}findChildByName(e){const t=(0,l.splitName)(e);return this.findChildByClassAndId(t.className,t.id)}findChildByClassAndId(e,t){const n=this.getBucket(e);return n?n.getNodeById(t):null}findChildrenByClassName(e){const t=this.getBucket(e);return t?t.toArray():[]}getChildren(){const e=[];for(let t=0;t<this.buckets.length;t++)this.buckets[t].elements.forEach((t=>{e.push(t)}));return e}getAncestor(e=1){let t=this;for(;e>0&&t;){t=t.parent;e--}return t}traverse(e){a(this,e)}forEachChild(e){for(let t=0,n=this.buckets.length;t<n;t++)this.buckets[t].elements.forEach((t=>{e(t)}))}bucketsIterator(){return this.buckets[Symbol.iterator]()}childrenIterator(){const e=this.bucketsIterator();let t,n,r=d;return{[Symbol.iterator](){return this},next(){n=r.next();for(;n.done;){t=e.next();if(t.done)return t;r=t.value[Symbol.iterator]();n=r.next()}return n}}}printTree(){return null}isRoot(){return this===this.root}addToClassIndex(){if(this.structureNode){const e=this.root.classMap.get(this.structureNode);if(e)e.push(this);else{const e=[this];this.root.classMap.set(this.structureNode,e)}}}removeFromClassIndex(){if(this.structureNode){const e=this.root.classMap.get(this.structureNode);if(e){c.pull(e,this);0===e.length&&this.root.classMap.delete(this.structureNode)}}}isDescendantOf(e){return(0,l.isDescendantOf)(this,e)}[Symbol.iterator](){const e=this.childrenIterator();let t,n,r;return{[Symbol.iterator](){return this},next:function(){if(!r||r.done){t=e.next();if(t.done)return t;n=t.value[Symbol.iterator]()}r=n.next();return r.done?t:r}}}}t.Node=h},2932:(e,t,n)=>{"use strict";var r=n(4994);Object.defineProperty(t,"__esModule",{value:!0});t.create=function({imTree:e,instanceIdFinder:t,connectedSystemModuleService:n=c.newInstance()}){function r(t){if(!p.mrbtsMNodesCount)return h||_.shouldShowNodeInDecoratedTree(t);if(1===p.mrbtsMNodesCount)return!0;const n=u.findMCtrlNode(e,m),r=n&&n.findByClassPath(["BBTOP_M","MRBTS_M"]).length||0,i=u.findBbtopMNode(e,m),o=t&&l.getAncestorByClassName(t.distName,f.BBTOP);return o&&i?o===i.distName:1===p.detectedBTSCount||p.mrbtsMNodesCount===r||h||_.shouldShowNodeInDecoratedTree(t)}const d=o.create({instanceIdFinder:t}),h=n.areAllRatRootsAvailableForDecoratedTree(e),p=n.getBtsCommissionStatuses(e),m=t.getInstanceId(),g=s((e=>r(e))).decorateTree(e),y=d.createRepository(g),_={imTree:e,decoratedImTree:g,multiCoreRepository:y,instanceIdFinder:t,shouldShowNodeInDecoratedTree:function(e){const n=t.getInstanceId();return!i.default.isNumber(n)||!a.some((t=>{const r=l.distNameUpToClassName(e.distName,t);return r&&l.getId(r)!==n}))},shouldShowNode:r};return _};var i=r(n(2543));const o=n(2817),s=n(4981),a=n(9530),c=n(7433),u=n(8075),l=n(1190),f=n(8364)},2607:(e,t,n)=>{"use strict";function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function i(e,t){let n=e;for(;n.parent;){n=n.parent;if(n===t)return!0}return!1}function o(e,t,n=[]){for(let r=0;r<t.length;r++)t[r].isDescendantOf(e)&&n.push(t[r]);return n}function s(e,t,n){const r=f.last(e),i=t[r];i||c(r);const o=f.dropRight(e),s=i.filter((e=>e.satisfyClassNames(o,n)));0===s.length&&u(e,this);return s}function a(e,t){let n=t;for(const t of e){const e=n.children[t];if(!e)return null;n=e}return n}function c(e){throw new Error(`Class ${e} is not specified in class index. Check if ${e} is present in imTreeStructure.ts.`)}function u(e,t){throw new Error(`Can't find any paths for classNames: ${e.join(", ")} from node: ${t&&t.distName||d}. Check imTreeStructure.ts.`)}function l(e){throw new Error(`There is more than one path for class query: ${e.join(", ")}. Please check imTreeStructure.ts and provide unambiguous class query.`)}Object.defineProperty(t,"__esModule",{value:!0});t.ROOT_CLASS=t.ImTreeStructureNode=void 0;t.addNodesWithClassNameFromPathArray=function e(t,n,r,i){if(r===n.length){i.push(t);return}const o=t.getBucket(n[r]);o&&o.elements.forEach((t=>{e(t,n,r+1,i)}))};t.filterOffspringNodes=o;t.findAncestor=function(e,t){let n=e;for(;n.parent;){n=n.parent;if(t(n))return n}return null};t.findByClassPath=function(e,t){return t.reduce((function(e,{className:t,id:n}){return e.reduce(((e,r)=>{if(f.isNumber(n)){const i=r.findChildByClassAndId(t,n);return i?e.concat(i):e}return e.concat(r.findChildrenByClassName(t))}),[])}),[e])};t.findFirstOffspringNode=function(e,t,n){for(let r=0;r<t.length;r++){const i=t[r];if(i.isDescendantOf(e)&&(!n||n(i)))return i}return null};t.findOneStructureNodeOrBail=function(e,t,n){const r=s(e,t,n);r.length>1&&l(e);return r[0]};t.findStructureNodeByPath=a;t.findStructureNodeByPathOrBail=function(e,t){const n=a(e,t);n||u(e);return n};t.findStructureNodes=s;t.generateClassIndex=function e(t,n={[d]:[t]}){return f.values(t.children).reduce(((t,n)=>{t[n.className]=f.uniq((t[n.className]||[]).concat(n));return n.children?e(n,t):t}),n)};t.generateClassPaths=function e(t,n=[],r={}){return f.values(t.children).reduce(((t,r)=>{const i=n.concat(r.className);t[r.className]=t[r.className]||[];t[r.className].push(i);return r.children?e(r,i,t):t}),r)};t.generateStructureTree=function(e){const t=new h(d);!function e(t,n){Object.keys(t).forEach((r=>{const i=new h(r,n);n.children=n.children||{};n.children[r]=i;return e(t[r],i)}))}(e,t);return t};t.getAncestorByClassName=function(e,t){if(!t)return null;for(;e&&e.className!==t;)e=e.parent;return e};t.isDescendantOf=i;t.splitName=function(e){const t=e.indexOf("-");return{className:e.substring(0,t),id:parseInt(e.substring(t+1),10)}};t.throwCantFindPathError=u;t.throwNotIndexedClassNameError=c;t.tooManyPathsForClassQuery=l;var f=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(2543));const d=t.ROOT_CLASS="root";class h{constructor(e,t){this.className=e;this.parent=t;this.className=e;t&&(this.parent=t)}satisfyClassNames(e,t){if(f.isEmpty(e))return!0;let n=e.length-1,r=this;for(;r.parent;){r=r.parent;if(r.className===e[n]){if(0===n)return!t||r.isDescendantOf(t);n--}}return!1}isDescendantOf(e){return i(this,e)}getAncestorLevel(e){let t=1,n=this;for(;n.parent;){n=n.parent;if(e===n)return t;t++}return null}filterOffspringNodes(e){return o(this,e)}}t.ImTreeStructureNode=h},4981:e=>{"use strict";function t(e,t){return e?n=>e(n)&&t.isNodeDefinedAndShouldBeShown(n):e=>t.isNodeDefinedAndShouldBeShown(e)}e.exports=function(e){return{decorateTree:function(t){return t.originalTree?t:new r(t,e)},decorateNode:function(t){return t.originalNode?t:new n(t,e)}}};class n{constructor(e,t){this.originalNode=e;this.shouldShowItem=t}get className(){return this.originalNode.className}get name(){return this.originalNode.name}get structureNode(){return this.originalNode.structureNode}get id(){return this.originalNode.id}get uuid(){return this.originalNode.uuid}get decoderService(){return this.originalNode.decoderService}get nodeMap(){return this.originalNode.nodeMap}get parent(){return this.decorateNode(this.originalNode.parent)}get root(){return this.decorateNode(this.originalNode.root)}get payload(){return this.originalNode.payload}get parameters(){return this.originalNode.parameters}get distName(){return this.originalNode.distName}get metaUid(){return this.originalNode.metaUid}isMissing(){return this.originalNode&&!this.shouldShowItem(this)||this.originalNode.isMissing()}find(e){return this.originalNode.find(t(e,this))}findAll(e){return this.originalNode.findAll(t(e,this))}findByDistName(e){return this.getDecoratedOrNull(this.originalNode.findByDistName(e))}findByClassName(e,t){return this.decorateNodes(this.originalNode.findByClassName(e,t))}findByIndexedClassName(e){return this.decorateNodes(this.originalNode.findByIndexedClassName(e))}findFirstByIndexedClassName(e,n){return this.getDecoratedOrNull(this.originalNode.findFirstByIndexedClassName(e,t(n,this)))}findByClassQuery(e){return this.decorateNodes(this.originalNode.findByClassQuery(e))}findByStructureNode(e){return this.decorateNodes(this.originalNode.findByStructureNode(e))}findByClassPath(e){return this.decorateNodes(this.originalNode.findByClassPath(e))}findByClassPaths(e){return this.decorateNodes(this.originalNode.findByClassPaths(e))}findAnyByClassName(e,n){return this.getDecoratedOrNull(this.originalNode.findAnyByClassName(e,t(n,this)))}findByUuid(e){return this.getDecoratedOrNull(this.originalNode.findByUuid(e))}findChildByClassName(e){return this.getDecoratedOrNull(this.originalNode.findChildByClassName(e))}findChildByName(e){return this.getDecoratedOrNull(this.originalNode.findChildByName(e))}findChildByClassAndId(e,t){return this.getDecoratedOrNull(this.originalNode.findChildByClassAndId(e,t))}findChildrenByClassName(e){return this.decorateNodes(this.originalNode.findChildrenByClassName(e))}getAncestor(e=1){return this.decorateNode(this.originalNode.getAncestor(e))}getChildren(){return this.decorateNodes(this.originalNode.getChildren())}getTypeInfo(){return this.originalNode.getTypeInfo()}getName(){return this.originalNode.getName()}getDecodedParameters(){return this.originalNode.getDecodedParameters()}isDescendantOf(e){return this.originalNode.isDescendantOf(e.originalNode||e)}isRoot(){return this.originalNode.isRoot()}traverse(e){this.originalNode.traverse((t=>{this.wrappedCallBack(e,t)}))}forEachChild(e){this.originalNode.forEachChild((t=>{this.wrappedCallBack(e,t)}))}wrappedCallBack(e,t){this.isNodeDefinedAndShouldBeShown(t)&&e(this.decorateNode(t))}getDecoratedOrNull(e){return this.isNodeDefinedAndShouldBeShown(e)?this.decorateNode(e):null}decorateNodes(e){return e.filter((e=>this.isNodeDefinedAndShouldBeShown(e))).map((e=>this.decorateNode(e)))}decorateNode(e){return new n(e,this.shouldShowItem)}isNodeDefinedAndShouldBeShown(e){return e&&this.shouldShowItem(e)}}class r{constructor(e,t){this.originalTree=e;this.shouldShowItem=t}get root(){return new n(this.originalTree.root,this.shouldShowItem)}find(e){return this.root.find(e)}findAll(e){return this.root.findAll(e)}findByDistName(e){return this.root.findByDistName(e)}findByClassName(e){return this.root.findByClassName(e)}findByIndexedClassName(e){return this.decorateNodes(this.originalTree.findByIndexedClassName(e))}findFirstByIndexedClassName(e,n){return this.getDecoratedOrNull(this.originalTree.findFirstByIndexedClassName(e,t(n,this)))}findByClassQuery(e){return this.root.findByClassQuery(e)}findByStructureNode(e){return this.decorateNodes(this.originalTree.findByStructureNode(e))}findByClassPath(e,t,n){return this.root.findByClassPath(e,t,n)}findByClassPaths(e){return this.root.findByClassPaths(e)}findAnyByClassName(e,n){return this.root.findAnyByClassName(e,t(n,this))}findByUuid(e){return this.root.findByUuid(e)}findChildrenByClassName(e){return this.root.findChildrenByClassName(e)}findChildByClassAndId(e,t){return this.root.findChildByClassAndId(e,t)}size(){let e=0;this.traverse((()=>{e++}));return e}isEmpty(){return 0===this.size()}traverse(e){this.root.traverse(e)}decorateNode(e){return new n(e,this.shouldShowItem)}decorateNodes(e){return e.filter((e=>this.isNodeDefinedAndShouldBeShown(e))).map((e=>this.decorateNode(e)))}isNodeDefinedAndShouldBeShown(e){return e&&this.shouldShowItem(e)}getDecoratedOrNull(e){return this.isNodeDefinedAndShouldBeShown(e)?this.decorateNode(e):null}}},2180:(e,t,n)=>{"use strict";function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function i(e,t,n){const r=(0,h.splitName)(t);let i=e.findChildByClassAndId(r.className,r.id);i||(i=e.addNode(r.className,r.id,n));return i}function o(e,t,n){const r=p.convertFromFqDN(t);let o=e.root.nodeMap.get(r);if(!o){const t=r.split("/");o=e;for(let e=1;e<t.length;e++)o=i(o,t[e],n)}return o}function s(e,t,n,r,i,s){const a=o(e,t,i);if(n||r!==a.payload){a.payload=r;a._parameters=n}a.metaUid=i;a.uuid=s;return a}function a(e,t){const n=p.convertFromFqDN(t),r=e.root.nodeMap.get(n);if(r){const t=r.parent;if(t){t.remove(r);e.root.nodeMap.delete(n);r.removeFromClassIndex();r.parent=null;r.root=null;const i=r.getChildren();for(let t=0;t<i.length;t++)a(e,i[t].distName)}}}var c=n(4994);Object.defineProperty(t,"__esModule",{value:!0});t.ImTree=void 0;var u=c(n(2543)),l=c(n(8488)),f=c(n(9679)),d=n(4636),h=n(2607),p=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(1190));class m{constructor(e,t=f.default,n=l.default){this.root=new d.Node(h.ROOT_CLASS);this.root.decoderService=e;this.root.nodeMap=new Map;this.root.classMap=new Map;this.root.classIndex=n;this.root.structureNode=t;this.root.root=this.root}find(e){return this.root.find(e)}findAll(e){return this.root.findAll(e)}findByDistName(e){const t=p.convertFromFqDN(e);return this.root.findByDistName(t)}findByClassName(e){return this.root.findByClassName(e)}findByIndexedClassName(e){const t=this.root.classIndex[e];t||(0,h.throwNotIndexedClassNameError)(e);const n=[];for(let e=0;e<t.length;e++){const r=this.root.classMap.get(t[e]);r&&n.push(...r)}return n}findFirstByIndexedClassName(e,t){const n=this.root.classIndex[e];n||(0,h.throwNotIndexedClassNameError)(e);for(let e=0;e<n.length;e++){const r=this.root.classMap.get(n[e]);if(r)for(let e=0;e<r.length;e++){const n=r[e];if(n&&(!t||t(n)))return n}}return null}findByClassQuery(e){return this.root.findByClassQuery(e)}findByClassPath(e,t,n){const r=this.root.findByClassPath(e);return u.default.isUndefined(n)?r:u.default.flatten(u.default.map(r,(e=>e.findByClassName(n,t))))}findByClassPaths(e){return this.root.findByClassPaths(e)}findAnyByClassName(e,t){return this.root.findAnyByClassName(e,t)}findByStructureNode(e){const t=this.root.classMap.get(e)||[],n=[];for(let e=0;e<t.length;e++)n[e]=t[e];return n}findByUuid(e){return this.root.findByUuid(e)}childrenIterator(){return this.root.childrenIterator()}findChildrenByClassName(e){return this.root.findChildrenByClassName(e)}findChildByClassAndId(e,t){return this.root.findChildByClassAndId(e,t)}addNode(e,t,n,r){return(e=e||this.root).addNode(t,n,r)}mergeNode(e,t,n,r,i){return s(this.root,e,t,n,r,i)}adjustNode(e,t,n,r){return function(e,t,n,r,i){const s=o(e,t,r);s.metaUid=r;s.uuid=i;if(n!==s.payload){s.payload=n;s._parameters=null;return!0}return!1}(this.root,e,t,n,r)}merge(e,t){return function(e,t,n){return s(e,t.distName,null,t.payload,n,t.uuid)}(this.root,e,t)}size(){return this.root.size()}isEmpty(){return 0===this.root.nodeMap.size}removeByDistName(e){return a(this.root,e)}removeByDistNames(e){return function(e,t){for(let n=0;n<t.length;n++)a(e,t[n])}(this.root,e)}traverse(e){this.root.traverse(e)}distNames(){const e=new Set;this.root.nodeMap.forEach(((t,n)=>{e.add(n)}));return e}printTree(){return this.root.printTree()}[Symbol.iterator](){return this.root[Symbol.iterator]()}}t.ImTree=m},5728:(e,t,n)=>{"use strict";const r=n(2104),i=n(5894),o="adminStorage-temporaryLogs",s="adminStorage-backupLogs",a=Symbol("getCopyOfStorageWithoutEndingComma"),c=Symbol("transferBackupLogs");e.exports=class{constructor(e,t="logs",n={},r=209715.2){this.sessionStart=(new Date).valueOf();this.logger=e.getLogger("logger");this.dbName=t;this.localStorage=n;this.lastSessionStart=this.localStorage.lastSessionStart?this.localStorage.lastSessionStart:this.sessionStart;this.localStorage.lastSessionStart=this.sessionStart;this.lastLastSessionStart=this.localStorage.lastLastSessionStart?this.localStorage.lastLastSessionStart:this.lastSessionStart;this.localStorage.lastLastSessionStart=this.lastSessionStart;this.callbacksStorage=[];this.seqNum=0;this.maxSize=r;this.db=i.openLogDatabase(t);this.dbReady=this.initTemporaryLogSpace()}getSessionStart(){return this.sessionStart}getLastSessionStart(){return this.lastSessionStart}getLastLastSessionStart(){return this.lastLastSessionStart}store(e){return this.dbReady.then((()=>{e._id=this.createId(e.timestamp);const t=`${JSON.stringify(e)},`;this.localStorage[o]=this.localStorage[o]?`${this.localStorage[o]}${t}`:`${t}`;return this.isTemporaryStorageFull()?this.transferMainLogs():r.resolve()})).then((()=>r.all(this.callbacksStorage.map((t=>t([e]))))))}isTemporaryStorageFull(){return this.getStorageSize(o)>this.maxSize}createId(e){this.seqNum++;return`${e.toString()}-${this.seqNum}`}fetchAll(){return this.transferMainLogs().then((()=>this.db.allDocs({include_docs:!0}))).then(this.prepareResponseFromIndexedDbToShowInJSON)}fetchByTimestamp(e,t){return this.transferMainLogs().then((()=>this.db.allDocs({startkey:e.toString(),endkey:(t+1).toString(),inclusive_end:!1,include_docs:!0}))).then(this.prepareResponseFromIndexedDbToShowInJSON)}fetchCurrentSession(){return this.fetchByTimestamp(this.sessionStart,(new Date).valueOf())}onStore(e){return this.dbReady.then((()=>this.fetchCurrentSession())).then((t=>{this.callbacksStorage.push(e);t.length>0&&e(t)}))}prepareLogsString(e,t){return this.fetchByTimestamp(e,t).then((e=>e.reduce(((e,t)=>`${e}${new Date(t.timestamp).toISOString()} ${t.level} ${t.logger} - ${t.messages.toString()}\n`),"")))}deleteAll(){this.dbReady=this.dbReady.then((()=>{this.setSpecifiedLocalStorageValueAsEmpty(o);this.setSpecifiedLocalStorageValueAsEmpty(s);return this.db.destroy()})).then((()=>{this.db=i.openLogDatabase(this.dbName)}));return this.dbReady}initTemporaryLogSpace(){this.isStorageNonExisting(o)&&this.setSpecifiedLocalStorageValueAsEmpty(o);this.isStorageNonExisting(s)&&this.setSpecifiedLocalStorageValueAsEmpty(s);return 0!==this.getStorageSize(s)?this[c]().then((()=>this.transferMainLogs())):0!==this.getStorageSize(o)?this.transferMainLogs():r.resolve()}[c](){return this.transferLogsFromLocalStorageToIndexedDb(s).then((()=>{this.setSpecifiedLocalStorageValueAsEmpty(s)}))}transferMainLogs(){if(0===this.getStorageSize(o))return r.resolve();this.localStorage[s]=this.localStorage[o];return this.transferLogsFromLocalStorageToIndexedDb(o).then((()=>{this.setSpecifiedLocalStorageValueAsEmpty(s)}))}transferLogsFromLocalStorageToIndexedDb(e){const t=this.prepareLogFromLocalStorage(e);this.setSpecifiedLocalStorageValueAsEmpty(e);return r.resolve(this.db.bulkDocs(t).catch((e=>{this.logger.error(`Error appeared when storing logs from local storage: ${e.message}`,e.error);return r.reject(new Error(`IndexedDB error: ${e.message}`))})))}prepareLogFromLocalStorage(e){const t=this[a](e);return JSON.parse(`[${t}]`)}[a](e){return this.localStorage[e].slice(0,-1)}prepareResponseFromIndexedDbToShowInJSON(e){return e.rows.map((e=>{const t=e.doc;return{session:t.session,logger:t.logger,timestamp:t.timestamp,level:t.level,messages:t.messages,exception:t.exception}}))}setSpecifiedLocalStorageValueAsEmpty(e){this.localStorage[e]=""}isStorageNonExisting(e){return!this.localStorage[e]}getStorageSize(e){return this.localStorage[e].length}prepareLocalStorageForSnapshot(e){if(0===this.getStorageSize(e))return r.resolve();const t=this.parseLogsFromLocalStorage(this.prepareLogFromLocalStorage(e));return r.resolve(t)}parseLogsFromLocalStorage(e){return e.reduce(((e,t)=>`${e}${new Date(t.timestamp).toISOString()} ${t.level} ${t.logger} - ${t.messages[0].toString()}\n`),"")}}},8975:(e,t,n)=>{"use strict";function r(e,t){if(e)return new a(o.LogService.instance,e,t);l||(l=new a(o.LogService.instance,e,t));return l}function i(e){function t(){}const n=e||r();t.prototype=new o.Appender;t.prototype.append=e=>{const t=n.store(c.createEventRecord(e,u));return t?t.catch((()=>{})):s.noop()};return new t}var o=n(5738);const s=n(2543),a=n(5728),c=n(5894);o.LogService.instance.config({level:o.LogLevel.ALL});const u=Date.now();let l;e.exports={getLogger:o.LogService.instance.getLogger,getRootLogger:o.LogService.instance.getRootLogger,Level:o.LogLevel,Appender:o.Appender,PatternLayout:o.PatternLayout,getLogStorage:r,newDbAppender:i,configure:function(e){if(e.dbName){l=r(e.dbName,e.localStorage);o.LogService.instance.getRootLogger().addAppender(i(l))}o.LogService.instance.getRootLogger().setLevel(e.level)},enableLogUncaughtErrors:function(e){e.addEventListener("error",(e=>{"ResizeObserver loop limit exceeded"!==e.message&&uncaughtError.error(`Application error: ${e.error?e.error.message:e.message}`,e.error?e.error:e)}))}}},5894:(e,t,n)=>{"use strict";function r(e){return e?{name:e.name,message:e.message,stack:e.stack}:null}const i=n(7919),o=n(2543);e.exports={createEventRecord:function(e,t){return{session:t,logger:e.logger.name,timestamp:e.timeStampInMilliseconds,level:e.level.name,messages:e.messages.map((e=>o.isNil(e)?`${e}`:e.toString())),exception:r(e.exception)}},openLogDatabase:function(e){return new i(e,{adapter:"idb",auto_compaction:!0})}}},3704:(e,t,n)=>{"use strict";const r=n(2543);e.exports={create:function(e){return r.map(e,(e=>{const t=r.transform(e.objects,((e,t)=>{e[t["@class"]]=t}),{});return{fileName:e.fileName,release:e.release,revision:e.revision,metaVersion:e.metaVersion,isExtended:e.isExtended,objectDefinitions:t}}))}}},2730:(e,t,n)=>{"use strict";function r(e,t){const n=f.parse(e.toString()),r=n.pdmeta||n.infoModel,o=r["@revision"],s=r["@release"],a=n.pdmeta?l.V1:l.V2,c=i.isArray(r.managedObject)?r.managedObject:[r.managedObject];return{fileName:t,metaVersion:a,revision:o,release:s,isExtended:!i.isUndefined(r[d]),objects:c}}const i=n(2543),o=n(2104),s=n(8975),a=n(5621),{XMLParser:c}=n(6454),u=s.getLogger("admin.core.metaReader"),l={V1:"pdmeta",V2:"infoModel"};e.exports={read:function(e){return new o(((t,n)=>{const i=[];a.unzipAll(e,((e,t,n,o)=>{if(!e.includes("sphinx")){u.debug(`processing file[${n}/${o}]: ${e}`);i.push(r(t,e))}}),(()=>{t(i)}),(e=>{u.debug(`error occurred during processing meta: ${e}`);n(e)}))}))},readText:function(e){return new o((t=>{t([r(e)])}))},versions:l};const f=new c({attributeNamePrefix:"@",textNodeName:"#text",ignoreAttributes:!1,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,trimValues:!0,parseTrueNumberOnly:!1,arrayMode:!1}),d="internal_values_encoding"},1809:(e,t,n)=>{"use strict";const r=n(5735),i=n(7083);e.exports=()=>{function e(e){!function(e){if(!n.get(e))throw new Error(`Invalid meta uid!: ${e}`)}(e);return n.get(e)}function t(e,t){for(let n=0;n<e.definitions.length;n++)if(e.definitions[n].objectDefinitions[t])return e.definitions[n];return null}const n=new Map;return{getTypeInfo:function(n,r){const o=e(n);let s=o.typeInfos[r];if(s)return s;const a=t(o,r);if(!a)return null;const c=a.objectDefinitions[r];s=i.newInstance(c,a.isExtended);o.typeInfos[r]=s;return s},setMetaDefinitions:function(e,t){const i=function(e){return r.hash(JSON.stringify(e))}(e),o={typeInfos:{},definitions:e,metaBuffer:t};n.set(i,o);return i},getMetaDefinition:function(n,r){const i=e(n);if(!i)return null;const o=t(i,r);return o?o.objectDefinitions[r]:null},getMetaBufferForUid:function(t){return e(t).metaBuffer},getMetaDefinitionsForUid:function(t){return e(t).definitions},getClassNamesForUid:function(t){return e(t).definitions.map((e=>e.objectDefinitions)).reduce(((e,t)=>{Object.keys(t).forEach((t=>e.push(t)));return e}),[])},clearOutdatedMetas:function(e){for(const t of n.keys())t!==e&&n.delete(t)},isEmpty:function(){return 0===n.size}}}},3790:(e,t,n)=>{"use strict";const r=n(2543),i=n(2104),o=n(3704),s=n(8975).getLogger("admin.core.metaService"),a={},c={},u={};e.exports=function({metaReader:e=n(2730),metaRepository:t=n(1809)}={}){function l(e,t){const n=o.create(e);d=p.setMetaDefinitions(n,t);h--;f=u;s.debug(`meta set #${d}`);return d}let f=a,d=null,h=0,p=t();return{setMeta:function(t){f=c;h++;return e.read(t).then((e=>l(e,t)))},setTextMeta:function(t){f=c;h++;return e.readText(t).then((e=>l(e,t)))},addMeta:function(t){return r.isUndefined(t)?i.reject(new Error("meta is not defined")):e.read(t).then((e=>{const n=o.create(e),r=p.setMetaDefinitions(n,t);s.debug(`meta added #${r}`);return r}))},isReady:function(){return f===u&&0===h},getMetaObject:function(e,t){return p.getMetaDefinition(e,t)},getTypeInfo:function(e,t){return p.getTypeInfo(e,t)},getLastMetaUid:function(){return d},getMetaBufferForUid:function(e){return p.getMetaBufferForUid(e)},getMetaDefinitionsForUid:function(e){return p.getMetaDefinitionsForUid(e)},clear:function(){f=a;p=t();d=null;h=0},getMetaRepository:function(){return p},started:function(){return f===c},clearOutdatedMetas:function(){d&&p.clearOutdatedMetas(d)},setMetaReader:function(t){e=t}}}},9812:(e,t,n)=>{"use strict";const r=n(2543);e.exports=function(){const e={};return{createMethod:(t,n,i)=>(...o)=>{const s=i||n;r.isUndefined(e[s])&&(e[s]=t[n](...o));return e[s]},createFunction:(t,n)=>(...i)=>{r.isUndefined(e[n])&&(e[n]=t(...i));return e[n]}}}},5461:(e,t,n)=>{"use strict";const r=n(2543),i=n(6610),o=n(8181).A,s=n(8364),a=n(5178),c=n(5330),u=n(5313),l=n(3526),f=n(3243),d=n(2195),{findRuntimeViewModel:h}=n(8577);e.exports={create({repositoryCacheContext:e,instanceIdFinder:t,imTree:n}){const p=i.create(t),m=e.createMethod(p,"provide","getRatRootModel"),g=e.createFunction((()=>c(m(n)[o.BTS])),"getHardwareReleases"),y=e.createFunction(r.wrap(n,a),"isMultiCoreUncommissioned"),_=e.createFunction(h(m,n),"getRuntimeViewModel"),v=e.createFunction(r.wrap(_,u),"getRmods"),E=e.createFunction(r.wrap(_,f),"findLogLinks"),S=e.createFunction(r.wrap(_,d),"findCabLinks"),b=e.createFunction((()=>1===n.findByIndexedClassName(s.RUNTIME_VIEW).length),"isSingleRuntimeView"),T=e.createFunction((()=>l(n,y)),"findSmods");return{getRatRootModel:m,getHardwareReleases:g,isMultiCoreUncommissioned:y,isSingleRuntimeView:b,getRuntimeViewModel:_,getRmods:v,getSmods:T,getLogLinks:E,getCabLinks:S}}}},2195:(e,t,n)=>{"use strict";const r=n(2543),i=n(8364);e.exports=function(e){const t=e();return t?r.chain(t.nodes).map(r.method("findByIndexedClassName",i.CABLINK)).flatten().value():[]}},5330:(e,t,n)=>{"use strict";const r=n(8181).A,i=n(9115);e.exports=function(e){const t=e.nodes&&e.nodes.reduce(((e,t)=>{e.push(t.findFirstByIndexedClassName(r.MODULES.SMOD));return e}),[]);return t&&t.map((e=>i.getHardwareRelease(e)))}},3243:(e,t,n)=>{"use strict";function r(e){return e.parent}const i=n(2543),o=n(8364),s=n(8181).A,a=n(8075);e.exports=function(e){const t=e();return t?i.chain(t.nodes).map(i.method("findByIndexedClassName",o.LOGLINK)).flatten().map((function(e){let t,n,r=e.root.findByDistName(e.getDecodedParameters().firstEndpointDN),i=e.root.findByDistName(e.getDecodedParameters().secondEndpointDN);if(!r||!i)return null;if(function(e,t){return e.className===o.RMOD&&t.className===o.RMOD}(r,i)){t=r;n=i;const o=function(e,t,n){const r=a.findRefNode(e.root,t),i=r&&r.findChildrenByClassName(s.CONNECTOR).find((t=>t.parameters.connectorLabel===e.parameters.loglinkName)),o=a.findRefNode(e.root,n),c=o&&o.findChildrenByClassName(s.CONNECTOR).find((e=>"AM"===e.parameters.connectorType));return i&&c?{sourceHardwareConnectorNode:i,targetHardwareConnectorNode:c}:null}(e,t,n);if(!o)return null;r=o.sourceHardwareConnectorNode;i=o.targetHardwareConnectorNode}else{t=c[r.className]?c[r.className](r):r;n=c[i.className]?c[i.className](i):i}return t&&n&&{node:e,connector:{sourceHardwareConnectorNode:r,targetHardwareNodeConnectorNode:i},hardware:{sourceHardwareNode:t,targetHardwareNode:n}}})).reject(i.isNil).value():[]};const c={RETU_R:r,LNA_R:r,ALD_R:e=>e,RSL_R:r,RAEU_R:r,ANTL_R:r,PHYANT_R:r,RMOD_R:r,SMOD_R:r,BBMOD_R:r}},8577:(e,t,n)=>{"use strict";const r=n(8364);e.exports={findRuntimeViewModel:function(e,t){return()=>function(e,t,n){const r=e(t)[n];return r&&r.currentNode?r:null}(e,t,r.RUNTIME_VIEW)}}},5313:(e,t,n)=>{"use strict";const r=n(2543),i=n(8364),o=n(1190);e.exports=function(e){const t=e();if(!t||!t.currentNode)return{allRmods:[],primeRmods:[],otherRmods:[]};const n=r.chain(t.nodes).map(r.method("findByIndexedClassName",i.RMOD)).flatten().value(),s=r.chain(n).groupBy((e=>e.getDecodedParameters().radioMasterDN&&"SMOD_R"===o.getClassName(e.getDecodedParameters().radioMasterDN)?"primeRmods":"otherRmods")).value();s.allRmods=n;return s}},3526:(e,t,n)=>{"use strict";const r=n(9592),i=n(8364);e.exports=function(e){const t=e.originalTree.findByIndexedClassName(i.SMOD),n=e.findByIndexedClassName(i.SMOD).reduce(((e,t)=>e.set(t.distName,t)),new Map),o=e.findByIndexedClassName(i.SMOD_EXT),s=new Map,a=new Set,c=o.reduce(((e,t)=>{const n=r.createDualCoreKey(t.getDecodedParameters());return e.set(n,t)}),new Map);return{matchedSmods:t.reduce((function(e,t){const i=r.createDualCoreKey(t.getDecodedParameters()),o=c.get(i),u=n.get(t.distName);if(o){s.set(o.distName,t.distName);a.add(o)}u&&e.push({primeNode:u,smodExtNode:o});return e}),[]),smodExtRNodes:o,matchedSmodExts:a,distNameMap:s}}},5178:(e,t,n)=>{"use strict";const r=n(4528);e.exports=function(e){const t=r.getBtsCommissionStatuses(e.originalTree);return t.everyMrbtsMUncommisioned&&t.detectedBTSCount>1}},2817:(e,t,n)=>{"use strict";const r=n(2543),i=n(9812),o=n(5461),s={multiCoreStatusProvider:n(9828),cabinetHardwareModelProvider:n(3021),smodHardwareModelProvider:n(1948),rmodHardwareModelProvider:n(2855),aldHardwareModelProvider:n(7148),cablinkHardwareModelProvider:n(5663),logLinkHardwareModelProvider:n(8307),alarmHardwareModelProvider:n(7810)},a={isMultiCoreUncommissioned:"multiCoreStatusProvider",isSingleRuntimeView:"multiCoreStatusProvider",getRuntimeViewModel:"multiCoreStatusProvider",getCabinetHardware:"cabinetHardwareModelProvider",getSmodHardware:"smodHardwareModelProvider",getSmodExtHardware:"smodHardwareModelProvider",getSmodPrimeMapping:"smodHardwareModelProvider",getSmodExtMatched:"smodHardwareModelProvider",getRmodHardware:"rmodHardwareModelProvider",getRmodPrimeMapping:"rmodHardwareModelProvider",getAlarms:"alarmHardwareModelProvider",getAldHardware:"aldHardwareModelProvider",getAldPrimeMapping:"aldHardwareModelProvider",getCablinkHardware:"cablinkHardwareModelProvider",getLogLinkHardware:"logLinkHardwareModelProvider",getHardwareReleases:"multiCoreStatusProvider"};e.exports={create:({instanceIdFinder:e})=>({createRepository(t){const n={},c={},u=i(),l=o.create({repository:n,repositoryCacheContext:u,instanceIdFinder:e,imTree:t});return function(e,t){const n=i();r.forEach(a,((r,i)=>{const o=t(r);e[i]=n.createMethod(o,i)}));return e}(n,(function(e){const r=s[e];c[e]||(c[e]=r.createProvider({providerContext:l,repository:n,imTree:t}));return c[e]}))}})}},9592:(e,t,n)=>{"use strict";function r(e,t){return e[t]&&o.hash(e[t].trim(),!0)||i.uniqueId(t)}const i=n(2543),o=n(5735),s=n(8975).getLogger("admin.core.multiCoreHardwareUtils");e.exports={createDualCoreKey:function(e){return`${r(e,"serialNumber")}`},createDualCoreKeyForRmod:function(e,t,n){const o=e.serialNumber&&e.serialNumber.trim(),a=t.macAddress&&t.macAddress.trim(),c=!i.isEmpty(o)&&o||!i.isEmpty(a)&&a;c||s.warn("Both serialNumber and macAddress are empty!");const u=n.find((e=>e.serialNumber===c||e.macAddress===c));if(u)return u;const l={serialNumber:o,macAddress:a,toString:()=>`${r(e,"serialNumber")}:${r(t,"macAddress")}`};n.push(l);return l}}},7810:(e,t,n)=>{"use strict";const r=n(8364),i=n(8181).A,o=n(1190);e.exports={createProvider:({imTree:e,repository:t,providerContext:n})=>({getAlarms:function(){const s=[[r.RMOD,t.getRmodPrimeMapping()],[r.SMOD,t.getSmodPrimeMapping()],[r.ALD,t.getAldPrimeMapping()]],a=e.findByIndexedClassName(i.FRI.ALARM).concat(e.findByIndexedClassName(i.ALARM)).filter((e=>e.getDecodedParameters().visibleForEM));return n.isMultiCoreUncommissioned()?a.filter((e=>{const{alarmingResourceDN:t}=e.getDecodedParameters();return!!t&&!s.some((function([e,n]){const r=o.getAncestorByClassName(t,e);return r&&n.has(r)}))})):a}})}},7148:(e,t,n)=>{"use strict";const r=n(2543),i=n(8364),o=n(9592);e.exports={createProvider:({providerContext:e,repository:t})=>({getAldHardware:function(){const t=e.getRuntimeViewModel();if(!t)return[];const n=r.chain(t.nodes).map(r.method("findByIndexedClassName",i.ALD)).flatten().value();if(!e.isMultiCoreUncommissioned())return r.chain(n).map((e=>({primeNode:e,nodes:[e]}))).value();const s=new Set(r.chain(e.getRmods().primeRmods||[]).map(r.property("distName")).value()),a=e.getLogLinks().filter((function(e){return s.has(e.hardware.sourceHardwareNode.distName)||s.has(e.hardware.targetHardwareNode.distName)})).reduce(((e,t)=>{e.add(t.hardware.sourceHardwareNode.distName);e.add(t.hardware.targetHardwareNode.distName);return e}),new Set);return r.chain(n).reduce((function(e,t){const n=o.createDualCoreKey(t.getDecodedParameters()),r=e[n]||{primeNode:t,nodes:[]};r.nodes.push(t);r.primeNode=a.has(t.distName)&&t||r.primeNode;e[n]=r;return e}),{}).values().value()},getAldPrimeMapping:function(){return t.getAldHardware().filter((e=>e.nodes.length>1)).reduce((function(e,t){t.nodes.filter(r.negate(r.matchesProperty("distName",t.primeNode.distName))).forEach((n=>{e.set(n.distName,t.primeNode.distName)}));return e}),new Map)}})}},3021:(e,t,n)=>{"use strict";const r=n(2543),i=n(8364);e.exports={createProvider:({providerContext:e})=>({getCabinetHardware:function(){function t(e){return e.findFirstByIndexedClassName(i.CABINET)}const n=e.getRuntimeViewModel();return n?e.isMultiCoreUncommissioned()&&!e.getHardwareReleases().includes(3)?function(){const e=t(n.currentNode);return e?[{primeNode:e,nodes:r.chain(n.nodes).map(t).reject(r.isNull).value()}]:[]}():function(){return r.chain(n.nodes).map(r.method("findByIndexedClassName",i.CABINET)).flatten().map((e=>({primeNode:e,nodes:[e]}))).value()}():[]}})}},5663:(e,t,n)=>{"use strict";const r=n(8364),i=n(1190),o=n(1918),s=n(2543);e.exports={createProvider:({providerContext:e,repository:t,imTree:n})=>({getCablinkHardware:function(){const a=o.isRelease3SingleCore(n),c=t.getRmodPrimeMapping(),u=e.getCabLinks(),l=t.getSmodPrimeMapping(),f=e.getRuntimeViewModel();return u.filter((function(t){function c(e){return e&&t.root.findByDistName(e)}const{cablinkType:u,firstEndpointDN:l,secondEndpointDN:d}=t.getDecodedParameters(),h=c(l),p=c(d);return!(!a&&!o.isDualCoreAndContainRelease3(n)&&"SRIOLink"===u||function(e,t){return!(e&&t)}(h,p))&&function(t,n){function o(){if(function(e,t){return 0===s.xor([e,t],[r.BBMOD,r.SMOD_EXT]).length}(t.className,n.className))return!0;const e=function(){return t.className===r.SMOD?t.distName:n.distName}();return i.isSubtree(f.currentNode.distName,e)}function a(e,t){return e&&t&&e.className!==r.SMOD&&e.className!==r.BBMOD&&t.className===r.SMOD_EXT}const c=t.className===r.SMOD_EXT||n.className===r.SMOD_EXT,u=!e.isMultiCoreUncommissioned()||e.isSingleRuntimeView(),l=a(t,n)||a(n,t);return!c||(u?l||o():!l&&o())}(h,p)})).map((e=>function({firstEndpointDN:t,secondEndpointDN:n}){function r(e){return l.get(e)||c.get(e)}const i=r(t)||t,o=r(n)||n;return{node:e,endpoint:{first:i,second:o}}}(e.getDecodedParameters()))).filter((({endpoint:{first:e,second:t}})=>e&&t))}})}},8307:(e,t,n)=>{"use strict";const r=n(8075),i=n(8181).A,o={ACTIVE:"Active",IDLE:"Idle",NOTSTORED:"NotStored",SINGLE:"Single"},s=n(2543);e.exports={createProvider({providerContext:e,repository:t}){function n(e,t,n,r){let i,o=e.root.findByDistName(t);if((null===t||void 0===t?void 0:t.indexOf("/RMOD_"))>-1&&r){var s;i=o.getDecodedParameters().connectorLabel;o=null===n||void 0===n||null===(s=n.findByClassPaths([["CONNECTOR_L"],["CONCENTRATOR_L"]]))||void 0===s?void 0:s.find((e=>e.getDecodedParameters().connectorLabel===i))}return o}return{getLogLinkHardware:function(){function a(e,t){var a,c,u,l;const f=function(e){const t=e.filter((function(e){return"Local"===e.getDecodedParameters().type}));return t.length>0&&t.every((e=>!function(e){return[o.NOTSTORED,o.SINGLE].includes(e.getDecodedParameters().storedRole)||s.isEmpty(e.getDecodedParameters().storedRole)}(e)))}(e.root.findByClassName("BTS_L")),d=r.findRefNode(e.root,e),h=r.findRefNode(e.root,t);let p;t.distName.indexOf("/RMOD")>-1&&f&&(p=r.findSecondaryRefNode(e.root,t));const m=null===d||void 0===d||null===(a=d.getDecodedParameters())||void 0===a?void 0:a.firstEndpointDN,g=null===d||void 0===d||null===(c=d.getDecodedParameters())||void 0===c?void 0:c.secondEndpointDN;if(null!==m&&void 0!==m&&m.includes(`${null===h||void 0===h?void 0:h.distName}/`)||null!==m&&void 0!==m&&m.includes(`${null===(u=p)||void 0===u?void 0:u.distName}/`)){const t=n(e,m,h,f),r=t&&(t.distName.indexOf("BBMOD_L")>-1||t.distName.indexOf("SMOD_L")>-1?i.INET_INTERFACE:i.SWITCH_ETH_INTERFACE),o=null===t||void 0===t?void 0:t.findChildrenByClassName(r);if(!s.isEmpty(o)){const e=o.map((e=>{var t;return null===e||void 0===e||null===(t=e.getDecodedParameters())||void 0===t?void 0:t.macAddress}));return e.length?e.join("\n"):null}}else if(null!==g&&void 0!==g&&g.includes(null===h||void 0===h?void 0:h.distName)||null!==g&&void 0!==g&&g.includes(null===(l=p)||void 0===l?void 0:l.distName)){const t=n(e,g,h,f),r=t&&(t.distName.indexOf("BBMOD_L")>-1||t.distName.indexOf("SMOD_L")>-1?i.INET_INTERFACE:i.SWITCH_ETH_INTERFACE),o=null===t||void 0===t?void 0:t.findChildrenByClassName(r);if(!s.isEmpty(o)){const e=o.map((e=>{var t;return null===e||void 0===e||null===(t=e.getDecodedParameters())||void 0===t?void 0:t.macAddress}));return e.length?e.join("\n"):null}}return null}const c=e.isMultiCoreUncommissioned(),u=e.getLogLinks();if(!c)return u.map((function({node:e,connector:t}){return{node:e,endpoint:{first:t.sourceHardwareConnectorNode.distName,second:t.targetHardwareNodeConnectorNode.distName,firstMacs:a(e,t.sourceHardwareConnectorNode),secondMacs:a(e,t.targetHardwareNodeConnectorNode)}}}));const l=t.getRmodPrimeMapping(),f=t.getAldPrimeMapping();return[...u.map((function({node:e,hardware:t,connector:n}){function r(e,t){return e===t.distName?i(e):function(e,t){return`${i(e)}/${t}`}(e,t.name)}function i(e){return l.get(e)||f.get(e)||e}return{node:e,hardware:t,endpoint:{first:r(t.sourceHardwareNode.distName,n.sourceHardwareConnectorNode),second:r(t.targetHardwareNode.distName,n.targetHardwareNodeConnectorNode),firstMacs:a(e,n.sourceHardwareConnectorNode),secondMacs:a(e,n.targetHardwareNodeConnectorNode)}}})).reduce((function(e,t){const n=function(e){return[e.endpoint.first,e.endpoint.second].sort().join(":")}(t);e.has(n)&&!function(e,t){return!l.has(e)&&!l.has(t)}(t.hardware.sourceHardwareNode.distName,t.hardware.targetHardwareNode.distName)||e.set(n,{node:t.node,endpoint:t.endpoint});return e}),new Map).values()]}}}}},9828:e=>{"use strict";e.exports={createProvider:({providerContext:e})=>({isMultiCoreUncommissioned:e.isMultiCoreUncommissioned,isSingleRuntimeView:e.isSingleRuntimeView,getHardwareReleases:e.getHardwareReleases,getRuntimeViewModel:e.getRuntimeViewModel})}},2855:(e,t,n)=>{"use strict";const r=n(2543),i=n(9592),o=n(8075);e.exports={createProvider:({providerContext:e,repository:t})=>({getRmodHardware:function(){const t=e.getRmods();return e.isMultiCoreUncommissioned()?function(){function e(e,t){const r=o.findRefNode(t.root,t),s=i.createDualCoreKeyForRmod(t.getDecodedParameters(),r&&r.getDecodedParameters()||{},n),a=e[s]||{primeNode:t,nodes:[]};a.nodes.push(t);e[s]=a;return e}const n=[],s=r.chain(t.primeRmods||[]).reduce(e,{}).value();return r.chain(t.otherRmods||[]).reduce(e,s).values().value()}():t.allRmods.map((e=>({primeNode:e,nodes:[e]})))},getRmodPrimeMapping:function(){return t.getRmodHardware().filter((e=>e.nodes.length>1)).reduce((function(e,t){t.nodes.filter(r.negate(r.matchesProperty("distName",t.primeNode.distName))).forEach((n=>{e.set(n.distName,t.primeNode.distName)}));return e}),new Map)}})}},1948:e=>{"use strict";e.exports={createProvider:({providerContext:e})=>({getSmodHardware:function(){return e.getSmods().matchedSmods},getSmodExtHardware:function(){const{smodExtRNodes:t,matchedSmodExts:n}=e.getSmods();return!e.isMultiCoreUncommissioned()||e.isSingleRuntimeView()?t:t.filter((e=>!n.has(e)))},getSmodPrimeMapping:function(){return e.getSmods().distNameMap},getSmodExtMatched:function(){return e.getSmods().matchedSmodExts}})}},1524:e=>{"use strict";function t(e){try{return Math.pow(10,/[.](\d*)/.exec(String(e))[1].length)}catch(e){return 1}}function n(e){return Number(String(e).replace(".",""))}e.exports={add:function(e,r){const i=t(e),o=t(r);return(n(e)*o+n(r)*i)/(i*o)},substract:function(e,r){const i=t(e),o=t(r);return(n(e)*o-n(r)*i)/(i*o)},multiply:function(e,r){const i=t(e),o=t(r);return n(e)*n(r)/(i*o)},divide:function(e,r){const i=t(e),o=t(r);return n(e)*o/(n(r)*i)}}},7440:e=>{"use strict";e.exports=Object.freeze({REQUESTED:"Requested",ACCEPTED:"Accepted",REJECTED:"Rejected",ENQUEUED:"Enqueued",COMPLETED:"Completed",ABORTED:"Aborted",FAILED:"Failed",isFinal(e){return e===this.REJECTED||e===this.COMPLETED||e===this.ABORTED||e===this.FAILED},isRunning(e){return e===this.REQUESTED||e===this.ACCEPTED||e===this.ENQUEUED},isSucceeding(e){return e===this.ACCEPTED||e===this.COMPLETED},isFailing(e){return e===this.REJECTED||e===this.FAILED||e===this.ABORTED}})},3985:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t["default"]=void 0;t["default"]={RESET_TO_TEST_DEDICATED:"RESET_TO_TEST_DEDICATED_IND",CONFIGURATION_RESET:"CONFIGURATION_RESET_IND",IM_SNAPSHOT:"GET_IM_SNAPSHOT_IND",GET_RAW_ALARM_HISTORY:"GET_RAW_ALARM_HISTORY_IND",SW_UPDATE:"SW_UPDATE_IND",SW_PRECHECK:"SW_PRECHECK_IND",SW_UPDATE_RESULT:"SW_UPDATE_RESULT",SW_UPDATE_ABORT:"SW_UPDATE_ABORT_IND",SW_INVENTORY:"SW_INVENTORY_IND",SW_ROLLBACK:"SW_ROLLBACK_IND",SNAPSHOT_PREPARE:"SNAPSHOT_PREPARE_IND",SNAPSHOT_COLLECT:"SNAPSHOT_COLLECT_IND",SNAPSHOT_CANCEL:"SNAPSHOT_CANCEL_IND",GET_SNAPSHOT_HISTORY_IND:"GET_SNAPSHOT_HISTORY_IND",GET_SCREL_HISTORY_IND:"GET_SCREL_HISTORY_IND",PLAN_VALIDATE:"PLAN_VALIDATE_IND",PLAN_ACTIVATE:"PLAN_ACTIVATE_IND",CANCEL_PROVISION:"PLAN_PROVISION_CANCEL_IND",GET_SW_DOWNLOAD_REPORT:"GET_SW_DOWNLOAD_REPORT_IND",GET_CONFIGURATION_IND:"GET_CONFIGURATION_IND",GET_SW_HISTORY_REPORT:"GET_SW_HISTORY_REPORT_IND",CHANGE_DAC_WORD:"CHANGE_DAC_WORD_IND",CHANGE_ETHERNET_PORT_SECURITY:"CHANGE_ETHERNET_PORT_SECURITY_IND",CHANGE_TEST_CLOCK_STATE:"CHANGE_TEST_CLOCK_STATE_IND",GET_RAD_PARAMS:"GET_RAD_PARAMS_IND",SET_RAD_PARAMS:"SET_RAD_PARAMS_IND",REMOVE_IND_CLASSNAME:"REMOVE_IND",VSWR_THRESHOLD_SET:"VSWR_THRESHOLD_SET_IND",VSWR_THRESHOLD_TUNING_START:"VSWR_THRESHOLD_TUNING_START_IND",VSWR_THRESHOLD_TUNING_STOP:"VSWR_THRESHOLD_TUNING_STOP_IND",START_COARSE_TUNING:"START_COARSE_TUNING_IND",CRL_UPDATE:"CRL_UPDATE_IND",DELETE_CERTIFICATE:"DEL_CERTIFICATE_IND",DELETE_EE_CERTIFICATE_CHAIN:"DELETE_EE_CERTIFICATE_CHAIN_IND",RESTORE_VENDOR_CERTIFICATE:"RESTORE_VENDOR_CERTIFICATE_IND",ADD_CERTIFICATE:"ADD_CERTIFICATE_IND",MACSEC_PSK_CONFIG:"MACSEC_PSK_CONFIGURATION_IND",FETCH_CRYPTO_SELF_TEST_REPORT:"FETCH_CRYPTO_SELF_TEST_REPORT_IND",CRYPTO_SELF_TEST:"CRYPTO_SELF_TEST_IND",CMP_KEY_UPDATE:"CMP_KEY_UPDATE_IND",CMP_INITIALIZE:"CMP_INITIALIZE_IND",CMP_CONFIG:"CMP_CONFIG_IND",CREDENTIALS:"CREDENTIALS",SET_IPSEC_PSK:"SET_IPSEC_PSK_IND",GET_FREQUENCY_HISTORY:"GET_FREQUENCY_HISTORY_IND",GET_CERTIFICATE_FILE_IND:"GET_CERTIFICATE_FILE_IND",RUN_BASH_COMMAND:"RUN_BASH_COMMAND_IND",USER_ACCOUNT_SET:"USER_ACCOUNT_SET_IND",MODIFY_SSH_USER:"MODIFY_SSH_USER_IND",MODIFY_WEB_SERVICE_USER_IND:"MODIFY_WEB_SERVICE_USER_IND",CHANGE_LOCAL_ACCOUNT_STATE:"CHANGE_LOCAL_ACCOUNT_STATE_IND",REMOTE_SNAPSHOT:"REMOTE_SNAPSHOT_IND",ALD_CONFIGURE:"ALD_CONFIGURE_IND",SET_ANGLE:"SET_ANGLE_IND",CALIBRATE:"CALIBRATE_IND",ACK:"ACK",NACK:"NACK",MAINTENANCE_DONE:"MAINTENANCE_DONE_IND",START_LTE_UPLINK_TEST_IND:"START_LTE_UPLINK_TEST_IND",STOP_LTE_UPLINK_TEST_IND:"STOP_LTE_UPLINK_TEST_IND",START_LTE_DOWNLINK_TEST_IND:"START_LTE_DOWNLINK_TEST_IND",STOP_LTE_DOWNLINK_TEST_IND:"STOP_LTE_DOWNLINK_TEST_IND",START_WCDMA_UPLINK_TEST_IND:"START_WCDMA_UPLINK_TEST_IND",STOP_WCDMA_UPLINK_TEST_IND:"STOP_WCDMA_UPLINK_TEST_IND",START_WCDMA_DOWNLINK_TEST_IND:"START_WCDMA_DOWNLINK_TEST_IND",STOP_WCDMA_DOWNLINK_TEST_IND:"STOP_WCDMA_DOWNLINK_TEST_IND",START_IP_CAPTURE_FILE_IND:"START_IP_CAPTURE_FILE_IND",START_IP_CAPTURE_STREAMING_IND:"START_IP_CAPTURE_STREAMING_IND",ABORT_IP_CAPTURE_FILE_GENERATION_IND:"ABORT_IP_CAPTURE_FILE_GENERATION_IND",STOP_IP_CAPTURE_FILE_IND:"STOP_IP_CAPTURE_FILE_IND",STOP_IP_CAPTURE_STREAMING_IND:"STOP_IP_CAPTURE_STREAMING_IND",CHANGE_EAC_STATE_IND:"CHANGE_EAC_STATE_IND",SET_AUTOCONNECTION_SITE_ID_IND:"SET_AUTOCONNECTION_SITE_ID_IND",SET_AUTOCONNECTION_TRANSPORT_PARAMS_IND:"SET_AUTOCONNECTION_TRANSPORT_PARAMS_IND",CLEAR_AUTOCONNECTION_PARAMETER_IND:"CLEAR_AUTOCONNECTION_PARAMETER_IND",CHANGE_AUTOCONFIGURATION_STATE_IND:"CHANGE_AUTOCONFIGURATION_STATE_IND",GENERATE_IP_CAPTURE_FILE_IND:"GENERATE_IP_CAPTURE_FILE_IND",ANTENNA_LINE_ONLINE_MONITORING_IND:"ANTENNA_LINE_ONLINE_MONITORING_IND",START_GSM_TEST_PATTERN_TEST_IND:"START_GSM_TEST_PATTERN_TEST_IND",STOP_GSM_TEST_PATTERN_TEST_IND:"STOP_GSM_TEST_PATTERN_TEST_IND",START_GSM_BCCH_TRANS_TEST_IND:"START_GSM_BCCH_TRANS_TEST_IND",STOP_GSM_BCCH_TRANS_TEST_IND:"STOP_GSM_BCCH_TRANS_TEST_IND",RFSNIFFING_COLLECT_IND:"RFSNIFFING_COLLECT_IND",RFSNIFFING_CANCEL_IND:"RFSNIFFING_CANCEL_IND",NEIGHBOR_NODE_IND:"NEIGHBOR_NODE_IND",GENERATE_CERTIFICATE_CSR_IND:"GENERATE_CERTIFICATE_CSR_IND",GET_CERTIFICATE_CSR_IND:"GET_CERTIFICATE_CSR_IND",START_GSM_TRAFFIC_TRACE_IND:"START_GSM_TRAFFIC_TRACE_IND",STOP_GSM_TRAFFIC_TRACE_IND:"STOP_GSM_TRAFFIC_TRACE_IND",START_TRX_MULTI_LOOP_TEST_IND:"START_GSM_MULTI_LOOP_TEST_IND",STOP_TRX_MULTI_LOOP_TEST_IND:"STOP_GSM_MULTI_LOOP_TEST_IND",START_EPIMC_CALIBRATION_IND:"START_EPIMC_CALIBRATION_IND",STOP_EPIMC_CALIBRATION_IND:"STOP_EPIMC_CALIBRATION_IND",SET_POWER_OUTPUT_PORT_STATE_IND:"SET_POWER_OUTPUT_PORT_STATE_IND",SET_NETWORK_SETTINGS_IND:"SET_NETWORK_SETTINGS_IND",SET_POWER_OUTPUT_PORT_CONFIG_IND:"SET_POWER_OUTPUT_PORT_CONFIG_IND",SET_POWER_OUTPUT_PORT_CONFIG_AND_STATE_IND:"SET_POWER_OUTPUT_PORT_CONFIG_AND_STATE_IND",START_L1_STREAMING_TRACE_IND:"START_L1_STREAMING_TRACE_IND",START_L2_STREAMING_TRACE_IND:"START_L2_STREAMING_TRACE_IND",STOP_L1_STREAMING_TRACE_IND:"STOP_L1_STREAMING_TRACE_IND",STOP_L2_STREAMING_TRACE_IND:"STOP_L2_STREAMING_TRACE_IND",COLLECT_L1_IQ_DATA_IND:"COLLECT_L1_IQ_DATA_IND",FETCH_L2_PROFILE_LIST_IND:"FETCH_L2_PROFILE_LIST_IND",CONFIGURE_L1_IQ_DATA_IND:"CONFIGURE_L1_IQ_DATA_IND",DISABLE_L1_IQ_DATA_CONFIGURATION_IND:"DISABLE_L1_IQ_DATA_CONFIGURATION_IND",PINGTEST_IND:"PINGTEST_IND",DOWNLOAD_NETWORK_CONFIGURATION_IND:"DOWNLOAD_NETWORK_CONFIGURATION_IND",ACTIVATE_NETWORK_CONFIGURATION_IND:"ACTIVATE_NETWORK_CONFIGURATION_IND",CNUM_CHANGE_STATE_IND:"CNUM_CHANGE_STATE_IND",FETCH_WIFI_SSD_IND:"FETCH_WIFI_SSD_IND",UPDATE_WIFI_SSD_IND:"UPDATE_WIFI_SSD_IND",BEAM_PATTERN_CHANGE_IND:"BEAM_PATTERN_CHANGE_IND",PERFORM_RF_TEST_IND:"PERFORM_RF_TEST_IND",GET_PNP_REPORT_IND:"GET_PNP_REPORT_IND",RESET_PORT_SWITCHOVER_IND:"RESET_PORT_SWITCHOVER_IND",SYNC_SSH_CONFIGURATION_IND:"SYNC_SSH_CONFIGURATION_IND",NETCONF_ACCOUNT_CONFIGURATION_IND:"NETCONF_ACCOUNT_CONFIGURATION_IND",CONFIGURE_CPLANE_TRACE_IND:"CONFIGURE_CPLANE_TRACE_IND",COLLECT_LTE_PRB_MEASUREMENT_IND:"COLLECT_LTE_PRB_MEASUREMENT_IND",CANCEL_LTE_PRB_MEASUREMENT_IND:"CANCEL_LTE_PRB_MEASUREMENT_IND",SET_RAD_DEBUG_PARAMETERS_IND:"SET_RAD_DEBUG_PARAMETERS_IND",FETCH_RAD_DEBUG_DOMAINS_IND:"FETCH_RAD_DEBUG_DOMAINS_IND",FETCH_RAD_DEBUG_PARAMETERS_IND:"FETCH_RAD_DEBUG_PARAMETERS_IND",LSS_ACCOUNT_SET_IND:"LSS_ACCOUNT_SET_IND",FETCH_SCRIPTS_IND:"FETCH_SCRIPTS_IND",LAUNCH_SCRIPT_IND:"LAUNCH_SCRIPT_IND",START_INTERFACE_MIRRORING_IND:"START_INTERFACE_MIRRORING_IND",STOP_INTERFACE_MIRRORING_IND:"STOP_INTERFACE_MIRRORING_IND",MODIFY_ALD_SELECTION_MODE_IND:"MODIFY_ALD_SELECTION_MODE_IND",FETCH_DIAGNOSTIC_CHECKPOINTS_IND:"FETCH_DIAGNOSTIC_CHECKPOINTS_IND",RUN_CUSTOMIZED_DIAGNOSTIC_CHECK_IND:"RUN_CUSTOMIZED_DIAGNOSTIC_CHECK_IND",RUN_FULL_DIAGNOSTIC_CHECK_IND:"RUN_FULL_DIAGNOSTIC_CHECK_IND",GET_DIAGNOSTIC_CHECK_REPORT_IND:"GET_DIAGNOSTIC_CHECK_REPORT_IND",DIAGNOSTIC_CHECK_COMPLETION_MONITORING_IND:"DIAGNOSTIC_CHECK_COMPLETION_MONITORING_IND",START_EMERGENCY_RESET_TIMER_IND:"START_EMERGENCY_RESET_TIMER_IND",GET_PORT_TIMINGS_IND:"GET_PORT_TIMINGS_IND",CNUM_UPDATE_IND:"CNUM_UPDATE_IND",GET_CELL_TIMINGS_IND:"GET_CELL_TIMINGS_IND",CLOSE_SESSIONS_IND:"CLOSE_SESSIONS_IND",CLOSE_WIFI_CLIENT_IND:"CLOSE_WIFI_CLIENT_IND",KILL_NETCONF_SESSION_IND:"KILL_NETCONF_SESSION_IND",QUERY_ACCOUNTS_FROM_RMODS_IND:"QUERY_ACCOUNTS_FROM_RMODS_IND",HW_RESET_IND:"HW_RESET_IND",PREPARE_REPLACEMENT_IND:"PREPARE_REPLACEMENT_IND",FINISH_REPLACEMENT_IND:"FINISH_REPLACEMENT_IND",ABORT_REPLACEMENT_IND:"ABORT_REPLACEMENT_IND",FETCH_DATA_DECODER_IND:"FETCH_DATA_DECODER_IND",FETCH_MIRRORING_MSG_LIST_IND:"FETCH_MIRRORING_MSG_LIST_IND",SET_TX_POWER_THRESHOLD_IND:"SET_TX_POWER_THRESHOLD_IND",TEST_RET_IND:"TEST_RET_IND",DOWNLOAD_SWCONFIG_IND:"DOWNLOAD_SWCONFIG_IND",CONFIGURE_WIFI_LMP_IND:"CONFIGURE_WIFI_LMP_IND",FETCH_LOCAL_USER_ACCOUNT_STATUS_REPORT_IND:"FETCH_LOCAL_USER_ACCOUNT_STATUS_REPORT_IND",FETCH_SUPPRESSED_ALARM_HISTORY_IND:"FETCH_SUPPRESSED_ALARM_HISTORY_IND"}},298:(e,t,n)=>{"use strict";function r(e,t,n,r,a,l){for(;r.remaining()>0;){const f=c(u(r)),d=_(n,f.getFieldNumber()),p=d.getName();d.isOperation()&&(e[p]=d.createEmptyParameters());try{t[p]=t[p]||{};const i=t[p];if(d.isArray())if(d.isPackedArray()&&2===f.getWireType())o(r,e[p],d);else if(d.isSimple()){const t=h(n,p,r,f,d,a,l);e[p].push(t)}else d.isComplex()&&s(e[p],i,r,f,d);else d.isSimple()?e[p]=h(n,p,r,f,d,a,l):d.isComplex()&&s(e[p],i,r,f,d)}catch(e){i(n,p,e)}}}function i(e,t,n,r=!0){e.getClassName?E.error(`Failed to decode parameter "${t}" of object of class "${e.getClassName()}`):E.error(`Failed to decode parameter "${e.getName()}.${t}`);if(r)throw n}function o(e,t,n){const r=e.readVarint64().toNumber(),i=e.slice(e.offset,e.offset+r),o=function(e){return e.isBoolean()?function(e){return f(e)}:e.isEnum()?function(t){return d(t,e)}:e.isSignedInteger()?function(t){return y(e.getEditing(),t)}:e.isInteger()?function(t){return m(e,t)}:e.isFloat()?function(t){return p(e.getEditing(),t)}:e.isLong()?function(t){return g(e,t)}:null}(n);for(;i.remaining()>0;)t.push(o(i));e.skip(r)}function s(e,t,n,i,o){const s=function(e,t,n){const r=t.getWireType();if(n.isComplex()&&2===r)return u(e);throw new Error(`Invalid type! expected=2 actual=${r}`)}(n,i,o),a=n.copy(n.offset,n.offset+s);if(o.isArray()){const n=o.createEmptyParameters();r(n,t,o,a);e.push(n)}else r(e,t,o,a);n.skip(s)}function a(e,t,n){t.getParameters()&&t.getParameters().forEach((t=>{!function(t){const r=t.getName(),i=e[r];if(t.isMandatory()&&!i)throw new Error(`Missing mandatory parameter '${r}' of ${n}`);(t.isMandatory()||i)&&a(i,t,n)}(t)}))}function c(e){return{getFieldNumber:function(){return e>>>3},getWireType:function(){return 7&e}}}function u(e){return e.readVarint64().toNumber()}function l(e,t,n){let r="N/A";try{r=n.readVString()}catch(r){let o=n.offset;const s=n.readVarint32(o);o+=s.value+s.length;n.offset=o;i(e,t,r,!1);E.error(`${t} is restored to N/A because of unreadable string (${r.message}) decode error`)}return r}function f(e){return 0!==u(e)}function d(e,t){const n=u(e),r=t.getEnumText(n);if(!r)throw new Error(`Unknown enum value![name=${t.getName()}, value=${n}]`);return r}function h(e,t,n,r,i,o,s){const a=r.getWireType();if(i.isBoolean()&&0===a)return f(n);if(i.isEnum()&&0===a)return d(n,i);if(i.isInteger()&&0===a)return m(i,n);if(i.isLong()&&0===a)return g(i,n);if(i.isSignedInteger()&&0===a)return y(i.getEditing(),n);if(i.isString()&&2===a)return l(e,t,n);if(i.isObjectId()&&2===a)return function(e,t,n,r){e.mark();const i=e.readVarint64().toNumber(),o=e.offset,s=e.toHex(o,o+i),a=t.findByUuid(s)||t.findByUuid(r);let c=a&&a.distName;if(c)e.skip(i);else{e.reset();try{c=e.readVString()}catch(t){E.info(`Parameter ${n.getName()} cannot be decoded due to lack of information in ims2 loaded from external source.`);e.skip(e.readVarint64().toNumber());return""}}return c}(n,o,i,s);if(i.isFloat()){if(5===a)return function(e,t){return S.applyEditing(e,function(e){e.LE();try{return e.readFloat32()}finally{e.BE()}}(t))}(i.getEditing(),n);if(1===a)return p(i.getEditing(),n)}throw new Error(`Wrong wire type! ${a}`)}function p(e,t){return S.applyEditing(e,function(e){e.LE();try{return e.readFloat64()}finally{e.BE()}}(t))}function m(e,t){return S.applyIntegerValueEditing(e,t.readVarint64())}function g(e,t){return S.applyLongValueEditing(e,t.readVarint64())}function y(e,t){return S.applyEditing(e,t.readVarint64ZigZag())}function _(e,t){const n=e.getParameterById(t);if(n)return n;if(e.isDeprecatedById(t))throw new Error(`Deprecated operation with name: ${e.getDeprecatedNameById(t)} in use.`);throw new Error(`Unknown parameter/operation with id = ${t}`)}const v=n(8264),E=n(8975).getLogger("admin.core.protoDecoder"),S=n(9382);e.exports=()=>({decode:function(e,t,n,i){const o=e.createEmptyParameters();if(t.byteLength<=0)return o;const s=function(e){const t=v.wrap(e);t.BE();return t}(t),c={};r(o,c,e,s,n,i);a(c,e,e.getClassName());return o},validate:a,readString:l,getTypeInfoForId:_})},9382:(e,t,n)=>{"use strict";function r(e,{divisor:t,multiplicand:n,shift:r}){let i;i=Number.isInteger(e)&&Number.isInteger(t)&&Number.isInteger(n)?e/t*n:a.multiply(a.divide(e,t),n);return Number.isInteger(r)&&Number.isInteger(i)?i+r:a.add(i,r)}function i(e){return{divisor:e.divisor?e.divisor:1,multiplicand:e.multiplicand?e.multiplicand:1,shift:e.shift?e.shift:0}}const o=n(5017),s=n(2543),a=n(1524);e.exports={applyLongValueEditing:function(e,t){const n=e.getEditing(),r=n&&i(n),a=r?function(e,{divisor:t,multiplicand:n,shift:r}){return e.div(t).mul(n).add(r)}(t,r):t;return s.gt(e.getRange().max,o.MAX_VALUE.toString())?a.toUnsigned():a},applyIntegerValueEditing:function(e,t){const n=e.getEditing(),o=n&&i(n);let s=t.toNumber();Number.isInteger(s)&&!Number.isSafeInteger(s)&&t.toString&&(s=t.toString());return o?r(s,o):s},applyEditing:function(e,t){let n=t.toNumber?t.toNumber():t;Number.isInteger(n)&&!Number.isSafeInteger(n)&&t.toString&&(n=t.toString());return e?r(n,i(e)):n},removeEditing:function(e,t){if(!e)return t;if(o.isLong(t))return function(e,{divisor:t,multiplicand:n,shift:r}){return e.sub(r).mul(t).div(n)}(t,i(e));e.shift&&(t=Number.isInteger(t)&&Number.isInteger(e.shift)?t-e.shift:a.substract(t,e.shift));e.divisor&&(t=Number.isInteger(t)&&Number.isInteger(e.divisor)?t*e.divisor:a.multiply(t,e.divisor));e.multiplicand&&(t=Number.isInteger(t)&&Number.isInteger(e.multiplicand)?t/e.multiplicand:a.divide(t,e.multiplicand));return Math.round(t)},addEditingToNumber:r}},6858:e=>{"use strict";e.exports={RAT_LEVELS:{LTE:"LTE",LTE_TDD:"LTE_TDD",LTE_FDD:"LTE_FDD",SRAN:"SRAN",_5G:"_5G",_5GExperimental:"_5GExperimental",_5GDU:"_5GDU",TETRA:"TETRA"}}},5398:(e,t,n)=>{"use strict";const{getLogger:r}=n(8975),i=r("admin.core.rat.ratService"),o=n(6858).RAT_LEVELS;e.exports={newInstance:function(){function e(){return r===o._5GDU}function t(e){return!n[r]||!n[r].includes(e)}const n={};let r=o.SRAN;return{RAT_LEVELS:o,setRatLevel:function(e){if(!o.hasOwnProperty(e))throw new Error("Tried to set unknown rat level");i.info(`Rat level set to ${e}`);r=e},getRatLevel:function(){if(o.hasOwnProperty(r))return o[r];throw new Error("Tried to get unknown rat level")},isTetraRat:function(){return r===o.TETRA},is5GRat:function(){return r===o._5G||e()},isSRANRat:function(){return r===o.SRAN},is5GExperimentalRat:function(){return r===o._5GExperimental||e()},is5GDURat:e,isSupportedInCurrentRat:function(e){return!e.some((e=>n[r]&&n[r].includes(e)))},isRouteIdValid:t,isFeatureValid:t,excludeFeature:function({rat:e=o.LTE,featureKeys:t}){t.forEach((t=>{n[e]&&!n[e].includes(t)?n[e].push(t):n[e]=[t]}))}}}}},6642:(e,t,n)=>{"use strict";e.exports={newInstance:function(){function e(){(0,n[0])().then(t).catch((e=>{i.error(e);return t()}))}function t(){n.shift();n.length>0&&e()}const n=[];return{promisifyFunction:function(t,i){return function(...o){const s=r.pending();!function(){n.push((()=>{try{const e=i.apply(t,o);!function(e){return e instanceof r}(e)?s.resolve(e):function(e,t){e.then((e=>{t.resolve(e)})).catch((e=>{t.reject(e)}))}(e,s)}catch(e){s.reject(e)}return s.promise}));1===n.length&&e()}();return s.promise}}}}};const r=n(2104),i=n(8975).getLogger("admin.core.sequentialExecutor");r.config({warnings:!1})},404:(e,t,n)=>{"use strict";e.exports=function({localStorage:e,imAuth:t,featureFlag:n}){function o(){return!!s.isEnabledManagementOfForFutureUseParameters}let s=e.settings;s||function(){e.settings={updateInterval:i.getUpdateInterval(),isDebugLoggerLevel:i.getLoggerDebugLevel(),defaultScreenLockTimeout:i.getScreenLockTimeout()};s=e.settings}();s.defaultScreenLockTimeout=i.getScreenLockTimeout();s.newScreenLockTimeout=s.newScreenLockTimeout||i.getScreenLockTimeout();if(n){n.featureFlag||(n.featureFlag={});Object.assign(n.featureFlag,{SHOW_FUTURE_FEATURE:!!s.isEnabledManagementOfForFutureUseParameters})}return{getUpdateInterval:function(){return s.updateInterval},setUpdateInterval:function(e){s.updateInterval=e},getLoggerDebugLevel:function(){return s.isDebugLoggerLevel},setLoggerDebugLevel:function(e){s.isDebugLoggerLevel=e},equals:function(e){return r.isEqual(s,e)},get:function(){return s},getVisibilityForFutureFeaturesParameters:o,setVisibilityForFutureFeaturesParameters:function(e){s.isEnabledManagementOfForFutureUseParameters=e;if(n){n.featureFlag||(n.featureFlag={});Object.assign(n.featureFlag,{SHOW_FUTURE_FEATURE:e})}},isFutureFeatureInRdMode:function(){const e=t.getLoginInfo(),n=e&&(t.isRndMode()&&t.isSystemUser()||"readonly"===e.profile.toLowerCase()),r=o();return n&&r},getDefaultScreenLockTimeout:function(){return s.defaultScreenLockTimeout},setDefaultScreenLockTimeout:function(e){s.defaultScreenLockTimeout=e},setLocalStorageScreenLockTimeout:function(e){s.newScreenLockTimeout=e},getLocalStorageScreenLockTimeout:function(){return s.newScreenLockTimeout}}};const r=n(2543),i=n(4554)},4554:(e,t,n)=>{"use strict";e.exports={getUpdateInterval:function(){return r.getDefaultUpdateIntervalMs()},getScreenLockTimeout:function(){return i},getVisibilityForFutureFeaturesParameters:function(){return!1},appLanguageKey:function(){return o},getLoggerDebugLevel:function(){return s}};const r=n(821),i=15,o="en",s=!1},8449:e=>{"use strict";e.exports={SUCCESS:1,INVALID_UNSPECIFIED:2,SESSIONS_LIMIT_EXCEEDED:3,ACCESS_LIMITED:4}},8500:e=>{"use strict";e.exports=Object.freeze({MESSAGE_TYPE_SIZE:2,SMALL_MESSAGE_PAYLOAD_SIZE:253,MEDIUM_MESSAGE_PAYLOAD_SIZE:65535,MEDIUM_MESSAGE_MARKER:254,BIG_MESSAGE_MARKER:255,SOAMIF_VERSION:"1.7.0",SOAMIF_VERSION_ENCODE:"6a154fe077b0d71fab747079562e97ff",ESTABLISH_SESSION:0,SESSION_ESTABLISHED:1,DISCONNECT:2,LOGIN_REQUEST:3,LOGIN_RESPONSE:4,FILE_LOAD_REQUEST:11,FILE_LOAD_PREPARE:12,FILE_LOAD_COMPLETED:13,CONTENT_READY_INDICATION:21,CONTENT_TRANSMISSION_REQUEST:22,CONTENT_TRANSMISSION:23,CONTENT_TRANSMISSION_COMPLETED:24,FILE_TRANSMISSION_REQUEST:28,FILE_TRANSMISSION_RESPONSE:29,RESTRICTED_ACCESS_REQUEST:6,RESTRICTED_ACCESS_RESPONSE:7,ACK:31,SYNC:32,RESUME:33,TRANSACTION_END:34,HEARTBEAT:35,VERSION_REQUEST:36,VERSION_RESPONSE:37,IM_CONTENT:38,FAULT_SIMULATION_REQUEST:40,DATA_NOTIF:52,ROLE_BASE_ACCESS_CONTROL_RESPONSE:53,ORIGINATOR:{WEB_EM:1,BTS_CLI:2},LOGIN_METHOD:{LOGIN_BASED:"LOGIN_BASED",TOKEN_BASED:"TOKEN_BASED"},toString(e){const t=this;return Object.keys(t).find((n=>t[n]===e))}})},8220:(e,t,n)=>{"use strict";const r=n(8500),i=r.MESSAGE_TYPE_SIZE;e.exports={newInstance:function(e){return{decode:function(t){const n=new DataView(t);let o=0;const s=function(){return n.getInt16(0)}(),a=function(){const e=n.getUint8(i);if(e<254){o=1;return e}if(254===e){o=3;return n.getUint16(i+1)}if(255===e){o=5;return n.getUint32(i+1)}return null}();return function(){const n=e.getMessageById(s)(),c=t.slice(i+o);if(c.byteLength!==a)throw new Error(function(){return`Read PLength (${a}) is different than actual bytes in stream ${c.byteLength} for ${r.toString(n.getId())}`}());n.setBuffer(c);return n}()}}}}},9270:(e,t,n)=>{"use strict";const r=n(8500);e.exports={newInstance:function(e){return{newMessage:function(t){const n=e.getMessageById(t)();return Object.assign(n,{build:function(){const e=n.getBuffer(),i=function(){const t=e.byteLength;let n;if(t>r.SMALL_MESSAGE_PAYLOAD_SIZE)if(t>r.MEDIUM_MESSAGE_PAYLOAD_SIZE){n=new DataView(new ArrayBuffer(5));n.setInt8(0,r.BIG_MESSAGE_MARKER);n.setInt32(1,t)}else{n=new DataView(new ArrayBuffer(3));n.setInt8(0,r.MEDIUM_MESSAGE_MARKER);n.setInt16(1,t)}else{n=new DataView(new ArrayBuffer(1));n.setInt8(0,t)}return n.buffer}(),o=new ArrayBuffer(r.MESSAGE_TYPE_SIZE+i.byteLength+e.byteLength);!function(){new DataView(o).setInt16(0,t)}();!function(){new Uint8Array(o).set(new Uint8Array(i),r.MESSAGE_TYPE_SIZE)}();!function(){new Uint8Array(o).set(new Uint8Array(e),r.MESSAGE_TYPE_SIZE+i.byteLength)}();return o}})}}}}},4805:(e,t,n)=>{"use strict";function r(e,t){const n=t.encode(e).finish();return n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}function i(e,t){const n=new Uint8Array(t);return e.decode(n)}const o=n(8500),s=n(2543),a=n(5017);e.exports={createMessages:function(){function e(){const e=m.EstablishSession;let t=d(e);const n={getId:()=>o.ESTABLISH_SESSION,setHeader:e=>{t.header=e;return n},getHeader:()=>t.header,setSessionType:e=>{t.sessionType=e;return n},getSessionType:()=>t.sessionType,setPreviousSessionId:e=>{t.previousSessionId=e;return n},getPreviousSessionId:()=>t.previousSessionId,setClientVersion:e=>{t.clientVersion=e;return n},getClientVersion:()=>t.clientVersion,setClientVersionHash:e=>{t.clientVersionHash=e;return n},getClientVersionHash:()=>t.clientVersionHash,setUpdateIntervalMin:e=>{t.updateIntervalMin=e;return n},getUpdateIntervalMin:()=>t.updateIntervalMin,setHeartbeatInterval:e=>{t.heartbeatInterval=e;return n},getHeartbeatInterval:()=>t.heartbeatInterval,setHeartbeatLostThreshold:e=>{t.heartbeatLostThreshold=e;return n},getHeartbeatLostThreshold:()=>t.heartbeatLostThreshold,setFileSizeThresholdInKB:e=>{t.fileSizeThresholdInKB=e;return n},getFileSizeThresholdInKB:()=>t.fileSizeThresholdInKB,setHttpSessionId:e=>{t.httpSessionId=e;return n},getHttpSessionId:()=>t.httpSessionId,getBuffer:()=>r(t,e),setBuffer:n=>{t=i(e,n)}};return n}function t(){const e=m.SessionEstablished;let t=d(e);const n={getId:()=>o.SESSION_ESTABLISHED,setHeader:e=>{t.header=e;return n},getHeader:()=>t.header,setAssignedSessionId:e=>{t.successResp||(t.successResp={});t.successResp.assignedSessionId=e;return n},getAssignedSessionId:()=>t.successResp.assignedSessionId,setSessionObjectDistname:e=>{t.successResp||(t.successResp={});t.successResp.sessionObjectDistname=e;return n},getSessionObjectDistname:()=>t.successResp.sessionObjectDistname,setEmbeddedClientVersion:e=>{t.successResp||(t.successResp={});t.successResp.embeddedClientVersion=e;return n},getEmbeddedClientVersion:()=>t.successResp.embeddedClientVersion,setEmbeddedClientVersionHash:e=>{t.successResp||(t.successResp={});t.successResp.embeddedClientVersionHash=e;return n},getEmbeddedClientVersionHash:()=>t.successResp.embeddedClientVersionHash,setUpdateIntervalMin:e=>{t.successResp||(t.successResp={});t.successResp.updateIntervalMin=e;return n},getUpdateIntervalMin:()=>t.successResp.updateIntervalMin,setHeartbeatInterval:e=>{t.successResp||(t.successResp={});t.successResp.heartbeatInterval=e;return n},getHeartbeatInterval:()=>t.successResp.heartbeatInterval,setHeartbeatLostThreshold:e=>{t.successResp||(t.successResp={});t.successResp.heartbeatLostThreshold=e;return n},getHeartbeatLostThreshold:()=>t.successResp.heartbeatLostThreshold,setFileSizeThresholdInKB:e=>{t.successResp||(t.successResp={});t.successResp.fileSizeThresholdInKB=e;return n},getFileSizeThresholdInKB:()=>t.successResp.fileSizeThresholdInKB,setResult:e=>{t.result=e;return n},getResult:()=>t.result,setResultDescription:e=>{t.resultDescription=e;return n},getResultDescription:()=>t.resultDescription,getBuffer:()=>r(t,e),setBuffer:n=>{t=i(e,n)}};return n}function c(){const e=m.IMContent;let t=d(e);const n={getId:()=>o.IM_CONTENT,setHeader:e=>{t.header=e;return n},getHeader:()=>t.header,getTimestamp:()=>{const e=t.header.timestamp;return new a(e.low,e.high,e.unsigned).toNumber()},setConfirmedAck:e=>{t.header.ackInfo={ackSeq:e,confirmation:m.ConfirmationStatus.ACK};return n},setSeq:e=>{t.seq=e;return n},getSeq:()=>t.seq,setTransactionId:e=>{t.transactionId=e;return n},getTransactionId:()=>t.transactionId,setUpdates:e=>{t.updates=e;return n},getUpdates:()=>t.updates,setLastInTransaction:e=>{t.isLastInTransaction=e;return n},isLastInTransaction:()=>t.isLastInTransaction,setUrgent:e=>{t.isUrgent=e;return n},isUrgent:()=>t.isUrgent,getBuffer:()=>r(t,e),setBuffer:n=>{t=i(e,n)}};return n}function u(){const e=m.Heartbeat;let t=d(e);const n={getId:()=>o.HEARTBEAT,setHeader:e=>{t.header=e;return n},getHeader:()=>t.header,setConfirmedAck:e=>{t.header.ackInfo={ackSeq:e,confirmation:m.ConfirmationStatus.ACK};return n},getAckInfo:()=>t.header.ackInfo,getBuffer:()=>r(t,e),setBuffer:n=>{t=i(e,n)}};return n}function l(){const e=m.FaultSimulationRequest;let t=d(e);const n={getId:()=>o.FAULT_SIMULATION_REQUEST,setHeader:e=>{t.header=e;return n},getHeader:()=>t.header,setSicPayload:e=>{t.sicPayload=e;return n},getSicPayload:()=>t.sicPayload,getBuffer:()=>r(t,e),setBuffer:n=>{t=i(e,n)},setConfirmedAck:e=>{t.header.ackInfo={ackSeq:e,confirmation:m.ConfirmationStatus.ACK};return n}};return n}function f(){const e=m.Sync;let t=d(e);const n={getId:()=>o.SYNC,setHeader:e=>{t.header=e;return n},getHeader:()=>t.header,setType:e=>{t.type=m.SyncType[e];return n},getType:()=>t.type,setTransactionId:e=>{t.transactionId=e;return n},getTransactionId:()=>t.transactionId,setUrgent:e=>{t.isUrgent=e;return n},isUrgent:()=>t.isUrgent,setPull:e=>{t.isPull=e;return n},getBuffer:()=>r(t,e),setBuffer:n=>{t=i(e,n)}};return n}function d(e){return e.create({header:{timestamp:Date.now()}})}function h(){const e=m.FileTransmissionRequest;let t=d(e);const n={getId:()=>o.FILE_TRANSMISSION_REQUEST,setHeader:e=>{t.header=e;return n},getHeader:()=>t.header,setFileTransferInfo:e=>{t.fileTransferInfo=e;return n},getFileTransferInfo:()=>t.fileTransferInfo,setFileId:e=>{s.set(t,"fileTransferInfo.fileId",e);return n},getFileId:()=>s.get(t,"fileTransferInfo.fileId"),setRelativePath:e=>{s.set(t,"fileTransferInfo.relativePath",e);return n},getRelativePath:()=>s.get(t,"fileTransferInfo.relativePath"),setOperationFetch:()=>{s.set(t,"fileTransferInfo.operation",m.FileTransmissionRequest.FileTransferInfo.FileTransferDirection.Fetch);return n},setOperationStore:()=>{s.set(t,"fileTransferInfo.operation",m.FileTransmissionRequest.FileTransferInfo.FileTransferDirection.Store);return n},getOperation:()=>s.get(t,"fileTransferInfo.operation"),setSize:e=>{s.set(t,"fileTransferInfo.size",e);return n},getSize:()=>{const e=s.get(t,"fileTransferInfo.size");return e?new a(e.low,e.high,e.unsigned).toNumber():e},setSwFilePath:e=>{s.set(t,"fileTransferInfo.swFilePath",e);return n},getSwFilePath:()=>s.get(t,"fileTransferInfo.swFilePath"),setTokenId:e=>{s.set(t,"fileTransferInfo.tokenId",e);return n},getTokenId:()=>s.get(t,"fileTransferInfo.tokenId"),getBuffer:()=>r(t,e),setBuffer:n=>{t=i(e,n)}};return n}function p(){const e=m.FileTransmissionResponse,t={};let n=d(e);t.getId=()=>o.FILE_TRANSMISSION_RESPONSE;t.setHeader=e=>{n.header=e;return t};t.getHeader=()=>n.header;t.setStatusSucceeded=()=>{s.set(n,"status",m.FileTransmissionResponse.TransmissionStatus.SUCCEEDED);return t};t.setStatusFailed=()=>{s.set(n,"status",m.FileTransmissionResponse.TransmissionStatus.FAILED);return t};t.getStatus=()=>s.get(n,"status");t.getBuffer=()=>r(n,e);t.setBuffer=t=>{n=i(e,t)};t.setFileId=e=>{s.set(n,"fileId",e);return t};t.getFileId=()=>s.get(n,"fileId");t.setRelativePath=e=>{s.set(n,"relativePath",e);return t};t.getRelativePath=()=>s.get(n,"relativePath");return t}const m=n(2019).com.nokia.soam.soamif,g=new Map;g.set(o.ESTABLISH_SESSION,e);g.set(o.SESSION_ESTABLISHED,t);g.set(o.IM_CONTENT,c);g.set(o.HEARTBEAT,u);g.set(o.SYNC,f);g.set(o.FAULT_SIMULATION_REQUEST,l);g.set(o.FILE_TRANSMISSION_REQUEST,h);g.set(o.FILE_TRANSMISSION_RESPONSE,p);g.set(o.RESTRICTED_ACCESS_REQUEST,(function(){const e=m.RestrictedAccessRequest,t={};let n=d(e);t.getId=()=>o.RESTRICTED_ACCESS_REQUEST;t.setHeader=e=>{n.header=e;return t};t.getHeader=()=>n.header;t.setAccessType=e=>{s.set(n,"accessType",e);return t};t.getAccessType=()=>s.get(n,"accessType");t.getBuffer=()=>r(n,e);t.setBuffer=t=>{n=i(e,t)};t.setReason=e=>{s.set(n,"reason",e);return t};t.getReason=()=>s.get(n,"reason");t.setTimer=e=>{s.set(n,"timer",e);return t};t.getTimer=()=>s.get(n,"timer");return t}));g.set(o.RESTRICTED_ACCESS_RESPONSE,(function(){const e=m.RestrictedAccessResponse,t={};let n=d(e);t.getId=()=>o.RESTRICTED_ACCESS_RESPONSE;t.setHeader=e=>{n.header=e;return t};t.getHeader=()=>n.header;t.getBuffer=()=>r(n,e);t.setBuffer=t=>{n=i(e,t)};t.setRestrictedAccessFailed=()=>{s.set(n,"accessResult",m.RestrictedAccessResponse.AccessResult.FAILED);return t};t.setRestrictedAccessSucceeded=()=>{s.set(n,"accessResult",m.RestrictedAccessResponse.AccessResult.SUCCESS);return t};t.getRestrictedAccessResult=()=>n.accessResult;t.setAccessType=e=>{s.set(n,"accessType",e);return t};t.getAccessType=()=>s.get(n,"accessType");t.setConfirmedAck=e=>{n.header.ackInfo={ackSeq:e,confirmation:m.ConfirmationStatus.ACK};return t};return t}));g.set(o.DATA_NOTIF,(function(){const e=m.DataNotif;let t=d(e);const n={getId:()=>o.DATA_NOTIF,setHeader:e=>{t.header=e;return n},getHeader:()=>t.header,setEvent:e=>{t.event=m.DataNotif.EventType[e];return n},getEvent:()=>{const e=m.DataNotif.EventType;return Object.keys(e).find((n=>e[n]===t.event))},setContent:e=>{t.content=e;return n},getContent:()=>t.content,getBuffer:()=>r(t,e),setBuffer:n=>{t=i(e,n)}};return n}));g.set(o.ROLE_BASE_ACCESS_CONTROL_RESPONSE,(function(){const e=m.RoleBaseAccessControlResponse;let t=d(e);const n={getId:()=>o.ROLE_BASE_ACCESS_CONTROL_RESPONSE,setHeader:e=>{t.header=e;return n},getHeader:()=>t.header,setRequestDn:e=>{t.requestDn=e;return n},getRequestDn:()=>t.requestDn,setErrorNo:e=>{t.errorNo=m.ErrorNo[e];return n},getErrorNo:()=>{const e=m.ErrorNo;return Object.keys(e).find((n=>e[n]===t.errorNo))},getBuffer:()=>r(t,e),setBuffer:n=>{t=i(e,n)}};return n}));return{getMessageById:function(e){return g.get(e)},establishSession:e,sessionEstablished:t,imContent:c,heartbeat:u,faultSimulationRequest:l,sync:f,fileTransmissionRequest:h,fileTransmissionResponse:p,objectInfo:function(){const e=m.ObjectInfo;let t=e.create({});t.uuidInfo={};const n={hasObjectCreateInfo:()=>!!t.uuidInfo.createInfo,setObjectCreateInfo:e=>{t.uuidInfo.createInfo=e},getObjectCreateInfo:()=>t.uuidInfo.createInfo,getInstanceId:()=>{const e=n.getObjectCreateInfo();return e&&e.instanceId},setInstanceId:e=>{if(!s.isUndefined(e)){n.hasObjectCreateInfo()||n.setObjectCreateInfo({});n.getObjectCreateInfo().instanceId=e}},getParentId:()=>{const e=n.getObjectCreateInfo();return e&&e.parentId},setParentId:e=>{if(!s.isUndefined(e)){n.hasObjectCreateInfo()||n.setObjectCreateInfo({});n.getObjectCreateInfo().parentId=e}},setObjectId:e=>{t.uuidInfo.objectId=e},getObjectId:()=>t.uuidInfo.objectId,setObjectType:e=>{t.uuidInfo.objectType=e},getObjectType:()=>t.uuidInfo.objectType,getBuffer:()=>r(t,e),setBuffer:n=>{t=i(e,n)},getProto:()=>t,setProto:e=>{t=e}};return n}}}}},2019:(e,t,n)=>{"use strict";var r,i,o;!function(){i=[n(6946)],void 0!==(o="function"===typeof(r=function(e){var t=e.Reader,n=e.Writer,r=e.util,i=e.roots["default"]||(e.roots["default"]={});i.com=function(){var o={};o.nokia=function(){var o={};o.soam=function(){var o={};o.soamif=function(){var o={};o.CommandType=function(){var e={},t=Object.create(e);t[e[1]="SHUTDOWN"]=1;t[e[2]="STOPPNP"]=2;return t}();o.ControlCommandRequest=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.header=null;o.prototype.type=1;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());i.com.nokia.soam.soamif.GeneralHeader.encode(e.header,t.uint32(10).fork()).ldelim();t.uint32(16).int32(e.type);return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.ControlCommandRequest;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.header=i.com.nokia.soam.soamif.GeneralHeader.decode(e,e.uint32());break;case 2:s.type=e.int32();break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("header"))throw r.ProtocolError("missing required 'header'",{instance:s});if(!s.hasOwnProperty("type"))throw r.ProtocolError("missing required 'type'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";var t=i.com.nokia.soam.soamif.GeneralHeader.verify(e.header);if(t)return"header."+t;switch(e.type){default:return"type: enum value expected";case 1:case 2:}return null};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.ControlCommandRequest)return e;var t=new i.com.nokia.soam.soamif.ControlCommandRequest;if(null!=e.header){if("object"!==typeof e.header)throw TypeError(".com.nokia.soam.soamif.ControlCommandRequest.header: object expected");t.header=i.com.nokia.soam.soamif.GeneralHeader.fromObject(e.header)}switch(e.type){default:if("number"===typeof e.type){t.type=e.type;break}break;case"SHUTDOWN":case 1:t.type=1;break;case"STOPPNP":case 2:t.type=2}return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.header=null;n.type=t.enums===String?"SHUTDOWN":1}null!=e.header&&e.hasOwnProperty("header")&&(n.header=i.com.nokia.soam.soamif.GeneralHeader.toObject(e.header,t));null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?void 0===i.com.nokia.soam.soamif.CommandType[e.type]?e.type:i.com.nokia.soam.soamif.CommandType[e.type]:e.type);return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.ControlCommandRequest"};return o}();o.ControlCommandResponse=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.header=null;o.prototype.type=1;o.prototype.result=1;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());i.com.nokia.soam.soamif.GeneralHeader.encode(e.header,t.uint32(10).fork()).ldelim();t.uint32(16).int32(e.type);t.uint32(24).int32(e.result);return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.ControlCommandResponse;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.header=i.com.nokia.soam.soamif.GeneralHeader.decode(e,e.uint32());break;case 2:s.type=e.int32();break;case 3:s.result=e.int32();break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("header"))throw r.ProtocolError("missing required 'header'",{instance:s});if(!s.hasOwnProperty("type"))throw r.ProtocolError("missing required 'type'",{instance:s});if(!s.hasOwnProperty("result"))throw r.ProtocolError("missing required 'result'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";var t=i.com.nokia.soam.soamif.GeneralHeader.verify(e.header);if(t)return"header."+t;switch(e.type){default:return"type: enum value expected";case 1:case 2:}switch(e.result){default:return"result: enum value expected";case 1:case 2:}return null};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.ControlCommandResponse)return e;var t=new i.com.nokia.soam.soamif.ControlCommandResponse;if(null!=e.header){if("object"!==typeof e.header)throw TypeError(".com.nokia.soam.soamif.ControlCommandResponse.header: object expected");t.header=i.com.nokia.soam.soamif.GeneralHeader.fromObject(e.header)}switch(e.type){default:if("number"===typeof e.type){t.type=e.type;break}break;case"SHUTDOWN":case 1:t.type=1;break;case"STOPPNP":case 2:t.type=2}switch(e.result){default:if("number"===typeof e.result){t.result=e.result;break}break;case"SUCCESS":case 1:t.result=1;break;case"FAILURE":case 2:t.result=2}return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.header=null;n.type=t.enums===String?"SHUTDOWN":1;n.result=t.enums===String?"SUCCESS":1}null!=e.header&&e.hasOwnProperty("header")&&(n.header=i.com.nokia.soam.soamif.GeneralHeader.toObject(e.header,t));null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?void 0===i.com.nokia.soam.soamif.CommandType[e.type]?e.type:i.com.nokia.soam.soamif.CommandType[e.type]:e.type);null!=e.result&&e.hasOwnProperty("result")&&(n.result=t.enums===String?void 0===i.com.nokia.soam.soamif.ControlCommandResponse.CommandResult[e.result]?e.result:i.com.nokia.soam.soamif.ControlCommandResponse.CommandResult[e.result]:e.result);return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.ControlCommandResponse"};o.CommandResult=function(){var e={},t=Object.create(e);t[e[1]="SUCCESS"]=1;t[e[2]="FAILURE"]=2;return t}();return o}();o.ErrorNo=function(){var e={},t=Object.create(e);t[e[1]="Rejected"]=1;t[e[2]="Restricted"]=2;t[e[3]="DowngradedToRO"]=3;t[e[4]="BadValue"]=4;return t}();o.RoleBaseAccessControlResponse=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.header=null;o.prototype.requestDn="";o.prototype.errorNo=1;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());i.com.nokia.soam.soamif.GeneralHeader.encode(e.header,t.uint32(10).fork()).ldelim();t.uint32(18).string(e.requestDn);t.uint32(24).int32(e.errorNo);return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.RoleBaseAccessControlResponse;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.header=i.com.nokia.soam.soamif.GeneralHeader.decode(e,e.uint32());break;case 2:s.requestDn=e.string();break;case 3:s.errorNo=e.int32();break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("header"))throw r.ProtocolError("missing required 'header'",{instance:s});if(!s.hasOwnProperty("requestDn"))throw r.ProtocolError("missing required 'requestDn'",{instance:s});if(!s.hasOwnProperty("errorNo"))throw r.ProtocolError("missing required 'errorNo'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";var t=i.com.nokia.soam.soamif.GeneralHeader.verify(e.header);if(t)return"header."+t;if(!r.isString(e.requestDn))return"requestDn: string expected";switch(e.errorNo){default:return"errorNo: enum value expected";case 1:case 2:case 3:case 4:}return null};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.RoleBaseAccessControlResponse)return e;var t=new i.com.nokia.soam.soamif.RoleBaseAccessControlResponse;if(null!=e.header){if("object"!==typeof e.header)throw TypeError(".com.nokia.soam.soamif.RoleBaseAccessControlResponse.header: object expected");t.header=i.com.nokia.soam.soamif.GeneralHeader.fromObject(e.header)}null!=e.requestDn&&(t.requestDn=String(e.requestDn));switch(e.errorNo){default:if("number"===typeof e.errorNo){t.errorNo=e.errorNo;break}break;case"Rejected":case 1:t.errorNo=1;break;case"Restricted":case 2:t.errorNo=2;break;case"DowngradedToRO":case 3:t.errorNo=3;break;case"BadValue":case 4:t.errorNo=4}return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.header=null;n.requestDn="";n.errorNo=t.enums===String?"Rejected":1}null!=e.header&&e.hasOwnProperty("header")&&(n.header=i.com.nokia.soam.soamif.GeneralHeader.toObject(e.header,t));null!=e.requestDn&&e.hasOwnProperty("requestDn")&&(n.requestDn=e.requestDn);null!=e.errorNo&&e.hasOwnProperty("errorNo")&&(n.errorNo=t.enums===String?void 0===i.com.nokia.soam.soamif.ErrorNo[e.errorNo]?e.errorNo:i.com.nokia.soam.soamif.ErrorNo[e.errorNo]:e.errorNo);return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.RoleBaseAccessControlResponse"};return o}();o.ConfirmationStatus=function(){var e={},t=Object.create(e);t[e[1]="ACK"]=1;t[e[2]="NACK"]=2;return t}();o.AcknowledgeInfo=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.ackSeq=0;o.prototype.confirmation=1;o.prototype.reason=null;o.prototype.transactionId=null;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());t.uint32(8).uint32(e.ackSeq);t.uint32(16).int32(e.confirmation);null!=e.reason&&Object.hasOwnProperty.call(e,"reason")&&t.uint32(26).string(e.reason);null!=e.transactionId&&Object.hasOwnProperty.call(e,"transactionId")&&t.uint32(32).uint32(e.transactionId);return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.AcknowledgeInfo;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.ackSeq=e.uint32();break;case 2:s.confirmation=e.int32();break;case 3:s.reason=e.string();break;case 4:s.transactionId=e.uint32();break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("ackSeq"))throw r.ProtocolError("missing required 'ackSeq'",{instance:s});if(!s.hasOwnProperty("confirmation"))throw r.ProtocolError("missing required 'confirmation'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(!r.isInteger(e.ackSeq))return"ackSeq: integer expected";switch(e.confirmation){default:return"confirmation: enum value expected";case 1:case 2:}return null!=e.reason&&e.hasOwnProperty("reason")&&!r.isString(e.reason)?"reason: string expected":null!=e.transactionId&&e.hasOwnProperty("transactionId")&&!r.isInteger(e.transactionId)?"transactionId: integer expected":null};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.AcknowledgeInfo)return e;var t=new i.com.nokia.soam.soamif.AcknowledgeInfo;null!=e.ackSeq&&(t.ackSeq=e.ackSeq>>>0);switch(e.confirmation){default:if("number"===typeof e.confirmation){t.confirmation=e.confirmation;break}break;case"ACK":case 1:t.confirmation=1;break;case"NACK":case 2:t.confirmation=2}null!=e.reason&&(t.reason=String(e.reason));null!=e.transactionId&&(t.transactionId=e.transactionId>>>0);return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.ackSeq=0;n.confirmation=t.enums===String?"ACK":1;n.reason="";n.transactionId=0}null!=e.ackSeq&&e.hasOwnProperty("ackSeq")&&(n.ackSeq=e.ackSeq);null!=e.confirmation&&e.hasOwnProperty("confirmation")&&(n.confirmation=t.enums===String?void 0===i.com.nokia.soam.soamif.ConfirmationStatus[e.confirmation]?e.confirmation:i.com.nokia.soam.soamif.ConfirmationStatus[e.confirmation]:e.confirmation);null!=e.reason&&e.hasOwnProperty("reason")&&(n.reason=e.reason);null!=e.transactionId&&e.hasOwnProperty("transactionId")&&(n.transactionId=e.transactionId);return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.AcknowledgeInfo"};return o}();o.GeneralHeader=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.timestamp=r.Long?r.Long.fromBits(0,0,!0):0;o.prototype.ackInfo=null;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());t.uint32(8).uint64(e.timestamp);null!=e.ackInfo&&Object.hasOwnProperty.call(e,"ackInfo")&&i.com.nokia.soam.soamif.AcknowledgeInfo.encode(e.ackInfo,t.uint32(26).fork()).ldelim();return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.GeneralHeader;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.timestamp=e.uint64();break;case 3:s.ackInfo=i.com.nokia.soam.soamif.AcknowledgeInfo.decode(e,e.uint32());break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("timestamp"))throw r.ProtocolError("missing required 'timestamp'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(!r.isInteger(e.timestamp)&&!(e.timestamp&&r.isInteger(e.timestamp.low)&&r.isInteger(e.timestamp.high)))return"timestamp: integer|Long expected";if(null!=e.ackInfo&&e.hasOwnProperty("ackInfo")){var t=i.com.nokia.soam.soamif.AcknowledgeInfo.verify(e.ackInfo);if(t)return"ackInfo."+t}return null};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.GeneralHeader)return e;var t=new i.com.nokia.soam.soamif.GeneralHeader;null!=e.timestamp&&(r.Long?(t.timestamp=r.Long.fromValue(e.timestamp)).unsigned=!0:"string"===typeof e.timestamp?t.timestamp=parseInt(e.timestamp,10):"number"===typeof e.timestamp?t.timestamp=e.timestamp:"object"===typeof e.timestamp&&(t.timestamp=new r.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0)));if(null!=e.ackInfo){if("object"!==typeof e.ackInfo)throw TypeError(".com.nokia.soam.soamif.GeneralHeader.ackInfo: object expected");t.ackInfo=i.com.nokia.soam.soamif.AcknowledgeInfo.fromObject(e.ackInfo)}return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(r.Long){var o=new r.Long(0,0,!0);n.timestamp=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else n.timestamp=t.longs===String?"0":0;n.ackInfo=null}null!=e.timestamp&&e.hasOwnProperty("timestamp")&&("number"===typeof e.timestamp?n.timestamp=t.longs===String?String(e.timestamp):e.timestamp:n.timestamp=t.longs===String?r.Long.prototype.toString.call(e.timestamp):t.longs===Number?new r.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0):e.timestamp);null!=e.ackInfo&&e.hasOwnProperty("ackInfo")&&(n.ackInfo=i.com.nokia.soam.soamif.AcknowledgeInfo.toObject(e.ackInfo,t));return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.GeneralHeader"};return o}();o.DataNotif=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.header=null;o.prototype.event=0;o.prototype.content="";o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());i.com.nokia.soam.soamif.GeneralHeader.encode(e.header,t.uint32(10).fork()).ldelim();t.uint32(16).int32(e.event);t.uint32(26).string(e.content);return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.DataNotif;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.header=i.com.nokia.soam.soamif.GeneralHeader.decode(e,e.uint32());break;case 2:s.event=e.int32();break;case 3:s.content=e.string();break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("header"))throw r.ProtocolError("missing required 'header'",{instance:s});if(!s.hasOwnProperty("event"))throw r.ProtocolError("missing required 'event'",{instance:s});if(!s.hasOwnProperty("content"))throw r.ProtocolError("missing required 'content'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";var t=i.com.nokia.soam.soamif.GeneralHeader.verify(e.header);if(t)return"header."+t;switch(e.event){default:return"event: enum value expected";case 0:case 1:case 2:case 3:}return r.isString(e.content)?null:"content: string expected"};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.DataNotif)return e;var t=new i.com.nokia.soam.soamif.DataNotif;if(null!=e.header){if("object"!==typeof e.header)throw TypeError(".com.nokia.soam.soamif.DataNotif.header: object expected");t.header=i.com.nokia.soam.soamif.GeneralHeader.fromObject(e.header)}switch(e.event){default:if("number"===typeof e.event){t.event=e.event;break}break;case"RAD_NON_DEFAULT_FLAG":case 0:t.event=0;break;case"SCRIPT_LIST":case 1:t.event=1;break;case"DIAGNOSTIC_CHECKPOINT_LIST":case 2:t.event=2;break;case"DIAGNOSTIC_CHECK_STATUS":case 3:t.event=3}null!=e.content&&(t.content=String(e.content));return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.header=null;n.event=t.enums===String?"RAD_NON_DEFAULT_FLAG":0;n.content=""}null!=e.header&&e.hasOwnProperty("header")&&(n.header=i.com.nokia.soam.soamif.GeneralHeader.toObject(e.header,t));null!=e.event&&e.hasOwnProperty("event")&&(n.event=t.enums===String?void 0===i.com.nokia.soam.soamif.DataNotif.EventType[e.event]?e.event:i.com.nokia.soam.soamif.DataNotif.EventType[e.event]:e.event);null!=e.content&&e.hasOwnProperty("content")&&(n.content=e.content);return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.DataNotif"};o.EventType=function(){var e={},t=Object.create(e);t[e[0]="RAD_NON_DEFAULT_FLAG"]=0;t[e[1]="SCRIPT_LIST"]=1;t[e[2]="DIAGNOSTIC_CHECKPOINT_LIST"]=2;t[e[3]="DIAGNOSTIC_CHECK_STATUS"]=3;return t}();return o}();o.FaultSimulationRequest=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.header=null;o.prototype.sicPayload=r.newBuffer([]);o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());i.com.nokia.soam.soamif.GeneralHeader.encode(e.header,t.uint32(10).fork()).ldelim();t.uint32(18).bytes(e.sicPayload);return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.FaultSimulationRequest;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.header=i.com.nokia.soam.soamif.GeneralHeader.decode(e,e.uint32());break;case 2:s.sicPayload=e.bytes();break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("header"))throw r.ProtocolError("missing required 'header'",{instance:s});if(!s.hasOwnProperty("sicPayload"))throw r.ProtocolError("missing required 'sicPayload'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";var t=i.com.nokia.soam.soamif.GeneralHeader.verify(e.header);return t?"header."+t:e.sicPayload&&"number"===typeof e.sicPayload.length||r.isString(e.sicPayload)?null:"sicPayload: buffer expected"};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.FaultSimulationRequest)return e;var t=new i.com.nokia.soam.soamif.FaultSimulationRequest;if(null!=e.header){if("object"!==typeof e.header)throw TypeError(".com.nokia.soam.soamif.FaultSimulationRequest.header: object expected");t.header=i.com.nokia.soam.soamif.GeneralHeader.fromObject(e.header)}null!=e.sicPayload&&("string"===typeof e.sicPayload?r.base64.decode(e.sicPayload,t.sicPayload=r.newBuffer(r.base64.length(e.sicPayload)),0):e.sicPayload.length<0||(t.sicPayload=e.sicPayload));return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.header=null;if(t.bytes===String)n.sicPayload="";else{n.sicPayload=[];t.bytes!==Array&&(n.sicPayload=r.newBuffer(n.sicPayload))}}null!=e.header&&e.hasOwnProperty("header")&&(n.header=i.com.nokia.soam.soamif.GeneralHeader.toObject(e.header,t));null!=e.sicPayload&&e.hasOwnProperty("sicPayload")&&(n.sicPayload=t.bytes===String?r.base64.encode(e.sicPayload,0,e.sicPayload.length):t.bytes===Array?Array.prototype.slice.call(e.sicPayload):e.sicPayload);return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.FaultSimulationRequest"};return o}();o.FileTransmissionRequest=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.header=null;o.prototype.fileTransferInfo=null;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());i.com.nokia.soam.soamif.GeneralHeader.encode(e.header,t.uint32(10).fork()).ldelim();i.com.nokia.soam.soamif.FileTransmissionRequest.FileTransferInfo.encode(e.fileTransferInfo,t.uint32(18).fork()).ldelim();return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.FileTransmissionRequest;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.header=i.com.nokia.soam.soamif.GeneralHeader.decode(e,e.uint32());break;case 2:s.fileTransferInfo=i.com.nokia.soam.soamif.FileTransmissionRequest.FileTransferInfo.decode(e,e.uint32());break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("header"))throw r.ProtocolError("missing required 'header'",{instance:s});if(!s.hasOwnProperty("fileTransferInfo"))throw r.ProtocolError("missing required 'fileTransferInfo'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){return"object"!==typeof e||null===e?"object expected":(t=i.com.nokia.soam.soamif.GeneralHeader.verify(e.header))?"header."+t:(t=i.com.nokia.soam.soamif.FileTransmissionRequest.FileTransferInfo.verify(e.fileTransferInfo))?"fileTransferInfo."+t:null;var t};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.FileTransmissionRequest)return e;var t=new i.com.nokia.soam.soamif.FileTransmissionRequest;if(null!=e.header){if("object"!==typeof e.header)throw TypeError(".com.nokia.soam.soamif.FileTransmissionRequest.header: object expected");t.header=i.com.nokia.soam.soamif.GeneralHeader.fromObject(e.header)}if(null!=e.fileTransferInfo){if("object"!==typeof e.fileTransferInfo)throw TypeError(".com.nokia.soam.soamif.FileTransmissionRequest.fileTransferInfo: object expected");t.fileTransferInfo=i.com.nokia.soam.soamif.FileTransmissionRequest.FileTransferInfo.fromObject(e.fileTransferInfo)}return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.header=null;n.fileTransferInfo=null}null!=e.header&&e.hasOwnProperty("header")&&(n.header=i.com.nokia.soam.soamif.GeneralHeader.toObject(e.header,t));null!=e.fileTransferInfo&&e.hasOwnProperty("fileTransferInfo")&&(n.fileTransferInfo=i.com.nokia.soam.soamif.FileTransmissionRequest.FileTransferInfo.toObject(e.fileTransferInfo,t));return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.FileTransmissionRequest"};o.FileTransferInfo=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.fileId=0;o.prototype.relativePath="";o.prototype.operation=1;o.prototype.size=null;o.prototype.swFilePath=null;o.prototype.tokenId=null;o.prototype.fullPath=null;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());t.uint32(8).uint32(e.fileId);t.uint32(18).string(e.relativePath);t.uint32(24).int32(e.operation);null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(32).uint64(e.size);null!=e.swFilePath&&Object.hasOwnProperty.call(e,"swFilePath")&&t.uint32(42).string(e.swFilePath);null!=e.tokenId&&Object.hasOwnProperty.call(e,"tokenId")&&t.uint32(48).uint32(e.tokenId);null!=e.fullPath&&Object.hasOwnProperty.call(e,"fullPath")&&t.uint32(58).string(e.fullPath);return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.FileTransmissionRequest.FileTransferInfo;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.fileId=e.uint32();break;case 2:s.relativePath=e.string();break;case 3:s.operation=e.int32();break;case 4:s.size=e.uint64();break;case 5:s.swFilePath=e.string();break;case 6:s.tokenId=e.uint32();break;case 7:s.fullPath=e.string();break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("fileId"))throw r.ProtocolError("missing required 'fileId'",{instance:s});if(!s.hasOwnProperty("relativePath"))throw r.ProtocolError("missing required 'relativePath'",{instance:s});if(!s.hasOwnProperty("operation"))throw r.ProtocolError("missing required 'operation'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(!r.isInteger(e.fileId))return"fileId: integer expected";if(!r.isString(e.relativePath))return"relativePath: string expected";switch(e.operation){default:return"operation: enum value expected";case 1:case 2:}return null==e.size||!e.hasOwnProperty("size")||r.isInteger(e.size)||e.size&&r.isInteger(e.size.low)&&r.isInteger(e.size.high)?null!=e.swFilePath&&e.hasOwnProperty("swFilePath")&&!r.isString(e.swFilePath)?"swFilePath: string expected":null!=e.tokenId&&e.hasOwnProperty("tokenId")&&!r.isInteger(e.tokenId)?"tokenId: integer expected":null!=e.fullPath&&e.hasOwnProperty("fullPath")&&!r.isString(e.fullPath)?"fullPath: string expected":null:"size: integer|Long expected"};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.FileTransmissionRequest.FileTransferInfo)return e;var t=new i.com.nokia.soam.soamif.FileTransmissionRequest.FileTransferInfo;null!=e.fileId&&(t.fileId=e.fileId>>>0);null!=e.relativePath&&(t.relativePath=String(e.relativePath));switch(e.operation){default:if("number"===typeof e.operation){t.operation=e.operation;break}break;case"Fetch":case 1:t.operation=1;break;case"Store":case 2:t.operation=2}null!=e.size&&(r.Long?(t.size=r.Long.fromValue(e.size)).unsigned=!0:"string"===typeof e.size?t.size=parseInt(e.size,10):"number"===typeof e.size?t.size=e.size:"object"===typeof e.size&&(t.size=new r.LongBits(e.size.low>>>0,e.size.high>>>0).toNumber(!0)));null!=e.swFilePath&&(t.swFilePath=String(e.swFilePath));null!=e.tokenId&&(t.tokenId=e.tokenId>>>0);null!=e.fullPath&&(t.fullPath=String(e.fullPath));return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.fileId=0;n.relativePath="";n.operation=t.enums===String?"Fetch":1;if(r.Long){var o=new r.Long(0,0,!0);n.size=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else n.size=t.longs===String?"0":0;n.swFilePath="";n.tokenId=0;n.fullPath=""}null!=e.fileId&&e.hasOwnProperty("fileId")&&(n.fileId=e.fileId);null!=e.relativePath&&e.hasOwnProperty("relativePath")&&(n.relativePath=e.relativePath);null!=e.operation&&e.hasOwnProperty("operation")&&(n.operation=t.enums===String?void 0===i.com.nokia.soam.soamif.FileTransmissionRequest.FileTransferInfo.FileTransferDirection[e.operation]?e.operation:i.com.nokia.soam.soamif.FileTransmissionRequest.FileTransferInfo.FileTransferDirection[e.operation]:e.operation);null!=e.size&&e.hasOwnProperty("size")&&("number"===typeof e.size?n.size=t.longs===String?String(e.size):e.size:n.size=t.longs===String?r.Long.prototype.toString.call(e.size):t.longs===Number?new r.LongBits(e.size.low>>>0,e.size.high>>>0).toNumber(!0):e.size);null!=e.swFilePath&&e.hasOwnProperty("swFilePath")&&(n.swFilePath=e.swFilePath);null!=e.tokenId&&e.hasOwnProperty("tokenId")&&(n.tokenId=e.tokenId);null!=e.fullPath&&e.hasOwnProperty("fullPath")&&(n.fullPath=e.fullPath);return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.FileTransmissionRequest.FileTransferInfo"};o.FileTransferDirection=function(){var e={},t=Object.create(e);t[e[1]="Fetch"]=1;t[e[2]="Store"]=2;return t}();return o}();return o}();o.FileTransmissionResponse=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.header=null;o.prototype.fileId=0;o.prototype.relativePath="";o.prototype.status=0;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());i.com.nokia.soam.soamif.GeneralHeader.encode(e.header,t.uint32(10).fork()).ldelim();t.uint32(16).uint32(e.fileId);t.uint32(26).string(e.relativePath);t.uint32(32).int32(e.status);return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.FileTransmissionResponse;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.header=i.com.nokia.soam.soamif.GeneralHeader.decode(e,e.uint32());break;case 2:s.fileId=e.uint32();break;case 3:s.relativePath=e.string();break;case 4:s.status=e.int32();break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("header"))throw r.ProtocolError("missing required 'header'",{instance:s});if(!s.hasOwnProperty("fileId"))throw r.ProtocolError("missing required 'fileId'",{instance:s});if(!s.hasOwnProperty("relativePath"))throw r.ProtocolError("missing required 'relativePath'",{instance:s});if(!s.hasOwnProperty("status"))throw r.ProtocolError("missing required 'status'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";var t=i.com.nokia.soam.soamif.GeneralHeader.verify(e.header);if(t)return"header."+t;if(!r.isInteger(e.fileId))return"fileId: integer expected";if(!r.isString(e.relativePath))return"relativePath: string expected";switch(e.status){default:return"status: enum value expected";case 0:case 1:}return null};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.FileTransmissionResponse)return e;var t=new i.com.nokia.soam.soamif.FileTransmissionResponse;if(null!=e.header){if("object"!==typeof e.header)throw TypeError(".com.nokia.soam.soamif.FileTransmissionResponse.header: object expected");t.header=i.com.nokia.soam.soamif.GeneralHeader.fromObject(e.header)}null!=e.fileId&&(t.fileId=e.fileId>>>0);null!=e.relativePath&&(t.relativePath=String(e.relativePath));switch(e.status){default:if("number"===typeof e.status){t.status=e.status;break}break;case"SUCCEEDED":case 0:t.status=0;break;case"FAILED":case 1:t.status=1}return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.header=null;n.fileId=0;n.relativePath="";n.status=t.enums===String?"SUCCEEDED":0}null!=e.header&&e.hasOwnProperty("header")&&(n.header=i.com.nokia.soam.soamif.GeneralHeader.toObject(e.header,t));null!=e.fileId&&e.hasOwnProperty("fileId")&&(n.fileId=e.fileId);null!=e.relativePath&&e.hasOwnProperty("relativePath")&&(n.relativePath=e.relativePath);null!=e.status&&e.hasOwnProperty("status")&&(n.status=t.enums===String?void 0===i.com.nokia.soam.soamif.FileTransmissionResponse.TransmissionStatus[e.status]?e.status:i.com.nokia.soam.soamif.FileTransmissionResponse.TransmissionStatus[e.status]:e.status);return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.FileTransmissionResponse"};o.TransmissionStatus=function(){var e={},t=Object.create(e);t[e[0]="SUCCEEDED"]=0;t[e[1]="FAILED"]=1;return t}();return o}();o.ContentTransmissionRequest=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.header=null;o.prototype.fileUri="";o.prototype.requestInfo=null;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());i.com.nokia.soam.soamif.GeneralHeader.encode(e.header,t.uint32(10).fork()).ldelim();t.uint32(18).string(e.fileUri);i.com.nokia.soam.soamif.ContentTransmissionRequest.RequestInfo.encode(e.requestInfo,t.uint32(26).fork()).ldelim();return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.ContentTransmissionRequest;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.header=i.com.nokia.soam.soamif.GeneralHeader.decode(e,e.uint32());break;case 2:s.fileUri=e.string();break;case 3:s.requestInfo=i.com.nokia.soam.soamif.ContentTransmissionRequest.RequestInfo.decode(e,e.uint32());break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("header"))throw r.ProtocolError("missing required 'header'",{instance:s});if(!s.hasOwnProperty("fileUri"))throw r.ProtocolError("missing required 'fileUri'",{instance:s});if(!s.hasOwnProperty("requestInfo"))throw r.ProtocolError("missing required 'requestInfo'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){return"object"!==typeof e||null===e?"object expected":(t=i.com.nokia.soam.soamif.GeneralHeader.verify(e.header))?"header."+t:r.isString(e.fileUri)?(t=i.com.nokia.soam.soamif.ContentTransmissionRequest.RequestInfo.verify(e.requestInfo))?"requestInfo."+t:null:"fileUri: string expected";var t};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.ContentTransmissionRequest)return e;var t=new i.com.nokia.soam.soamif.ContentTransmissionRequest;if(null!=e.header){if("object"!==typeof e.header)throw TypeError(".com.nokia.soam.soamif.ContentTransmissionRequest.header: object expected");t.header=i.com.nokia.soam.soamif.GeneralHeader.fromObject(e.header)}null!=e.fileUri&&(t.fileUri=String(e.fileUri));if(null!=e.requestInfo){if("object"!==typeof e.requestInfo)throw TypeError(".com.nokia.soam.soamif.ContentTransmissionRequest.requestInfo: object expected");t.requestInfo=i.com.nokia.soam.soamif.ContentTransmissionRequest.RequestInfo.fromObject(e.requestInfo)}return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.header=null;n.fileUri="";n.requestInfo=null}null!=e.header&&e.hasOwnProperty("header")&&(n.header=i.com.nokia.soam.soamif.GeneralHeader.toObject(e.header,t));null!=e.fileUri&&e.hasOwnProperty("fileUri")&&(n.fileUri=e.fileUri);null!=e.requestInfo&&e.hasOwnProperty("requestInfo")&&(n.requestInfo=i.com.nokia.soam.soamif.ContentTransmissionRequest.RequestInfo.toObject(e.requestInfo,t));return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.ContentTransmissionRequest"};o.RequestInfo=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.transactionId=0;o.prototype.direction=1;o.prototype.beginOffset=null;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());t.uint32(8).uint32(e.transactionId);t.uint32(24).int32(e.direction);null!=e.beginOffset&&Object.hasOwnProperty.call(e,"beginOffset")&&t.uint32(32).uint32(e.beginOffset);return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.ContentTransmissionRequest.RequestInfo;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.transactionId=e.uint32();break;case 3:s.direction=e.int32();break;case 4:s.beginOffset=e.uint32();break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("transactionId"))throw r.ProtocolError("missing required 'transactionId'",{instance:s});if(!s.hasOwnProperty("direction"))throw r.ProtocolError("missing required 'direction'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(!r.isInteger(e.transactionId))return"transactionId: integer expected";switch(e.direction){default:return"direction: enum value expected";case 1:case 2:case 3:case 4:}return null!=e.beginOffset&&e.hasOwnProperty("beginOffset")&&!r.isInteger(e.beginOffset)?"beginOffset: integer expected":null};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.ContentTransmissionRequest.RequestInfo)return e;var t=new i.com.nokia.soam.soamif.ContentTransmissionRequest.RequestInfo;null!=e.transactionId&&(t.transactionId=e.transactionId>>>0);switch(e.direction){default:if("number"===typeof e.direction){t.direction=e.direction;break}break;case"DOWNLOAD":case 1:t.direction=1;break;case"UPLOAD":case 2:t.direction=2;break;case"RECEIVE":case 3:t.direction=3;break;case"SEND":case 4:t.direction=4}null!=e.beginOffset&&(t.beginOffset=e.beginOffset>>>0);return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.transactionId=0;n.direction=t.enums===String?"DOWNLOAD":1;n.beginOffset=0}null!=e.transactionId&&e.hasOwnProperty("transactionId")&&(n.transactionId=e.transactionId);null!=e.direction&&e.hasOwnProperty("direction")&&(n.direction=t.enums===String?void 0===i.com.nokia.soam.soamif.ContentTransmissionRequest.RequestInfo.ContentTransmissionDirection[e.direction]?e.direction:i.com.nokia.soam.soamif.ContentTransmissionRequest.RequestInfo.ContentTransmissionDirection[e.direction]:e.direction);null!=e.beginOffset&&e.hasOwnProperty("beginOffset")&&(n.beginOffset=e.beginOffset);return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.ContentTransmissionRequest.RequestInfo"};o.ContentTransmissionDirection=function(){var e={},t=Object.create(e);t[e[1]="DOWNLOAD"]=1;t[e[2]="UPLOAD"]=2;t[e[3]="RECEIVE"]=3;t[e[4]="SEND"]=4;return t}();return o}();return o}();o.ContentTransmissionCompleted=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.header=null;o.prototype.fileUri="";o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());i.com.nokia.soam.soamif.GeneralHeader.encode(e.header,t.uint32(10).fork()).ldelim();t.uint32(18).string(e.fileUri);return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.ContentTransmissionCompleted;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.header=i.com.nokia.soam.soamif.GeneralHeader.decode(e,e.uint32());break;case 2:s.fileUri=e.string();break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("header"))throw r.ProtocolError("missing required 'header'",{instance:s});if(!s.hasOwnProperty("fileUri"))throw r.ProtocolError("missing required 'fileUri'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";var t=i.com.nokia.soam.soamif.GeneralHeader.verify(e.header);return t?"header."+t:r.isString(e.fileUri)?null:"fileUri: string expected"};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.ContentTransmissionCompleted)return e;var t=new i.com.nokia.soam.soamif.ContentTransmissionCompleted;if(null!=e.header){if("object"!==typeof e.header)throw TypeError(".com.nokia.soam.soamif.ContentTransmissionCompleted.header: object expected");t.header=i.com.nokia.soam.soamif.GeneralHeader.fromObject(e.header)}null!=e.fileUri&&(t.fileUri=String(e.fileUri));return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.header=null;n.fileUri=""}null!=e.header&&e.hasOwnProperty("header")&&(n.header=i.com.nokia.soam.soamif.GeneralHeader.toObject(e.header,t));null!=e.fileUri&&e.hasOwnProperty("fileUri")&&(n.fileUri=e.fileUri);return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.ContentTransmissionCompleted"};return o}();o.ContentTransmission=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.header=null;o.prototype.fileUri="";o.prototype.fragmentInfo=null;o.prototype.binaryContent=r.newBuffer([]);o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());i.com.nokia.soam.soamif.GeneralHeader.encode(e.header,t.uint32(10).fork()).ldelim();t.uint32(18).string(e.fileUri);i.com.nokia.soam.soamif.ContentTransmission.FragmentInfo.encode(e.fragmentInfo,t.uint32(26).fork()).ldelim();t.uint32(34).bytes(e.binaryContent);return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.ContentTransmission;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.header=i.com.nokia.soam.soamif.GeneralHeader.decode(e,e.uint32());break;case 2:s.fileUri=e.string();break;case 3:s.fragmentInfo=i.com.nokia.soam.soamif.ContentTransmission.FragmentInfo.decode(e,e.uint32());break;case 4:s.binaryContent=e.bytes();break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("header"))throw r.ProtocolError("missing required 'header'",{instance:s});if(!s.hasOwnProperty("fileUri"))throw r.ProtocolError("missing required 'fileUri'",{instance:s});if(!s.hasOwnProperty("fragmentInfo"))throw r.ProtocolError("missing required 'fragmentInfo'",{instance:s});if(!s.hasOwnProperty("binaryContent"))throw r.ProtocolError("missing required 'binaryContent'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){return"object"!==typeof e||null===e?"object expected":(t=i.com.nokia.soam.soamif.GeneralHeader.verify(e.header))?"header."+t:r.isString(e.fileUri)?(t=i.com.nokia.soam.soamif.ContentTransmission.FragmentInfo.verify(e.fragmentInfo))?"fragmentInfo."+t:e.binaryContent&&"number"===typeof e.binaryContent.length||r.isString(e.binaryContent)?null:"binaryContent: buffer expected":"fileUri: string expected";var t};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.ContentTransmission)return e;var t=new i.com.nokia.soam.soamif.ContentTransmission;if(null!=e.header){if("object"!==typeof e.header)throw TypeError(".com.nokia.soam.soamif.ContentTransmission.header: object expected");t.header=i.com.nokia.soam.soamif.GeneralHeader.fromObject(e.header)}null!=e.fileUri&&(t.fileUri=String(e.fileUri));if(null!=e.fragmentInfo){if("object"!==typeof e.fragmentInfo)throw TypeError(".com.nokia.soam.soamif.ContentTransmission.fragmentInfo: object expected");t.fragmentInfo=i.com.nokia.soam.soamif.ContentTransmission.FragmentInfo.fromObject(e.fragmentInfo)}null!=e.binaryContent&&("string"===typeof e.binaryContent?r.base64.decode(e.binaryContent,t.binaryContent=r.newBuffer(r.base64.length(e.binaryContent)),0):e.binaryContent.length<0||(t.binaryContent=e.binaryContent));return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.header=null;n.fileUri="";n.fragmentInfo=null;if(t.bytes===String)n.binaryContent="";else{n.binaryContent=[];t.bytes!==Array&&(n.binaryContent=r.newBuffer(n.binaryContent))}}null!=e.header&&e.hasOwnProperty("header")&&(n.header=i.com.nokia.soam.soamif.GeneralHeader.toObject(e.header,t));null!=e.fileUri&&e.hasOwnProperty("fileUri")&&(n.fileUri=e.fileUri);null!=e.fragmentInfo&&e.hasOwnProperty("fragmentInfo")&&(n.fragmentInfo=i.com.nokia.soam.soamif.ContentTransmission.FragmentInfo.toObject(e.fragmentInfo,t));null!=e.binaryContent&&e.hasOwnProperty("binaryContent")&&(n.binaryContent=t.bytes===String?r.base64.encode(e.binaryContent,0,e.binaryContent.length):t.bytes===Array?Array.prototype.slice.call(e.binaryContent):e.binaryContent);return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.ContentTransmission"};o.FragmentInfo=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.offset=0;o.prototype.contentLength=0;o.prototype.isLastFragment=null;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());t.uint32(8).uint32(e.offset);t.uint32(16).uint32(e.contentLength);null!=e.isLastFragment&&Object.hasOwnProperty.call(e,"isLastFragment")&&t.uint32(24).bool(e.isLastFragment);return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.ContentTransmission.FragmentInfo;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.offset=e.uint32();break;case 2:s.contentLength=e.uint32();break;case 3:s.isLastFragment=e.bool();break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("offset"))throw r.ProtocolError("missing required 'offset'",{instance:s});if(!s.hasOwnProperty("contentLength"))throw r.ProtocolError("missing required 'contentLength'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){return"object"!==typeof e||null===e?"object expected":r.isInteger(e.offset)?r.isInteger(e.contentLength)?null!=e.isLastFragment&&e.hasOwnProperty("isLastFragment")&&"boolean"!==typeof e.isLastFragment?"isLastFragment: boolean expected":null:"contentLength: integer expected":"offset: integer expected"};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.ContentTransmission.FragmentInfo)return e;var t=new i.com.nokia.soam.soamif.ContentTransmission.FragmentInfo;null!=e.offset&&(t.offset=e.offset>>>0);null!=e.contentLength&&(t.contentLength=e.contentLength>>>0);null!=e.isLastFragment&&(t.isLastFragment=Boolean(e.isLastFragment));return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.offset=0;n.contentLength=0;n.isLastFragment=!1}null!=e.offset&&e.hasOwnProperty("offset")&&(n.offset=e.offset);null!=e.contentLength&&e.hasOwnProperty("contentLength")&&(n.contentLength=e.contentLength);null!=e.isLastFragment&&e.hasOwnProperty("isLastFragment")&&(n.isLastFragment=e.isLastFragment);return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.ContentTransmission.FragmentInfo"};return o}();return o}();o.SyncType=function(){var e={},t=Object.create(e);t[e[1]="DELTA_SYNC"]=1;t[e[2]="FULL_SYNC"]=2;t[e[3]="WARM_UP"]=3;t[e[4]="ON_DEMAND_SYNC"]=4;return t}();o.Sync=function(){function o(e){this.moFilterByMoc=[];if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.header=null;o.prototype.type=1;o.prototype.transactionId=0;o.prototype.isUrgent=null;o.prototype.isPull=null;o.prototype.moFilterByMoc=r.emptyArray;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());i.com.nokia.soam.soamif.GeneralHeader.encode(e.header,t.uint32(10).fork()).ldelim();t.uint32(16).int32(e.type);t.uint32(24).uint32(e.transactionId);null!=e.isUrgent&&Object.hasOwnProperty.call(e,"isUrgent")&&t.uint32(32).bool(e.isUrgent);null!=e.isPull&&Object.hasOwnProperty.call(e,"isPull")&&t.uint32(40).bool(e.isPull);if(null!=e.moFilterByMoc&&e.moFilterByMoc.length)for(var r=0;r<e.moFilterByMoc.length;++r)t.uint32(50).string(e.moFilterByMoc[r]);return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.Sync;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.header=i.com.nokia.soam.soamif.GeneralHeader.decode(e,e.uint32());break;case 2:s.type=e.int32();break;case 3:s.transactionId=e.uint32();break;case 4:s.isUrgent=e.bool();break;case 5:s.isPull=e.bool();break;case 6:s.moFilterByMoc&&s.moFilterByMoc.length||(s.moFilterByMoc=[]);s.moFilterByMoc.push(e.string());break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("header"))throw r.ProtocolError("missing required 'header'",{instance:s});if(!s.hasOwnProperty("type"))throw r.ProtocolError("missing required 'type'",{instance:s});if(!s.hasOwnProperty("transactionId"))throw r.ProtocolError("missing required 'transactionId'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";var t=i.com.nokia.soam.soamif.GeneralHeader.verify(e.header);if(t)return"header."+t;switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:}if(!r.isInteger(e.transactionId))return"transactionId: integer expected";if(null!=e.isUrgent&&e.hasOwnProperty("isUrgent")&&"boolean"!==typeof e.isUrgent)return"isUrgent: boolean expected";if(null!=e.isPull&&e.hasOwnProperty("isPull")&&"boolean"!==typeof e.isPull)return"isPull: boolean expected";if(null!=e.moFilterByMoc&&e.hasOwnProperty("moFilterByMoc")){if(!Array.isArray(e.moFilterByMoc))return"moFilterByMoc: array expected";for(var n=0;n<e.moFilterByMoc.length;++n)if(!r.isString(e.moFilterByMoc[n]))return"moFilterByMoc: string[] expected"}return null};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.Sync)return e;var t=new i.com.nokia.soam.soamif.Sync;if(null!=e.header){if("object"!==typeof e.header)throw TypeError(".com.nokia.soam.soamif.Sync.header: object expected");t.header=i.com.nokia.soam.soamif.GeneralHeader.fromObject(e.header)}switch(e.type){default:if("number"===typeof e.type){t.type=e.type;break}break;case"DELTA_SYNC":case 1:t.type=1;break;case"FULL_SYNC":case 2:t.type=2;break;case"WARM_UP":case 3:t.type=3;break;case"ON_DEMAND_SYNC":case 4:t.type=4}null!=e.transactionId&&(t.transactionId=e.transactionId>>>0);null!=e.isUrgent&&(t.isUrgent=Boolean(e.isUrgent));null!=e.isPull&&(t.isPull=Boolean(e.isPull));if(e.moFilterByMoc){if(!Array.isArray(e.moFilterByMoc))throw TypeError(".com.nokia.soam.soamif.Sync.moFilterByMoc: array expected");t.moFilterByMoc=[];for(var n=0;n<e.moFilterByMoc.length;++n)t.moFilterByMoc[n]=String(e.moFilterByMoc[n])}return t};o.toObject=function(e,t){t||(t={});var n={};(t.arrays||t.defaults)&&(n.moFilterByMoc=[]);if(t.defaults){n.header=null;n.type=t.enums===String?"DELTA_SYNC":1;n.transactionId=0;n.isUrgent=!1;n.isPull=!1}null!=e.header&&e.hasOwnProperty("header")&&(n.header=i.com.nokia.soam.soamif.GeneralHeader.toObject(e.header,t));null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?void 0===i.com.nokia.soam.soamif.SyncType[e.type]?e.type:i.com.nokia.soam.soamif.SyncType[e.type]:e.type);null!=e.transactionId&&e.hasOwnProperty("transactionId")&&(n.transactionId=e.transactionId);null!=e.isUrgent&&e.hasOwnProperty("isUrgent")&&(n.isUrgent=e.isUrgent);null!=e.isPull&&e.hasOwnProperty("isPull")&&(n.isPull=e.isPull);if(e.moFilterByMoc&&e.moFilterByMoc.length){n.moFilterByMoc=[];for(var r=0;r<e.moFilterByMoc.length;++r)n.moFilterByMoc[r]=e.moFilterByMoc[r]}return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.Sync"};return o}();o.V9CreateInfo=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.instanceId=null;o.prototype.parentId=null;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());null!=e.instanceId&&Object.hasOwnProperty.call(e,"instanceId")&&t.uint32(8).uint32(e.instanceId);null!=e.parentId&&Object.hasOwnProperty.call(e,"parentId")&&t.uint32(18).bytes(e.parentId);return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.com.nokia.soam.soamif.V9CreateInfo;e.pos<r;){var s=e.uint32();switch(s>>>3){case 1:o.instanceId=e.uint32();break;case 2:o.parentId=e.bytes();break;default:e.skipType(7&s)}}return o};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.instanceId&&e.hasOwnProperty("instanceId")&&!r.isInteger(e.instanceId)?"instanceId: integer expected":null!=e.parentId&&e.hasOwnProperty("parentId")&&!(e.parentId&&"number"===typeof e.parentId.length||r.isString(e.parentId))?"parentId: buffer expected":null};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.V9CreateInfo)return e;var t=new i.com.nokia.soam.soamif.V9CreateInfo;null!=e.instanceId&&(t.instanceId=e.instanceId>>>0);null!=e.parentId&&("string"===typeof e.parentId?r.base64.decode(e.parentId,t.parentId=r.newBuffer(r.base64.length(e.parentId)),0):e.parentId.length<0||(t.parentId=e.parentId));return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.instanceId=0;if(t.bytes===String)n.parentId="";else{n.parentId=[];t.bytes!==Array&&(n.parentId=r.newBuffer(n.parentId))}}null!=e.instanceId&&e.hasOwnProperty("instanceId")&&(n.instanceId=e.instanceId);null!=e.parentId&&e.hasOwnProperty("parentId")&&(n.parentId=t.bytes===String?r.base64.encode(e.parentId,0,e.parentId.length):t.bytes===Array?Array.prototype.slice.call(e.parentId):e.parentId);return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.V9CreateInfo"};return o}();o.V9ObjectInfo=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.objectType=0;o.prototype.objectId=r.newBuffer([]);o.prototype.createInfo=null;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());t.uint32(8).uint32(e.objectType);t.uint32(18).bytes(e.objectId);null!=e.createInfo&&Object.hasOwnProperty.call(e,"createInfo")&&i.com.nokia.soam.soamif.V9CreateInfo.encode(e.createInfo,t.uint32(26).fork()).ldelim();return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.V9ObjectInfo;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.objectType=e.uint32();break;case 2:s.objectId=e.bytes();break;case 3:s.createInfo=i.com.nokia.soam.soamif.V9CreateInfo.decode(e,e.uint32());break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("objectType"))throw r.ProtocolError("missing required 'objectType'",{instance:s});if(!s.hasOwnProperty("objectId"))throw r.ProtocolError("missing required 'objectId'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(!r.isInteger(e.objectType))return"objectType: integer expected";if(!(e.objectId&&"number"===typeof e.objectId.length||r.isString(e.objectId)))return"objectId: buffer expected";if(null!=e.createInfo&&e.hasOwnProperty("createInfo")){var t=i.com.nokia.soam.soamif.V9CreateInfo.verify(e.createInfo);if(t)return"createInfo."+t}return null};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.V9ObjectInfo)return e;var t=new i.com.nokia.soam.soamif.V9ObjectInfo;null!=e.objectType&&(t.objectType=e.objectType>>>0);null!=e.objectId&&("string"===typeof e.objectId?r.base64.decode(e.objectId,t.objectId=r.newBuffer(r.base64.length(e.objectId)),0):e.objectId.length<0||(t.objectId=e.objectId));if(null!=e.createInfo){if("object"!==typeof e.createInfo)throw TypeError(".com.nokia.soam.soamif.V9ObjectInfo.createInfo: object expected");t.createInfo=i.com.nokia.soam.soamif.V9CreateInfo.fromObject(e.createInfo)}return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.objectType=0;if(t.bytes===String)n.objectId="";else{n.objectId=[];t.bytes!==Array&&(n.objectId=r.newBuffer(n.objectId))}n.createInfo=null}null!=e.objectType&&e.hasOwnProperty("objectType")&&(n.objectType=e.objectType);null!=e.objectId&&e.hasOwnProperty("objectId")&&(n.objectId=t.bytes===String?r.base64.encode(e.objectId,0,e.objectId.length):t.bytes===Array?Array.prototype.slice.call(e.objectId):e.objectId);null!=e.createInfo&&e.hasOwnProperty("createInfo")&&(n.createInfo=i.com.nokia.soam.soamif.V9CreateInfo.toObject(e.createInfo,t));return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.V9ObjectInfo"};return o}();o.ObjectInfo=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.distName=null;o.prototype.uuidInfo=null;var s;Object.defineProperty(o.prototype,"objectInfo",{get:r.oneOfGetter(s=["distName","uuidInfo"]),set:r.oneOfSetter(s)});o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());null!=e.distName&&Object.hasOwnProperty.call(e,"distName")&&t.uint32(10).string(e.distName);null!=e.uuidInfo&&Object.hasOwnProperty.call(e,"uuidInfo")&&i.com.nokia.soam.soamif.V9ObjectInfo.encode(e.uuidInfo,t.uint32(18).fork()).ldelim();return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.com.nokia.soam.soamif.ObjectInfo;e.pos<r;){var s=e.uint32();switch(s>>>3){case 1:o.distName=e.string();break;case 2:o.uuidInfo=i.com.nokia.soam.soamif.V9ObjectInfo.decode(e,e.uint32());break;default:e.skipType(7&s)}}return o};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";var t={};if(null!=e.distName&&e.hasOwnProperty("distName")){t.objectInfo=1;if(!r.isString(e.distName))return"distName: string expected"}if(null!=e.uuidInfo&&e.hasOwnProperty("uuidInfo")){if(1===t.objectInfo)return"objectInfo: multiple values";t.objectInfo=1;var n=i.com.nokia.soam.soamif.V9ObjectInfo.verify(e.uuidInfo);if(n)return"uuidInfo."+n}return null};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.ObjectInfo)return e;var t=new i.com.nokia.soam.soamif.ObjectInfo;null!=e.distName&&(t.distName=String(e.distName));if(null!=e.uuidInfo){if("object"!==typeof e.uuidInfo)throw TypeError(".com.nokia.soam.soamif.ObjectInfo.uuidInfo: object expected");t.uuidInfo=i.com.nokia.soam.soamif.V9ObjectInfo.fromObject(e.uuidInfo)}return t};o.toObject=function(e,t){t||(t={});var n={};if(null!=e.distName&&e.hasOwnProperty("distName")){n.distName=e.distName;t.oneofs&&(n.objectInfo="distName")}if(null!=e.uuidInfo&&e.hasOwnProperty("uuidInfo")){n.uuidInfo=i.com.nokia.soam.soamif.V9ObjectInfo.toObject(e.uuidInfo,t);t.oneofs&&(n.objectInfo="uuidInfo")}return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.ObjectInfo"};return o}();o.IMContent=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.header=null;o.prototype.seq=null;o.prototype.transactionId=null;o.prototype.updates=null;o.prototype.isLastInTransaction=null;o.prototype.isUrgent=null;o.prototype.changeId=null;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());i.com.nokia.soam.soamif.GeneralHeader.encode(e.header,t.uint32(10).fork()).ldelim();null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(16).uint32(e.seq);null!=e.transactionId&&Object.hasOwnProperty.call(e,"transactionId")&&t.uint32(24).uint32(e.transactionId);i.com.nokia.soam.soamif.IMContent.UpdateInfo.encode(e.updates,t.uint32(34).fork()).ldelim();null!=e.isLastInTransaction&&Object.hasOwnProperty.call(e,"isLastInTransaction")&&t.uint32(40).bool(e.isLastInTransaction);null!=e.isUrgent&&Object.hasOwnProperty.call(e,"isUrgent")&&t.uint32(48).bool(e.isUrgent);null!=e.changeId&&Object.hasOwnProperty.call(e,"changeId")&&t.uint32(56).uint32(e.changeId);return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.IMContent;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.header=i.com.nokia.soam.soamif.GeneralHeader.decode(e,e.uint32());break;case 2:s.seq=e.uint32();break;case 3:s.transactionId=e.uint32();break;case 4:s.updates=i.com.nokia.soam.soamif.IMContent.UpdateInfo.decode(e,e.uint32());break;case 5:s.isLastInTransaction=e.bool();break;case 6:s.isUrgent=e.bool();break;case 7:s.changeId=e.uint32();break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("header"))throw r.ProtocolError("missing required 'header'",{instance:s});if(!s.hasOwnProperty("updates"))throw r.ProtocolError("missing required 'updates'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){return"object"!==typeof e||null===e?"object expected":(t=i.com.nokia.soam.soamif.GeneralHeader.verify(e.header))?"header."+t:null!=e.seq&&e.hasOwnProperty("seq")&&!r.isInteger(e.seq)?"seq: integer expected":null!=e.transactionId&&e.hasOwnProperty("transactionId")&&!r.isInteger(e.transactionId)?"transactionId: integer expected":(t=i.com.nokia.soam.soamif.IMContent.UpdateInfo.verify(e.updates))?"updates."+t:null!=e.isLastInTransaction&&e.hasOwnProperty("isLastInTransaction")&&"boolean"!==typeof e.isLastInTransaction?"isLastInTransaction: boolean expected":null!=e.isUrgent&&e.hasOwnProperty("isUrgent")&&"boolean"!==typeof e.isUrgent?"isUrgent: boolean expected":null!=e.changeId&&e.hasOwnProperty("changeId")&&!r.isInteger(e.changeId)?"changeId: integer expected":null;var t};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.IMContent)return e;var t=new i.com.nokia.soam.soamif.IMContent;if(null!=e.header){if("object"!==typeof e.header)throw TypeError(".com.nokia.soam.soamif.IMContent.header: object expected");t.header=i.com.nokia.soam.soamif.GeneralHeader.fromObject(e.header)}null!=e.seq&&(t.seq=e.seq>>>0);null!=e.transactionId&&(t.transactionId=e.transactionId>>>0);if(null!=e.updates){if("object"!==typeof e.updates)throw TypeError(".com.nokia.soam.soamif.IMContent.updates: object expected");t.updates=i.com.nokia.soam.soamif.IMContent.UpdateInfo.fromObject(e.updates)}null!=e.isLastInTransaction&&(t.isLastInTransaction=Boolean(e.isLastInTransaction));null!=e.isUrgent&&(t.isUrgent=Boolean(e.isUrgent));null!=e.changeId&&(t.changeId=e.changeId>>>0);return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.header=null;n.seq=0;n.transactionId=0;n.updates=null;n.isLastInTransaction=!1;n.isUrgent=!1;n.changeId=0}null!=e.header&&e.hasOwnProperty("header")&&(n.header=i.com.nokia.soam.soamif.GeneralHeader.toObject(e.header,t));null!=e.seq&&e.hasOwnProperty("seq")&&(n.seq=e.seq);null!=e.transactionId&&e.hasOwnProperty("transactionId")&&(n.transactionId=e.transactionId);null!=e.updates&&e.hasOwnProperty("updates")&&(n.updates=i.com.nokia.soam.soamif.IMContent.UpdateInfo.toObject(e.updates,t));null!=e.isLastInTransaction&&e.hasOwnProperty("isLastInTransaction")&&(n.isLastInTransaction=e.isLastInTransaction);null!=e.isUrgent&&e.hasOwnProperty("isUrgent")&&(n.isUrgent=e.isUrgent);null!=e.changeId&&e.hasOwnProperty("changeId")&&(n.changeId=e.changeId);return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.IMContent"};o.UpdateInfo=function(){function o(e){this.updated=[];this.removed=[];if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.updated=r.emptyArray;o.prototype.removed=r.emptyArray;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());if(null!=e.updated&&e.updated.length)for(var r=0;r<e.updated.length;++r)i.com.nokia.soam.soamif.IMContent.UpdateInfo.UpdateEntry.encode(e.updated[r],t.uint32(10).fork()).ldelim();if(null!=e.removed&&e.removed.length)for(r=0;r<e.removed.length;++r)i.com.nokia.soam.soamif.ObjectInfo.encode(e.removed[r],t.uint32(18).fork()).ldelim();return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.com.nokia.soam.soamif.IMContent.UpdateInfo;e.pos<r;){var s=e.uint32();switch(s>>>3){case 1:o.updated&&o.updated.length||(o.updated=[]);o.updated.push(i.com.nokia.soam.soamif.IMContent.UpdateInfo.UpdateEntry.decode(e,e.uint32()));break;case 2:o.removed&&o.removed.length||(o.removed=[]);o.removed.push(i.com.nokia.soam.soamif.ObjectInfo.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return o};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.updated&&e.hasOwnProperty("updated")){if(!Array.isArray(e.updated))return"updated: array expected";for(var t=0;t<e.updated.length;++t)if(n=i.com.nokia.soam.soamif.IMContent.UpdateInfo.UpdateEntry.verify(e.updated[t]))return"updated."+n}if(null!=e.removed&&e.hasOwnProperty("removed")){if(!Array.isArray(e.removed))return"removed: array expected";for(t=0;t<e.removed.length;++t){var n;if(n=i.com.nokia.soam.soamif.ObjectInfo.verify(e.removed[t]))return"removed."+n}}return null};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.IMContent.UpdateInfo)return e;var t=new i.com.nokia.soam.soamif.IMContent.UpdateInfo;if(e.updated){if(!Array.isArray(e.updated))throw TypeError(".com.nokia.soam.soamif.IMContent.UpdateInfo.updated: array expected");t.updated=[];for(var n=0;n<e.updated.length;++n){if("object"!==typeof e.updated[n])throw TypeError(".com.nokia.soam.soamif.IMContent.UpdateInfo.updated: object expected");t.updated[n]=i.com.nokia.soam.soamif.IMContent.UpdateInfo.UpdateEntry.fromObject(e.updated[n])}}if(e.removed){if(!Array.isArray(e.removed))throw TypeError(".com.nokia.soam.soamif.IMContent.UpdateInfo.removed: array expected");t.removed=[];for(n=0;n<e.removed.length;++n){if("object"!==typeof e.removed[n])throw TypeError(".com.nokia.soam.soamif.IMContent.UpdateInfo.removed: object expected");t.removed[n]=i.com.nokia.soam.soamif.ObjectInfo.fromObject(e.removed[n])}}return t};o.toObject=function(e,t){t||(t={});var n={};if(t.arrays||t.defaults){n.updated=[];n.removed=[]}if(e.updated&&e.updated.length){n.updated=[];for(var r=0;r<e.updated.length;++r)n.updated[r]=i.com.nokia.soam.soamif.IMContent.UpdateInfo.UpdateEntry.toObject(e.updated[r],t)}if(e.removed&&e.removed.length){n.removed=[];for(r=0;r<e.removed.length;++r)n.removed[r]=i.com.nokia.soam.soamif.ObjectInfo.toObject(e.removed[r],t)}return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.IMContent.UpdateInfo"};o.UpdateEntry=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.objectInfo=null;o.prototype.content=r.newBuffer([]);o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());i.com.nokia.soam.soamif.ObjectInfo.encode(e.objectInfo,t.uint32(10).fork()).ldelim();t.uint32(18).bytes(e.content);return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.IMContent.UpdateInfo.UpdateEntry;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.objectInfo=i.com.nokia.soam.soamif.ObjectInfo.decode(e,e.uint32());break;case 2:s.content=e.bytes();break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("objectInfo"))throw r.ProtocolError("missing required 'objectInfo'",{instance:s});if(!s.hasOwnProperty("content"))throw r.ProtocolError("missing required 'content'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";var t=i.com.nokia.soam.soamif.ObjectInfo.verify(e.objectInfo);return t?"objectInfo."+t:e.content&&"number"===typeof e.content.length||r.isString(e.content)?null:"content: buffer expected"};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.IMContent.UpdateInfo.UpdateEntry)return e;var t=new i.com.nokia.soam.soamif.IMContent.UpdateInfo.UpdateEntry;if(null!=e.objectInfo){if("object"!==typeof e.objectInfo)throw TypeError(".com.nokia.soam.soamif.IMContent.UpdateInfo.UpdateEntry.objectInfo: object expected");t.objectInfo=i.com.nokia.soam.soamif.ObjectInfo.fromObject(e.objectInfo)}null!=e.content&&("string"===typeof e.content?r.base64.decode(e.content,t.content=r.newBuffer(r.base64.length(e.content)),0):e.content.length<0||(t.content=e.content));return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.objectInfo=null;if(t.bytes===String)n.content="";else{n.content=[];t.bytes!==Array&&(n.content=r.newBuffer(n.content))}}null!=e.objectInfo&&e.hasOwnProperty("objectInfo")&&(n.objectInfo=i.com.nokia.soam.soamif.ObjectInfo.toObject(e.objectInfo,t));null!=e.content&&e.hasOwnProperty("content")&&(n.content=t.bytes===String?r.base64.encode(e.content,0,e.content.length):t.bytes===Array?Array.prototype.slice.call(e.content):e.content);return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.IMContent.UpdateInfo.UpdateEntry"};return o}();return o}();return o}();o.TransactionEnd=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.header=null;o.prototype.transactionId=0;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());i.com.nokia.soam.soamif.GeneralHeader.encode(e.header,t.uint32(10).fork()).ldelim();t.uint32(16).uint32(e.transactionId);return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.TransactionEnd;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.header=i.com.nokia.soam.soamif.GeneralHeader.decode(e,e.uint32());break;case 2:s.transactionId=e.uint32();break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("header"))throw r.ProtocolError("missing required 'header'",{instance:s});if(!s.hasOwnProperty("transactionId"))throw r.ProtocolError("missing required 'transactionId'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";var t=i.com.nokia.soam.soamif.GeneralHeader.verify(e.header);return t?"header."+t:r.isInteger(e.transactionId)?null:"transactionId: integer expected"};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.TransactionEnd)return e;var t=new i.com.nokia.soam.soamif.TransactionEnd;if(null!=e.header){if("object"!==typeof e.header)throw TypeError(".com.nokia.soam.soamif.TransactionEnd.header: object expected");t.header=i.com.nokia.soam.soamif.GeneralHeader.fromObject(e.header)}null!=e.transactionId&&(t.transactionId=e.transactionId>>>0);return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.header=null;n.transactionId=0}null!=e.header&&e.hasOwnProperty("header")&&(n.header=i.com.nokia.soam.soamif.GeneralHeader.toObject(e.header,t));null!=e.transactionId&&e.hasOwnProperty("transactionId")&&(n.transactionId=e.transactionId);return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.TransactionEnd"};return o}();o.EstablishSession=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.header=null;o.prototype.sessionType=1;o.prototype.previousSessionId=null;o.prototype.clientVersion=null;o.prototype.clientVersionHash=null;o.prototype.updateIntervalMin=null;o.prototype.heartbeatInterval=null;o.prototype.heartbeatLostThreshold=null;o.prototype.fileSizeThresholdInKB=null;o.prototype.httpSessionId=null;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());i.com.nokia.soam.soamif.GeneralHeader.encode(e.header,t.uint32(10).fork()).ldelim();t.uint32(16).int32(e.sessionType);null!=e.previousSessionId&&Object.hasOwnProperty.call(e,"previousSessionId")&&t.uint32(26).string(e.previousSessionId);null!=e.clientVersion&&Object.hasOwnProperty.call(e,"clientVersion")&&t.uint32(34).string(e.clientVersion);null!=e.clientVersionHash&&Object.hasOwnProperty.call(e,"clientVersionHash")&&t.uint32(42).string(e.clientVersionHash);null!=e.updateIntervalMin&&Object.hasOwnProperty.call(e,"updateIntervalMin")&&t.uint32(48).uint32(e.updateIntervalMin);null!=e.heartbeatInterval&&Object.hasOwnProperty.call(e,"heartbeatInterval")&&t.uint32(56).uint32(e.heartbeatInterval);null!=e.heartbeatLostThreshold&&Object.hasOwnProperty.call(e,"heartbeatLostThreshold")&&t.uint32(64).uint32(e.heartbeatLostThreshold);null!=e.fileSizeThresholdInKB&&Object.hasOwnProperty.call(e,"fileSizeThresholdInKB")&&t.uint32(72).uint32(e.fileSizeThresholdInKB);null!=e.httpSessionId&&Object.hasOwnProperty.call(e,"httpSessionId")&&t.uint32(82).string(e.httpSessionId);return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.EstablishSession;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.header=i.com.nokia.soam.soamif.GeneralHeader.decode(e,e.uint32());break;case 2:s.sessionType=e.int32();break;case 3:s.previousSessionId=e.string();break;case 4:s.clientVersion=e.string();break;case 5:s.clientVersionHash=e.string();break;case 6:s.updateIntervalMin=e.uint32();break;case 7:s.heartbeatInterval=e.uint32();break;case 8:s.heartbeatLostThreshold=e.uint32();break;case 9:s.fileSizeThresholdInKB=e.uint32();break;case 10:s.httpSessionId=e.string();break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("header"))throw r.ProtocolError("missing required 'header'",{instance:s});if(!s.hasOwnProperty("sessionType"))throw r.ProtocolError("missing required 'sessionType'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";var t=i.com.nokia.soam.soamif.GeneralHeader.verify(e.header);if(t)return"header."+t;switch(e.sessionType){default:return"sessionType: enum value expected";case 1:case 2:}return null!=e.previousSessionId&&e.hasOwnProperty("previousSessionId")&&!r.isString(e.previousSessionId)?"previousSessionId: string expected":null!=e.clientVersion&&e.hasOwnProperty("clientVersion")&&!r.isString(e.clientVersion)?"clientVersion: string expected":null!=e.clientVersionHash&&e.hasOwnProperty("clientVersionHash")&&!r.isString(e.clientVersionHash)?"clientVersionHash: string expected":null!=e.updateIntervalMin&&e.hasOwnProperty("updateIntervalMin")&&!r.isInteger(e.updateIntervalMin)?"updateIntervalMin: integer expected":null!=e.heartbeatInterval&&e.hasOwnProperty("heartbeatInterval")&&!r.isInteger(e.heartbeatInterval)?"heartbeatInterval: integer expected":null!=e.heartbeatLostThreshold&&e.hasOwnProperty("heartbeatLostThreshold")&&!r.isInteger(e.heartbeatLostThreshold)?"heartbeatLostThreshold: integer expected":null!=e.fileSizeThresholdInKB&&e.hasOwnProperty("fileSizeThresholdInKB")&&!r.isInteger(e.fileSizeThresholdInKB)?"fileSizeThresholdInKB: integer expected":null!=e.httpSessionId&&e.hasOwnProperty("httpSessionId")&&!r.isString(e.httpSessionId)?"httpSessionId: string expected":null};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.EstablishSession)return e;var t=new i.com.nokia.soam.soamif.EstablishSession;if(null!=e.header){if("object"!==typeof e.header)throw TypeError(".com.nokia.soam.soamif.EstablishSession.header: object expected");t.header=i.com.nokia.soam.soamif.GeneralHeader.fromObject(e.header)}switch(e.sessionType){default:if("number"===typeof e.sessionType){t.sessionType=e.sessionType;break}break;case"CONTROL_SESSION":case 1:t.sessionType=1;break;case"CONTENT_TRANSMISSION":case 2:t.sessionType=2}null!=e.previousSessionId&&(t.previousSessionId=String(e.previousSessionId));null!=e.clientVersion&&(t.clientVersion=String(e.clientVersion));null!=e.clientVersionHash&&(t.clientVersionHash=String(e.clientVersionHash));null!=e.updateIntervalMin&&(t.updateIntervalMin=e.updateIntervalMin>>>0);null!=e.heartbeatInterval&&(t.heartbeatInterval=e.heartbeatInterval>>>0);null!=e.heartbeatLostThreshold&&(t.heartbeatLostThreshold=e.heartbeatLostThreshold>>>0);null!=e.fileSizeThresholdInKB&&(t.fileSizeThresholdInKB=e.fileSizeThresholdInKB>>>0);null!=e.httpSessionId&&(t.httpSessionId=String(e.httpSessionId));return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.header=null;n.sessionType=t.enums===String?"CONTROL_SESSION":1;n.previousSessionId="";n.clientVersion="";n.clientVersionHash="";n.updateIntervalMin=0;n.heartbeatInterval=0;n.heartbeatLostThreshold=0;n.fileSizeThresholdInKB=0;n.httpSessionId=""}null!=e.header&&e.hasOwnProperty("header")&&(n.header=i.com.nokia.soam.soamif.GeneralHeader.toObject(e.header,t));null!=e.sessionType&&e.hasOwnProperty("sessionType")&&(n.sessionType=t.enums===String?void 0===i.com.nokia.soam.soamif.EstablishSession.SessionType[e.sessionType]?e.sessionType:i.com.nokia.soam.soamif.EstablishSession.SessionType[e.sessionType]:e.sessionType);null!=e.previousSessionId&&e.hasOwnProperty("previousSessionId")&&(n.previousSessionId=e.previousSessionId);null!=e.clientVersion&&e.hasOwnProperty("clientVersion")&&(n.clientVersion=e.clientVersion);null!=e.clientVersionHash&&e.hasOwnProperty("clientVersionHash")&&(n.clientVersionHash=e.clientVersionHash);null!=e.updateIntervalMin&&e.hasOwnProperty("updateIntervalMin")&&(n.updateIntervalMin=e.updateIntervalMin);null!=e.heartbeatInterval&&e.hasOwnProperty("heartbeatInterval")&&(n.heartbeatInterval=e.heartbeatInterval);null!=e.heartbeatLostThreshold&&e.hasOwnProperty("heartbeatLostThreshold")&&(n.heartbeatLostThreshold=e.heartbeatLostThreshold);null!=e.fileSizeThresholdInKB&&e.hasOwnProperty("fileSizeThresholdInKB")&&(n.fileSizeThresholdInKB=e.fileSizeThresholdInKB);null!=e.httpSessionId&&e.hasOwnProperty("httpSessionId")&&(n.httpSessionId=e.httpSessionId);return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.EstablishSession"};o.SessionType=function(){var e={},t=Object.create(e);t[e[1]="CONTROL_SESSION"]=1;t[e[2]="CONTENT_TRANSMISSION"]=2;return t}();return o}();o.SessionEstablished=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.header=null;o.prototype.result=1;o.prototype.successResp=null;o.prototype.resultDescription=null;var s;Object.defineProperty(o.prototype,"responseDetails",{get:r.oneOfGetter(s=["successResp","resultDescription"]),set:r.oneOfSetter(s)});o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());i.com.nokia.soam.soamif.GeneralHeader.encode(e.header,t.uint32(10).fork()).ldelim();t.uint32(16).int32(e.result);null!=e.successResp&&Object.hasOwnProperty.call(e,"successResp")&&i.com.nokia.soam.soamif.SessionEstablished.SuccessResponse.encode(e.successResp,t.uint32(26).fork()).ldelim();null!=e.resultDescription&&Object.hasOwnProperty.call(e,"resultDescription")&&t.uint32(34).string(e.resultDescription);return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.SessionEstablished;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.header=i.com.nokia.soam.soamif.GeneralHeader.decode(e,e.uint32());break;case 2:s.result=e.int32();break;case 3:s.successResp=i.com.nokia.soam.soamif.SessionEstablished.SuccessResponse.decode(e,e.uint32());break;case 4:s.resultDescription=e.string();break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("header"))throw r.ProtocolError("missing required 'header'",{instance:s});if(!s.hasOwnProperty("result"))throw r.ProtocolError("missing required 'result'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";var t={};if(n=i.com.nokia.soam.soamif.GeneralHeader.verify(e.header))return"header."+n;switch(e.result){default:return"result: enum value expected";case 1:case 2:case 3:case 4:}if(null!=e.successResp&&e.hasOwnProperty("successResp")){t.responseDetails=1;var n;if(n=i.com.nokia.soam.soamif.SessionEstablished.SuccessResponse.verify(e.successResp))return"successResp."+n}if(null!=e.resultDescription&&e.hasOwnProperty("resultDescription")){if(1===t.responseDetails)return"responseDetails: multiple values";t.responseDetails=1;if(!r.isString(e.resultDescription))return"resultDescription: string expected"}return null};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.SessionEstablished)return e;var t=new i.com.nokia.soam.soamif.SessionEstablished;if(null!=e.header){if("object"!==typeof e.header)throw TypeError(".com.nokia.soam.soamif.SessionEstablished.header: object expected");t.header=i.com.nokia.soam.soamif.GeneralHeader.fromObject(e.header)}switch(e.result){default:if("number"===typeof e.result){t.result=e.result;break}break;case"SUCCESS":case 1:t.result=1;break;case"INVALID_UNSPECIFIED":case 2:t.result=2;break;case"SESSIONS_LIMIT_EXCEEDED":case 3:t.result=3;break;case"ACCESS_LIMITED":case 4:t.result=4}if(null!=e.successResp){if("object"!==typeof e.successResp)throw TypeError(".com.nokia.soam.soamif.SessionEstablished.successResp: object expected");t.successResp=i.com.nokia.soam.soamif.SessionEstablished.SuccessResponse.fromObject(e.successResp)}null!=e.resultDescription&&(t.resultDescription=String(e.resultDescription));return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.header=null;n.result=t.enums===String?"SUCCESS":1}null!=e.header&&e.hasOwnProperty("header")&&(n.header=i.com.nokia.soam.soamif.GeneralHeader.toObject(e.header,t));null!=e.result&&e.hasOwnProperty("result")&&(n.result=t.enums===String?void 0===i.com.nokia.soam.soamif.SessionEstablished.SessionEstablishedResult[e.result]?e.result:i.com.nokia.soam.soamif.SessionEstablished.SessionEstablishedResult[e.result]:e.result);if(null!=e.successResp&&e.hasOwnProperty("successResp")){n.successResp=i.com.nokia.soam.soamif.SessionEstablished.SuccessResponse.toObject(e.successResp,t);t.oneofs&&(n.responseDetails="successResp")}if(null!=e.resultDescription&&e.hasOwnProperty("resultDescription")){n.resultDescription=e.resultDescription;t.oneofs&&(n.responseDetails="resultDescription")}return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.SessionEstablished"};o.SessionEstablishedResult=function(){var e={},t=Object.create(e);t[e[1]="SUCCESS"]=1;t[e[2]="INVALID_UNSPECIFIED"]=2;t[e[3]="SESSIONS_LIMIT_EXCEEDED"]=3;t[e[4]="ACCESS_LIMITED"]=4;return t}();o.SuccessResponse=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.assignedSessionId="";o.prototype.sessionObjectDistname="";o.prototype.embeddedClientVersion=null;o.prototype.embeddedClientVersionHash=null;o.prototype.updateIntervalMin=null;o.prototype.heartbeatInterval=null;o.prototype.heartbeatLostThreshold=null;o.prototype.fileSizeThresholdInKB=null;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());t.uint32(10).string(e.assignedSessionId);t.uint32(18).string(e.sessionObjectDistname);null!=e.embeddedClientVersion&&Object.hasOwnProperty.call(e,"embeddedClientVersion")&&t.uint32(26).string(e.embeddedClientVersion);null!=e.embeddedClientVersionHash&&Object.hasOwnProperty.call(e,"embeddedClientVersionHash")&&t.uint32(34).string(e.embeddedClientVersionHash);null!=e.updateIntervalMin&&Object.hasOwnProperty.call(e,"updateIntervalMin")&&t.uint32(40).uint32(e.updateIntervalMin);null!=e.heartbeatInterval&&Object.hasOwnProperty.call(e,"heartbeatInterval")&&t.uint32(48).uint32(e.heartbeatInterval);null!=e.heartbeatLostThreshold&&Object.hasOwnProperty.call(e,"heartbeatLostThreshold")&&t.uint32(56).uint32(e.heartbeatLostThreshold);null!=e.fileSizeThresholdInKB&&Object.hasOwnProperty.call(e,"fileSizeThresholdInKB")&&t.uint32(64).uint32(e.fileSizeThresholdInKB);return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.SessionEstablished.SuccessResponse;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.assignedSessionId=e.string();break;case 2:s.sessionObjectDistname=e.string();break;case 3:s.embeddedClientVersion=e.string();break;case 4:s.embeddedClientVersionHash=e.string();break;case 5:s.updateIntervalMin=e.uint32();break;case 6:s.heartbeatInterval=e.uint32();break;case 7:s.heartbeatLostThreshold=e.uint32();break;case 8:s.fileSizeThresholdInKB=e.uint32();break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("assignedSessionId"))throw r.ProtocolError("missing required 'assignedSessionId'",{instance:s});if(!s.hasOwnProperty("sessionObjectDistname"))throw r.ProtocolError("missing required 'sessionObjectDistname'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){return"object"!==typeof e||null===e?"object expected":r.isString(e.assignedSessionId)?r.isString(e.sessionObjectDistname)?null!=e.embeddedClientVersion&&e.hasOwnProperty("embeddedClientVersion")&&!r.isString(e.embeddedClientVersion)?"embeddedClientVersion: string expected":null!=e.embeddedClientVersionHash&&e.hasOwnProperty("embeddedClientVersionHash")&&!r.isString(e.embeddedClientVersionHash)?"embeddedClientVersionHash: string expected":null!=e.updateIntervalMin&&e.hasOwnProperty("updateIntervalMin")&&!r.isInteger(e.updateIntervalMin)?"updateIntervalMin: integer expected":null!=e.heartbeatInterval&&e.hasOwnProperty("heartbeatInterval")&&!r.isInteger(e.heartbeatInterval)?"heartbeatInterval: integer expected":null!=e.heartbeatLostThreshold&&e.hasOwnProperty("heartbeatLostThreshold")&&!r.isInteger(e.heartbeatLostThreshold)?"heartbeatLostThreshold: integer expected":null!=e.fileSizeThresholdInKB&&e.hasOwnProperty("fileSizeThresholdInKB")&&!r.isInteger(e.fileSizeThresholdInKB)?"fileSizeThresholdInKB: integer expected":null:"sessionObjectDistname: string expected":"assignedSessionId: string expected"};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.SessionEstablished.SuccessResponse)return e;var t=new i.com.nokia.soam.soamif.SessionEstablished.SuccessResponse;null!=e.assignedSessionId&&(t.assignedSessionId=String(e.assignedSessionId));null!=e.sessionObjectDistname&&(t.sessionObjectDistname=String(e.sessionObjectDistname));null!=e.embeddedClientVersion&&(t.embeddedClientVersion=String(e.embeddedClientVersion));null!=e.embeddedClientVersionHash&&(t.embeddedClientVersionHash=String(e.embeddedClientVersionHash));null!=e.updateIntervalMin&&(t.updateIntervalMin=e.updateIntervalMin>>>0);null!=e.heartbeatInterval&&(t.heartbeatInterval=e.heartbeatInterval>>>0);null!=e.heartbeatLostThreshold&&(t.heartbeatLostThreshold=e.heartbeatLostThreshold>>>0);null!=e.fileSizeThresholdInKB&&(t.fileSizeThresholdInKB=e.fileSizeThresholdInKB>>>0);return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.assignedSessionId="";n.sessionObjectDistname="";n.embeddedClientVersion="";n.embeddedClientVersionHash="";n.updateIntervalMin=0;n.heartbeatInterval=0;n.heartbeatLostThreshold=0;n.fileSizeThresholdInKB=0}null!=e.assignedSessionId&&e.hasOwnProperty("assignedSessionId")&&(n.assignedSessionId=e.assignedSessionId);null!=e.sessionObjectDistname&&e.hasOwnProperty("sessionObjectDistname")&&(n.sessionObjectDistname=e.sessionObjectDistname);null!=e.embeddedClientVersion&&e.hasOwnProperty("embeddedClientVersion")&&(n.embeddedClientVersion=e.embeddedClientVersion);null!=e.embeddedClientVersionHash&&e.hasOwnProperty("embeddedClientVersionHash")&&(n.embeddedClientVersionHash=e.embeddedClientVersionHash);null!=e.updateIntervalMin&&e.hasOwnProperty("updateIntervalMin")&&(n.updateIntervalMin=e.updateIntervalMin);null!=e.heartbeatInterval&&e.hasOwnProperty("heartbeatInterval")&&(n.heartbeatInterval=e.heartbeatInterval);null!=e.heartbeatLostThreshold&&e.hasOwnProperty("heartbeatLostThreshold")&&(n.heartbeatLostThreshold=e.heartbeatLostThreshold);null!=e.fileSizeThresholdInKB&&e.hasOwnProperty("fileSizeThresholdInKB")&&(n.fileSizeThresholdInKB=e.fileSizeThresholdInKB);return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.SessionEstablished.SuccessResponse"};return o}();return o}();o.VersionRequest=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.header=null;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());i.com.nokia.soam.soamif.GeneralHeader.encode(e.header,t.uint32(10).fork()).ldelim();return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.VersionRequest;e.pos<o;){var a=e.uint32();a>>>3===1?s.header=i.com.nokia.soam.soamif.GeneralHeader.decode(e,e.uint32()):e.skipType(7&a)}if(!s.hasOwnProperty("header"))throw r.ProtocolError("missing required 'header'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";var t=i.com.nokia.soam.soamif.GeneralHeader.verify(e.header);return t?"header."+t:null};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.VersionRequest)return e;var t=new i.com.nokia.soam.soamif.VersionRequest;if(null!=e.header){if("object"!==typeof e.header)throw TypeError(".com.nokia.soam.soamif.VersionRequest.header: object expected");t.header=i.com.nokia.soam.soamif.GeneralHeader.fromObject(e.header)}return t};o.toObject=function(e,t){t||(t={});var n={};t.defaults&&(n.header=null);null!=e.header&&e.hasOwnProperty("header")&&(n.header=i.com.nokia.soam.soamif.GeneralHeader.toObject(e.header,t));return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.VersionRequest"};return o}();o.VersionResponse=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.header=null;o.prototype.soamIfVersion="";o.prototype.btsId="";o.prototype.metaVersion=null;o.prototype.swVersion=null;o.prototype.hwVersion=null;o.prototype.webEmVersion=null;o.prototype.autoConfBlocked=null;o.prototype.commissionRequired=null;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());i.com.nokia.soam.soamif.GeneralHeader.encode(e.header,t.uint32(10).fork()).ldelim();t.uint32(18).string(e.soamIfVersion);t.uint32(26).string(e.btsId);null!=e.metaVersion&&Object.hasOwnProperty.call(e,"metaVersion")&&t.uint32(34).string(e.metaVersion);null!=e.swVersion&&Object.hasOwnProperty.call(e,"swVersion")&&t.uint32(42).string(e.swVersion);null!=e.hwVersion&&Object.hasOwnProperty.call(e,"hwVersion")&&t.uint32(50).string(e.hwVersion);null!=e.webEmVersion&&Object.hasOwnProperty.call(e,"webEmVersion")&&t.uint32(58).string(e.webEmVersion);null!=e.autoConfBlocked&&Object.hasOwnProperty.call(e,"autoConfBlocked")&&t.uint32(64).bool(e.autoConfBlocked);null!=e.commissionRequired&&Object.hasOwnProperty.call(e,"commissionRequired")&&t.uint32(72).bool(e.commissionRequired);return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.VersionResponse;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.header=i.com.nokia.soam.soamif.GeneralHeader.decode(e,e.uint32());break;case 2:s.soamIfVersion=e.string();break;case 3:s.btsId=e.string();break;case 4:s.metaVersion=e.string();break;case 5:s.swVersion=e.string();break;case 6:s.hwVersion=e.string();break;case 7:s.webEmVersion=e.string();break;case 8:s.autoConfBlocked=e.bool();break;case 9:s.commissionRequired=e.bool();break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("header"))throw r.ProtocolError("missing required 'header'",{instance:s});if(!s.hasOwnProperty("soamIfVersion"))throw r.ProtocolError("missing required 'soamIfVersion'",{instance:s});if(!s.hasOwnProperty("btsId"))throw r.ProtocolError("missing required 'btsId'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";var t=i.com.nokia.soam.soamif.GeneralHeader.verify(e.header);return t?"header."+t:r.isString(e.soamIfVersion)?r.isString(e.btsId)?null!=e.metaVersion&&e.hasOwnProperty("metaVersion")&&!r.isString(e.metaVersion)?"metaVersion: string expected":null!=e.swVersion&&e.hasOwnProperty("swVersion")&&!r.isString(e.swVersion)?"swVersion: string expected":null!=e.hwVersion&&e.hasOwnProperty("hwVersion")&&!r.isString(e.hwVersion)?"hwVersion: string expected":null!=e.webEmVersion&&e.hasOwnProperty("webEmVersion")&&!r.isString(e.webEmVersion)?"webEmVersion: string expected":null!=e.autoConfBlocked&&e.hasOwnProperty("autoConfBlocked")&&"boolean"!==typeof e.autoConfBlocked?"autoConfBlocked: boolean expected":null!=e.commissionRequired&&e.hasOwnProperty("commissionRequired")&&"boolean"!==typeof e.commissionRequired?"commissionRequired: boolean expected":null:"btsId: string expected":"soamIfVersion: string expected"};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.VersionResponse)return e;var t=new i.com.nokia.soam.soamif.VersionResponse;if(null!=e.header){if("object"!==typeof e.header)throw TypeError(".com.nokia.soam.soamif.VersionResponse.header: object expected");t.header=i.com.nokia.soam.soamif.GeneralHeader.fromObject(e.header)}null!=e.soamIfVersion&&(t.soamIfVersion=String(e.soamIfVersion));null!=e.btsId&&(t.btsId=String(e.btsId));null!=e.metaVersion&&(t.metaVersion=String(e.metaVersion));null!=e.swVersion&&(t.swVersion=String(e.swVersion));null!=e.hwVersion&&(t.hwVersion=String(e.hwVersion));null!=e.webEmVersion&&(t.webEmVersion=String(e.webEmVersion));null!=e.autoConfBlocked&&(t.autoConfBlocked=Boolean(e.autoConfBlocked));null!=e.commissionRequired&&(t.commissionRequired=Boolean(e.commissionRequired));return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.header=null;n.soamIfVersion="";n.btsId="";n.metaVersion="";n.swVersion="";n.hwVersion="";n.webEmVersion="";n.autoConfBlocked=!1;n.commissionRequired=!1}null!=e.header&&e.hasOwnProperty("header")&&(n.header=i.com.nokia.soam.soamif.GeneralHeader.toObject(e.header,t));null!=e.soamIfVersion&&e.hasOwnProperty("soamIfVersion")&&(n.soamIfVersion=e.soamIfVersion);null!=e.btsId&&e.hasOwnProperty("btsId")&&(n.btsId=e.btsId);null!=e.metaVersion&&e.hasOwnProperty("metaVersion")&&(n.metaVersion=e.metaVersion);null!=e.swVersion&&e.hasOwnProperty("swVersion")&&(n.swVersion=e.swVersion);null!=e.hwVersion&&e.hasOwnProperty("hwVersion")&&(n.hwVersion=e.hwVersion);null!=e.webEmVersion&&e.hasOwnProperty("webEmVersion")&&(n.webEmVersion=e.webEmVersion);null!=e.autoConfBlocked&&e.hasOwnProperty("autoConfBlocked")&&(n.autoConfBlocked=e.autoConfBlocked);null!=e.commissionRequired&&e.hasOwnProperty("commissionRequired")&&(n.commissionRequired=e.commissionRequired);return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.VersionResponse"};return o}();o.LoginRequest=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.header=null;o.prototype.hashingMethod=1;o.prototype.login="";o.prototype.token="";o.prototype.originator=1;o.prototype.authMethod=1;o.prototype.readOnlyAccessRequired=!1;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());i.com.nokia.soam.soamif.GeneralHeader.encode(e.header,t.uint32(10).fork()).ldelim();t.uint32(16).int32(e.hashingMethod);t.uint32(26).string(e.login);t.uint32(34).string(e.token);t.uint32(40).int32(e.originator);t.uint32(48).int32(e.authMethod);t.uint32(56).bool(e.readOnlyAccessRequired);return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.LoginRequest;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.header=i.com.nokia.soam.soamif.GeneralHeader.decode(e,e.uint32());break;case 2:s.hashingMethod=e.int32();break;case 3:s.login=e.string();break;case 4:s.token=e.string();break;case 5:s.originator=e.int32();break;case 6:s.authMethod=e.int32();break;case 7:s.readOnlyAccessRequired=e.bool();break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("header"))throw r.ProtocolError("missing required 'header'",{instance:s});if(!s.hasOwnProperty("hashingMethod"))throw r.ProtocolError("missing required 'hashingMethod'",{instance:s});if(!s.hasOwnProperty("login"))throw r.ProtocolError("missing required 'login'",{instance:s});if(!s.hasOwnProperty("token"))throw r.ProtocolError("missing required 'token'",{instance:s});if(!s.hasOwnProperty("originator"))throw r.ProtocolError("missing required 'originator'",{instance:s});if(!s.hasOwnProperty("authMethod"))throw r.ProtocolError("missing required 'authMethod'",{instance:s});if(!s.hasOwnProperty("readOnlyAccessRequired"))throw r.ProtocolError("missing required 'readOnlyAccessRequired'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";var t=i.com.nokia.soam.soamif.GeneralHeader.verify(e.header);if(t)return"header."+t;if(1!==e.hashingMethod)return"hashingMethod: enum value expected";if(!r.isString(e.login))return"login: string expected";if(!r.isString(e.token))return"token: string expected";switch(e.originator){default:return"originator: enum value expected";case 1:case 2:}switch(e.authMethod){default:return"authMethod: enum value expected";case 1:case 2:}return"boolean"!==typeof e.readOnlyAccessRequired?"readOnlyAccessRequired: boolean expected":null};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.LoginRequest)return e;var t=new i.com.nokia.soam.soamif.LoginRequest;if(null!=e.header){if("object"!==typeof e.header)throw TypeError(".com.nokia.soam.soamif.LoginRequest.header: object expected");t.header=i.com.nokia.soam.soamif.GeneralHeader.fromObject(e.header)}switch(e.hashingMethod){default:if("number"===typeof e.hashingMethod){t.hashingMethod=e.hashingMethod;break}break;case"PLAIN_TEXT":case 1:t.hashingMethod=1}null!=e.login&&(t.login=String(e.login));null!=e.token&&(t.token=String(e.token));switch(e.originator){default:if("number"===typeof e.originator){t.originator=e.originator;break}break;case"WEB_EM":case 1:t.originator=1;break;case"BTS_CLI":case 2:t.originator=2}switch(e.authMethod){default:if("number"===typeof e.authMethod){t.authMethod=e.authMethod;break}break;case"LOGIN_BASED":case 1:t.authMethod=1;break;case"TOKEN_BASED":case 2:t.authMethod=2}null!=e.readOnlyAccessRequired&&(t.readOnlyAccessRequired=Boolean(e.readOnlyAccessRequired));return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.header=null;n.hashingMethod=t.enums===String?"PLAIN_TEXT":1;n.login="";n.token="";n.originator=t.enums===String?"WEB_EM":1;n.authMethod=t.enums===String?"LOGIN_BASED":1;n.readOnlyAccessRequired=!1}null!=e.header&&e.hasOwnProperty("header")&&(n.header=i.com.nokia.soam.soamif.GeneralHeader.toObject(e.header,t));null!=e.hashingMethod&&e.hasOwnProperty("hashingMethod")&&(n.hashingMethod=t.enums===String?void 0===i.com.nokia.soam.soamif.LoginRequest.HashingMethod[e.hashingMethod]?e.hashingMethod:i.com.nokia.soam.soamif.LoginRequest.HashingMethod[e.hashingMethod]:e.hashingMethod);null!=e.login&&e.hasOwnProperty("login")&&(n.login=e.login);null!=e.token&&e.hasOwnProperty("token")&&(n.token=e.token);null!=e.originator&&e.hasOwnProperty("originator")&&(n.originator=t.enums===String?void 0===i.com.nokia.soam.soamif.LoginRequest.Originator[e.originator]?e.originator:i.com.nokia.soam.soamif.LoginRequest.Originator[e.originator]:e.originator);null!=e.authMethod&&e.hasOwnProperty("authMethod")&&(n.authMethod=t.enums===String?void 0===i.com.nokia.soam.soamif.LoginRequest.AuthMethod[e.authMethod]?e.authMethod:i.com.nokia.soam.soamif.LoginRequest.AuthMethod[e.authMethod]:e.authMethod);null!=e.readOnlyAccessRequired&&e.hasOwnProperty("readOnlyAccessRequired")&&(n.readOnlyAccessRequired=e.readOnlyAccessRequired);return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.LoginRequest"};o.HashingMethod=function(){var e={},t=Object.create(e);t[e[1]="PLAIN_TEXT"]=1;return t}();o.Originator=function(){var e={},t=Object.create(e);t[e[1]="WEB_EM"]=1;t[e[2]="BTS_CLI"]=2;return t}();o.AuthMethod=function(){var e={},t=Object.create(e);t[e[1]="LOGIN_BASED"]=1;t[e[2]="TOKEN_BASED"]=2;return t}();return o}();o.LoginResponse=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.header=null;o.prototype.result=1;o.prototype.successResp=null;o.prototype.resultDescription=null;var s;Object.defineProperty(o.prototype,"responseDetails",{get:r.oneOfGetter(s=["successResp","resultDescription"]),set:r.oneOfSetter(s)});o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());i.com.nokia.soam.soamif.GeneralHeader.encode(e.header,t.uint32(10).fork()).ldelim();t.uint32(16).int32(e.result);null!=e.successResp&&Object.hasOwnProperty.call(e,"successResp")&&i.com.nokia.soam.soamif.LoginResponse.SuccessResponse.encode(e.successResp,t.uint32(34).fork()).ldelim();null!=e.resultDescription&&Object.hasOwnProperty.call(e,"resultDescription")&&t.uint32(42).string(e.resultDescription);return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.LoginResponse;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.header=i.com.nokia.soam.soamif.GeneralHeader.decode(e,e.uint32());break;case 2:s.result=e.int32();break;case 4:s.successResp=i.com.nokia.soam.soamif.LoginResponse.SuccessResponse.decode(e,e.uint32());break;case 5:s.resultDescription=e.string();break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("header"))throw r.ProtocolError("missing required 'header'",{instance:s});if(!s.hasOwnProperty("result"))throw r.ProtocolError("missing required 'result'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";var t={};if(n=i.com.nokia.soam.soamif.GeneralHeader.verify(e.header))return"header."+n;switch(e.result){default:return"result: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:}if(null!=e.successResp&&e.hasOwnProperty("successResp")){t.responseDetails=1;var n;if(n=i.com.nokia.soam.soamif.LoginResponse.SuccessResponse.verify(e.successResp))return"successResp."+n}if(null!=e.resultDescription&&e.hasOwnProperty("resultDescription")){if(1===t.responseDetails)return"responseDetails: multiple values";t.responseDetails=1;if(!r.isString(e.resultDescription))return"resultDescription: string expected"}return null};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.LoginResponse)return e;var t=new i.com.nokia.soam.soamif.LoginResponse;if(null!=e.header){if("object"!==typeof e.header)throw TypeError(".com.nokia.soam.soamif.LoginResponse.header: object expected");t.header=i.com.nokia.soam.soamif.GeneralHeader.fromObject(e.header)}switch(e.result){default:if("number"===typeof e.result){t.result=e.result;break}break;case"SUCCESS":case 1:t.result=1;break;case"INVALID_UNSPECIFIED":case 2:t.result=2;break;case"USER_OR_TOKEN_INVALID":case 3:t.result=3;break;case"USER_TEMPORARILY_LOCKED":case 4:t.result=4;break;case"USER_PERMANENTLY_LOCKED":case 5:t.result=5;break;case"ORIGINATOR_NOT_SUPPORTED":case 6:t.result=6;break;case"LOCAL_ACCOUNT_BLOCKED":case 7:t.result=7;break;case"ACCESS_WEBEM_LIMITED":case 8:t.result=8;break;case"LDAP_UNREACHABLE":case 9:t.result=9;break;case"LDAP_BIND_FAILED":case 10:t.result=10;break;case"USER_NOT_FOUND":case 11:t.result=11;break;case"MPLANE_IP_NOT_READY":case 12:t.result=12;break;case"NORTHBOUND_INTERFACE_NOT_READY":case 13:t.result=13}if(null!=e.successResp){if("object"!==typeof e.successResp)throw TypeError(".com.nokia.soam.soamif.LoginResponse.successResp: object expected");t.successResp=i.com.nokia.soam.soamif.LoginResponse.SuccessResponse.fromObject(e.successResp)}null!=e.resultDescription&&(t.resultDescription=String(e.resultDescription));return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.header=null;n.result=t.enums===String?"SUCCESS":1}null!=e.header&&e.hasOwnProperty("header")&&(n.header=i.com.nokia.soam.soamif.GeneralHeader.toObject(e.header,t));null!=e.result&&e.hasOwnProperty("result")&&(n.result=t.enums===String?void 0===i.com.nokia.soam.soamif.LoginResponse.LoginResult[e.result]?e.result:i.com.nokia.soam.soamif.LoginResponse.LoginResult[e.result]:e.result);if(null!=e.successResp&&e.hasOwnProperty("successResp")){n.successResp=i.com.nokia.soam.soamif.LoginResponse.SuccessResponse.toObject(e.successResp,t);t.oneofs&&(n.responseDetails="successResp")}if(null!=e.resultDescription&&e.hasOwnProperty("resultDescription")){n.resultDescription=e.resultDescription;t.oneofs&&(n.responseDetails="resultDescription")}return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.LoginResponse"};o.LoginResult=function(){var e={},t=Object.create(e);t[e[1]="SUCCESS"]=1;t[e[2]="INVALID_UNSPECIFIED"]=2;t[e[3]="USER_OR_TOKEN_INVALID"]=3;t[e[4]="USER_TEMPORARILY_LOCKED"]=4;t[e[5]="USER_PERMANENTLY_LOCKED"]=5;t[e[6]="ORIGINATOR_NOT_SUPPORTED"]=6;t[e[7]="LOCAL_ACCOUNT_BLOCKED"]=7;t[e[8]="ACCESS_WEBEM_LIMITED"]=8;t[e[9]="LDAP_UNREACHABLE"]=9;t[e[10]="LDAP_BIND_FAILED"]=10;t[e[11]="USER_NOT_FOUND"]=11;t[e[12]="MPLANE_IP_NOT_READY"]=12;t[e[13]="NORTHBOUND_INTERFACE_NOT_READY"]=13;return t}();o.SuccessResponse=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.profile="";o.prototype.loginDetails=null;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());t.uint32(10).string(e.profile);null!=e.loginDetails&&Object.hasOwnProperty.call(e,"loginDetails")&&i.com.nokia.soam.soamif.LoginResponse.SuccessResponse.Details.encode(e.loginDetails,t.uint32(18).fork()).ldelim();return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.LoginResponse.SuccessResponse;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.profile=e.string();break;case 2:s.loginDetails=i.com.nokia.soam.soamif.LoginResponse.SuccessResponse.Details.decode(e,e.uint32());break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("profile"))throw r.ProtocolError("missing required 'profile'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(!r.isString(e.profile))return"profile: string expected";if(null!=e.loginDetails&&e.hasOwnProperty("loginDetails")){var t=i.com.nokia.soam.soamif.LoginResponse.SuccessResponse.Details.verify(e.loginDetails);if(t)return"loginDetails."+t}return null};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.LoginResponse.SuccessResponse)return e;var t=new i.com.nokia.soam.soamif.LoginResponse.SuccessResponse;null!=e.profile&&(t.profile=String(e.profile));if(null!=e.loginDetails){if("object"!==typeof e.loginDetails)throw TypeError(".com.nokia.soam.soamif.LoginResponse.SuccessResponse.loginDetails: object expected");t.loginDetails=i.com.nokia.soam.soamif.LoginResponse.SuccessResponse.Details.fromObject(e.loginDetails)}return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.profile="";n.loginDetails=null}null!=e.profile&&e.hasOwnProperty("profile")&&(n.profile=e.profile);null!=e.loginDetails&&e.hasOwnProperty("loginDetails")&&(n.loginDetails=i.com.nokia.soam.soamif.LoginResponse.SuccessResponse.Details.toObject(e.loginDetails,t));return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.LoginResponse.SuccessResponse"};o.AccountType=function(){var e={},t=Object.create(e);t[e[1]="LOCAL"]=1;t[e[2]="CENTRALIZED"]=2;return t}();o.ActivationStatus=function(){var e={},t=Object.create(e);t[e[1]="ACTIVE"]=1;t[e[2]="INACTIVE"]=2;return t}();o.Details=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.userName="";o.prototype.failedLoginNo=0;o.prototype.lastSuccess=null;o.prototype.remainingGracefulLoginAttempts=null;o.prototype.accountExpiration=null;o.prototype.accountType=null;o.prototype.password=null;o.prototype.activationStatus=null;o.prototype.readOnlyAccess=null;o.prototype.rndMode=null;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());t.uint32(10).string(e.userName);t.uint32(16).uint32(e.failedLoginNo);null!=e.lastSuccess&&Object.hasOwnProperty.call(e,"lastSuccess")&&t.uint32(24).uint64(e.lastSuccess);null!=e.remainingGracefulLoginAttempts&&Object.hasOwnProperty.call(e,"remainingGracefulLoginAttempts")&&t.uint32(32).uint64(e.remainingGracefulLoginAttempts);null!=e.accountExpiration&&Object.hasOwnProperty.call(e,"accountExpiration")&&t.uint32(40).uint64(e.accountExpiration);null!=e.accountType&&Object.hasOwnProperty.call(e,"accountType")&&t.uint32(48).int32(e.accountType);null!=e.password&&Object.hasOwnProperty.call(e,"password")&&t.uint32(58).string(e.password);null!=e.activationStatus&&Object.hasOwnProperty.call(e,"activationStatus")&&t.uint32(64).int32(e.activationStatus);null!=e.readOnlyAccess&&Object.hasOwnProperty.call(e,"readOnlyAccess")&&t.uint32(72).bool(e.readOnlyAccess);null!=e.rndMode&&Object.hasOwnProperty.call(e,"rndMode")&&t.uint32(80).bool(e.rndMode);return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.LoginResponse.SuccessResponse.Details;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.userName=e.string();break;case 2:s.failedLoginNo=e.uint32();break;case 3:s.lastSuccess=e.uint64();break;case 4:s.remainingGracefulLoginAttempts=e.uint64();break;case 5:s.accountExpiration=e.uint64();break;case 6:s.accountType=e.int32();break;case 7:s.password=e.string();break;case 8:s.activationStatus=e.int32();break;case 9:s.readOnlyAccess=e.bool();break;case 10:s.rndMode=e.bool();break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("userName"))throw r.ProtocolError("missing required 'userName'",{instance:s});if(!s.hasOwnProperty("failedLoginNo"))throw r.ProtocolError("missing required 'failedLoginNo'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(!r.isString(e.userName))return"userName: string expected";if(!r.isInteger(e.failedLoginNo))return"failedLoginNo: integer expected";if(null!=e.lastSuccess&&e.hasOwnProperty("lastSuccess")&&!r.isInteger(e.lastSuccess)&&!(e.lastSuccess&&r.isInteger(e.lastSuccess.low)&&r.isInteger(e.lastSuccess.high)))return"lastSuccess: integer|Long expected";if(null!=e.remainingGracefulLoginAttempts&&e.hasOwnProperty("remainingGracefulLoginAttempts")&&!r.isInteger(e.remainingGracefulLoginAttempts)&&!(e.remainingGracefulLoginAttempts&&r.isInteger(e.remainingGracefulLoginAttempts.low)&&r.isInteger(e.remainingGracefulLoginAttempts.high)))return"remainingGracefulLoginAttempts: integer|Long expected";if(null!=e.accountExpiration&&e.hasOwnProperty("accountExpiration")&&!r.isInteger(e.accountExpiration)&&!(e.accountExpiration&&r.isInteger(e.accountExpiration.low)&&r.isInteger(e.accountExpiration.high)))return"accountExpiration: integer|Long expected";if(null!=e.accountType&&e.hasOwnProperty("accountType"))switch(e.accountType){default:return"accountType: enum value expected";case 1:case 2:}if(null!=e.password&&e.hasOwnProperty("password")&&!r.isString(e.password))return"password: string expected";if(null!=e.activationStatus&&e.hasOwnProperty("activationStatus"))switch(e.activationStatus){default:return"activationStatus: enum value expected";case 1:case 2:}return null!=e.readOnlyAccess&&e.hasOwnProperty("readOnlyAccess")&&"boolean"!==typeof e.readOnlyAccess?"readOnlyAccess: boolean expected":null!=e.rndMode&&e.hasOwnProperty("rndMode")&&"boolean"!==typeof e.rndMode?"rndMode: boolean expected":null};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.LoginResponse.SuccessResponse.Details)return e;var t=new i.com.nokia.soam.soamif.LoginResponse.SuccessResponse.Details;null!=e.userName&&(t.userName=String(e.userName));null!=e.failedLoginNo&&(t.failedLoginNo=e.failedLoginNo>>>0);null!=e.lastSuccess&&(r.Long?(t.lastSuccess=r.Long.fromValue(e.lastSuccess)).unsigned=!0:"string"===typeof e.lastSuccess?t.lastSuccess=parseInt(e.lastSuccess,10):"number"===typeof e.lastSuccess?t.lastSuccess=e.lastSuccess:"object"===typeof e.lastSuccess&&(t.lastSuccess=new r.LongBits(e.lastSuccess.low>>>0,e.lastSuccess.high>>>0).toNumber(!0)));null!=e.remainingGracefulLoginAttempts&&(r.Long?(t.remainingGracefulLoginAttempts=r.Long.fromValue(e.remainingGracefulLoginAttempts)).unsigned=!0:"string"===typeof e.remainingGracefulLoginAttempts?t.remainingGracefulLoginAttempts=parseInt(e.remainingGracefulLoginAttempts,10):"number"===typeof e.remainingGracefulLoginAttempts?t.remainingGracefulLoginAttempts=e.remainingGracefulLoginAttempts:"object"===typeof e.remainingGracefulLoginAttempts&&(t.remainingGracefulLoginAttempts=new r.LongBits(e.remainingGracefulLoginAttempts.low>>>0,e.remainingGracefulLoginAttempts.high>>>0).toNumber(!0)));null!=e.accountExpiration&&(r.Long?(t.accountExpiration=r.Long.fromValue(e.accountExpiration)).unsigned=!0:"string"===typeof e.accountExpiration?t.accountExpiration=parseInt(e.accountExpiration,10):"number"===typeof e.accountExpiration?t.accountExpiration=e.accountExpiration:"object"===typeof e.accountExpiration&&(t.accountExpiration=new r.LongBits(e.accountExpiration.low>>>0,e.accountExpiration.high>>>0).toNumber(!0)));switch(e.accountType){default:if("number"===typeof e.accountType){t.accountType=e.accountType;break}break;case"LOCAL":case 1:t.accountType=1;break;case"CENTRALIZED":case 2:t.accountType=2}null!=e.password&&(t.password=String(e.password));switch(e.activationStatus){default:if("number"===typeof e.activationStatus){t.activationStatus=e.activationStatus;break}break;case"ACTIVE":case 1:t.activationStatus=1;break;case"INACTIVE":case 2:t.activationStatus=2}null!=e.readOnlyAccess&&(t.readOnlyAccess=Boolean(e.readOnlyAccess));null!=e.rndMode&&(t.rndMode=Boolean(e.rndMode));return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.userName="";n.failedLoginNo=0;if(r.Long){var o=new r.Long(0,0,!0);n.lastSuccess=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else n.lastSuccess=t.longs===String?"0":0;if(r.Long){o=new r.Long(0,0,!0);n.remainingGracefulLoginAttempts=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else n.remainingGracefulLoginAttempts=t.longs===String?"0":0;if(r.Long){o=new r.Long(0,0,!0);n.accountExpiration=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else n.accountExpiration=t.longs===String?"0":0;n.accountType=t.enums===String?"LOCAL":1;n.password="";n.activationStatus=t.enums===String?"ACTIVE":1;n.readOnlyAccess=!1;n.rndMode=!1}null!=e.userName&&e.hasOwnProperty("userName")&&(n.userName=e.userName);null!=e.failedLoginNo&&e.hasOwnProperty("failedLoginNo")&&(n.failedLoginNo=e.failedLoginNo);null!=e.lastSuccess&&e.hasOwnProperty("lastSuccess")&&("number"===typeof e.lastSuccess?n.lastSuccess=t.longs===String?String(e.lastSuccess):e.lastSuccess:n.lastSuccess=t.longs===String?r.Long.prototype.toString.call(e.lastSuccess):t.longs===Number?new r.LongBits(e.lastSuccess.low>>>0,e.lastSuccess.high>>>0).toNumber(!0):e.lastSuccess);null!=e.remainingGracefulLoginAttempts&&e.hasOwnProperty("remainingGracefulLoginAttempts")&&("number"===typeof e.remainingGracefulLoginAttempts?n.remainingGracefulLoginAttempts=t.longs===String?String(e.remainingGracefulLoginAttempts):e.remainingGracefulLoginAttempts:n.remainingGracefulLoginAttempts=t.longs===String?r.Long.prototype.toString.call(e.remainingGracefulLoginAttempts):t.longs===Number?new r.LongBits(e.remainingGracefulLoginAttempts.low>>>0,e.remainingGracefulLoginAttempts.high>>>0).toNumber(!0):e.remainingGracefulLoginAttempts);null!=e.accountExpiration&&e.hasOwnProperty("accountExpiration")&&("number"===typeof e.accountExpiration?n.accountExpiration=t.longs===String?String(e.accountExpiration):e.accountExpiration:n.accountExpiration=t.longs===String?r.Long.prototype.toString.call(e.accountExpiration):t.longs===Number?new r.LongBits(e.accountExpiration.low>>>0,e.accountExpiration.high>>>0).toNumber(!0):e.accountExpiration);null!=e.accountType&&e.hasOwnProperty("accountType")&&(n.accountType=t.enums===String?void 0===i.com.nokia.soam.soamif.LoginResponse.SuccessResponse.AccountType[e.accountType]?e.accountType:i.com.nokia.soam.soamif.LoginResponse.SuccessResponse.AccountType[e.accountType]:e.accountType);null!=e.password&&e.hasOwnProperty("password")&&(n.password=e.password);null!=e.activationStatus&&e.hasOwnProperty("activationStatus")&&(n.activationStatus=t.enums===String?void 0===i.com.nokia.soam.soamif.LoginResponse.SuccessResponse.ActivationStatus[e.activationStatus]?e.activationStatus:i.com.nokia.soam.soamif.LoginResponse.SuccessResponse.ActivationStatus[e.activationStatus]:e.activationStatus);null!=e.readOnlyAccess&&e.hasOwnProperty("readOnlyAccess")&&(n.readOnlyAccess=e.readOnlyAccess);null!=e.rndMode&&e.hasOwnProperty("rndMode")&&(n.rndMode=e.rndMode);return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.LoginResponse.SuccessResponse.Details"};return o}();return o}();return o}();o.Heartbeat=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.header=null;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());i.com.nokia.soam.soamif.GeneralHeader.encode(e.header,t.uint32(10).fork()).ldelim();return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.Heartbeat;e.pos<o;){var a=e.uint32();a>>>3===1?s.header=i.com.nokia.soam.soamif.GeneralHeader.decode(e,e.uint32()):e.skipType(7&a)}if(!s.hasOwnProperty("header"))throw r.ProtocolError("missing required 'header'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";var t=i.com.nokia.soam.soamif.GeneralHeader.verify(e.header);return t?"header."+t:null};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.Heartbeat)return e;var t=new i.com.nokia.soam.soamif.Heartbeat;if(null!=e.header){if("object"!==typeof e.header)throw TypeError(".com.nokia.soam.soamif.Heartbeat.header: object expected");t.header=i.com.nokia.soam.soamif.GeneralHeader.fromObject(e.header)}return t};o.toObject=function(e,t){t||(t={});var n={};t.defaults&&(n.header=null);null!=e.header&&e.hasOwnProperty("header")&&(n.header=i.com.nokia.soam.soamif.GeneralHeader.toObject(e.header,t));return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.Heartbeat"};return o}();o.Disconnect=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.header=null;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());i.com.nokia.soam.soamif.GeneralHeader.encode(e.header,t.uint32(10).fork()).ldelim();return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.Disconnect;e.pos<o;){var a=e.uint32();a>>>3===1?s.header=i.com.nokia.soam.soamif.GeneralHeader.decode(e,e.uint32()):e.skipType(7&a)}if(!s.hasOwnProperty("header"))throw r.ProtocolError("missing required 'header'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";var t=i.com.nokia.soam.soamif.GeneralHeader.verify(e.header);return t?"header."+t:null};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.Disconnect)return e;var t=new i.com.nokia.soam.soamif.Disconnect;if(null!=e.header){if("object"!==typeof e.header)throw TypeError(".com.nokia.soam.soamif.Disconnect.header: object expected");t.header=i.com.nokia.soam.soamif.GeneralHeader.fromObject(e.header)}return t};o.toObject=function(e,t){t||(t={});var n={};t.defaults&&(n.header=null);null!=e.header&&e.hasOwnProperty("header")&&(n.header=i.com.nokia.soam.soamif.GeneralHeader.toObject(e.header,t));return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.Disconnect"};return o}();o.Ack=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.header=null;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());i.com.nokia.soam.soamif.GeneralHeader.encode(e.header,t.uint32(10).fork()).ldelim();return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.Ack;e.pos<o;){var a=e.uint32();a>>>3===1?s.header=i.com.nokia.soam.soamif.GeneralHeader.decode(e,e.uint32()):e.skipType(7&a)}if(!s.hasOwnProperty("header"))throw r.ProtocolError("missing required 'header'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";var t=i.com.nokia.soam.soamif.GeneralHeader.verify(e.header);return t?"header."+t:null};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.Ack)return e;var t=new i.com.nokia.soam.soamif.Ack;if(null!=e.header){if("object"!==typeof e.header)throw TypeError(".com.nokia.soam.soamif.Ack.header: object expected");t.header=i.com.nokia.soam.soamif.GeneralHeader.fromObject(e.header)}return t};o.toObject=function(e,t){t||(t={});var n={};t.defaults&&(n.header=null);null!=e.header&&e.hasOwnProperty("header")&&(n.header=i.com.nokia.soam.soamif.GeneralHeader.toObject(e.header,t));return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.Ack"};return o}();o.PushControl=function(){function o(e){this.controlTypes=[];if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.header=null;o.prototype.controlTypes=r.emptyArray;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());i.com.nokia.soam.soamif.GeneralHeader.encode(e.header,t.uint32(10).fork()).ldelim();if(null!=e.controlTypes&&e.controlTypes.length)for(var r=0;r<e.controlTypes.length;++r)t.uint32(16).int32(e.controlTypes[r]);return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.PushControl;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.header=i.com.nokia.soam.soamif.GeneralHeader.decode(e,e.uint32());break;case 2:s.controlTypes&&s.controlTypes.length||(s.controlTypes=[]);if(2===(7&a))for(var c=e.uint32()+e.pos;e.pos<c;)s.controlTypes.push(e.int32());else s.controlTypes.push(e.int32());break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("header"))throw r.ProtocolError("missing required 'header'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";var t=i.com.nokia.soam.soamif.GeneralHeader.verify(e.header);if(t)return"header."+t;if(null!=e.controlTypes&&e.hasOwnProperty("controlTypes")){if(!Array.isArray(e.controlTypes))return"controlTypes: array expected";for(var n=0;n<e.controlTypes.length;++n)switch(e.controlTypes[n]){default:return"controlTypes: enum value[] expected";case 1:case 2:case 3:}}return null};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.PushControl)return e;var t=new i.com.nokia.soam.soamif.PushControl;if(null!=e.header){if("object"!==typeof e.header)throw TypeError(".com.nokia.soam.soamif.PushControl.header: object expected");t.header=i.com.nokia.soam.soamif.GeneralHeader.fromObject(e.header)}if(e.controlTypes){if(!Array.isArray(e.controlTypes))throw TypeError(".com.nokia.soam.soamif.PushControl.controlTypes: array expected");t.controlTypes=[];for(var n=0;n<e.controlTypes.length;++n)switch(e.controlTypes[n]){default:if("number"===typeof e.controlTypes[n]){t.controlTypes[n]=e.controlTypes[n];break}case"ENABLE_AUTO_CONF":case 1:t.controlTypes[n]=1;break;case"DISABLE_AUTO_CONF":case 2:t.controlTypes[n]=2;break;case"RECOMMISSION":case 3:t.controlTypes[n]=3}}return t};o.toObject=function(e,t){t||(t={});var n={};(t.arrays||t.defaults)&&(n.controlTypes=[]);t.defaults&&(n.header=null);null!=e.header&&e.hasOwnProperty("header")&&(n.header=i.com.nokia.soam.soamif.GeneralHeader.toObject(e.header,t));if(e.controlTypes&&e.controlTypes.length){n.controlTypes=[];for(var r=0;r<e.controlTypes.length;++r)n.controlTypes[r]=t.enums===String?void 0===i.com.nokia.soam.soamif.PushControl.ControlType[e.controlTypes[r]]?e.controlTypes[r]:i.com.nokia.soam.soamif.PushControl.ControlType[e.controlTypes[r]]:e.controlTypes[r]}return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.PushControl"};o.ControlType=function(){var e={},t=Object.create(e);t[e[1]="ENABLE_AUTO_CONF"]=1;t[e[2]="DISABLE_AUTO_CONF"]=2;t[e[3]="RECOMMISSION"]=3;return t}();return o}();o.StartBtsIntegrationReq=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.header=null;o.prototype.originator=1;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());i.com.nokia.soam.soamif.GeneralHeader.encode(e.header,t.uint32(10).fork()).ldelim();t.uint32(16).int32(e.originator);return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.StartBtsIntegrationReq;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.header=i.com.nokia.soam.soamif.GeneralHeader.decode(e,e.uint32());break;case 2:s.originator=e.int32();break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("header"))throw r.ProtocolError("missing required 'header'",{instance:s});if(!s.hasOwnProperty("originator"))throw r.ProtocolError("missing required 'originator'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";var t=i.com.nokia.soam.soamif.GeneralHeader.verify(e.header);if(t)return"header."+t;switch(e.originator){default:return"originator: enum value expected";case 1:case 2:}return null};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.StartBtsIntegrationReq)return e;var t=new i.com.nokia.soam.soamif.StartBtsIntegrationReq;if(null!=e.header){if("object"!==typeof e.header)throw TypeError(".com.nokia.soam.soamif.StartBtsIntegrationReq.header: object expected");t.header=i.com.nokia.soam.soamif.GeneralHeader.fromObject(e.header)}switch(e.originator){default:if("number"===typeof e.originator){t.originator=e.originator;break}break;case"SCF":case 1:t.originator=1;break;case"NCF":case 2:t.originator=2}return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.header=null;n.originator=t.enums===String?"SCF":1}null!=e.header&&e.hasOwnProperty("header")&&(n.header=i.com.nokia.soam.soamif.GeneralHeader.toObject(e.header,t));null!=e.originator&&e.hasOwnProperty("originator")&&(n.originator=t.enums===String?void 0===i.com.nokia.soam.soamif.StartBtsIntegrationReq.Originator[e.originator]?e.originator:i.com.nokia.soam.soamif.StartBtsIntegrationReq.Originator[e.originator]:e.originator);return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.StartBtsIntegrationReq"};o.Originator=function(){var e={},t=Object.create(e);t[e[1]="SCF"]=1;t[e[2]="NCF"]=2;return t}();return o}();o.AccessType=function(){var e={},t=Object.create(e);t[e[1]="TERMINATE_PREDICT"]=1;t[e[2]="TERMINATE_CANCEL"]=2;t[e[3]="ACCESS_PREDICT"]=3;t[e[4]="ACCESS_CANCEL"]=4;return t}();o.RestrictedAccessRequest=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.header=null;o.prototype.accessType=1;o.prototype.timer=null;o.prototype.reason=null;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());i.com.nokia.soam.soamif.GeneralHeader.encode(e.header,t.uint32(10).fork()).ldelim();t.uint32(16).int32(e.accessType);null!=e.timer&&Object.hasOwnProperty.call(e,"timer")&&t.uint32(24).uint32(e.timer);null!=e.reason&&Object.hasOwnProperty.call(e,"reason")&&t.uint32(34).string(e.reason);return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.RestrictedAccessRequest;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.header=i.com.nokia.soam.soamif.GeneralHeader.decode(e,e.uint32());break;case 2:s.accessType=e.int32();break;case 3:s.timer=e.uint32();break;case 4:s.reason=e.string();break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("header"))throw r.ProtocolError("missing required 'header'",{instance:s});if(!s.hasOwnProperty("accessType"))throw r.ProtocolError("missing required 'accessType'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";var t=i.com.nokia.soam.soamif.GeneralHeader.verify(e.header);if(t)return"header."+t;switch(e.accessType){default:return"accessType: enum value expected";case 1:case 2:case 3:case 4:}return null!=e.timer&&e.hasOwnProperty("timer")&&!r.isInteger(e.timer)?"timer: integer expected":null!=e.reason&&e.hasOwnProperty("reason")&&!r.isString(e.reason)?"reason: string expected":null};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.RestrictedAccessRequest)return e;var t=new i.com.nokia.soam.soamif.RestrictedAccessRequest;if(null!=e.header){if("object"!==typeof e.header)throw TypeError(".com.nokia.soam.soamif.RestrictedAccessRequest.header: object expected");t.header=i.com.nokia.soam.soamif.GeneralHeader.fromObject(e.header)}switch(e.accessType){default:if("number"===typeof e.accessType){t.accessType=e.accessType;break}break;case"TERMINATE_PREDICT":case 1:t.accessType=1;break;case"TERMINATE_CANCEL":case 2:t.accessType=2;break;case"ACCESS_PREDICT":case 3:t.accessType=3;break;case"ACCESS_CANCEL":case 4:t.accessType=4}null!=e.timer&&(t.timer=e.timer>>>0);null!=e.reason&&(t.reason=String(e.reason));return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.header=null;n.accessType=t.enums===String?"TERMINATE_PREDICT":1;n.timer=0;n.reason=""}null!=e.header&&e.hasOwnProperty("header")&&(n.header=i.com.nokia.soam.soamif.GeneralHeader.toObject(e.header,t));null!=e.accessType&&e.hasOwnProperty("accessType")&&(n.accessType=t.enums===String?void 0===i.com.nokia.soam.soamif.AccessType[e.accessType]?e.accessType:i.com.nokia.soam.soamif.AccessType[e.accessType]:e.accessType);null!=e.timer&&e.hasOwnProperty("timer")&&(n.timer=e.timer);null!=e.reason&&e.hasOwnProperty("reason")&&(n.reason=e.reason);return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.RestrictedAccessRequest"};return o}();o.RestrictedAccessResponse=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}o.prototype.header=null;o.prototype.accessType=1;o.prototype.accessResult=0;o.create=function(e){return new o(e)};o.encode=function(e,t){t||(t=n.create());i.com.nokia.soam.soamif.GeneralHeader.encode(e.header,t.uint32(10).fork()).ldelim();t.uint32(16).int32(e.accessType);t.uint32(24).int32(e.accessResult);return t};o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()};o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o=void 0===n?e.len:e.pos+n,s=new i.com.nokia.soam.soamif.RestrictedAccessResponse;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:s.header=i.com.nokia.soam.soamif.GeneralHeader.decode(e,e.uint32());break;case 2:s.accessType=e.int32();break;case 3:s.accessResult=e.int32();break;default:e.skipType(7&a)}}if(!s.hasOwnProperty("header"))throw r.ProtocolError("missing required 'header'",{instance:s});if(!s.hasOwnProperty("accessType"))throw r.ProtocolError("missing required 'accessType'",{instance:s});if(!s.hasOwnProperty("accessResult"))throw r.ProtocolError("missing required 'accessResult'",{instance:s});return s};o.decodeDelimited=function(e){e instanceof t||(e=new t(e));return this.decode(e,e.uint32())};o.verify=function(e){if("object"!==typeof e||null===e)return"object expected";var t=i.com.nokia.soam.soamif.GeneralHeader.verify(e.header);if(t)return"header."+t;switch(e.accessType){default:return"accessType: enum value expected";case 1:case 2:case 3:case 4:}switch(e.accessResult){default:return"accessResult: enum value expected";case 0:case 1:}return null};o.fromObject=function(e){if(e instanceof i.com.nokia.soam.soamif.RestrictedAccessResponse)return e;var t=new i.com.nokia.soam.soamif.RestrictedAccessResponse;if(null!=e.header){if("object"!==typeof e.header)throw TypeError(".com.nokia.soam.soamif.RestrictedAccessResponse.header: object expected");t.header=i.com.nokia.soam.soamif.GeneralHeader.fromObject(e.header)}switch(e.accessType){default:if("number"===typeof e.accessType){t.accessType=e.accessType;break}break;case"TERMINATE_PREDICT":case 1:t.accessType=1;break;case"TERMINATE_CANCEL":case 2:t.accessType=2;break;case"ACCESS_PREDICT":case 3:t.accessType=3;break;case"ACCESS_CANCEL":case 4:t.accessType=4}switch(e.accessResult){default:if("number"===typeof e.accessResult){t.accessResult=e.accessResult;break}break;case"SUCCESS":case 0:t.accessResult=0;break;case"FAILED":case 1:t.accessResult=1}return t};o.toObject=function(e,t){t||(t={});var n={};if(t.defaults){n.header=null;n.accessType=t.enums===String?"TERMINATE_PREDICT":1;n.accessResult=t.enums===String?"SUCCESS":0}null!=e.header&&e.hasOwnProperty("header")&&(n.header=i.com.nokia.soam.soamif.GeneralHeader.toObject(e.header,t));null!=e.accessType&&e.hasOwnProperty("accessType")&&(n.accessType=t.enums===String?void 0===i.com.nokia.soam.soamif.AccessType[e.accessType]?e.accessType:i.com.nokia.soam.soamif.AccessType[e.accessType]:e.accessType);null!=e.accessResult&&e.hasOwnProperty("accessResult")&&(n.accessResult=t.enums===String?void 0===i.com.nokia.soam.soamif.RestrictedAccessResponse.AccessResult[e.accessResult]?e.accessResult:i.com.nokia.soam.soamif.RestrictedAccessResponse.AccessResult[e.accessResult]:e.accessResult);return n};o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)};o.getTypeUrl=function(e){void 0===e&&(e="type.googleapis.com");return e+"/com.nokia.soam.soamif.RestrictedAccessResponse"};o.AccessResult=function(){var e={},t=Object.create(e);t[e[0]="SUCCESS"]=0;t[e[1]="FAILED"]=1;return t}();return o}();return o}();return o}();return o}();return o}();return i})?r.apply(t,i):r)&&(e.exports=o)}()},504:e=>{"use strict";e.exports={ESTABLISH:{CONTROL_SESSION:1,CONTENT_TRANSMISSION:2},ESTABLISHED:{IM_SYNC:1,FILE_TRANSMISSION:2,EMBEDDED_FILE_TRANSMISSION:3}}},7083:(e,t,n)=>{"use strict";const r=n(2543),i=n(7923),o=n(5346),s=n(8282),a=n(4107);e.exports={newInstance:function(e,t){const n=e[a.TAG_PROPERTIES.CLASS],c=r.isUndefined(e[a.TAG_PROPERTIES.ID])?null:s.parseId(e[a.TAG_PROPERTIES.ID]);return new i(n,c,(function(){const t=e.childManagedObject;return t?s.toArray(t).map((e=>e[a.TAG_PROPERTIES.CLASS])):[]}),(function(){const n=s.createParentDefinition(e),r={parameters:[],parametersMapping:{},ignoredOperations:{}};n.p.forEach((e=>{const i=s.getProto(e,t);if(!s.isPresent(e,i))return;const c=o.createTypeInfo(e,n,!1,t),u=s.readId(e,i);r.parameters.push(c);r.parametersMapping[u]=c;r.parametersMapping[e[a.TAG_PROPERTIES.NAME]]=c}));n.action.forEach((e=>{const n=s.getProto(e,t),i=s.readId(e,n),o=e[a.TAG_PROPERTIES.NAME];r.ignoredOperations[i]=o}));return r}))}}},5346:(e,t,n)=>{"use strict";const r=n(2543),i=n(2504),o=n(8282),s=n(4107),a=Symbol("keyToAllSetProperties");e.exports={createTypeInfo:function e(t,n,c,u){function l(){const e=new Map;e.set(a,[]);return e}const f=o.getProto(t,u),d=o.readId(t,f),h=t[s.TAG_PROPERTIES.NAME]||"",p=function(){return o.convertProtoType(t,f)}(),m=(t[s.TAG_PROPERTIES.RECURRENCE]||"").toLowerCase(),g=o.extractStructs(n),y=o.extractEnumerations(n),_=g.has(p),v=y.has(p),E=!!c,S=function(){if(!v)return null;const e=y.get(p),t=o.toArray(e.enum),n=l();t.forEach((e=>{const t=parseInt(e[s.TAG_PROPERTIES.VALUE],10),r=o.fixSpecialCharsInEnumName(e[s.TAG_PROPERTIES.NAME]);n.set(t,r);n.set(r,t);n.get(a).push(r)}));return n}(),b=function(){const t=l();if(!_&&!E)return t;const i=function(){return E?n:g.get(p)}();if(!i)return t;const s=o.createParentDefinition(i,n);r.forEach(s.p,(n=>{if(o.isPresent(n,f)){const r=e(n,s,!1,u);t.set(o.parseId(r.getId()),r);t.set(r.getName(),r);t.get(a).push(r)}}));return t}();return new i(t,u,f,d,h,p,m,_,v,E,S,b,a)}}},2504:(e,t,n)=>{"use strict";const r=n(2543),i=n(5017),o=n(8282),s=n(4107),a=Symbol("definition"),c=Symbol("isExtended"),u=Symbol("proto"),l=Symbol("id"),f=Symbol("name"),d=Symbol("type"),h=Symbol("recurrence"),p=Symbol("complex"),m=Symbol("enumeration"),g=Symbol("operation"),y=Symbol("enumMapping"),_=Symbol("defaultValue"),v=Symbol("range"),E=Symbol("parametersMapping"),S=Symbol("calculateDefaultValue"),b=Symbol("calculateRange"),T=Symbol("masterKeyToAllSetProperties");e.exports=class{constructor(e,t,n,r,i,o,s,C,I,w,N,A,R){this[a]=e;this[c]=t;this[u]=n;this[l]=r;this[f]=i;this[d]=o;this[h]=s;this[p]=C;this[m]=I;this[g]=w;this[y]=N;this[E]=A;this[_]=this[S]();this[v]=this[b]();this[T]=R}[S](){const e=this[a][s.TAG_PROPERTIES.DEFAULT];return this.isString()?e:this.isInteger()?e?parseInt(e,10):null:this.isLong()?e?i.fromString(e,!1,10):null:this.isFloat()?e?parseFloat(e):null:this.isBoolean()?e===s.INTERNAL_TYPES.TRUE:this.isEnum()&&e?parseInt(e,10):null}[b](){return this.isInteger()?o.getIntegerRange(this[a]):this.isString()?o.getStringRange(this[a]):this.isFloat()?o.getFloatRange(this[a]):this.isLong()?o.getLongRange(this[a]):null}getDefaultValue(){return this[_]}isBoolean(){return this[d]===s.INTERNAL_TYPES.BOOLEAN}isString(){return this[d]===s.INTERNAL_TYPES.STRING}isInteger(){return this[d]===s.INTERNAL_TYPES.INTEGER}isLong(){return this[d]===s.INTERNAL_TYPES.LONG}isFloat(){return this[d]===s.INTERNAL_TYPES.DOUBLE}isEnum(){return this[m]}getRange(){return this[v]}getName(){return this[f]}isOperation(){return this[g]}isSimple(){return!this.isComplex()}isComplex(){return this[p]||this[g]}isMandatory(){return this[h]===s.INTERNAL_TYPES.MANDATORY||this[h]===s.INTERNAL_TYPES.REQUIRED}isSetBySystem(){return this[h]===s.INTERNAL_TYPES.SET_BY_SYSTEM}isArray(){return this[u]&&this[u].repeated===s.INTERNAL_TYPES.TRUE||this[h]===s.INTERNAL_TYPES.REPEATED}isSignedInteger(){return this[d]===s.INTERNAL_TYPES.SINTEGER}isBitmap(){return!1}isObjectId(){return this[d]===s.INTERNAL_TYPES.OBJECT_ID}isPackedArray(){return this.isArray()&&(this.isInteger()||this.isLong()||this.isSignedInteger()||this.isBoolean()||this.isEnum()||this.isFloat())}getBaseType(){if(!this.isSimple())throw new Error("not a simple type");return this.isInteger()?s.TYPES.INTEGER:this.isSignedInteger()?s.TYPES.SIGNED_INTEGER:this.isString()?s.TYPES.STRING:this.isObjectId()?s.TYPES.OBJECTID:this.isBoolean()?s.TYPES.BOOLEAN:this.isEnum()?s.TYPES.ENUM:this.isFloat()?s.TYPES.FLOAT:this.isLong()?s.TYPES.INTEGER:null}getEnumText(e){return this.isEnum()?this[y].get(e):null}getEnumValue(e){return this.isEnum()?this[y].get(e):null}getEnumPossibleText(){return this.isEnum()?this[y].get(this[T]):null}getParameterByName(e){return this.isComplex()?this[E].get(e):null}getParameterById(e){return this.isComplex()?this[E].get(e):null}getParameters(){return this.isComplex()?this[E].get(this[T]):null}getDeprecatedById(){return!1}getBitmap(){}getId(){return this[l]}isHidden(){return r.isNull(this[l])}createEmptyParameters(){return o.createParameters(this)}getUnits(){if(!this[c])return null;const e=this[a].editing;return e?e[s.TAG_PROPERTIES.UNITS]:null}getCreationPriority(){return this[h]}getEditing(){if(!this[c])return null;const e=this[a].editing;return e?{divisor:parseInt(e[s.TAG_PROPERTIES.DIVISOR],10),multiplicand:parseInt(e[s.TAG_PROPERTIES.MULTIPLICAND],10),shift:r.toNumber(e[s.TAG_PROPERTIES.SHIFT])}:null}getProto(){return o.getProto(this[a],this[c])}getDefinition(){return this[a]}}},7923:(e,t,n)=>{"use strict";const r=n(2543),i=n(8282),o=Symbol("className"),s=Symbol("id"),a=Symbol("childManagedObjects"),c=Symbol("typeInfos");e.exports=class{constructor(e,t,n,r){this[o]=e;this[s]=t;i.setLazyVariable(this,a,"_managed",n);i.setLazyVariable(this,c,"_infos",r)}getClassName(){return this[o]}getId(){return this[s]}isHidden(){return r.isNull(this[s])}getChildManagedObjects(){return this[a]}getParameters(){return this[c].parameters}getParameterByName(e){return this[c].parametersMapping[e]}getParameterById(e){return this[c].parametersMapping[e]}isDeprecatedById(e){return r.isString(this[c].ignoredOperations[e])}getDeprecatedNameById(e){return this[c].ignoredOperations[e]}createEmptyParameters(){return i.createParameters(this)}}},4107:e=>{"use strict";e.exports={TYPES:{ENUM:"ENUM",FLOAT:"FLOAT",STRING:"STRING",INTEGER:"INTEGER",BOOLEAN:"BOOLEAN",OBJECTID:"OBJECTID",SIGNED_INTEGER:"SIGNED_INTEGER"},SPECIAL_CHARS:{__Is__:"=",__Dot__:".",__Plus__:"+",__Space__:" ",__Comma__:",",__Colon__:":",__Degrees__:"",__Minus__:"-",__Equals__:"=",__Percent__:"%",__Asterisk__:"*",__DividedBy__:"/",__LeftBracket__:"(",__RightBracket__:")",__LeftSquareBracket__:"[",__RightSquareBracket__:"]"},TAG_PROPERTIES:{ID:"@id",MIN:"@min",MAX:"@max",STEP:"@step",NAME:"@name",TYPE:"@type",CLASS:"@class",INDEX:"@index",SHIFT:"@shift",VALUE:"@value",UNITS:"@units",DIVISOR:"@divisor",DEFAULT:"@default",REPEATED:"@repeated",RECURRENCE:"@recurrence",MULTIPLICAND:"@multiplicand"},INTERNAL_TYPES:{TRUE:"true",DOUBLE:"double",STRING:"string",BOOLEAN:"boolean",INTEGER:"integer",LONG:"long",SINTEGER:"sinteger",REQUIRED:"required",REPEATED:"repeated",OBJECT_ID:"objectid",MANDATORY:"mandatory",SET_BY_SYSTEM:"value set by the system"}}},8282:(e,t,n)=>{"use strict";function r(e,t){const n=new Map;let r=e;for(;r;){h.get(r,t).forEach(((e,t)=>{n.has(t)||n.set(t,e)}));r=r.parent}return n}function i(e){return e?Array.isArray(e)?e:[e]:[]}function o(e){return h.parseInt(e,10)}function s(e){return!h.isUndefined(e[p.TAG_PROPERTIES.ID])}function a(e){return h.isObject(e)&&!h.isUndefined(e.index)}function c(e,t,n){return f(o,e,t,n)}function u(e,t,n){const r=h.gt(t,m.MAX_VALUE.toString());return f((e=>m.fromString(e,r,10)),e,t,n)}function l(e,t,n){return f(parseFloat,e,t,n)}function f(e,t,n,r){const i={};i.min=t?e(t):null;i.max=n?e(n):null;i.step=r?e(r):null;return i}function d(e,t,n){const r=h.get(n,t);return r?e(r[p.TAG_PROPERTIES.MIN],r[p.TAG_PROPERTIES.MAX],r[p.TAG_PROPERTIES.STEP]):null}const h=n(2543),p=n(4107),m=n(5017);e.exports={readId:function(e,t){return a(t)?t.index:s(e)?o(e[p.TAG_PROPERTIES.ID]):null},parseId:function(e){return o(e)},toArray:i,getProto:function(e,t){if(!t)return null;const n=e.proto;return n?{index:n[p.TAG_PROPERTIES.INDEX],repeated:n[p.TAG_PROPERTIES.REPEATED],type:n[p.TAG_PROPERTIES.TYPE]}:null},isPresent:function(e,t){return a(t)||s(e)},getFloatRange:function(e){return d(l,"range",e)},createIntRange:c,createLongRange:u,getStringRange:function(e){return d(c,"length",e)},extractStructs:function(e){return r(e,"structsByName")},getIntegerRange:function(e){return d(c,"range",e)},getLongRange:function(e){return d(u,"range",e)},createFloatRange:l,convertProtoType:function(e,t){if(t){const e=t.type;if("bool"===e)return p.INTERNAL_TYPES.BOOLEAN;if("uint32"===e)return p.INTERNAL_TYPES.INTEGER;if("sint32"===e)return p.INTERNAL_TYPES.SINTEGER;if("uint64"===e)return p.INTERNAL_TYPES.INTEGER;if("sint64"===e)return p.INTERNAL_TYPES.SINTEGER}const n=h.isString(e[p.TAG_PROPERTIES.TYPE])?e[p.TAG_PROPERTIES.TYPE].toLowerCase():"";if(n===p.INTERNAL_TYPES.INTEGER&&e.range){const t=e.range[p.TAG_PROPERTIES.MAX];if(m.fromNumber(t).gte(Number.MAX_SAFE_INTEGER))return p.INTERNAL_TYPES.LONG}return n},createParameters:function e(t){const n={},r=t.getParameters();h.forEach(r,(t=>{const r=t.getName();t.isArray()?n[r]=[]:t.isSimple()?n[r]=null:n[r]=e(t)}));return n},extractEnumerations:function(e){return r(e,"enumerationsByName")},createParentDefinition:function(e,t){const n=i(e.p),r=i(e.action),o=i(e.struct),s=i(e.enumeration),a=new Map;o.forEach((e=>{const t=e[p.TAG_PROPERTIES.NAME].toLowerCase();a.set(t,e)}));const c=new Map;s.forEach((e=>{const t=e[p.TAG_PROPERTIES.NAME].toLowerCase();c.set(t,e)}));return{parent:t,p:n,action:r,struct:o,structsByName:a,enumeration:s,enumerationsByName:c}},fixSpecialCharsInEnumName:function(e){let t=e;h.forEach(p.SPECIAL_CHARS,((e,n)=>{t=t.split(n).join(e)}));return t},createRangeBase:f,getSpecificRangeBase:d,extractFromParentDefinitionByPathToIterable:r,setLazyVariable:function(e,t,n,r){Object.defineProperty(e,t,{get(){"undefined"===typeof this[n]&&(this[n]=r());return this[n]}})}}},5621:(e,t,n)=>{"use strict";const r=n(2543),i=n(2104),o=n(7273);e.exports={unzipAll:function(e,t,n=r.noop,s=r.noop){const a=o.zipReader();a.open(new o.BufferReader(e)).then((()=>{const e=a.getEntries().filter((e=>!e.isDirectory)).map(((e,n,r)=>a.read(e.fileName,new o.BufferWriter).then((i=>t(e.fileName,i,n+1,r.length)))));return i.all(e)})).then((()=>n())).catch((e=>s(e))).finally((()=>a.close()))}}},2674:(e,t,n)=>{"use strict";const r=n(2543),i=n(2104),o=n(8975),{ImTree:s}=n(2180),a=n(6642),c=n(5880),u=n(4926),l=n(821),f=n(9021),d=n(3790),h=n(3662),{create:p}=n(2932),m=n(7433);e.exports=function({socket:e=l.newInstance(),metaService:t=d(),decoderService:n=h.newInstance(t),executor:o=a.newInstance(),entryTimestampProvider:y=f(),imAuth:_,connectedSystemModuleService:v=m.newInstance(),instanceIdFinder:E,sessionStorage:S}={}){function b(e){y.setOffset(e)}function T(){de().historyNewEntries().notify()}function C(){de().historyClearEntries().notify()}function I(){be=!1}function w(){be=!0}function N(e,t){if(!t.change)return;const n=t.change;e.removeByDistNames(n.removed);for(let r=0;r<n.updated.length;r++)e.merge(n.updated[r],t.metaUid)}function A(){return!r.isNull(pe)}function R(){he.clear();O()}function O(e=!1,t=!0){const r=de().historyClearEntries(e);if(pe){pe=null;r.historyMarkerWasCleared()}t&&(me=new s(n));ge=new s(n);Se=null;ye.clear();r.imTreeEvents().notify()}function L(e){if(!Te)return null;const t=e.managedObjects,n=e.removedDistNames,r=U(t,n,e.metaUid);0===r.numOfChanges&&(r.change=null);r.timestamp=e.timestamp||r.timestamp;const i={updated:t.map((e=>e.distName))};he.addEntry(r);const o=de();N(me,r);o.historyNewEntry(r).onlineImTree(i);if(!A()){const e=F({updated:i.updated,removed:n});o.completeImTree(me,e).repository(me,e).updateOfImTree(t,n).currentEntryChange(r)}o.notify();return r}function D(e){if(!function(e){return"BTS"===e.source&&he.size()>0&&!P()}(e))return null;const t=function(e){return{timestamp:e||y.getTimestamp(),numOfChanges:0,reset:!0}}(e.timestamp);he.addEntry(t);me=new s(n);const r=F({isReset:!0}),i=de().historyNewEntry(t).onlineImTree();A()||i.newImTree(me).completeImTree(me,r).repository(me,r).currentEntryChange(t);i.notify();return t}function x(e){"logoutSuccess"===e.type&&R()}function P(){var e;return!(null===(e=he.getLastEntry())||void 0===e||!e.reset)}function k(e){return t.setMeta(e)}function B(e){return t.addMeta(e)}function M(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function U(e,n,r){return{timestamp:y.getTimestamp(),numOfChanges:e.length+n.length,change:{updated:e,removed:n},metaUid:r||t.getLastMetaUid()}}function F({updated:e=[],removed:t=[],isNewTree:n=!1,isReset:r=!1}={}){return{updated:e,removed:t,isNewTree:n,isReset:r}}function j(e){let t,n;if(e){t=me;n=F({isNewTree:!0})}else{const{imTree:e,updated:r,removed:i}=function(){const e=ye.get(pe);if(e)return e;const{imTree:t,updated:n,removed:r}=function(e,t){const n=he.snapshotForEntryId(t),r=[],i=[];e.root.nodeMap.forEach(((t,i)=>{if(!n.has(i)){e.removeByDistName(i);r.push(i)}}));n.forEach(((t,n)=>{e.adjustNode(n,t.payload,t.metaUid,t.uuid)&&i.push(n)}));return{imTree:e,updated:i,removed:r}}(ge,pe.id);ye.set(pe,{imTree:t,updated:n,removed:r});return{imTree:t,updated:n,removed:r}}();t=e;n=F({updated:r,removed:i})}return{imTree:t,diffEntry:n}}function G(e){r.includes(ve,e)||H(e)}function H(e){e.completeImTree=fe(e,e.completeImTree||r.noop);e.repository=fe(e,e.repository||r.noop);e.newImTree=fe(e,e.newImTree||r.noop);e.updateOfImTree=fe(e,e.updateOfImTree||r.noop);e.onlineImTree=fe(e,e.onlineImTree||r.noop);ve.push(e);de().singleImTreeListener(e).imTreeEvents().notify()}function V(e){e.newEntry=fe(e,e.newEntry||r.noop);e.newEntries=fe(e,e.newEntries||r.noop);e.clearEntries=fe(e,e.clearEntries||r.noop);e.historyMarkerWasSet=fe(e,e.historyMarkerWasSet||r.noop);e.historyMarkerWasCleared=fe(e,e.historyMarkerWasCleared||r.noop);e.imsFileLoaded=fe(e,e.imsFileLoaded||r.noop);_e.push(e);const t=de().singleHistoryListener(e).historyNewEntries();A()&&t.historyMarkerWasSet(pe);t.notify()}function q(e){e.changeEntry=fe(e,e.changeEntry||r.noop);Ee.push(e);de().singleCurrentEntryListener(e).currentEntryChange(Se).notify()}function W(e){M(ve,e)}function K(e){M(_e,e)}function z(e){M(Ee,e)}function Y(e){if(!Q(e))return null;$();return pe}function $(e){(e||de()).historyMarkerWasSet().imTreeEvents().currentEntryChange(pe).notify()}function Q(e){if(e)pe=e;else{if(he.size()<=0)return null;pe=he.getLastEntry()}return pe}function X(){if(pe){pe=null;de().historyMarkerWasCleared().imTreeEvents().currentEntryChange(he.getLastEntry()).notify()}}function J(e){e.metaUid=t.getLastMetaUid();he.addEntry(e);de().notify()}function Z(e){he.addEntry(e);N(me,e);de().notify()}function ee(e){return he.getEntry(e)}function te(e){return he.getLastEntry(e)}function ne(){return he.getEntries()}function re(e){return he.snapshotEntryForId(e)}function ie(){return he.size()}function oe(){if(he.size()<=1)return;const e=A();O();const t=he.mergeEntries();e&&(pe=t);N(me,t);const n=!A(),{imTree:r,diffEntry:i}=j(n),o=de().newImTree(r).completeImTree(r,i).repository(r,i).onlineImTree().historyNewEntry(t).currentEntryChange(t);e&&o.historyMarkerWasSet();o.notify()}function se(e){if(e<2)return;const t=pe&&pe.id;ye.clear();de().historyMarkerWasCleared().historyClearEntries().notify();he.mergeFirstEntries(e);if(r.isNull(t))de().imTreeEvents().historyNewEntries().currentEntryChange(he.getLastEntry()).notify();else{Q(function(){let n;n=t<e?0:t-(e-1);return he.getEntry(n)}());$(de().historyNewEntries())}}function ae(e,t,n=!0){if(e<0||t>he.size()||t-e<2)return;const i=pe&&pe.id;ye.clear();n&&de().historyMarkerWasCleared().historyClearEntries().notify();he.mergeEntriesRange(e,t);if(r.isNull(i))n&&de().imTreeEvents().historyNewEntries().currentEntryChange(he.getLastEntry()).notify();else{Q(function(){let n;n=i<e?i:i<t?e:i-(t-e-1);return he.getEntry(n)}());$(de().historyNewEntries())}}function ce(e){se(le().skipFirst(1).findOfSize(e)+1)}function ue(e,t){he.dropEntriesRange(e,t)}function le(){let e=0;const t={skipFirst:function(n){e=n;return t},findOfSize:function(t){const n=he.getEntriesIterator();let r=n.next();if(r.done)return 0;for(let t=0;t<e;t++)r=n.next();let i=0,o=0;for(;!r.done;){i+=r.value.estimatedSizeInBytes;r=n.next();o++;if(i>=t)return o}return o}};return t}function fe(e,t){return function(...n){try{return t.apply(e,n)}catch(e){g.error(e.stack||e)}return null}}function de(){function e(e){u.imTree=u.imTree||{};u.imTree.online={params:e};return l}function t(e,t){u.imTree=u.imTree||{};u.imTree.complete={params:[e,t]};return l}function n(e,t){u.repository=p({imTree:e,instanceIdFinder:E,connectedSystemModuleService:v});u.diffEntry=t;return l}function i(e){u.imTree=u.imTree||{};u.imTree.new={params:e};return l}function o(e,t,n){e.completeImTree(t,n)}function s(e,t){e.newImTree(t)}function a(e,t){e.onlineImTree(me,t)}function c(e,t,n){e.repository(t,n)}const u={},l={singleHistoryListener:function(e){u.history=u.history||{};u.history.listener=e;return l},singleImTreeListener:function(e){if(!be)return l;u.imTree=u.imTree||{};u.imTree.listener=e;return l},singleCurrentEntryListener:function(e){u.currentEntry=u.currentEntry||{};u.currentEntry.listener=e;return l},notify:function(){u.history&&function(){u.history.newEntry&&function(e){be&&r.forEach(_e,(t=>{t.newEntry(e)}))}(u.history.newEntry.params);u.history.newEntries&&(u.history.listener?function(e){be&&e.newEntries(he.getEntries())}(u.history.listener):function(){be&&r.forEach(_e,(e=>{e.newEntries(he.getEntries())}))}());u.history.clearEntries&&function(e){be&&r.forEach(_e,(t=>{t.clearEntries(e)}))}(u.history.clearEntries.params);u.history.markerCleared&&function(){be&&r.forEach(_e,(e=>{e.historyMarkerWasCleared()}))}();u.history.markerSet&&(u.history.listener?function(e){e.historyMarkerWasSet(pe)}(u.history.listener):function(){be&&r.forEach(_e,(e=>{e.historyMarkerWasSet(pe)}))}());u.history.imsFileLoaded&&function(){be&&r.forEach(_e,(e=>{e.imsFileLoaded()}))}()}();u.imTree&&function(){u.imTree.new&&(u.imTree.listener?s(u.imTree.listener,u.imTree.new.params):function(e){be&&r.forEach(ve,(t=>{s(t,e)}))}(u.imTree.new.params));u.repository&&(u.imTree.listener?c(u.imTree.listener,u.repository,u.diffEntry):function(e,t){be&&r.forEach(ve,(n=>{c(n,e,t)}))}(u.repository,u.diffEntry));u.imTree.complete&&(u.imTree.listener?o(u.imTree.listener,u.imTree.complete.params[0],u.imTree.complete.params[1]):function(e,t){be&&r.forEach(ve,(n=>{o(n,e,t)}))}(u.imTree.complete.params[0],u.imTree.complete.params[1]));u.imTree.online&&(u.imTree.listener?a(u.imTree.listener,u.imTree.online.params):function(e){be&&r.forEach(ve,(t=>{a(t,e)}))}(u.imTree.online.params));u.imTree.update&&function(e,t){be&&r.forEach(ve,(n=>{n.updateOfImTree(e,t)}))}(u.imTree.update.params[0],u.imTree.update.params[1])}();u.currentEntry&&function(){u.currentEntry.change&&(u.currentEntry.listener?function(e,t){be&&e.changeEntry(t)}(u.currentEntry.listener,u.currentEntry.change.params):function(e){if(be){Se=e;r.forEach(Ee,(t=>{t.changeEntry(e)}))}}(u.currentEntry.change.params))}()},historyNewEntry:function(e){u.history=u.history||{};u.history.newEntry={params:e};return l},historyNewEntries:function(){u.history=u.history||{};u.history.newEntries={};return l},historyClearEntries:function(e){u.history=u.history||{};u.history.clearEntries={params:e};return l},historyMarkerWasCleared:function(){u.history=u.history||{};u.history.markerCleared={};return l},historyMarkerWasSet:function(){u.history=u.history||{};u.history.markerSet={};return l},historyImsFileLoaded:function(){u.history=u.history||{};u.history.imsFileLoaded={};return l},onlineImTree:e,repository:n,completeImTree:t,updateOfImTree:function(e,t){u.imTree=u.imTree||{};u.imTree.update={params:[e,t]};return l},newImTree:i,imTreeEvents:function(){if(!function(){return!r.isEmpty(ve)||u.imTree&&u.imTree.listener}())return l;if(!be)return l;const o=!A(),{imTree:s,diffEntry:a}=j(o);i(s);t(s,a);n(s,a);o&&e();return l},currentEntryChange:function(e){u.currentEntry=u.currentEntry||{};u.currentEntry.change={params:e};return l}};return l}const he=u.newInstance({sessionStorage:S});let pe=null,me=new s(n),ge=new s(n);const ye=c.newInstance(1),_e=[],ve=[],Ee=[];let Se,be=!0,Te=!0;_.watch(x);e.addListener({disconnected:o.promisifyFunction(this,(e=>{D(e)})),data:o.promisifyFunction(this,L)});v.watchDisplayFullTreeChange((()=>de().imTreeEvents().notify()));const Ce={setMeta:k,addMeta:B,addImTreeListenerOnce:G,addImTreeListener:H,removeImTreeListener:W,addHistoryListener:V,getHistoryEntries:ne,removeHistoryListener:K,addCurrentEntryListener:q,removeCurrentEntryListener:z,setHistoryMarker:Y,clearHistoryMarker:X,clearHistory:R,addHistoryEntry:J,addOnlineEntry:Z,mergeHistory:oe,mergeFirstEntries:se,mergeFirstEntriesOfSize:ce,mergeEntriesRange:ae,dropEntriesRange:ue,setTimestampOffset:b,getHistoryEntry:ee,getLastHistoryEntry:te,disableListeners:I,enableListeners:w,snapshotEntryForId:re,getHistorySize:ie,createNotifier:de,clearUpdateServiceState:O,notifyHistoryListeners:T,notifyHistoryClearEntries:C},Ie={setMeta:o.promisifyFunction(this,k),addImTreeListenerOnce:o.promisifyFunction(this,G),addImTreeListener:o.promisifyFunction(this,H),removeImTreeListener:o.promisifyFunction(this,W),addHistoryListener:o.promisifyFunction(this,V),getHistoryEntries:o.promisifyFunction(this,ne),removeHistoryListener:o.promisifyFunction(this,K),addCurrentEntryListener:o.promisifyFunction(this,q),removeCurrentEntryListener:o.promisifyFunction(this,z),setHistoryMarker:o.promisifyFunction(this,Y),clearHistoryMarker:o.promisifyFunction(this,X),clearHistory:o.promisifyFunction(this,R),addHistoryEntry:o.promisifyFunction(this,J),addOnlineEntry:o.promisifyFunction(this,Z),notifyHistoryListeners:o.promisifyFunction(this,T),notifyHistoryClearEntries:o.promisifyFunction(this,C),notifyImsFileLoaded:o.promisifyFunction(this,(function(){de().historyImsFileLoaded().notify()})),mergeHistory:o.promisifyFunction(this,oe),mergeFirstEntries:o.promisifyFunction(this,se),mergeFirstEntriesOfSize:o.promisifyFunction(this,ce),mergeEntriesRange:o.promisifyFunction(this,ae),dropEntriesRange:o.promisifyFunction(this,ue),setTimestampOffset:o.promisifyFunction(this,b),performInAsyncQueue:o.promisifyFunction(this,(function(e){return e()})),clearUpdateServiceState:o.promisifyFunction(this,O),clearMeta:o.promisifyFunction(this,(function(){t.clear()})),enableSocketData:o.promisifyFunction(this,(function(){Te=!0})),disableSocketData:o.promisifyFunction(this,(function(){Te=!1})),addMeta:B,getHistoryEntry:ee,getLastHistoryEntry:te,disableListeners:I,enableListeners:w,snapshotEntryForId:re,getHistorySize:ie,createNotifier:de,getImTree:function(){return new i((e=>{const t={completeImTree:function(n){if(!n.isEmpty()){Ie.removeImTreeListener(t);e(n)}}};Ie.addImTreeListener(t)}))},getBeforeRstImTree:function(){return new i((e=>{const t={completeImTree:function(n){if(n.isEmpty()){if(P()){pe=he.getLastSecEntry();$()}}else{Ie.removeImTreeListener(t);e(n)}}};Ie.addImTreeListener(t)}))},isLastEntryReset:P,getRepository:function(){return new i((e=>{const t={repository:function(n){if(!n.imTree.isEmpty()){Ie.removeImTreeListener(t);e(n)}}};Ie.addImTreeListener(t)}))},isInHistoryMode:A,updateImTree:N},we={pushUpdate:function(e,t){return L({removedDistNames:[],managedObjects:[{distName:e,payload:t}]})},pushMultiUpdate:function(e){return L({removedDistNames:[],managedObjects:e})},pushRemove:function(e){return L({removedDistNames:Array.isArray(e)?e:[e],managedObjects:[]})},pushEmpty:function(){return L({removedDistNames:[],managedObjects:[]})},createUpdateEntry:U,entriesFinder:le,getTimestampOffset:function(){return y.getOffset()},handleLogout:x,pushData:L,pushDisconnect:D,pushDataAsync:o.promisifyFunction(this,L),pushDisconnectAsync:o.promisifyFunction(this,D),clear:R};return r.assign({SYNC_API:Ce},Ie,we)};const g=o.getLogger("admin.core.updateService")},2515:e=>{"use strict";e.exports={getAxcAddress:function(e,t){const n=t?"ECPRI_PROPERTIES":"CHANNEL_PROPERTIES",r=e.findChildByClassName(n);return r?t?r.getDecodedParameters().eAxcId:r.getDecodedParameters().axcAddress:null},getCarriersState:function(e){return e.getDecodedParameters().carriersState||null},getDevicesPath:function(e){const t=e.findChildByClassName("PATH");return t&&t.getDecodedParameters().devicesDNInPath||[]}}},464:(e,t,n)=>{"use strict";function r(e,t){return o(e,/_\w$/,`_${t}`)}function i(e,t){return!!a.default.isString(e)&&!!e.match(`_${t}$`)}function o(e,t,n=""){return a.default.isString(e)?e.replace(t,n):e}var s=n(4994);Object.defineProperty(t,"__esModule",{value:!0});t.convertToA=function(e){return r(e,"A")};t.convertToL=function(e){return r(e,"L")};t.convertToR=function(e){return r(e,"R")};t.getNiddClassName=function(e){return o(e,/_A$/)};t.hasASuffix=function(e){return i(e,"A")};t.hasLSuffix=function(e){return i(e,"L")};t.hasRSuffix=function(e){return i(e,"R")};t.hasSuffix=i;t.removeSuffix=function(e){return o(e,/_\w$/)};t.replaceSuffix=r;var a=s(n(2543))},1190:(e,t,n)=>{"use strict";function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}function o(e,t){t||(e=g(e));if(!I.isString(e))return"";const n=e.lastIndexOf(A);return n>0&&n<e.length-1?e.slice(0,n):e}function s(e){const t=e.indexOf("-");return{className:e.substring(0,t),id:e.substring(t+1)}}function a(e,t){e=g(e);if(!I.isString(e)||!I.isString(t))return"";const n=e.lastIndexOf(`${t}-`);if(n>=0){let t=e.indexOf(A,n);t=t<0?e.length:t;return e.substring(0,t)}return""}function c(e,t){t||(e=g(e));if(!I.isString(e))return"";const n=e.lastIndexOf(A);return e.substring(n+1)}function u(e){e=g(e);if(I.isNil(e))return NaN;const t=I.last(e.split(A)),n=t.indexOf("-");return-1===n?NaN:parseInt(t.substring(n+1))}function l(e){return(e=g(e))===o(e)}function f(e){if(I.isEmpty(e))return"";const t=c(e);return s(t).className||t}function d(e){if(!e)return"";const t=e.lastIndexOf(A),n=e.substring(t+1),r=n.indexOf("-");return n.substring(0,r)||n}function h(e){return l(e)?c(e):h(o(e))}function p(e){return s(c(e))}function m(e){e=g(e);return I.isString(e)?e.split(A):[]}function g(e){return I.includes(e,"|")?e.replace("|","/"):e}function y(e,t){const n=u(e)-u(t);return 0===n||isNaN(n)?n:n>0?1:-1}function _(e,t){return f(e).localeCompare(f(t))||y(e,t)}function v(e){const t=m(e),n=[];t.forEach((e=>{n.push(e.split("-")[0])}));return n.join("/")}function E(e,t){return e===t}function S(e){return I.isString(e)?g(e).replace(L,""):""}function b(e){e=g(e);const t=I.isString(e)?e.split(A):[];return I.drop(t).map((e=>{const t=e.split("-");return{className:t[0],id:parseInt(t[1])}}))}function T(e){return I.isString(e)?g(e).replace(/^\/MRBTS-\d+\/RAT-\d+\/BTS_L-\d+\/BTS_CONF-\d+\/NP-\d+\/SCF-\d+\//,""):""}function C(e){return I.isString(e)?g(e).replace(/(_A-)/g,"-"):""}Object.defineProperty(t,"__esModule",{value:!0});t.SEPARATOR=void 0;t.addAPrefixFromConfigDN=function(e){return I.isString(e)?`/${g(e).replace(/(-)/g,"_A-")}`:""};t.buildClassPath=function(e){return I.isString(e)?g(e).replace(/-\d+/g,""):""};t.buildDistName=function(e,t,n){return n?`${n=g(n)}/${e}-${t}`:`${e}-${t}`};t.compareClassPathToRelativeDistName=function e(t,n){const r=n[n.length-1];if(d(t)!==r)return!1;const i=o(t,!0);return(!E(t,i)||n.length<=1)&&(1===n.length||e(i,n.slice(0,n.length-1)))};t.compareDistNameToRelativeDistName=function e(t,n){if(!function(e,t){return f(e)===f(t)}(t=g(t),n=g(n)))return!1;if(!function(e,t){const n=u(e);return isNaN(n)||u(t)===n}(n,t))return!1;const r=o(t),i=o(n),s=E(n,i);return!(E(t,r)&&!s)&&(!!s||e(r,i))};t.compareDistNames=function e(t,n){return l(t)&&l(n)?_(t,n):e(o(t),o(n))||_(t,n)};t.compareHWNodeNames=function(e,t){if(!I.isString(e)||!I.isString(t))return 0;const n=/^([A-Za-z]+)(\d+)$/,r=e.match(n),i=t.match(n);return r&&i?r[1].localeCompare(i[1])||parseInt(r[2])-parseInt(i[2]):_(e,t)};t.compareIds=y;t.compareNodeNames=_;t.convertFromFqDN=g;t.convertToPlanDistName=function(e){return C(T(e))};t.distNameStartingFromClassName=function(e,t){e=g(e);if(!I.isString(e)||!I.isString(t))return"";const n=e.indexOf(t);return n<0?"":e.substring(n,e.length)};t.distNameUpToClassName=a;t.equal=function(e="",t=""){return(I.includes(e,"|")?e.replace("|","/"):e)===(I.includes(t,"|")?t.replace("|","/"):t)};t.getAncestor=function(e,t){if(!I.isString(e))return"";const n=g(e).split(A);for(let e=0;e<t;e++)n.pop();return n.join(A)};t.getAncestorByClassName=function(e,t){if(!I.isString(e)||!I.isString(t))return null;const n=new RegExp(`(.*?${t}.*?${A})`),r=`${g(e)}/`.match(n);return r?r[1].slice(0,-1):null};t.getAncestorsDistNamesDesc=function(e){const t=[];let n=e;for(;!l(n);){n=o(n);t.push(n)}return t};t.getClassName=f;t.getClassNameWithFullDN=d;t.getDistNamePath=m;t.getId=u;t.getIdFromPath=function(e,t){const n=a(e,t);return""!==n?u(n):null};t.getIds=function(e){return I.isString(e)?b(e).map((e=>e.id)):[]};t.getName=c;t.getNameWithLeadingSeparator=function(e){return`${A}${c(e)}`};t.getParent=o;t.getParentClassName=function(e){return f(o(e))};t.getParentName=function(e){return c(o(e))};t.getParsedName=p;t.getPathFromDistName=v;t.getRatChildId=function e(t){const n=o(t);return l(n)?null:f(n)===w.RAT?u(t):e(n)};t.getRootName=h;t.getSeparator=function(){return A};t.hasASuffix=function(e){return N.hasASuffix(f(e))};t.hasLSuffix=function(e){return N.hasLSuffix(f(e))};t.hasRSuffix=function(e){return N.hasRSuffix(f(e))};t.isAsirmod=function(e){return f(e)===O};t.isDetectedBpfQualifiedMO=function(e){return"RMOD_R"===e||"ASIRMOD_R"===e||"FHS_R"===e};t.isInfoModelPath=function(e){return R.test(g(e))};t.isInstanceIdMissing=function(e){return"X"===p(e).id};t.isRoot=l;t.isSubtree=function(e,t){e=g(e);t=g(t);return!(!I.isString(e)||!I.isString(t))&&(t===e||t.startsWith(e+A))};t.matchDistName=function(e,t){t&&"string"!==typeof t&&(t=t.join("/"));return v(e).includes(g(t))};t.parse=b;t.removeAPrefixFromDistName=C;t.removeFirstPathFromDistName=function(e){return I.isString(e)?g(e).split("/").slice(1).join("/"):""};t.removeParent=function(e){if(!I.isString(e))return"";const t=g(e).split("/");return t[t.length-1]};t.removeSuffix=function(e){return I.isString(e)?g(e).replace(/_\w$/,""):""};t.replaceRootId=function(e,t){e=g(e);if(!I.isString(e))return"";const n=h(e),r=f(n);return e.replace(n,`${r}-${t}`)};t.splitLast=function(e){e=g(e);if(!I.isString(e))return null;const t=e.lastIndexOf(A);return t>0?[e.slice(0,t),e.slice(t,e.length)]:null};t.splitName=s;t.trimMrbtsFromPath=function(e){return S(e).replace(D,"")};t.trimRuntimeViewPath=S;t.trimScfPath=T;t.updateOldDnValueToNewDn=function(e,t,n){const r=c(t),i=c(n);return e.match(new RegExp(`^${r}(?!\\d)`))?I.replace(e,new RegExp(`${r}(?!\\d)`),i):I.replace(e,new RegExp(`/${r}(?!\\d)`),`/${i}`)};var I=i(n(2543)),w=i(n(4173)),N=i(n(464));const A=t.SEPARATOR="/",R=new RegExp("MRBTS-[\\d]+/RAT-[\\d]+/"),O="ASIRMOD",L=/^\/MRBTS-\d+\/RAT-\d+\/RUNTIME_VIEW-\d+/,D=/^\/MRBTS-\d+/},4628:(e,t,n)=>{"use strict";function r(e){return e.includes(i.ALARM_L)||e.includes(i.FRI.ALARM)}const i=n(8181).A;e.exports={hasAlarm:function(e){const t=e.change;if(!t)return!1;for(let e=0;e<t.updated.length;e++)if(r(t.updated[e].distName))return!0;for(let e=0;e<t.removed.length;e++)if(r(t.removed[e]))return!0;return!1},estimateByteSizeOfEntry:function(e){function t(e){return 2*e.length}function n(e){return 10*Object.keys(e).length}let r=1024+n(e);if(!e.change)return r;const i=e.change;r+=n(i);for(let e=0;e<i.removed.length;e++)r+=t(i.removed[e]);for(let e=0;e<i.updated.length;e++){const n=i.updated[e];r+=50;r+=t(n.distName);r+=n.payload?n.payload.byteLength:0}return r}}},6023:(e,t,n)=>{"use strict";const r=n(2543);e.exports=function(e,t){return r.flatten(e.map(t))}},9115:(e,t,n)=>{"use strict";const r=n(2543),i=n(8181).A,o=n(8364),s=n(1190);e.exports={getHardwareRelease:function(e){const t=e.findChildByClassName(i.MODULES.SMOD_BP_L);return t?t.getDecodedParameters().hwRelease:null},getFcmVariant:function(e){const t=e.findChildByClassName(i.MODULES.SMOD_BP_L);return t?t.getDecodedParameters().fcmVariant:null},createRelationPaths:function(e){return e.reduce((function(e,t){function n(e,n){var o,a;if(r.isEmpty(n.channelMNodes))return e;const c=i(null===(o=n.channelMNodes[0])||void 0===o?void 0:o.distName)?s.getAncestor(n.channelMNodes[0].distName,2):n.distName,u=e.get(c)||{distName:c,channels:[],cellDistName:t.distName};e.set(c,u);i(null===(a=n.channelMNodes[0])||void 0===a?void 0:a.distName)?u.channels=u.channels.concat(n.channelMNodes):u.channels=n.channelMNodes;return e}function i(e){return!(null===e||void 0===e||!e.includes(o.GSM.BTS))&&s.getParentClassName(e)===o.CHANNEL_GROUP}const a=t.isMassiveMimoCell?"massiveMimoChannels":"channels";t.isMassiveMimoCell?r.map(t.subCells,a).forEach((t=>{t.tx.reduce(n,new Map).forEach((n=>{e.set(n.distName,{relations:[t.tx.mergedTxDeviceList],logicalChannel:n})}));t.rx.reduce(n,new Map).forEach((n=>{e.set(n.distName,{relations:[t.rx.mergedRxDeviceList],logicalChannel:n})}))})):r.map(t.subCells,a).forEach((t=>{[].concat(t.tx,t.rx).reduce(n,new Map).forEach((t=>{var n;e.set(t.distName,{relations:null===(n=t.channels)||void 0===n?void 0:n.flat().map(r.property("devicesList")),logicalChannel:t})}))}));return e}),new Map)}}},8075:(e,t,n)=>{"use strict";function r(e){let t="Undefined";const n={Failed:5,Offline:4,Degraded:3,Dependency:2,Online:1,Undefined:0};for(let r=0;r<e.length;r++){const i=e[r],o=null===i||void 0===i?void 0:i.channelState;o&&n[o]>n[t]&&(t=o)}return t}function i(e){return e.root.findChildByClassName(U.MRBTS)}function o(e){const t=i(e);return t&&t.findChildByClassName(U.RAT)}function s(e,t){const n=o(e);return n?O.isNil(t)?n.findChildByClassName(B.BTS):n.findChildByClassAndId(B.BTS,t):null}function a(e,t){return N(e,k.RUNTIME_VIEW,t)}function c(e){const t=o(e);return t?t.findChildrenByClassName(k.RUNTIME_VIEW):[]}function u(e,t){const n=_(e,t);return n&&n.findChildByClassName(k.EQM)}function l(e,t){(O.isUndefined(t)||O.isNull(t))&&j.warn("systemModuleId is mandatory");const n=f(e,t);if(!n)return null;const r=n.getDecodedParameters().currentNp;return r&&e.findByDistName(r)}function f(e,t){const n=s(e,t);return n&&n.findChildByClassName(U.BTS_CONF)}function d(e,t){const n=s(e,t);return n&&n.findChildByClassName(B.LNBTS)}function h(e,t){const n=l(e,t);return n&&n.findChildByClassName(U.SCF)}function p(e,t){const n=h(e,t);return n&&n.findChildByClassName(M.MRBTS)}function m(e,t){const n=N(e,k.MCTRL,t);if(O.isEmpty(n))return null;let r=n.findChildrenByClassName(k.BBTOP);if(O.isEmpty(r))return null;const i=f(e,t),o=i&&i.getDecodedParameters().currentNp;if(1===r.length)return r[0];if(O.isNil(o)){j.info(`There was no correct object found under ratChild with instanceID: ${t}`);const e=function(e){return O.minBy(e,(e=>e.parameters.btsId))}(r.map((e=>e.findChildByClassName(k.MRBTS))));return e&&e.parent}r=r.filter((e=>{var t;return e.parameters.configurationViewDN===o||(null===(t=e.parameters.runtimeViewDN)||void 0===t?void 0:t.includes("RUNTIME_VIEW"))}));return 1===r.length?r[0]:r.find((e=>{var t;return e.parameters.configurationViewDN===o&&(null===(t=e.parameters.runtimeViewDN)||void 0===t?void 0:t.includes("RUNTIME_VIEW"))}))}function g(e,t){return y(e,k.LTE,t)}function y(e,t,n){const r=w(e,n);return r&&r.findChildByClassName(t.BTS)}function _(e,t){const n=a(e,t);return n&&n.findChildByClassName(k.MRBTS_R)}function v(e,t){return C(e,t,k.REF)}function E(e,t){return C(e,t,k.CONF_REF)}function S(e,t){return C(e,t,k.SECONDARY_REF)}function b(e){var t,n,r,i,o;let s=e&&(null===(t=e.findChildByClassName(k.CONF_REF))||void 0===t||null===(n=t.getDecodedParameters())||void 0===n?void 0:n.distName);if(e&&"SMOD_EXT_R"===e.className)return(null===(r=e.getDecodedParameters())||void 0===r?void 0:r.configDN)||s;s=s||e&&(null===(i=e.getDecodedParameters())||void 0===i?void 0:i.configDN);O.isEmpty(s)&&e&&e.className&&(null===(o=e.parent)||void 0===o?void 0:o.className)===`${e.className.substring(0,e.className.length-1)}A`&&(s=e.parent.distName);return s}function T(e,t){const n=b(t);return n?e.findByDistName(n):null}function C(e,t,n){const r=t.findChildByClassName(n);if(!r)return null;const i=r.getDecodedParameters().distName;return e.findByDistName(i)}function I(e,t){const n=e.findChildrenByClassName(k.REF).find((e=>{const n=e.getDecodedParameters().distName;return D.getClassName(n)===t}));return n&&n.getDecodedParameters().distName}function w(e,t){const n=m(e,t);return n&&n.findChildByClassName(k.MRBTS)}function N(e,t,n){const r=o(e);return r?O.isNumber(n)?r.findChildByClassAndId(t,n):r.findChildByClassName(t):null}function A(e,t){if(!t)return[];const n=t.findChildrenByClassName(U.ANTL_M),r=v(e,t.getAncestor()),i=r&&r.findByClassPath(["RU_L","TX_PU_L"]);return O.reduce(n,((e,t)=>{const n=t.getDecodedParameters().rp1Name,r=O.find(i,(e=>e.getDecodedParameters().rp1Name===n)),o=r&&r.findChildByClassName(U.TX_PU_BP_L),s=o?o.getDecodedParameters().txFrequencyRanges:[];e.push({antlMNode:t,txFrequencyRanges:s});return e}),[])}function R(e,t,n){const r=e.txFrequencyRanges.reduce(((e,r)=>{if("TETRA"===r.technology)return new Set;const i="NR"===r.technology?"n":"B",o=r.frequencyRanges.reduce(((e,r)=>{const o=i+r.band;return t&&function(e,t){const n=t.filter((t=>t.txFrequencyRanges.some((t=>{const n=t.technology===G?"n":"B";return t.frequencyRanges.some((t=>n+t.band===e))}))));return n.length>1}(o,t)||n?e.add(`${i}${r.band}(${r.minFrequency} MHz - ${r.maxFrequency} MHz)`):e.add(i+r.band)}),new Set);return new Set([...e,...o])}),new Set),i=Array.from(r).sort(((e,t)=>{if(e.charAt(0)===t.charAt(0)){const n=parseInt(e.substring(1)),r=parseInt(t.substring(1));if(n<r)return-1;if(n>r)return 1}return e<t?-1:e>t?1:0}));return 0===i.length?"-":i.reduce(((e,t)=>O.isEmpty(e)?t:`${e}, ${t}`),"")}const O=n(2543),L=n(6023),D=n(1190),{EMPTY_STRING:x,NOT_AVAILABLE:P}=n(3631),k=n(8364),B=n(8181).A,M=n(4295),U=n(4173),F=n(1039).A,j=n(8975).getLogger("admin.core.imCompatibilityService"),G="NR";e.exports=Object.freeze({findRatNode:o,findBtsLNode:s,findBtsLNodes:function(e){const t=o(e);return t?t.findChildrenByClassName(B.BTS):[]},findEqmLNode:function(e,t){const n=s(e,t);return n&&n.findChildByClassName(B.EQM)},findEqmRNode:u,findNodeA:function(e,t){const n=l(e.root,t);if(!n)return null;const r=D.getClassName(e.distName).replace("_L","_R"),i=b(e.root.findByClassName(r).find((t=>t.findChildByClassName(k.REF).getDecodedParameters().distName===e.distName)))||"";return i.includes(n.distName)?e.root.findByDistName(i):null},findNodeRFromA:function(e){const t=c(e.root).reduce(((t,n)=>{const r=n.findByClassName(e.className.replace("_A","_R"));return r?t.concat(r):t}),[]);return null===t||void 0===t?void 0:t.find((t=>{var n;return(null===e||void 0===e?void 0:e.distName)&&(null===(n=T(e.root,t))||void 0===n?void 0:n.distName)===e.distName}))},findCurrentNpNode:l,findScfNodeForCurrentNp:h,findMrbtsANode:p,findMrbtsRNode:_,findLnbtsNode:d,findLnbtsRNode:function(e,t){const n=_(e,t);return n&&n.findChildByClassName(k.LTE.BTS_R)},findNrbtsRNode:function(e,t){const n=_(e,t);return n&&n.findChildByClassName(k.NR.BTS_R)},findNrbtsANode:function(e,t){const n=p(e,t);return n&&n.findChildByClassName(k.NRBTS_A)},findLncelMNodes:function(e,t){const n=g(e,t),r=n?n.findChildrenByClassName(k.CELL):[];return L(r,(e=>e.findChildrenByClassName(k.LTE.NCEL)))},findFtmNode:function(e,t){const n=d(e,t);return n&&n.findChildByClassName(U.FTM)},findHwLinks:function(e){return e?e.findChildrenByClassName(B.HWLINK).concat(e.findChildrenByClassName(U.HWLINK_NG_L)):[]},findBtsConfNode:f,findSWMNode:function(e,t){return N(e,U.SWM,t)},findBmNodeforRNode:function(e,t){const n=v(e,t),r=n&&n.distName;return function(e){const t=e.className.replace("_L",""),n=function(e){const t=i(e);return t&&t.findChildByClassName(U.EQM)}(e.root),r=n?n.findByClassName(t):[],o=e.getDecodedParameters().serialNumber;return o&&r.find((e=>e.getDecodedParameters().serialNumber===o))}(e.findByDistName(r))},findApeqmANode:function(e,t){const n=function(e,t){const n=p(e,t);return n&&n.findChildByClassName(M.EQM)}(e,t);return n&&n.findChildByClassName(M.APEQM)},findRuntimeViewNode:a,findRuntimeViewNodes:c,findBbtopMNode:m,findLnbtsMNode:g,findNbtsRNode:function(e,t,n){let r=c(e);n&&(r=r.filter((e=>e.id===n)));const i=r.shift();return i&&t&&i.findAnyByClassName(t.BTS_R)},findNrduRNode:function(e,t,n){let r=c(e);n&&(r=r.filter((e=>e.id===n)));const i=r.shift();return i&&t&&i.findAnyByClassName(t.NRDU_R)},findRefNode:v,findConfRefNode:E,findSecondaryRefNode:S,findANodeFromRNode:T,findReferenceDn:b,findRefNodeDnForClassName:I,getActiveBuildData:function(e){const t=e.findByClassName(B.FILE_SYSTEM);if(1===t.length)return t[0].findChildByClassName(B.BUILD_DATA);const n=t.find((e=>"Active"===e.getDecodedParameters().bootPurpose));return n&&n.findChildByClassName(B.BUILD_DATA)},findRefNodeForDn:function(e,t){const n=t.findByDistName(e);return v(t,n)},findMrbtsMNode:w,findFeatgadmNode:function(e){const t=e.root.findAnyByClassName(M.MNL);return t&&t.findAnyByClassName(M.FEATGADM)},findSmodRNode:function(e,t){if(t){const n=e.findByClassPaths(F.SMOD_R),r=s(e,t);if(r&&"Active"===r.parameters.storedRole)return n.find((e=>"Primary"===e.parameters.activeRole));if(r&&"Idle"===r.parameters.storedRole)return n.find((e=>"Secondary"===e.parameters.activeRole));const i=a(e,t);return i&&i.findAnyByClassName(k.SMOD)}const n=function(e,t){const n=function(e,t){const n=u(e,t);return n&&n.findChildByClassName(k.APEQM)}(e,t);return n&&n.findChildByClassName(k.CABINET)}(e);return n&&n.findChildByClassName(k.SMOD)},findNcfNode:function(e,t){const n=N(e,"URI",t),r=n&&n.findChildByClassName("NETWORK_CONFIG");return r&&r.findChildByClassName("NCF")},findTxForAntl:function({node:e,lNode:t}){const n=e.root;if(!t)return null;const r=t.parent.findByClassPath(["RU_L","TX_PU_L","TX_L"]);return r&&r.filter((t=>{const r=n.findByDistName(t.getDecodedParameters().channelDn);return(r?r.findChildrenByClassName(k.REF):[]).find((t=>t.getDecodedParameters().distName===e.distName))}))},findVswrForChannel:function(e,t){function n(t,n){const r=I(t,n);return r?e.findByDistName(r):null}const r=n(t,k.ANTL);if(!r)return P;const i=r.findChildrenByClassName(k.ANTL_M),o=function(){const e=n(r.parent,k.RMOD_L);if(!e)return null;const i=e.findChildByClassName(k.RU_L);return i?i.findChildrenByClassName(k.TX_PU_L).find((e=>e.findChildrenByClassName(k.TX_L).some((e=>e.getDecodedParameters().channelDn===t.distName)))):null}();if(!o)return P;const s=i.find((e=>e.getDecodedParameters().rp1Name===o.getDecodedParameters().rp1Name));return s?s.getDecodedParameters().vswr:P},findNodeRFromL:function(e){const t=c(e.root).reduce(((t,n)=>{const r=n.findByClassName(e.className.replace("_L","_R"));return r?t.concat(r):t}),[]);return null===t||void 0===t?void 0:t.find((t=>{var n,r;return(null===e||void 0===e?void 0:e.distName)&&((null===(n=v(e.root,t))||void 0===n?void 0:n.distName)===e.distName||(null===(r=S(e.root,t))||void 0===r?void 0:r.distName)===e.distName)}))},createTxPortName:function(e){return"TX_AXC-".concat(e.getDecodedParameters().nodeAddress)},findNrcelMNodes:function(e,t){const n=function(e,t){return y(e,k.NR,t)}(e,t),r=n?n.findChildrenByClassName(k.CELL):[];return L(r,(e=>e.findChildrenByClassName(k.NR.NCEL)))},findUriNode:function(e,t){return N(e,"URI",t)},findAsmNode:function(e,t){return N(e,"ASM",t)},findDemNode:function(e,t){return N(e,"DEM",t)},findMCtrlNode:function(e,t){return N(e,k.MCTRL,t)},getCellAInfosWithVswr:function(e,t){const n=t.findChildrenByClassName(U.ANTL_M),r=v(e,t.getAncestor()),i=r&&r.findByClassPath(["RU_L","TX_PU_L"]);return O.transform(n,((n,r)=>{const o=r.getDecodedParameters(),s=o.rp1Name,a=O.find(i,(e=>e.getDecodedParameters().rp1Name===s)),c=a&&a.findChildrenByClassName(U.TX_L);O.chain(c).transform(((t,n)=>{t.push(...function(e,t,n){const r=e.findByDistName(t.getDecodedParameters().channelDn);if(O.isNil(r))return[];const i=r.getAncestor(2);return O.reduce(n,((t,n)=>{const o=i.findChildByClassName(n),s=o&&E(e,o);if(s){const i={distName:s.distName,nodeName:s.name,className:s.className};if(n===U.GNCEL_M){const t=function(e,t){const n=O.find(t.findChildrenByClassName(k.REF),(e=>{const t=e.getDecodedParameters().distName;return t&&D.getClassName(t)===U.UPLANE_CARRIER_L})),r=n&&e.findByDistName(n.getDecodedParameters().distName),i=r&&r.getAncestor(),o=i&&i.findChildByClassName(U.CARRIER_GROUPC_L);return o&&o.getDecodedParameters().trxId}(e,r);t&&(i.trxId=t)}const o=s.getDecodedParameters().cellName;O.isNil(o)||(i.cellName=o);t.push(i)}return t}),[])}(e,n,[U.LNCEL_M,U.WNCEL_M,U.GNCEL_M,U.NRCELL_M,U.TTRX_M]))}),[]).forEach((e=>{e.vswr=o.vswr;e.antlRDn=t.getDistName();n.push(e)})).value()}),[])},findFirstRauTimeNode:function(e){const t=e.findByClassPaths(F.MNL_A);return t.length?t[0]:null},getSystemModuleId:function(e){var t;const n=(null===e||void 0===e?void 0:e.getRuntimeViewModel)&&(null===e||void 0===e?void 0:e.getRuntimeViewModel());return null===n||void 0===n||null===(t=n.currentNode)||void 0===t?void 0:t.id},findSharedSmodExtDN:function(e){let t="";e.root.findByIndexedClassName(k.CABLINK).filter((t=>T(e.root,t))).map((e=>e.getDecodedParameters())).forEach((({firstEndpointDN:n,secondEndpointDN:r})=>{n===e.distName&&D.getClassName(r)===k.SMOD_EXT?t=r:r===e.distName&&D.getClassName(n)===k.SMOD_EXT&&(t=n)}));return t},findAntlMWitTxFrequencyRangesInfos:A,getSupportedBandsMap:function(e,t){const n=A(e,t);return n.reduce(((e,t)=>{const r=t.antlMNode.getDecodedParameters().vswr||x;e.set(R(t,n),r);return e}),new Map)},getSupportedBandsInfoByAntlM:R,findRef100DnByDistName:function(e,t){var n;return null===(n=e.findByDistName(`${t}/REF-100`).getDecodedParameters())||void 0===n?void 0:n.distName},getChannelAMap:function({channels:e,massiveMimoChannels:t,channelInfo:n}){const i=n.reduce(((e,t)=>{if(!t.channelDN)return e;e.has(t.channelDN)?e.set(t.channelDN,[...e.get(t.channelDN),t]):e.set(t.channelDN,[t]);return e}),new Map);[...e.tx,...e.rx].forEach((e=>{e.channelMNodes=i.get(e.distName)||[];e.channelState=r(e.channelMNodes)}));if(t&&!O.isEmpty([...t.tx,t.rx])){[...t.tx,...t.rx].forEach((e=>{e.channelMNodes=O.cloneDeep(i.get(e.distName))||[];e.channelState=r(e.channelMNodes);e.channelMNodes.forEach((e=>{e.antlDN=e.phyantRDN||e.phyantuDN&&D.getParent(e.phyantuDN)}))}));[t.tx,t.rx].forEach((e=>{e.deviceList=function(e){return O.chain(e).reduce(((e,t)=>{const n=t.channelMNodes.map((e=>e.devicesList));return e.concat(n.flat())}),[]).uniq().value()}(e)}))}},mergedChannelState:r})},2130:e=>{"use strict";e.exports={isIpV4:function(e){return/^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)},isIpV6:function(e){return/^([0-9A-Fa-f]{0,4}:){2,7}([0-9A-Fa-f]{1,4}$|((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.|$)){4})$/.test(e)},isNaturalNumber:function(e){return/^(0|([1-9]\d*))$/.test(e)}}},7874:(e,t,n)=>{"use strict";const r=n(2543),i=n(2104),o=n(8075),s=n(1039).A,a=n(4173),c=n(1190),u=n(8975).getLogger("admin.core.nodeFinder");e.exports=function(e,t){function n(e,t){const n=e.findByClassPaths(t);return r.isEmpty(n)?i.resolve():1===n.length?i.resolve(n[0]):function(e){return l().then((t=>{const n=e.find((e=>f(e.distName)===t));if(!n){u.warn(`There was no correct object found under ratChild with instanceID: ${t}`);return null}return n}))}(n)}function l(){return new i((n=>{e.isConnected()?function(e){t.watch((function n(r){t.unwatch(n);e(r)}))}(n):function(e){let n=t.getInstanceId();r.isNumber(n)||(n=t.getPreviousInstanceId());e(n)}(n)}))}function f(e){const t=c.getParent(e);return c.isRoot(t)?null:c.getClassName(t)===a.RAT?c.getId(e):f(t)}return{getActiveBtsLNode:function(e){return n(e,s.BTS_L)},getActiveBtsConfNode:function(e){return n(e,s.BTS_CONF)},getActiveSwmNode:function(e){return n(e,s.SWM)},getActiveRemNode:function(e){return n(e,s.REM)},getActiveSwconfigNode:function(e){return n(e,s.SWCONFIG_L)},getActiveMnlRNode:function(e){return n(e,s.MNL_R)},getActiveRuntimeNode:function(e){return n(e,s.RUNTIME_VIEW)},getActiveMrbtsRNode:function(e){return n(e,s.MRBTS_R)},getActiveMrbtsMNode:function(e){const t=e.findByClassPaths(s.MRBTS_M);return r.isEmpty(t)?i.resolve():1===t.length?i.resolve(t[0]):l().then((t=>o.findMrbtsMNode(e,t)))},getActiveUriNode:function(e){return n(e,s.URI)},getActiveEventLogNode:function(e){return n(e,s.EVENT_LOG)},getActiveTasLAndBtsLNode:function(e){return i.all([n(e,s.TAS_L),n(e,s.BTS_L)]).then((e=>{const t=e.filter((e=>!!e));return r.isEmpty(t)?null:t}))},getActiveTasLNode:function(e){return n(e,s.TAS_L)},getActiveFriNode:function(e){return n(e,s.FRI)},getActiveOnapadaptNode:function(e){return n(e,s.ONAPADAPT)},getRatNode:function(e){return n(e,s.RAT)},getInstanceId:l,findInCurrentImTree:n}}},7273:(e,t,n)=>{"use strict";function r(){return!("undefined"===typeof o||!o.versions||!o.versions.node)}function i(e){return t=>{t.stack&&a.warn(t.stack);return e(t.message?t.message:t)}}const o=n(7978),s=n(2104);if(r()){const{TransformStream:e,WritableStream:t,ReadableStream:r}=n(6148);n.g.TransformStream=e;n.g.WritableStream=t;n.g.ReadableStream=r}let a;a=function(){var e;return!("undefined"===typeof o||null===(e=o.env)||void 0===e||!e.GULP_ENV)}()?n.g.console:n(8975).getLogger("admin.core.zip");const c=n(4512);c.configure({useWebWorkers:!r(),LOG:a});class u extends c.Uint8ArrayReader{constructor(e){super(new Uint8Array(e))}}class l extends c.Uint8ArrayWriter{getData(){const e=super.getData();return Buffer.from(e||"")}}class f extends c.Reader{constructor(e){super();this.size=0;this.bufferReader=e}async init(){super.init();return this.bufferReader.getLength().then((e=>{this.size=e})).catch(s.reject)}async readUint8Array(e,t){return this.bufferReader.read(e,t).then((e=>new Uint8Array(e))).catch(s.reject)}}class d extends c.Writer{constructor(e){super();this.bufferWriter=e}async init(){super.init()}async writeUint8Array(e){await this.bufferWriter.write(Buffer.from(e))}async getData(){}}e.exports={zipReader:function(){function e(){return!!t}let t=null,n=null;return{open:function(r){return new s((async(o,s)=>{if(e())s("Reader is already opened.");else{t=new c.ZipReader(r);const e=await t.getEntries().catch(i(s));if(e instanceof Array){n=e.map((e=>({isDirectory:e.directory,fileName:e.filename,size:e.uncompressedSize,originEntry:e})));o()}else s("Invalid Entries.")}}))},close:function(){return new s((async(e,r)=>{if(t){await t.close().catch(i(r));t=null;n=null;e()}else r("Reader is already closed.")}))},read:function(t,r){return new s((async(o,s)=>{if(e()){const e=n&&n.find((e=>e.fileName===t));e?o(await e.originEntry.getData(r).catch(i(s))):s("No such an entry.")}else s("Reader is closed.")}))},getEntries:function(){return n},isOpened:e}},zipWriter:function(){function e(){return!!t}let t=null;return{open:function(e){return new s(((n,r)=>{if(t)r("Writer is already opened.");else{t=new c.ZipWriter(e);n()}}))},close:function(){return new s((async(e,n)=>{if(t){const r=await t.close().catch(i(n));t=null;e(r)}else n("Writer is already closed.")}))},write:function(n,r){return new s((async(o,s)=>{if(e()){await t.add(n,r).catch(i(s));o()}else s("Writer is closed.")}))},isOpened:e}},BufferReader:u,BufferWriter:l,BufferReaderAsync:f,BufferWriterAsync:d,BlobReader:c.BlobReader,BlobWriter:c.BlobWriter,TextReader:c.TextReader,TextWriter:c.TextWriter,errors:{ERR_BAD_FORMAT:c.ERR_BAD_FORMAT,ERR_EOCDR_NOT_FOUND:c.ERR_EOCDR_NOT_FOUND,ERR_EOCDR_LOCATOR_ZIP64_NOT_FOUND:c.ERR_EOCDR_LOCATOR_ZIP64_NOT_FOUND,ERR_CENTRAL_DIRECTORY_NOT_FOUND:c.ERR_CENTRAL_DIRECTORY_NOT_FOUND,ERR_LOCAL_FILE_HEADER_NOT_FOUND:c.ERR_LOCAL_FILE_HEADER_NOT_FOUND,ERR_EXTRAFIELD_ZIP64_NOT_FOUND:c.ERR_EXTRAFIELD_ZIP64_NOT_FOUND,ERR_ENCRYPTED:c.ERR_ENCRYPTED,ERR_UNSUPPORTED_ENCRYPTION:c.ERR_UNSUPPORTED_ENCRYPTION,ERR_UNSUPPORTED_COMPRESSION:c.ERR_UNSUPPORTED_COMPRESSION,ERR_INVALID_SIGNATURE:c.ERR_INVALID_SIGNATURE,ERR_INVALID_PASSWORD:c.ERR_INVALID_PASSWORD,ERR_PERSSION_PROBLEMS:"The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired."}}},2104:(e,t,n)=>{
/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2018 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */
!function(){e.exports=function(){return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var c="function"==typeof _dereq_&&_dereq_;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};t[s][0].call(l.exports,(function(e){return i(t[s][1][e]||e)}),l,l.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof _dereq_&&_dereq_,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t){"use strict";t.exports=function(e){function t(e){var t=new n(e),r=t.promise();t.setHowMany(1);t.setUnwrap();t.init();return r}var n=e._SomePromiseArray;e.any=function(e){return t(e)};e.prototype.any=function(){return t(this)}}},{}],2:[function(e,t){"use strict";function n(){this._customScheduler=!1;this._isTickUsed=!1;this._lateQueue=new a(16);this._normalQueue=new a(16);this._haveDrainedQueues=!1;var e=this;this.drainQueues=function(){e._drainQueues()};this._schedule=s}function r(e){for(;e.length()>0;)i(e)}function i(e){var t=e.shift();if("function"!==typeof t)t._settlePromises();else{var n=e.shift(),r=e.shift();t.call(n,r)}}var o;try{throw new Error}catch(e){o=e}var s=e("./schedule"),a=e("./queue");n.prototype.setScheduler=function(e){var t=this._schedule;this._schedule=e;this._customScheduler=!0;return t};n.prototype.hasCustomScheduler=function(){return this._customScheduler};n.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues};n.prototype.fatalError=function(e,t){if(t){process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n");process.exit(2)}else this.throwLater(e)};n.prototype.throwLater=function(e,t){if(1===arguments.length){t=e;e=function(){throw t}}if("undefined"!==typeof setTimeout)setTimeout((function(){e(t)}),0);else try{this._schedule((function(){e(t)}))}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}};n.prototype.invokeLater=function(e,t,n){this._lateQueue.push(e,t,n);this._queueTick()};n.prototype.invoke=function(e,t,n){this._normalQueue.push(e,t,n);this._queueTick()};n.prototype.settlePromises=function(e){this._normalQueue._pushOne(e);this._queueTick()};n.prototype._drainQueues=function(){r(this._normalQueue);this._reset();this._haveDrainedQueues=!0;r(this._lateQueue)};n.prototype._queueTick=function(){if(!this._isTickUsed){this._isTickUsed=!0;this._schedule(this.drainQueues)}};n.prototype._reset=function(){this._isTickUsed=!1};t.exports=n;t.exports.firstLineError=o},{"./queue":26,"./schedule":29}],3:[function(e,t){"use strict";t.exports=function(e,t,n,r){var i=!1,o=function(e,t){this._reject(t)},s=function(e,t){t.promiseRejectionQueued=!0;t.bindingPromise._then(o,o,null,this,e)},a=function(e,t){0===(50397184&this._bitField)&&this._resolveCallback(t.target)},c=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){if(!i){i=!0;e.prototype._propagateFrom=r.propagateFromFunction();e.prototype._boundValue=r.boundValueFunction()}var u=n(o),l=new e(t);l._propagateFrom(this,1);var f=this._target();l._setBoundTo(u);if(u instanceof e){var d={promiseRejectionQueued:!1,promise:l,target:f,bindingPromise:u};f._then(t,s,void 0,l,d);u._then(a,c,void 0,l,d);l._setOnCancel(u)}else l._resolveCallback(f);return l};e.prototype._setBoundTo=function(e){if(void 0!==e){this._bitField=2097152|this._bitField;this._boundTo=e}else this._bitField=-2097153&this._bitField};e.prototype._isBound=function(){return 2097152===(2097152&this._bitField)};e.bind=function(t,n){return e.resolve(n).bind(t)}}},{}],4:[function(e,t){"use strict";var n;"undefined"!==typeof Promise&&(n=Promise);var r=e("./promise")();r.noConflict=function(){try{Promise===r&&(Promise=n)}catch(e){}return r};t.exports=r},{"./promise":22}],5:[function(e,t){"use strict";var n=Object.create;if(n){var r=n(null),i=n(null);r[" size"]=i[" size"]=0}t.exports=function(t){function n(e){var n=function(e,n){var r;null!=e&&(r=e[n]);if("function"!==typeof r){var i="Object "+o.classString(e)+" has no method '"+o.toString(n)+"'";throw new t.TypeError(i)}return r}(e,this.pop());return n.apply(e,this)}function r(e){return e[this]}function i(e){var t=+this;t<0&&(t=Math.max(0,t+e.length));return e[t]}var o=e("./util"),s=o.canEvaluate;o.isIdentifier;t.prototype.call=function(e){var t=[].slice.call(arguments,1);t.push(e);return this._then(n,void 0,void 0,t,void 0)};t.prototype.get=function(e){var t;if("number"===typeof e)t=i;else if(s){var n=(void 0)(e);t=null!==n?n:r}else t=r;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(e,t){"use strict";t.exports=function(t,n,r,i){var o=e("./util"),s=o.tryCatch,a=o.errorObj,c=t._async;t.prototype["break"]=t.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel();e._setWillBeCancelled();t=e;e=n}};t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--};t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0};t.prototype._cancelBy=function(e){if(e===this){this._branchesRemainingToCancel=0;this._invokeOnCancel();return!0}this._branchHasCancelled();if(this._enoughBranchesHaveCancelled()){this._invokeOnCancel();return!0}return!1};t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()};t.prototype._cancel=function(){if(this._isCancellable()){this._setCancelled();c.invoke(this._cancelPromises,this,void 0)}};t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()};t.prototype._unsetOnCancel=function(){this._onCancelField=void 0};t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()};t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()};t.prototype._doInvokeOnCancel=function(e,t){if(o.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"===typeof e){if(!t){var r=s(e).call(this._boundValue());if(r===a){this._attachExtraTrace(r.e);c.throwLater(r.e)}}}else e._resultCancelled(this)};t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel();c.invoke(this._doInvokeOnCancel,this,e)};t.prototype._invokeInternalOnCancel=function(){if(this._isCancellable()){this._doInvokeOnCancel(this._onCancel(),!0);this._unsetOnCancel()}};t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t){"use strict";t.exports=function(t){var n=e("./util"),r=e("./es5").keys,i=n.tryCatch,o=n.errorObj;return function(e,s,a){return function(c){var u=a._boundValue();e:for(var l=0;l<e.length;++l){var f=e[l];if(f===Error||null!=f&&f.prototype instanceof Error){if(c instanceof f)return i(s).call(u,c)}else if("function"===typeof f){var d=i(f).call(u,c);if(d===o)return d;if(d)return i(s).call(u,c)}else if(n.isObject(c)){for(var h=r(f),p=0;p<h.length;++p){var m=h[p];if(f[m]!=c[m])continue e}return i(s).call(u,c)}}return t}}}},{"./es5":13,"./util":36}],8:[function(e,t){"use strict";t.exports=function(e){function t(){this._trace=new t.CapturedTrace(n())}function n(){var e=i.length-1;if(e>=0)return i[e]}var r=!1,i=[];e.prototype._promiseCreated=function(){};e.prototype._pushContext=function(){};e.prototype._popContext=function(){return null};e._peekContext=e.prototype._peekContext=function(){};t.prototype._pushContext=function(){if(void 0!==this._trace){this._trace._promiseCreated=null;i.push(this._trace)}};t.prototype._popContext=function(){if(void 0!==this._trace){var e=i.pop(),t=e._promiseCreated;e._promiseCreated=null;return t}return null};t.CapturedTrace=null;t.create=function(){if(r)return new t};t.deactivateLongStackTraces=function(){};t.activateLongStackTraces=function(){var i=e.prototype._pushContext,o=e.prototype._popContext,s=e._peekContext,a=e.prototype._peekContext,c=e.prototype._promiseCreated;t.deactivateLongStackTraces=function(){e.prototype._pushContext=i;e.prototype._popContext=o;e._peekContext=s;e.prototype._peekContext=a;e.prototype._promiseCreated=c;r=!1};r=!0;e.prototype._pushContext=t.prototype._pushContext;e.prototype._popContext=t.prototype._popContext;e._peekContext=e.prototype._peekContext=n;e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}};return t}},{}],9:[function(e,t){"use strict";t.exports=function(t,n,r,i){function o(e,t){return{promise:t}}function s(){return!1}function a(e,t,n){var r=this;try{e(t,n,(function(e){if("function"!==typeof e)throw new TypeError("onCancel must be a function, got: "+D.toString(e));r._attachCancellationCallback(e)}))}catch(e){return e}}function c(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?D.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function u(){return this._onCancelField}function l(e){this._onCancelField=e}function f(){this._cancellationParent=void 0;this._onCancelField=void 0}function d(e,t){if(0!==(1&t)){this._cancellationParent=e;var n=e._branchesRemainingToCancel;void 0===n&&(n=0);e._branchesRemainingToCancel=n+1}0!==(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function h(){var e=this._boundTo;return void 0!==e&&e instanceof t?e.isFulfilled()?e.value():void 0:e}function p(){this._trace=new I(this._peekContext())}function m(e,t){if(P(e)){var n=this._trace;void 0!==n&&t&&(n=n._parent);if(void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var r=v(e);D.notEnumerableProp(e,"stack",r.message+"\n"+r.stack.join("\n"));D.notEnumerableProp(e,"__stackCleaned__",!0)}}}function g(){this._trace=void 0}function y(e,n,r){if(te.warnings){var i,o=new L(e);if(n)r._attachExtraTrace(o);else if(te.longStackTraces&&(i=t._peekContext()))i.attachExtraTrace(o);else{var s=v(o);o.stack=s.message+"\n"+s.stack.join("\n")}Q("warning",o)||E(o,"",!0)}}function _(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],i="    (No stack trace)"===r||U.test(r),o=i&&J(r);if(i&&!o){j&&" "!==r.charAt(0)&&(r="    "+r);t.push(r)}}return t}function v(e){var t=e.stack,n=e.toString();t="string"===typeof t&&t.length>0?function(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var r=t[n];if("    (No stack trace)"===r||U.test(r))break}n>0&&"SyntaxError"!=e.name&&(t=t.slice(n));return t}(e):["    (No stack trace)"];return{message:n,stack:"SyntaxError"==e.name?t:_(t)}}function E(e,t,n){if("undefined"!==typeof console){var r;if(D.isObject(e)){var i=e.stack;r=t+F(i,e)}else r=t+String(e);"function"===typeof A?A(r,n):"function"===typeof console.log||console.log}}function S(e,t,n,r){var i=!1;try{if("function"===typeof t){i=!0;"rejectionHandled"===e?t(r):t(n,r)}}catch(e){O.throwLater(e)}"unhandledRejection"===e?Q(e,n,r)||i||E(n,"Unhandled rejection "):Q(e,r)}function b(e){var t;if("function"===typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e&&"function"===typeof e.toString?e.toString():D.toString(e);if(/\[object [a-zA-Z0-9$_]+\]/.test(t))try{t=JSON.stringify(e)}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+function(e){var t=41;return e.length<t?e:e.substr(0,t-3)+"..."}(t)+">, no stack trace)"}function T(){return"function"===typeof ee}function C(e){var t=e.match(Z);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function I(e){this._parent=e;this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);ee(this,I);t>32&&this.uncycle()}var w,N,A,R,O=t._async,L=e("./errors").Warning,D=e("./util"),x=e("./es5"),P=D.canAttachTrace,k=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,B=/\((?:timers\.js):\d+:\d+\)/,M=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,U=null,F=null,j=!1,G=!(0==D.env("BLUEBIRD_DEBUG")),H=!(0==D.env("BLUEBIRD_WARNINGS")||!G&&!D.env("BLUEBIRD_WARNINGS")),V=!(0==D.env("BLUEBIRD_LONG_STACK_TRACES")||!G&&!D.env("BLUEBIRD_LONG_STACK_TRACES")),q=0!=D.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(H||!!D.env("BLUEBIRD_W_FORGOTTEN_RETURN"));!function(){function e(){for(var e=0;e<r.length;++e)r[e]._notifyUnhandledRejection();n()}function n(){r.length=0}var r=[];R=function(t){r.push(t);setTimeout(e,1)};x.defineProperty(t,"_unhandledRejectionCheck",{value:e});x.defineProperty(t,"_unhandledRejectionClear",{value:n})}();t.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288};t.prototype._ensurePossibleRejectionHandled=function(){if(0===(524288&this._bitField)){this._setRejectionIsUnhandled();R(this)}};t.prototype._notifyUnhandledRejectionIsHandled=function(){S("rejectionHandled",w,void 0,this)};t.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField};t.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)};t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified();S("unhandledRejection",N,e,this)}};t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField};t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField};t.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0};t.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField};t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField;if(this._isUnhandledRejectionNotified()){this._unsetUnhandledRejectionIsNotified();this._notifyUnhandledRejectionIsHandled()}};t.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0};t.prototype._warn=function(e,t,n){return y(e,t,n||this)};t.onPossiblyUnhandledRejection=function(e){var n=t._getContext();N=D.contextBind(n,e)};t.onUnhandledRejectionHandled=function(e){var n=t._getContext();w=D.contextBind(n,e)};var W=function(){};t.longStackTraces=function(){if(O.haveItemsQueued()&&!te.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!te.longStackTraces&&T()){var e=t.prototype._captureStackTrace,r=t.prototype._attachExtraTrace,i=t.prototype._dereferenceTrace;te.longStackTraces=!0;W=function(){if(O.haveItemsQueued()&&!te.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");t.prototype._captureStackTrace=e;t.prototype._attachExtraTrace=r;t.prototype._dereferenceTrace=i;n.deactivateLongStackTraces();te.longStackTraces=!1};t.prototype._captureStackTrace=p;t.prototype._attachExtraTrace=m;t.prototype._dereferenceTrace=g;n.activateLongStackTraces()}};t.hasLongStackTraces=function(){return te.longStackTraces&&T()};var K={unhandledrejection:{before:function(){var e=D.global.onunhandledrejection;D.global.onunhandledrejection=null;return e},after:function(e){D.global.onunhandledrejection=e}},rejectionhandled:{before:function(){var e=D.global.onrejectionhandled;D.global.onrejectionhandled=null;return e},after:function(e){D.global.onrejectionhandled=e}}},z=function(){var e=function(e,t){if(!e)return!D.global.dispatchEvent(t);var n;try{n=e.before();return!D.global.dispatchEvent(t)}finally{e.after(n)}};try{if("function"===typeof CustomEvent){var t=new CustomEvent("CustomEvent");D.global.dispatchEvent(t);return function(t,n){t=t.toLowerCase();var r=new CustomEvent(t,{detail:n,cancelable:!0});x.defineProperty(r,"promise",{value:n.promise});x.defineProperty(r,"reason",{value:n.reason});return e(K[t],r)}}if("function"===typeof Event){t=new Event("CustomEvent");D.global.dispatchEvent(t);return function(t,n){t=t.toLowerCase();var r=new Event(t,{cancelable:!0});r.detail=n;x.defineProperty(r,"promise",{value:n.promise});x.defineProperty(r,"reason",{value:n.reason});return e(K[t],r)}}(t=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{});D.global.dispatchEvent(t);return function(t,n){t=t.toLowerCase();var r=document.createEvent("CustomEvent");r.initCustomEvent(t,!1,!0,n);return e(K[t],r)}}catch(e){}return function(){return!1}}(),Y=function(){return D.isNode?function(){return process.emit.apply(process,arguments)}:D.global?function(e){var t="on"+e.toLowerCase(),n=D.global[t];if(!n)return!1;n.apply(D.global,[].slice.call(arguments,1));return!0}:function(){return!1}}(),$={promiseCreated:o,promiseFulfilled:o,promiseRejected:o,promiseResolved:o,promiseCancelled:o,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:o},Q=function(e){var t=!1;try{t=Y.apply(null,arguments)}catch(e){O.throwLater(e);t=!0}var n=!1;try{n=z(e,$[e].apply(null,arguments))}catch(e){O.throwLater(e);n=!0}return n||t};t.config=function(e){"longStackTraces"in(e=Object(e))&&(e.longStackTraces?t.longStackTraces():!e.longStackTraces&&t.hasLongStackTraces()&&W());if("warnings"in e){var n=e.warnings;te.warnings=!!n;q=te.warnings;D.isObject(n)&&"wForgottenReturn"in n&&(q=!!n.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!te.cancellation){if(O.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=f;t.prototype._propagateFrom=d;t.prototype._onCancel=u;t.prototype._setOnCancel=l;t.prototype._attachCancellationCallback=c;t.prototype._execute=a;X=d;te.cancellation=!0}if("monitoring"in e)if(e.monitoring&&!te.monitoring){te.monitoring=!0;t.prototype._fireEvent=Q}else if(!e.monitoring&&te.monitoring){te.monitoring=!1;t.prototype._fireEvent=s}if("asyncHooks"in e&&D.nodeSupportsAsyncResource){var o=te.asyncHooks,h=!!e.asyncHooks;if(o!==h){te.asyncHooks=h;h?r():i()}}return t};t.prototype._fireEvent=s;t.prototype._execute=function(e,t,n){try{e(t,n)}catch(e){return e}};t.prototype._onCancel=function(){};t.prototype._setOnCancel=function(){};t.prototype._attachCancellationCallback=function(){};t.prototype._captureStackTrace=function(){};t.prototype._attachExtraTrace=function(){};t.prototype._dereferenceTrace=function(){};t.prototype._clearCancellationData=function(){};t.prototype._propagateFrom=function(){};var X=function(e,t){0!==(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)},J=function(){return!1},Z=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;D.inherits(I,Error);n.CapturedTrace=I;I.prototype.uncycle=function(){var e=this._length;if(e>=2){for(var t=[],n={},r=0,i=this;void 0!==i;++r){t.push(i);i=i._parent}for(r=(e=this._length=r)-1;r>=0;--r){var o=t[r].stack;void 0===n[o]&&(n[o]=r)}for(r=0;r<e;++r){var s=n[t[r].stack];if(void 0!==s&&s!==r){if(s>0){t[s-1]._parent=void 0;t[s-1]._length=1}t[r]._parent=void 0;t[r]._length=1;var a=r>0?t[r-1]:this;if(s<e-1){a._parent=t[s+1];a._parent.uncycle();a._length=a._parent._length+1}else{a._parent=void 0;a._length=1}for(var c=a._length+1,u=r-2;u>=0;--u){t[u]._length=c;c++}return}}}};I.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=v(e),n=t.message,r=[t.stack],i=this;void 0!==i;){r.push(_(i.stack.split("\n")));i=i._parent}!function(e){for(var t=e[0],n=1;n<e.length;++n){for(var r=e[n],i=t.length-1,o=t[i],s=-1,a=r.length-1;a>=0;--a)if(r[a]===o){s=a;break}for(a=s;a>=0;--a){var c=r[a];if(t[i]!==c)break;t.pop();i--}t=r}}(r);!function(e){for(var t=0;t<e.length;++t)if(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0]){e.splice(t,1);t--}}(r);D.notEnumerableProp(e,"stack",function(e,t){for(var n=0;n<t.length-1;++n){t[n].push("From previous event:");t[n]=t[n].join("\n")}n<t.length&&(t[n]=t[n].join("\n"));return e+"\n"+t.join("\n")}(n,r));D.notEnumerableProp(e,"__stackCleaned__",!0)}};var ee=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"===typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():b(t)};if("number"===typeof Error.stackTraceLimit&&"function"===typeof Error.captureStackTrace){Error.stackTraceLimit+=6;U=e;F=t;var n=Error.captureStackTrace;J=function(e){return k.test(e)};return function(e,t){Error.stackTraceLimit+=6;n(e,t);Error.stackTraceLimit-=6}}var r,i=new Error;if("string"===typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0){U=/@/;F=t;j=!0;return function(e){e.stack=(new Error).stack}}try{throw new Error}catch(e){r="stack"in e}if(!("stack"in i)&&r&&"number"===typeof Error.stackTraceLimit){U=e;F=t;return function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6}}F=function(e,t){return"string"===typeof e?e:"object"!==typeof t&&"function"!==typeof t||void 0===t.name||void 0===t.message?b(t):t.toString()};return null}();if("undefined"!==typeof console&&"undefined"!==typeof console.warn){A=function(){};D.isNode&&process.stderr.isTTY?A=function(){}:D.isNode||"string"!==typeof(new Error).stack||(A=function(){})}var te={warnings:H,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};V&&t.longStackTraces();return{asyncHooks:function(){return te.asyncHooks},longStackTraces:function(){return te.longStackTraces},warnings:function(){return te.warnings},cancellation:function(){return te.cancellation},monitoring:function(){return te.monitoring},propagateFromFunction:function(){return X},boundValueFunction:function(){return h},checkForgottenReturns:function(e,t,n,r,i){if(void 0===e&&null!==t&&q){if(void 0!==i&&i._returnedNonUndefined())return;if(0===(65535&r._bitField))return;n&&(n+=" ");var o="",s="";if(t._trace){for(var a=t._trace.stack.split("\n"),c=_(a),u=c.length-1;u>=0;--u){var l=c[u];if(!B.test(l)){var f=l.match(M);f&&(o="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(c.length>0){var d=c[0];for(u=0;u<a.length;++u)if(a[u]===d){u>0&&(s="\n"+a[u-1]);break}}}var h="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+s;r._warn(h,!0,t)}},setBounds:function(e,t){if(T()){for(var n,r,i=(e.stack||"").split("\n"),o=(t.stack||"").split("\n"),s=-1,a=-1,c=0;c<i.length;++c)if(u=C(i[c])){n=u.fileName;s=u.line;break}for(c=0;c<o.length;++c){var u;if(u=C(o[c])){r=u.fileName;a=u.line;break}}s>=0&&a>=0&&n&&r&&n===r&&s<a&&(J=function(e){if(k.test(e))return!0;var t=C(e);return!(!t||t.fileName!==n||s>t.line||t.line>a)})}},warn:y,deprecated:function(e,t){var n=e+" is deprecated and will be removed in a future version.";t&&(n+=" Use "+t+" instead.");return y(n)},CapturedTrace:I,fireDomEvent:z,fireGlobalEvent:Y}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(e,t){"use strict";t.exports=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype["return"]=e.prototype.thenReturn=function(n){n instanceof e&&n.suppressUnhandledRejections();return this._then(t,void 0,void 0,{value:n},void 0)};e.prototype["throw"]=e.prototype.thenThrow=function(e){return this._then(n,void 0,void 0,{reason:e},void 0)};e.prototype.catchThrow=function(e){if(arguments.length>1){var t=arguments[1];return this.caught(e,(function(){throw t}))}return this._then(void 0,n,void 0,{reason:e},void 0)};e.prototype.catchReturn=function(n){if(arguments.length>1){var r=arguments[1];r instanceof e&&r.suppressUnhandledRejections();return this.caught(n,(function(){return r}))}n instanceof e&&n.suppressUnhandledRejections();return this._then(void 0,t,void 0,{value:n},void 0)}}},{}],11:[function(e,t){"use strict";t.exports=function(e,t){function n(){return i(this)}var r=e.reduce,i=e.all;e.prototype.each=function(e){return r(this,e,t,0)._then(n,void 0,void 0,this,void 0)};e.prototype.mapSeries=function(e){return r(this,e,t,t)};e.each=function(e,i){return r(e,i,t,0)._then(n,void 0,void 0,e,void 0)};e.mapSeries=function(e,n){return r(e,n,t,t)}}},{}],12:[function(e,t){"use strict";function n(e,t){function n(r){if(!(this instanceof n))return new n(r);l(this,"message","string"===typeof r?r:t);l(this,"name",e);Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}u(n,Error);return n}function r(e){if(!(this instanceof r))return new r(e);l(this,"name","OperationalError");l(this,"message",e);this.cause=e;this["isOperational"]=!0;if(e instanceof Error){l(this,"message",e.message);l(this,"stack",e.stack)}else Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}var i,o,s=e("./es5"),a=s.freeze,c=e("./util"),u=c.inherits,l=c.notEnumerableProp,f=n("Warning","warning"),d=n("CancellationError","cancellation error"),h=n("TimeoutError","timeout error"),p=n("AggregateError","aggregate error");try{i=TypeError;o=RangeError}catch(e){i=n("TypeError","type error");o=n("RangeError","range error")}for(var m="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),g=0;g<m.length;++g)"function"===typeof Array.prototype[m[g]]&&(p.prototype[m[g]]=Array.prototype[m[g]]);s.defineProperty(p.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0});p.prototype["isOperational"]=!0;var y=0;p.prototype.toString=function(){var e=Array(4*y+1).join(" "),t="\n"+e+"AggregateError of:\n";y++;e=Array(4*y+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=e+i[o];t+=(r=i.join("\n"))+"\n"}y--;return t};u(r,Error);var _=Error["__BluebirdErrorTypes__"];if(!_){_=a({CancellationError:d,TimeoutError:h,OperationalError:r,RejectionError:r,AggregateError:p});s.defineProperty(Error,"__BluebirdErrorTypes__",{value:_,writable:!1,enumerable:!1,configurable:!1})}t.exports={Error,TypeError:i,RangeError:o,CancellationError:_.CancellationError,OperationalError:_.OperationalError,TimeoutError:_.TimeoutError,AggregateError:_.AggregateError,Warning:f}},{"./es5":13,"./util":36}],13:[function(e,t){var n=function(){"use strict";return void 0===this}();if(n)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var r={}.hasOwnProperty,i={}.toString,o={}.constructor.prototype,s=function(e){var t=[];for(var n in e)r.call(e,n)&&t.push(n);return t};t.exports={isArray:function(e){try{return"[object Array]"===i.call(e)}catch(e){return!1}},keys:s,names:s,defineProperty:function(e,t,n){e[t]=n.value;return e},getDescriptor:function(e,t){return{value:e[t]}},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(e){return o}},isES5:n,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t){"use strict";t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,r){return n(this,e,r,t)};e.filter=function(e,r,i){return n(e,r,i,t)}}},{}],15:[function(e,t){"use strict";t.exports=function(t,n,r){function i(e,t,n){this.promise=e;this.type=t;this.handler=n;this.called=!1;this.cancelPromise=null}function o(e){this.finallyHandler=e}function s(e,t){if(null!=e.cancelPromise){arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel();e.cancelPromise=null;return!0}return!1}function a(){return u.call(this,this.promise._target()._settledValue())}function c(e){if(!s(this,e)){d.e=e;return d}}function u(e){var i=this.promise,u=this.handler;if(!this.called){this.called=!0;var l=this.isFinallyHandler()?u.call(i._boundValue()):u.call(i._boundValue(),e);if(l===r)return l;if(void 0!==l){i._setReturnedNonUndefined();var h=n(l,i);if(h instanceof t){if(null!=this.cancelPromise){if(h._isCancelled()){var p=new f("late cancellation observer");i._attachExtraTrace(p);d.e=p;return d}h.isPending()&&h._attachCancellationCallback(new o(this))}return h._then(a,c,void 0,this,void 0)}}}if(i.isRejected()){s(this);d.e=e;return d}s(this);return e}var l=e("./util"),f=t.CancellationError,d=l.errorObj,h=e("./catch_filter")(r);i.prototype.isFinallyHandler=function(){return 0===this.type};o.prototype._resultCancelled=function(){s(this.finallyHandler)};t.prototype._passThrough=function(e,t,n,r){return"function"!==typeof e?this.then():this._then(n,r,void 0,new i(this,t,e),void 0)};t.prototype.lastly=t.prototype["finally"]=function(e){return this._passThrough(e,0,u,u)};t.prototype.tap=function(e){return this._passThrough(e,1,u)};t.prototype.tapCatch=function(e){var n=arguments.length;if(1===n)return this._passThrough(e,1,void 0,u);var r,i=new Array(n-1),o=0;for(r=0;r<n-1;++r){var s=arguments[r];if(!l.isObject(s))return t.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+l.classString(s)));i[o++]=s}i.length=o;var a=arguments[r];return this._passThrough(h(i,a,this),1,void 0,u)};return i}},{"./catch_filter":7,"./util":36}],16:[function(e,t){"use strict";t.exports=function(t,n,r,i,o,s){function a(e,n,i,o){if(s.cancellation()){var a=new t(r),c=this._finallyPromise=new t(r);this._promise=a.lastly((function(){return c}));a._captureStackTrace();a._setOnCancel(this)}else(this._promise=new t(r))._captureStackTrace();this._stack=o;this._generatorFunction=e;this._receiver=n;this._generator=void 0;this._yieldHandlers="function"===typeof i?[i].concat(d):d;this._yieldedPromise=null;this._cancellationPhase=!1}var c=e("./errors").TypeError,u=e("./util"),l=u.errorObj,f=u.tryCatch,d=[];u.inherits(a,o);a.prototype._isResolved=function(){return null===this._promise};a.prototype._cleanup=function(){this._promise=this._generator=null;if(s.cancellation()&&null!==this._finallyPromise){this._finallyPromise._fulfill();this._finallyPromise=null}};a.prototype._promiseCancelled=function(){if(!this._isResolved()){var e;if("undefined"!==typeof this._generator["return"]){this._promise._pushContext();e=f(this._generator["return"]).call(this._generator,void 0);this._promise._popContext()}else{var n=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=n;this._promise._attachExtraTrace(n);this._promise._pushContext();e=f(this._generator["throw"]).call(this._generator,n);this._promise._popContext()}this._cancellationPhase=!0;this._yieldedPromise=null;this._continue(e)}};a.prototype._promiseFulfilled=function(e){this._yieldedPromise=null;this._promise._pushContext();var t=f(this._generator.next).call(this._generator,e);this._promise._popContext();this._continue(t)};a.prototype._promiseRejected=function(e){this._yieldedPromise=null;this._promise._attachExtraTrace(e);this._promise._pushContext();var t=f(this._generator["throw"]).call(this._generator,e);this._promise._popContext();this._continue(t)};a.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null;e.cancel()}};a.prototype.promise=function(){return this._promise};a.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver);this._receiver=this._generatorFunction=void 0;this._promiseFulfilled(void 0)};a.prototype._continue=function(e){var n=this._promise;if(e===l){this._cleanup();return this._cancellationPhase?n.cancel():n._rejectCallback(e.e,!1)}var r=e.value;if(!0===e.done){this._cleanup();return this._cancellationPhase?n.cancel():n._resolveCallback(r)}var o=i(r,this._promise);if(!(o instanceof t)){o=function(e,n,r){for(var o=0;o<n.length;++o){r._pushContext();var s=f(n[o])(e);r._popContext();if(s===l){r._pushContext();var a=t.reject(l.e);r._popContext();return a}var c=i(s,r);if(c instanceof t)return c}return null}(o,this._yieldHandlers,this._promise);if(null===o){this._promiseRejected(new c("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));return}}var s=(o=o._target())._bitField;if(0===(50397184&s)){this._yieldedPromise=o;o._proxy(this,null)}else 0!==(33554432&s)?t._async.invoke(this._promiseFulfilled,this,o._value()):0!==(16777216&s)?t._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()};t.coroutine=function(e,t){if("function"!==typeof e)throw new c("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(t).yieldHandler,r=a,i=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new r(void 0,void 0,n,i),s=o.promise();o._generator=t;o._promiseFulfilled(void 0);return s}};t.coroutine.addYieldHandler=function(e){if("function"!==typeof e)throw new c("expecting a function but got "+u.classString(e));d.push(e)};t.spawn=function(e){s.deprecated("Promise.spawn()","Promise.coroutine()");if("function"!==typeof e)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new a(e,this),i=r.promise();r._run(t.spawn);return i}}},{"./errors":12,"./util":36}],17:[function(e,t){"use strict";t.exports=function(t,n){var r=e("./util");r.canEvaluate,r.tryCatch,r.errorObj;t.join=function(){var e,t=arguments.length-1;t>0&&"function"===typeof arguments[t]&&(e=arguments[t]);var r=[].slice.call(arguments);e&&r.pop();var i=new n(r).promise();return void 0!==e?i.spread(e):i}}},{"./util":36}],18:[function(e,t){"use strict";t.exports=function(t,n,r,i,o,s){function a(e,n,r,i){this.constructor$(e);this._promise._captureStackTrace();var s=t._getContext();this._callback=u.contextBind(s,n);this._preservedValues=i===o?new Array(this.length()):null;this._limit=r;this._inFlight=0;this._queue=[];d.invoke(this._asyncInit,this,void 0);if(u.isArray(e))for(var a=0;a<e.length;++a){var c=e[a];c instanceof t&&c.suppressUnhandledRejections()}}function c(e,n,i,o){if("function"!==typeof n)return r("expecting a function but got "+u.classString(n));var s=0;if(void 0!==i){if("object"!==typeof i||null===i)return t.reject(new TypeError("options argument must be an object but it is "+u.classString(i)));if("number"!==typeof i.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+u.classString(i.concurrency)));s=i.concurrency}return new a(e,n,s="number"===typeof s&&isFinite(s)&&s>=1?s:0,o).promise()}var u=e("./util"),l=u.tryCatch,f=u.errorObj,d=t._async;u.inherits(a,n);a.prototype._asyncInit=function(){this._init$(void 0,-2)};a.prototype._init=function(){};a.prototype._promiseFulfilled=function(e,n){var r=this._values,o=this.length(),a=this._preservedValues,c=this._limit;if(n<0){r[n=-1*n-1]=e;if(c>=1){this._inFlight--;this._drainQueue();if(this._isResolved())return!0}}else{if(c>=1&&this._inFlight>=c){r[n]=e;this._queue.push(n);return!1}null!==a&&(a[n]=e);var u=this._promise,d=this._callback,h=u._boundValue();u._pushContext();var p=l(d).call(h,e,n,o),m=u._popContext();s.checkForgottenReturns(p,m,null!==a?"Promise.filter":"Promise.map",u);if(p===f){this._reject(p.e);return!0}var g=i(p,this._promise);if(g instanceof t){var y=(g=g._target())._bitField;if(0===(50397184&y)){c<1||this._inFlight++;r[n]=g;g._proxy(this,-1*(n+1));return!1}if(0===(33554432&y)){if(0!==(16777216&y)){this._reject(g._reason());return!0}this._cancel();return!0}p=g._value()}r[n]=p}if(++this._totalResolved>=o){null!==a?this._filter(r,a):this._resolve(r);return!0}return!1};a.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var r=e.pop();this._promiseFulfilled(n[r],r)}};a.prototype._filter=function(e,t){for(var n=t.length,r=new Array(n),i=0,o=0;o<n;++o)e[o]&&(r[i++]=t[o]);r.length=i;this._resolve(r)};a.prototype.preservedValues=function(){return this._preservedValues};t.prototype.map=function(e,t){return c(this,e,t,null)};t.map=function(e,t,n,r){return c(e,t,n,r)}}},{"./util":36}],19:[function(e,t){"use strict";t.exports=function(t,n,r,i,o){var s=e("./util"),a=s.tryCatch;t.method=function(e){if("function"!==typeof e)throw new t.TypeError("expecting a function but got "+s.classString(e));return function(){var r=new t(n);r._captureStackTrace();r._pushContext();var i=a(e).apply(this,arguments),s=r._popContext();o.checkForgottenReturns(i,s,"Promise.method",r);r._resolveFromSyncValue(i);return r}};t.attempt=t["try"]=function(e){if("function"!==typeof e)return i("expecting a function but got "+s.classString(e));var r,c=new t(n);c._captureStackTrace();c._pushContext();if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],l=arguments[2];r=s.isArray(u)?a(e).apply(l,u):a(e).call(l,u)}else r=a(e)();var f=c._popContext();o.checkForgottenReturns(r,f,"Promise.try",c);c._resolveFromSyncValue(r);return c};t.prototype._resolveFromSyncValue=function(e){e===s.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t){"use strict";function n(e){var t;if(function(e){return e instanceof Error&&s.getPrototypeOf(e)===Error.prototype}(e)){(t=new o(e)).name=e.name;t.message=e.message;t.stack=e.stack;for(var n=s.keys(e),i=0;i<n.length;++i){var c=n[i];a.test(c)||(t[c]=e[c])}return t}r.markAsOriginatingFromRejection(e);return e}var r=e("./util"),i=r.maybeWrapAsError,o=e("./errors").OperationalError,s=e("./es5"),a=/^(?:name|message|stack|cause)$/;t.exports=function(e,t){return function(r,o){if(null!==e){if(r){var s=n(i(r));e._attachExtraTrace(s);e._reject(s)}else if(t){var a=[].slice.call(arguments,1);e._fulfill(a)}else e._fulfill(o);e=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t){"use strict";t.exports=function(t){function n(e,t){if(!o.isArray(e))return r.call(this,e,t);var n=a(t).apply(this._boundValue(),[null].concat(e));n===c&&s.throwLater(n.e)}function r(e,t){var n=this._boundValue(),r=void 0===e?a(t).call(n,null):a(t).call(n,null,e);r===c&&s.throwLater(r.e)}function i(e,t){if(!e){var n=new Error(e+"");n.cause=e;e=n}var r=a(t).call(this._boundValue(),e);r===c&&s.throwLater(r.e)}var o=e("./util"),s=t._async,a=o.tryCatch,c=o.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var o=r;void 0!==t&&Object(t).spread&&(o=n);this._then(o,i,void 0,this,e)}return this}}},{"./util":36}],22:[function(e,t){"use strict";t.exports=function(){function n(){}function r(e){e!==T&&function(e,t){if(null==e||e.constructor!==r)throw new S("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!==typeof t)throw new S("expecting a function but got "+f.classString(t))}(this,e);this._bitField=0;this._fulfillmentHandler0=void 0;this._rejectionHandler0=void 0;this._promise0=void 0;this._receiver0=void 0;this._resolveFromExecutor(e);this._promiseCreated();this._fireEvent("promiseCreated",this)}function i(e){this.promise._resolveCallback(e)}function o(e){this.promise._rejectCallback(e,!1)}function s(e){var t=new r(T);t._fulfillmentHandler0=e;t._rejectionHandler0=e;t._promise0=e;t._receiver0=e}var a=function(){return new S("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},c=function(){return new r.PromiseInspection(this._target())},u=function(e){return r.reject(new S(e))},l={},f=e("./util");f.setReflectHandler(c);var d=function(){var e=process.domain;return void 0===e?null:e},h=function(){return{domain:d(),async:null}},p=f.isNode&&f.nodeSupportsAsyncResource?e("async_hooks").AsyncResource:null,m=function(){return{domain:d(),async:new p("Bluebird::Promise")}},g=f.isNode?h:function(){return null};f.notEnumerableProp(r,"_getContext",g);var y=e("./es5"),_=e("./async"),v=new _;y.defineProperty(r,"_async",{value:v});var E=e("./errors"),S=r.TypeError=E.TypeError;r.RangeError=E.RangeError;var b=r.CancellationError=E.CancellationError;r.TimeoutError=E.TimeoutError;r.OperationalError=E.OperationalError;r.RejectionError=E.OperationalError;r.AggregateError=E.AggregateError;var T=function(){},C={},I={},w=e("./thenables")(r,T),N=e("./promise_array")(r,T,w,u,n),A=e("./context")(r),R=A.create,O=e("./debuggability")(r,A,(function(){g=m;f.notEnumerableProp(r,"_getContext",m)}),(function(){g=h;f.notEnumerableProp(r,"_getContext",h)})),L=(O.CapturedTrace,e("./finally")(r,w,I)),D=e("./catch_filter")(I),x=e("./nodeback"),P=f.errorObj,k=f.tryCatch;r.prototype.toString=function(){return"[object Promise]"};r.prototype.caught=r.prototype["catch"]=function(e){var t=arguments.length;if(t>1){var n,r=new Array(t-1),i=0;for(n=0;n<t-1;++n){var o=arguments[n];if(!f.isObject(o))return u("Catch statement predicate: expecting an object but got "+f.classString(o));r[i++]=o}r.length=i;if("function"!==typeof(e=arguments[n]))throw new S("The last argument to .catch() must be a function, got "+f.toString(e));return this.then(void 0,D(r,e,this))}return this.then(void 0,e)};r.prototype.reflect=function(){return this._then(c,c,void 0,this,void 0)};r.prototype.then=function(e,t){if(O.warnings()&&arguments.length>0&&"function"!==typeof e&&"function"!==typeof t){var n=".then() only accepts functions but was passed: "+f.classString(e);arguments.length>1&&(n+=", "+f.classString(t));this._warn(n)}return this._then(e,t,void 0,void 0,void 0)};r.prototype.done=function(e,t){this._then(e,t,void 0,void 0,void 0)._setIsFinal()};r.prototype.spread=function(e){return"function"!==typeof e?u("expecting a function but got "+f.classString(e)):this.all()._then(e,void 0,void 0,C,void 0)};r.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};if(this.isFulfilled()){e.fulfillmentValue=this.value();e.isFulfilled=!0}else if(this.isRejected()){e.rejectionReason=this.reason();e.isRejected=!0}return e};r.prototype.all=function(){arguments.length>0&&this._warn(".all() was passed arguments but it does not take any");return new N(this).promise()};r.prototype.error=function(e){return this.caught(f.originatesFromRejection,e)};r.getNewLibraryCopy=t.exports;r.is=function(e){return e instanceof r};r.fromNode=r.fromCallback=function(e){var t=new r(T);t._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,i=k(e)(x(t,n));i===P&&t._rejectCallback(i.e,!0);t._isFateSealed()||t._setAsyncGuaranteed();return t};r.all=function(e){return new N(e).promise()};r.cast=function(e){var t=w(e);if(!(t instanceof r)){(t=new r(T))._captureStackTrace();t._setFulfilled();t._rejectionHandler0=e}return t};r.resolve=r.fulfilled=r.cast;r.reject=r.rejected=function(e){var t=new r(T);t._captureStackTrace();t._rejectCallback(e,!0);return t};r.setScheduler=function(e){if("function"!==typeof e)throw new S("expecting a function but got "+f.classString(e));return v.setScheduler(e)};r.prototype._then=function(e,t,n,i,o){var s=void 0!==o,a=s?o:new r(T),c=this._target(),u=c._bitField;if(!s){a._propagateFrom(this,3);a._captureStackTrace();void 0===i&&0!==(2097152&this._bitField)&&(i=0!==(50397184&u)?this._boundValue():c===this?void 0:this._boundTo);this._fireEvent("promiseChained",this,a)}var l=g();if(0!==(50397184&u)){var d,h,p=c._settlePromiseCtx;if(0!==(33554432&u)){h=c._rejectionHandler0;d=e}else if(0!==(16777216&u)){h=c._fulfillmentHandler0;d=t;c._unsetRejectionIsUnhandled()}else{p=c._settlePromiseLateCancellationObserver;h=new b("late cancellation observer");c._attachExtraTrace(h);d=t}v.invoke(p,c,{handler:f.contextBind(l,d),promise:a,receiver:i,value:h})}else c._addCallbacks(e,t,a,i,l);return a};r.prototype._length=function(){return 65535&this._bitField};r.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)};r.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)};r.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e};r.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField;this._fireEvent("promiseFulfilled",this)};r.prototype._setRejected=function(){this._bitField=16777216|this._bitField;this._fireEvent("promiseRejected",this)};r.prototype._setFollowing=function(){this._bitField=67108864|this._bitField;this._fireEvent("promiseResolved",this)};r.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField};r.prototype._isFinal=function(){return(4194304&this._bitField)>0};r.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField};r.prototype._setCancelled=function(){this._bitField=65536|this._bitField;this._fireEvent("promiseCancelled",this)};r.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField};r.prototype._setAsyncGuaranteed=function(){if(!v.hasCustomScheduler()){var e=this._bitField;this._bitField=e|(536870912&e)>>2^134217728}};r.prototype._setNoAsyncGuarantee=function(){this._bitField=-134217729&this._bitField|536870912};r.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==l)return void 0===t&&this._isBound()?this._boundValue():t};r.prototype._promiseAt=function(e){return this[4*e-4+2]};r.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]};r.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]};r.prototype._boundValue=function(){};r.prototype._migrateCallback0=function(e){e._bitField;var t=e._fulfillmentHandler0,n=e._rejectionHandler0,r=e._promise0,i=e._receiverAt(0);void 0===i&&(i=l);this._addCallbacks(t,n,r,i,null)};r.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),r=e._rejectionHandlerAt(t),i=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=l);this._addCallbacks(n,r,i,o,null)};r.prototype._addCallbacks=function(e,t,n,r,i){var o=this._length();if(o>=65531){o=0;this._setLength(0)}if(0===o){this._promise0=n;this._receiver0=r;"function"===typeof e&&(this._fulfillmentHandler0=f.contextBind(i,e));"function"===typeof t&&(this._rejectionHandler0=f.contextBind(i,t))}else{var s=4*o-4;this[s+2]=n;this[s+3]=r;"function"===typeof e&&(this[s+0]=f.contextBind(i,e));"function"===typeof t&&(this[s+1]=f.contextBind(i,t))}this._setLength(o+1);return o};r.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)};r.prototype._resolveCallback=function(e,t){if(0===(117506048&this._bitField)){if(e===this)return this._rejectCallback(a(),!1);var n=w(e,this);if(!(n instanceof r))return this._fulfill(e);t&&this._propagateFrom(n,2);var i=n._target();if(i!==this){var o=i._bitField;if(0===(50397184&o)){var s=this._length();s>0&&i._migrateCallback0(this);for(var c=1;c<s;++c)i._migrateCallbackAt(this,c);this._setFollowing();this._setLength(0);this._setFollowee(n)}else if(0!==(33554432&o))this._fulfill(i._value());else if(0!==(16777216&o))this._reject(i._reason());else{var u=new b("late cancellation observer");i._attachExtraTrace(u);this._reject(u)}}else this._reject(a())}};r.prototype._rejectCallback=function(e,t,n){var r=f.ensureErrorObject(e),i=r===e;if(!i&&!n&&O.warnings()){var o="a promise was rejected with a non-error: "+f.classString(e);this._warn(o,!0)}this._attachExtraTrace(r,!!t&&i);this._reject(e)};r.prototype._resolveFromExecutor=function(e){if(e!==T){var t=this;this._captureStackTrace();this._pushContext();var n=!0,r=this._execute(e,(function(e){t._resolveCallback(e)}),(function(e){t._rejectCallback(e,n)}));n=!1;this._popContext();void 0!==r&&t._rejectCallback(r,!0)}};r.prototype._settlePromiseFromHandler=function(e,t,n,r){var i=r._bitField;if(0===(65536&i)){r._pushContext();var o;t===C?n&&"number"===typeof n.length?o=k(e).apply(this._boundValue(),n):(o=P).e=new S("cannot .spread() a non-array: "+f.classString(n)):o=k(e).call(t,n);var s=r._popContext();if(0===(65536&(i=r._bitField)))if(o===I)r._reject(n);else if(o===P)r._rejectCallback(o.e,!1);else{O.checkForgottenReturns(o,s,"",r,this);r._resolveCallback(o)}}};r.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e};r.prototype._followee=function(){return this._rejectionHandler0};r.prototype._setFollowee=function(e){this._rejectionHandler0=e};r.prototype._settlePromise=function(e,t,i,o){var s=e instanceof r,a=this._bitField,u=0!==(134217728&a);if(0!==(65536&a)){s&&e._invokeInternalOnCancel();if(i instanceof L&&i.isFinallyHandler()){i.cancelPromise=e;k(t).call(i,o)===P&&e._reject(P.e)}else t===c?e._fulfill(c.call(i)):i instanceof n?i._promiseCancelled(e):s||e instanceof N?e._cancel():i.cancel()}else if("function"===typeof t)if(s){u&&e._setAsyncGuaranteed();this._settlePromiseFromHandler(t,i,o,e)}else t.call(i,o,e);else if(i instanceof n)i._isResolved()||(0!==(33554432&a)?i._promiseFulfilled(o,e):i._promiseRejected(o,e));else if(s){u&&e._setAsyncGuaranteed();0!==(33554432&a)?e._fulfill(o):e._reject(o)}};r.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,i=e.receiver,o=e.value;"function"===typeof t?n instanceof r?this._settlePromiseFromHandler(t,i,o,n):t.call(i,o,n):n instanceof r&&n._reject(o)};r.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)};r.prototype._settlePromise0=function(e,t){var n=this._promise0,r=this._receiverAt(0);this._promise0=void 0;this._receiver0=void 0;this._settlePromise(n,e,r,t)};r.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0};r.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var n=a();this._attachExtraTrace(n);return this._reject(n)}this._setFulfilled();this._rejectionHandler0=e;if((65535&t)>0){0!==(134217728&t)?this._settlePromises():v.settlePromises(this);this._dereferenceTrace()}}};r.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){this._setRejected();this._fulfillmentHandler0=e;if(this._isFinal())return v.fatalError(e,f.isNode);(65535&t)>0?v.settlePromises(this):this._ensurePossibleRejectionHandled()}};r.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n);this._settlePromise(i,r,o,t)}};r.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n);this._settlePromise(i,r,o,t)}};r.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!==(16842752&e)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e);this._rejectPromises(t,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,e);this._fulfillPromises(t,r)}this._setLength(0)}this._clearCancellationData()};r.prototype._settledValue=function(){var e=this._bitField;return 0!==(33554432&e)?this._rejectionHandler0:0!==(16777216&e)?this._fulfillmentHandler0:void 0};"undefined"!==typeof Symbol&&Symbol.toStringTag&&y.defineProperty(r.prototype,Symbol.toStringTag,{get:function(){return"Object"}});r.defer=r.pending=function(){O.deprecated("Promise.defer","new Promise");return{promise:new r(T),resolve:i,reject:o}};f.notEnumerableProp(r,"_makeSelfResolutionError",a);e("./method")(r,T,w,u,O);e("./bind")(r,T,w,O);e("./cancel")(r,N,u,O);e("./direct_resolve")(r);e("./synchronous_inspection")(r);e("./join")(r,N,w,T,v);r.Promise=r;r.version="3.7.2";e("./call_get.js")(r);e("./generators.js")(r,u,T,w,n,O);e("./map.js")(r,N,u,w,T,O);e("./nodeify.js")(r);e("./promisify.js")(r,T);e("./props.js")(r,N,w,u);e("./race.js")(r,T,w,u);e("./reduce.js")(r,N,u,w,T,O);e("./settle.js")(r,N,O);e("./some.js")(r,N,u);e("./timers.js")(r,T,O);e("./using.js")(r,u,w,R,T,O);e("./any.js")(r);e("./each.js")(r,T);e("./filter.js")(r,T);f.toFastProperties(r);f.toFastProperties(r.prototype);s({a:1});s({b:2});s({c:3});s(1);s((function(){}));s(void 0);s(!1);s(new r(T));O.setBounds(_.firstLineError,f.lastLineError);return r}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36,async_hooks:void 0}],23:[function(e,t){"use strict";t.exports=function(t,n,r,i,o){function s(e){var r=this._promise=new t(n);if(e instanceof t){r._propagateFrom(e,3);e.suppressUnhandledRejections()}r._setOnCancel(this);this._values=e;this._length=0;this._totalResolved=0;this._init(void 0,-2)}var a=e("./util");a.isArray;a.inherits(s,o);s.prototype.length=function(){return this._length};s.prototype.promise=function(){return this._promise};s.prototype._init=function e(n,o){var s=r(this._values,this._promise);if(s instanceof t){var c=(s=s._target())._bitField;this._values=s;if(0===(50397184&c)){this._promise._setAsyncGuaranteed();return s._then(e,this._reject,void 0,this,o)}if(0===(33554432&c))return 0!==(16777216&c)?this._reject(s._reason()):this._cancel();s=s._value()}if(null!==(s=a.asArray(s)))0!==s.length?this._iterate(s):-5===o?this._resolveEmptyArray():this._resolve(function(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}(o));else{var u=i("expecting an array or an iterable object but got "+a.classString(s)).reason();this._promise._rejectCallback(u,!1)}};s.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n;this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,s=null,a=0;a<n;++a){var c=r(e[a],i);s=c instanceof t?(c=c._target())._bitField:null;if(o)null!==s&&c.suppressUnhandledRejections();else if(null!==s)if(0===(50397184&s)){c._proxy(this,a);this._values[a]=c}else o=0!==(33554432&s)?this._promiseFulfilled(c._value(),a):0!==(16777216&s)?this._promiseRejected(c._reason(),a):this._promiseCancelled(a);else o=this._promiseFulfilled(c,a)}o||i._setAsyncGuaranteed()};s.prototype._isResolved=function(){return null===this._values};s.prototype._resolve=function(e){this._values=null;this._promise._fulfill(e)};s.prototype._cancel=function(){if(!this._isResolved()&&this._promise._isCancellable()){this._values=null;this._promise._cancel()}};s.prototype._reject=function(e){this._values=null;this._promise._rejectCallback(e,!1)};s.prototype._promiseFulfilled=function(e,t){this._values[t]=e;if(++this._totalResolved>=this._length){this._resolve(this._values);return!0}return!1};s.prototype._promiseCancelled=function(){this._cancel();return!0};s.prototype._promiseRejected=function(e){this._totalResolved++;this._reject(e);return!0};s.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;this._cancel();if(e instanceof t)e.cancel();else for(var n=0;n<e.length;++n)e[n]instanceof t&&e[n].cancel()}};s.prototype.shouldCopyValues=function(){return!0};s.prototype.getActualLength=function(e){return e};return s}},{"./util":36}],24:[function(e,t){"use strict";t.exports=function(t,n){function r(e){return!g.test(e)}function i(e){try{return!0===e.__isPromisified__}catch(e){return!1}}function o(e,t,n){var r=u.getDataPropertyOrDefault(e,t+n,m);return!!r&&i(r)}function s(e,t,n,r){for(var s=u.inheritedDataKeys(e),a=[],c=0;c<s.length;++c){var l=s[c],f=e[l],d=r===y||y(l);"function"!==typeof f||i(f)||o(e,l,t)||!r(l,f,e,d)||a.push(l,f)}!function(e,t,n){for(var r=0;r<e.length;r+=2){var i=e[r];if(n.test(i))for(var o=i.replace(n,""),s=0;s<e.length;s+=2)if(e[s]===o)throw new p("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}(a,t,n);return a}function a(e,t,n,r,i){for(var o=new RegExp(function(e){return e.replace(/([$])/,"\\$")}(t)+"$"),a=s(e,t,o,n),l=0,f=a.length;l<f;l+=2){var d=a[l],h=a[l+1],p=d+t;if(r===_)e[p]=_(d,c,d,h,t,i);else{var m=r(h,(function(){return _(d,c,d,h,t,i)}));u.notEnumerableProp(m,"__isPromisified__",!0);e[p]=m}}u.toFastProperties(e);return e}var c={},u=e("./util"),l=e("./nodeback"),f=u.withAppended,d=u.maybeWrapAsError,h=u.canEvaluate,p=e("./errors").TypeError,m={__isPromisified__:!0},g=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),y=function(e){return u.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e},_=h?void 0:function(e,r,i,o,s,a){function h(){var i=r;r===c&&(i=this);var o=new t(n);o._captureStackTrace();var s="string"===typeof m&&this!==p?this[m]:e,u=l(o,a);try{s.apply(i,f(arguments,u))}catch(e){o._rejectCallback(d(e),!0,!0)}o._isFateSealed()||o._setAsyncGuaranteed();return o}var p=function(){return this}(),m=e;"string"===typeof m&&(e=o);u.notEnumerableProp(h,"__isPromisified__",!0);return h};t.promisify=function(e,t){if("function"!==typeof e)throw new p("expecting a function but got "+u.classString(e));if(i(e))return e;var n=function(e,t,n){return _(e,t,void 0,e,null,n)}(e,void 0===(t=Object(t)).context?c:t.context,!!t.multiArgs);u.copyDescriptors(e,n,r);return n};t.promisifyAll=function(e,t){if("function"!==typeof e&&"object"!==typeof e)throw new p("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var n=!!(t=Object(t)).multiArgs,r=t.suffix;"string"!==typeof r&&(r="Async");var i=t.filter;"function"!==typeof i&&(i=y);var o=t.promisifier;"function"!==typeof o&&(o=_);if(!u.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=u.inheritedDataKeys(e),c=0;c<s.length;++c){var l=e[s[c]];if("constructor"!==s[c]&&u.isClass(l)){a(l.prototype,r,i,o,n);a(l,r,i,o,n)}}return a(e,r,i,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t){"use strict";t.exports=function(t,n,r,i){function o(e){var t,n=!1;if(void 0!==a&&e instanceof a){t=f(e);n=!0}else{var r=l.keys(e),i=r.length;t=new Array(2*i);for(var o=0;o<i;++o){var s=r[o];t[o]=e[s];t[o+i]=s}}this.constructor$(t);this._isMap=n;this._init$(void 0,n?-6:-3)}function s(e){var n,s=r(e);if(!u(s))return i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n");n=s instanceof t?s._then(t.props,void 0,void 0,void 0,void 0):new o(s).promise();s instanceof t&&n._propagateFrom(s,2);return n}var a,c=e("./util"),u=c.isObject,l=e("./es5");"function"===typeof Map&&(a=Map);var f=function(){function e(e,r){this[t]=e;this[t+n]=r;t++}var t=0,n=0;return function(r){n=r.size;t=0;var i=new Array(2*r.size);r.forEach(e,i);return i}}();c.inherits(o,n);o.prototype._init=function(){};o.prototype._promiseFulfilled=function(e,t){this._values[t]=e;if(++this._totalResolved>=this._length){var n;if(this._isMap)n=function(e){for(var t=new a,n=e.length/2|0,r=0;r<n;++r){var i=e[n+r],o=e[r];t.set(i,o)}return t}(this._values);else{n={};for(var r=this.length(),i=0,o=this.length();i<o;++i)n[this._values[i+r]]=this._values[i]}this._resolve(n);return!0}return!1};o.prototype.shouldCopyValues=function(){return!1};o.prototype.getActualLength=function(e){return e>>1};t.prototype.props=function(){return s(this)};t.props=function(e){return s(e)}}},{"./es5":13,"./util":36}],26:[function(e,t){"use strict";function n(e){this._capacity=e;this._length=0;this._front=0}n.prototype._willBeOverCapacity=function(e){return this._capacity<e};n.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1);this[this._front+t&this._capacity-1]=e;this._length=t+1};n.prototype.push=function(e,t,n){var r=this.length()+3;if(this._willBeOverCapacity(r)){this._pushOne(e);this._pushOne(t);this._pushOne(n)}else{var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=e;this[i+1&o]=t;this[i+2&o]=n;this._length=r}};n.prototype.shift=function(){var e=this._front,t=this[e];this[e]=void 0;this._front=e+1&this._capacity-1;this._length--;return t};n.prototype.length=function(){return this._length};n.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)};n.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;!function(e,t,n,r,i){for(var o=0;o<i;++o){n[o+r]=e[o+t];e[o+t]=void 0}}(this,0,this,t,this._front+this._length&t-1)};t.exports=n},{}],27:[function(e,t){"use strict";t.exports=function(t,n,r,i){function o(e,a){var c=r(e);if(c instanceof t)return function(e){return e.then((function(t){return o(t,e)}))}(c);if(null===(e=s.asArray(e)))return i("expecting an array or an iterable object but got "+s.classString(e));var u=new t(n);void 0!==a&&u._propagateFrom(a,3);for(var l=u._fulfill,f=u._reject,d=0,h=e.length;d<h;++d){var p=e[d];(void 0!==p||d in e)&&t.cast(p)._then(l,f,void 0,u,null)}return u}var s=e("./util");t.race=function(e){return o(e,void 0)};t.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(e,t){"use strict";t.exports=function(t,n,r,i,o,s){function a(e,n,r,i){this.constructor$(e);var s=t._getContext();this._fn=d.contextBind(s,n);void 0!==r&&(r=t.resolve(r))._attachCancellationCallback(this);this._initialValue=r;this._currentCancellable=null;this._eachValues=i===o?Array(this._length):0===i?null:void 0;this._promise._captureStackTrace();this._init$(void 0,-5)}function c(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function u(e,t,n,i){return"function"!==typeof t?r("expecting a function but got "+d.classString(t)):new a(e,t,n,i).promise()}function l(e){this.accum=e;this.array._gotAccum(e);var n=i(this.value,this.array._promise);if(n instanceof t){this.array._currentCancellable=n;return n._then(f,void 0,void 0,this,void 0)}return f.call(this,n)}function f(e){var n,r=this.array,i=r._promise,o=h(r._fn);i._pushContext();(n=void 0!==r._eachValues?o.call(i._boundValue(),e,this.index,this.length):o.call(i._boundValue(),this.accum,e,this.index,this.length))instanceof t&&(r._currentCancellable=n);var a=i._popContext();s.checkForgottenReturns(n,a,void 0!==r._eachValues?"Promise.each":"Promise.reduce",i);return n}var d=e("./util"),h=d.tryCatch;d.inherits(a,n);a.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==o&&this._eachValues.push(e)};a.prototype._eachComplete=function(e){null!==this._eachValues&&this._eachValues.push(e);return this._eachValues};a.prototype._init=function(){};a.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)};a.prototype.shouldCopyValues=function(){return!1};a.prototype._resolve=function(e){this._promise._resolveCallback(e);this._values=null};a.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();if(!this._isResolved()){this._resultCancelled$();this._currentCancellable instanceof t&&this._currentCancellable.cancel();this._initialValue instanceof t&&this._initialValue.cancel()}};a.prototype._iterate=function(e){this._values=e;var n,r,i=e.length;if(void 0!==this._initialValue){n=this._initialValue;r=0}else{n=t.resolve(e[0]);r=1}this._currentCancellable=n;for(var o=r;o<i;++o){var s=e[o];s instanceof t&&s.suppressUnhandledRejections()}if(!n.isRejected())for(;r<i;++r){var a={accum:null,value:e[r],index:r,length:i,array:this};n=n._then(l,void 0,void 0,a,void 0);0===(127&r)&&n._setNoAsyncGuarantee()}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0));n._then(c,c,void 0,n,this)};t.prototype.reduce=function(e,t){return u(this,e,t,null)};t.reduce=function(e,t,n,r){return u(e,t,n,r)}}},{"./util":36}],29:[function(e,t){"use strict";var r,i=e("./util"),o=i.getNativePromise();if(i.isNode&&"undefined"===typeof MutationObserver){var s=n.g.setImmediate,a=process.nextTick;r=i.isRecentNode?function(e){s.call(n.g,e)}:function(e){a.call(process,e)}}else if("function"===typeof o&&"function"===typeof o.resolve){var c=o.resolve();r=function(e){c.then(e)}}else r="undefined"===typeof MutationObserver||"undefined"!==typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)||!("classList"in document.documentElement)?"undefined"!==typeof setImmediate?function(e){setImmediate(e)}:"undefined"!==typeof setTimeout?function(e){setTimeout(e,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:function(){var e=document.createElement("div"),t={attributes:!0},n=!1,r=document.createElement("div");new MutationObserver((function(){e.classList.toggle("foo");n=!1})).observe(r,t);return function(i){var o=new MutationObserver((function(){o.disconnect();i()}));o.observe(e,t);!function(){if(!n){n=!0;r.classList.toggle("foo")}}()}}();t.exports=r},{"./util":36}],30:[function(e,t){"use strict";t.exports=function(t,n,r){function i(e){this.constructor$(e)}var o=t.PromiseInspection;e("./util").inherits(i,n);i.prototype._promiseResolved=function(e,t){this._values[e]=t;if(++this._totalResolved>=this._length){this._resolve(this._values);return!0}return!1};i.prototype._promiseFulfilled=function(e,t){var n=new o;n._bitField=33554432;n._settledValueField=e;return this._promiseResolved(t,n)};i.prototype._promiseRejected=function(e,t){var n=new o;n._bitField=16777216;n._settledValueField=e;return this._promiseResolved(t,n)};t.settle=function(e){r.deprecated(".settle()",".reflect()");return new i(e).promise()};t.allSettled=function(e){return new i(e).promise()};t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t){"use strict";t.exports=function(t,n,r){function i(e){this.constructor$(e);this._howMany=0;this._unwrap=!1;this._initialized=!1}function o(e,t){if((0|t)!==t||t<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(e),o=n.promise();n.setHowMany(t);n.init();return o}var s=e("./util"),a=e("./errors").RangeError,c=e("./errors").AggregateError,u=s.isArray,l={};s.inherits(i,n);i.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var e=u(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])};i.prototype.init=function(){this._initialized=!0;this._init()};i.prototype.setUnwrap=function(){this._unwrap=!0};i.prototype.howMany=function(){return this._howMany};i.prototype.setHowMany=function(e){this._howMany=e};i.prototype._promiseFulfilled=function(e){this._addFulfilled(e);if(this._fulfilled()===this.howMany()){this._values.length=this.howMany();1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values);return!0}return!1};i.prototype._promiseRejected=function(e){this._addRejected(e);return this._checkOutcome()};i.prototype._promiseCancelled=function(){if(this._values instanceof t||null==this._values)return this._cancel();this._addRejected(l);return this._checkOutcome()};i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new c,t=this.length();t<this._values.length;++t)this._values[t]!==l&&e.push(this._values[t]);e.length>0?this._reject(e):this._cancel();return!0}return!1};i.prototype._fulfilled=function(){return this._totalResolved};i.prototype._rejected=function(){return this._values.length-this.length()};i.prototype._addRejected=function(e){this._values.push(e)};i.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e};i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()};i.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new a(t)};i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};t.some=function(e,t){return o(e,t)};t.prototype.some=function(e){return o(this,e)};t._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(e,t){"use strict";t.exports=function(e){function t(e){if(void 0!==e){e=e._target();this._bitField=e._bitField;this._settledValueField=e._isFateSealed()?e._settledValue():void 0}else{this._bitField=0;this._settledValueField=void 0}}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},s=t.prototype.isPending=function(){return 0===(50397184&this._bitField)},a=t.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)};e.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)};e.prototype._isCancelled=function(){return this._target().__isCancelled()};e.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)};e.prototype.isPending=function(){return s.call(this._target())};e.prototype.isRejected=function(){return o.call(this._target())};e.prototype.isFulfilled=function(){return i.call(this._target())};e.prototype.isResolved=function(){return a.call(this._target())};e.prototype.value=function(){return n.call(this._target())};e.prototype.reason=function(){var e=this._target();e._unsetRejectionIsUnhandled();return r.call(e)};e.prototype._value=function(){return this._settledValue()};e.prototype._reason=function(){this._unsetRejectionIsUnhandled();return this._settledValue()};e.PromiseInspection=t}},{}],33:[function(e,t){"use strict";t.exports=function(t,n){var r=e("./util"),i=r.errorObj,o=r.isObject,s={}.hasOwnProperty;return function(e,a){if(o(e)){if(e instanceof t)return e;var c=function(e){try{return function(e){return e.then}(e)}catch(e){i.e=e;return i}}(e);if(c===i){a&&a._pushContext();var u=t.reject(c.e);a&&a._popContext();return u}if("function"===typeof c){if(function(e){try{return s.call(e,"_promise0")}catch(e){return!1}}(e)){u=new t(n);e._then(u._fulfill,u._reject,void 0,u,null);return u}return function(e,o,s){function a(e){if(u){u._resolveCallback(e);u=null}}function c(e){if(u){u._rejectCallback(e,f,!0);u=null}}var u=new t(n),l=u;s&&s._pushContext();u._captureStackTrace();s&&s._popContext();var f=!0,d=r.tryCatch(o).call(e,a,c);f=!1;if(u&&d===i){u._rejectCallback(d.e,!0,!0);u=null}return l}(e,c,a)}}return e}}},{"./util":36}],34:[function(e,t){"use strict";t.exports=function(t,n,r){function i(e){this.handle=e}function o(e){clearTimeout(this.handle);return e}function s(e){clearTimeout(this.handle);throw e}var a=e("./util"),c=t.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var u=function(e){return l(+this).thenReturn(e)},l=t.delay=function(e,o){var s,a;if(void 0!==o){s=t.resolve(o)._then(u,null,null,e,void 0);r.cancellation()&&o instanceof t&&s._setOnCancel(o)}else{s=new t(n);a=setTimeout((function(){s._fulfill()}),+e);r.cancellation()&&s._setOnCancel(new i(a));s._captureStackTrace()}s._setAsyncGuaranteed();return s};t.prototype.delay=function(e){return l(e,this)};t.prototype.timeout=function(e,t){e=+e;var n,u,l=new i(setTimeout((function(){n.isPending()&&function(e,t,n){var r;r="string"!==typeof t?t instanceof Error?t:new c("operation timed out"):new c(t);a.markAsOriginatingFromRejection(r);e._attachExtraTrace(r);e._reject(r);null!=n&&n.cancel()}(n,t,u)}),e));if(r.cancellation()){u=this.then();(n=u._then(o,s,void 0,l,void 0))._setOnCancel(l)}else n=this._then(o,s,void 0,l,void 0);return n}}},{"./util":36}],35:[function(e,t){"use strict";t.exports=function(t,n,r,i,o,s){function a(e){setTimeout((function(){throw e}),0)}function c(e,n){var i=0,s=e.length,c=new t(o);!function o(){if(i>=s)return c._fulfill();var u=function(e){var t=r(e);t!==e&&"function"===typeof e._isDisposable&&"function"===typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer());return t}(e[i++]);if(u instanceof t&&u._isDisposable()){try{u=r(u._getDisposer().tryDispose(n),e.promise)}catch(e){return a(e)}if(u instanceof t)return u._then(o,a,null,null,null)}o()}();return c}function u(e,t,n){this._data=e;this._promise=t;this._context=n}function l(e,t,n){this.constructor$(e,t,n)}function f(e){if(u.isDisposer(e)){this.resources[this.index]._setDisposable(e);return e.promise()}return e}function d(e){this.length=e;this.promise=null;this[e-1]=null}var h=e("./util"),p=e("./errors").TypeError,m=e("./util").inherits,g=h.errorObj,y=h.tryCatch,_={};u.prototype.data=function(){return this._data};u.prototype.promise=function(){return this._promise};u.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():_};u.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=t!==_?this.doDispose(t,e):null;void 0!==n&&n._popContext();this._promise._unsetDisposable();this._data=null;return r};u.isDisposer=function(e){return null!=e&&"function"===typeof e.resource&&"function"===typeof e.tryDispose};m(l,u);l.prototype.doDispose=function(e,t){return this.data().call(e,e,t)};d.prototype._resultCancelled=function(){for(var e=this.length,n=0;n<e;++n){var r=this[n];r instanceof t&&r.cancel()}};t.using=function(){var e=arguments.length;if(e<2)return n("you must pass at least 2 arguments to Promise.using");var i,o=arguments[e-1];if("function"!==typeof o)return n("expecting a function but got "+h.classString(o));var a=!0;if(2===e&&Array.isArray(arguments[0])){e=(i=arguments[0]).length;a=!1}else{i=arguments;e--}for(var l=new d(e),p=0;p<e;++p){var m=i[p];if(u.isDisposer(m)){var _=m;(m=m.promise())._setDisposable(_)}else{var v=r(m);v instanceof t&&(m=v._then(f,null,null,{resources:l,index:p},void 0))}l[p]=m}var E=new Array(l.length);for(p=0;p<E.length;++p)E[p]=t.resolve(l[p]).reflect();var S=t.all(E).then((function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected()){g.e=n.error();return g}if(!n.isFulfilled()){S.cancel();return}e[t]=n.value()}b._pushContext();o=y(o);var r=a?o.apply(void 0,e):o(e),i=b._popContext();s.checkForgottenReturns(r,i,"Promise.using",b);return r})),b=S.lastly((function(){var e=new t.PromiseInspection(S);return c(l,e)}));l.promise=b;b._setOnCancel(l);return b};t.prototype._setDisposable=function(e){this._bitField=131072|this._bitField;this._disposer=e};t.prototype._isDisposable=function(){return(131072&this._bitField)>0};t.prototype._getDisposer=function(){return this._disposer};t.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField;this._disposer=void 0};t.prototype.disposer=function(e){if("function"===typeof e)return new l(e,this,i());throw new p}}},{"./errors":12,"./util":36}],36:[function(e,t){"use strict";function r(){try{var e=w;w=null;return e.apply(this,arguments)}catch(e){R.e=e;return R}}function i(e){w=e;return r}function o(e){return null==e||!0===e||!1===e||"string"===typeof e||"number"===typeof e}function s(e){return"function"===typeof e||"object"===typeof e&&null!==e}function a(e){return o(e)?new Error(g(e)):e}function c(e,t){var n,r=e.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=e[n];i[n]=t;return i}function u(e,t,n){if(!N.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var r=Object.getOwnPropertyDescriptor(e,t);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function l(e,t,n){if(o(e))return e;var r={value:n,configurable:!0,enumerable:!1,writable:!0};N.defineProperty(e,t,r);return e}function f(e){throw e}function d(e){try{if("function"===typeof e){var t=N.names(e.prototype),n=N.isES5&&t.length>1,r=t.length>0&&!(1===t.length&&"constructor"===t[0]),i=x.test(e+"")&&N.names(e).length>0;if(n||r||i)return!0}return!1}catch(e){return!1}}function h(e){function t(){}function n(){return typeof r.foo}t.prototype=e;var r=new t;n();n();return e}function p(e){return P.test(e)}function m(e,t,n){for(var r=new Array(e),i=0;i<e;++i)r[i]=t+i+n;return r}function g(e){try{return e+""}catch(e){return"[no string representation]"}}function y(e){return e instanceof Error||null!==e&&"object"===typeof e&&"string"===typeof e.message&&"string"===typeof e.name}function _(e){try{l(e,"isOperational",!0)}catch(e){}}function v(e){return null!=e&&(e instanceof Error["__BluebirdErrorTypes__"].OperationalError||!0===e["isOperational"])}function E(e){return y(e)&&N.propertyIsWritable(e,"stack")}function S(e){return{}.toString.call(e)}function b(e,t,n){for(var r=N.names(e),i=0;i<r.length;++i){var o=r[i];if(n(o))try{N.defineProperty(t,o,N.getDescriptor(e,o))}catch(e){}}}function T(e){return j?process.env[e]:void 0}function C(){if("function"===typeof Promise)try{if("[object Promise]"===S(new Promise((function(){}))))return Promise}catch(e){}}function I(e,t){if(null===e||"function"!==typeof t||t===U)return t;null!==e.domain&&(t=e.domain.bind(t));var n=e.async;if(null!==n){var r=t;t=function(){var e=new Array(2).concat([].slice.call(arguments));e[0]=r;e[1]=this;return n.runInAsyncScope.apply(n,e)}}return t}var w,N=e("./es5"),A="undefined"==typeof navigator,R={e:{}},O="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:void 0!==this?this:null,L=function(e,t){function n(){this.constructor=e;this.constructor$=t;for(var n in t.prototype)r.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}var r={}.hasOwnProperty;n.prototype=t.prototype;e.prototype=new n;return e.prototype},D=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(N.isES5){var n=Object.getOwnPropertyNames;return function(e){for(var r=[],i=Object.create(null);null!=e&&!t(e);){var o;try{o=n(e)}catch(e){return r}for(var s=0;s<o.length;++s){var a=o[s];if(!i[a]){i[a]=!0;var c=Object.getOwnPropertyDescriptor(e,a);null!=c&&null==c.get&&null==c.set&&r.push(a)}}e=N.getPrototypeOf(e)}return r}}var r={}.hasOwnProperty;return function(n){if(t(n))return[];var i=[];e:for(var o in n)if(r.call(n,o))i.push(o);else{for(var s=0;s<e.length;++s)if(r.call(e[s],o))continue e;i.push(o)}return i}}(),x=/this\s*\.\s*\S+\s*=/,P=/^[a-z$_][a-z$_0-9]*$/i,k=function(){return"stack"in new Error?function(e){return E(e)?e:new Error(g(e))}:function(e){if(E(e))return e;try{throw new Error(g(e))}catch(e){return e}}}(),B=function(e){return N.isArray(e)?e:null};if("undefined"!==typeof Symbol&&Symbol.iterator){var M="function"===typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],r=e[Symbol.iterator]();!(t=r.next()).done;)n.push(t.value);return n};B=function(e){return N.isArray(e)?e:null!=e&&"function"===typeof e[Symbol.iterator]?M(e):null}}var U,F="undefined"!==typeof process&&"[object process]"===S(process).toLowerCase(),j="undefined"!==typeof process&&"undefined"!==typeof process.env,G={setReflectHandler:function(e){U=e},isClass:d,isIdentifier:p,inheritedDataKeys:D,getDataPropertyOrDefault:u,thrower:f,isArray:N.isArray,asArray:B,notEnumerableProp:l,isPrimitive:o,isObject:s,isError:y,canEvaluate:A,errorObj:R,tryCatch:i,inherits:L,withAppended:c,maybeWrapAsError:a,toFastProperties:h,filledRange:m,toString:g,canAttachTrace:E,ensureErrorObject:k,originatesFromRejection:v,markAsOriginatingFromRejection:_,classString:S,copyDescriptors:b,isNode:F,hasEnvVariables:j,env:T,global:O,getNativePromise:C,contextBind:I};G.isRecentNode=G.isNode&&function(){var e;process.versions&&process.versions.node?e=process.versions.node.split(".").map(Number):process.version&&(e=process.version.split(".").map(Number));return 0===e[0]&&e[1]>10||e[0]>0}();G.nodeSupportsAsyncResource=G.isNode&&function(){var t=!1;try{t="function"===typeof e("async_hooks").AsyncResource.prototype.runInAsyncScope}catch(e){t=!1}return t}();G.isNode&&G.toFastProperties(process);try{throw new Error}catch(e){G.lastLineError=e}t.exports=G},{"./es5":13,async_hooks:void 0}]},{},[4])(4)}()}();"undefined"!==typeof window&&null!==window?window.P=window.Promise:"undefined"!==typeof self&&null!==self&&(self.P=self.Promise)},8264:function(e,t,n){var r,i,o;
/**
 * @license bytebuffer.js (c) 2015 Daniel Wirtz <dcode@dcode.io>
 * Backing buffer: ArrayBuffer, Accessor: Uint8Array
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bytebuffer.js for details
 */!function(){i=[n(3759)],r=function(e){"use strict";function t(e){var t=0;return function(){return t<e.length?e.charCodeAt(t++):null}}function n(){var e=[],t=[];return function(){if(0===arguments.length)return t.join("")+c.apply(String,e);e.length+arguments.length>1024&&(t.push(c.apply(String,e)),e.length=0);Array.prototype.push.apply(e,arguments)}}function r(e,t,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,l=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];f+=d;o=h&(1<<-l)-1;h>>=-l;l+=a;for(;l>0;o=256*o+e[t+f],f+=d,l-=8);s=o&(1<<-l)-1;o>>=-l;l+=r;for(;l>0;s=256*s+e[t+f],f+=d,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r);o-=u}return(h?-1:1)*s*Math.pow(2,o-r)}function i(e,t,n,r,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;t=Math.abs(t);if(isNaN(t)||t===1/0){a=isNaN(t)?1:0;s=l}else{s=Math.floor(Math.log(t)/Math.LN2);if(t*(c=Math.pow(2,-s))<1){s--;c*=2}if((t+=s+f<1?d*Math.pow(2,1-f):d/c)*c>=2){s++;c/=2}if(s+f<l)if(s+f<1){a=t*Math.pow(2,f-1)*Math.pow(2,i);s=0}else{a=(t*c-1)*Math.pow(2,i);s+=f}else{a=0;s=l}}for(;i>=8;e[n+h]=255&a,h+=p,a/=256,i-=8);s=s<<i|a;u+=i;for(;u>0;e[n+h]=255&s,h+=p,s/=256,u-=8);e[n+h-p]|=128*m}var o=function(e,t,n){"undefined"===typeof e&&(e=o.DEFAULT_CAPACITY);"undefined"===typeof t&&(t=o.DEFAULT_ENDIAN);"undefined"===typeof n&&(n=o.DEFAULT_NOASSERT);if(!n){if((e|=0)<0)throw RangeError("Illegal capacity");t=!!t;n=!!n}this.buffer=0===e?a:new ArrayBuffer(e);this.view=0===e?null:new Uint8Array(this.buffer);this.offset=0;this.markedOffset=-1;this.limit=e;this.littleEndian=t;this.noAssert=n};o.VERSION="5.0.1";o.LITTLE_ENDIAN=!0;o.BIG_ENDIAN=!1;o.DEFAULT_CAPACITY=16;o.DEFAULT_ENDIAN=o.BIG_ENDIAN;o.DEFAULT_NOASSERT=!1;o.Long=e||null;var s=o.prototype;s.__isByteBuffer__;Object.defineProperty(s,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var a=new ArrayBuffer(0),c=String.fromCharCode;o.accessor=function(){return Uint8Array};o.allocate=function(e,t,n){return new o(e,t,n)};o.concat=function(e,t,n,r){if("boolean"===typeof t||"string"!==typeof t){r=n;n=t;t=void 0}for(var i,s=0,a=0,c=e.length;a<c;++a){o.isByteBuffer(e[a])||(e[a]=o.wrap(e[a],t));(i=e[a].limit-e[a].offset)>0&&(s+=i)}if(0===s)return new o(0,n,r);var u,l=new o(s,n,r);a=0;for(;a<c;)if((i=(u=e[a++]).limit-u.offset)>0){l.view.set(u.view.subarray(u.offset,u.limit),l.offset);l.offset+=i}l.limit=l.offset;l.offset=0;return l};o.isByteBuffer=function(e){return!0===(e&&e["__isByteBuffer__"])};o.type=function(){return ArrayBuffer};o.wrap=function(e,t,n,r){if("string"!==typeof t){r=n;n=t;t=void 0}if("string"===typeof e){"undefined"===typeof t&&(t="utf8");switch(t){case"base64":return o.fromBase64(e,n);case"hex":return o.fromHex(e,n);case"binary":return o.fromBinary(e,n);case"utf8":return o.fromUTF8(e,n);case"debug":return o.fromDebug(e,n);default:throw Error("Unsupported encoding: "+t)}}if(null===e||"object"!==typeof e)throw TypeError("Illegal buffer");var i;if(o.isByteBuffer(e)){(i=s.clone.call(e)).markedOffset=-1;return i}if(e instanceof Uint8Array){i=new o(0,n,r);if(e.length>0){i.buffer=e.buffer;i.offset=e.byteOffset;i.limit=e.byteOffset+e.byteLength;i.view=new Uint8Array(e.buffer)}}else if(e instanceof ArrayBuffer){i=new o(0,n,r);if(e.byteLength>0){i.buffer=e;i.offset=0;i.limit=e.byteLength;i.view=e.byteLength>0?new Uint8Array(e):null}}else{if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Illegal buffer");(i=new o(e.length,n,r)).limit=e.length;for(var a=0;a<e.length;++a)i.view[a]=e[a]}return i};s.writeBitSet=function(e,t){var n="undefined"===typeof t;n&&(t=this.offset);if(!this.noAssert){if(!(e instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var r,i=t,o=e.length,s=o>>3,a=0;t+=this.writeVarint32(o,t);for(;s--;){r=1&!!e[a++]|(1&!!e[a++])<<1|(1&!!e[a++])<<2|(1&!!e[a++])<<3|(1&!!e[a++])<<4|(1&!!e[a++])<<5|(1&!!e[a++])<<6|(1&!!e[a++])<<7;this.writeByte(r,t++)}if(a<o){var c=0;r=0;for(;a<o;)r|=(1&!!e[a++])<<c++;this.writeByte(r,t++)}if(n){this.offset=t;return this}return t-i};s.readBitSet=function(e){var t="undefined"===typeof e;t&&(e=this.offset);var n,r=this.readVarint32(e),i=r.value,o=i>>3,s=0,a=[];e+=r.length;for(;o--;){n=this.readByte(e++);a[s++]=!!(1&n);a[s++]=!!(2&n);a[s++]=!!(4&n);a[s++]=!!(8&n);a[s++]=!!(16&n);a[s++]=!!(32&n);a[s++]=!!(64&n);a[s++]=!!(128&n)}if(s<i){var c=0;n=this.readByte(e++);for(;s<i;)a[s++]=!!(n>>c++&1)}t&&(this.offset=e);return a};s.readBytes=function(e,t){var n="undefined"===typeof t;n&&(t=this.offset);if(!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+e+") <= "+this.buffer.byteLength)}var r=this.slice(t,t+e);n&&(this.offset+=e);return r};s.writeBytes=s.append;s.writeInt8=function(e,t){var n="undefined"===typeof t;n&&(t=this.offset);if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");e|=0;if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var r=this.buffer.byteLength;t>r&&this.resize((r*=2)>t?r:t);t-=1;this.view[t]=e;n&&(this.offset+=1);return this};s.writeByte=s.writeInt8;s.readInt8=function(e){var t="undefined"===typeof e;t&&(e=this.offset);if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=this.view[e];128===(128&n)&&(n=-(255-n+1));t&&(this.offset+=1);return n};s.readByte=s.readInt8;s.writeUint8=function(e,t){var n="undefined"===typeof t;n&&(t=this.offset);if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");e>>>=0;if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var r=this.buffer.byteLength;t>r&&this.resize((r*=2)>t?r:t);t-=1;this.view[t]=e;n&&(this.offset+=1);return this};s.writeUInt8=s.writeUint8;s.readUint8=function(e){var t="undefined"===typeof e;t&&(e=this.offset);if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=this.view[e];t&&(this.offset+=1);return n};s.readUInt8=s.readUint8;s.writeInt16=function(e,t){var n="undefined"===typeof t;n&&(t=this.offset);if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");e|=0;if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var r=this.buffer.byteLength;t>r&&this.resize((r*=2)>t?r:t);t-=2;if(this.littleEndian){this.view[t+1]=(65280&e)>>>8;this.view[t]=255&e}else{this.view[t]=(65280&e)>>>8;this.view[t+1]=255&e}n&&(this.offset+=2);return this};s.writeShort=s.writeInt16;s.readInt16=function(e){var t="undefined"===typeof e;t&&(e=this.offset);if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var n=0;if(this.littleEndian){n=this.view[e];n|=this.view[e+1]<<8}else{n=this.view[e]<<8;n|=this.view[e+1]}32768===(32768&n)&&(n=-(65535-n+1));t&&(this.offset+=2);return n};s.readShort=s.readInt16;s.writeUint16=function(e,t){var n="undefined"===typeof t;n&&(t=this.offset);if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");e>>>=0;if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var r=this.buffer.byteLength;t>r&&this.resize((r*=2)>t?r:t);t-=2;if(this.littleEndian){this.view[t+1]=(65280&e)>>>8;this.view[t]=255&e}else{this.view[t]=(65280&e)>>>8;this.view[t+1]=255&e}n&&(this.offset+=2);return this};s.writeUInt16=s.writeUint16;s.readUint16=function(e){var t="undefined"===typeof e;t&&(e=this.offset);if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var n=0;if(this.littleEndian){n=this.view[e];n|=this.view[e+1]<<8}else{n=this.view[e]<<8;n|=this.view[e+1]}t&&(this.offset+=2);return n};s.readUInt16=s.readUint16;s.writeInt32=function(e,t){var n="undefined"===typeof t;n&&(t=this.offset);if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");e|=0;if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var r=this.buffer.byteLength;t>r&&this.resize((r*=2)>t?r:t);t-=4;if(this.littleEndian){this.view[t+3]=e>>>24&255;this.view[t+2]=e>>>16&255;this.view[t+1]=e>>>8&255;this.view[t]=255&e}else{this.view[t]=e>>>24&255;this.view[t+1]=e>>>16&255;this.view[t+2]=e>>>8&255;this.view[t+3]=255&e}n&&(this.offset+=4);return this};s.writeInt=s.writeInt32;s.readInt32=function(e){var t="undefined"===typeof e;t&&(e=this.offset);if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=0;if(this.littleEndian){n=this.view[e+2]<<16;n|=this.view[e+1]<<8;n|=this.view[e];n+=this.view[e+3]<<24>>>0}else{n=this.view[e+1]<<16;n|=this.view[e+2]<<8;n|=this.view[e+3];n+=this.view[e]<<24>>>0}n|=0;t&&(this.offset+=4);return n};s.readInt=s.readInt32;s.writeUint32=function(e,t){var n="undefined"===typeof t;n&&(t=this.offset);if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");e>>>=0;if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var r=this.buffer.byteLength;t>r&&this.resize((r*=2)>t?r:t);t-=4;if(this.littleEndian){this.view[t+3]=e>>>24&255;this.view[t+2]=e>>>16&255;this.view[t+1]=e>>>8&255;this.view[t]=255&e}else{this.view[t]=e>>>24&255;this.view[t+1]=e>>>16&255;this.view[t+2]=e>>>8&255;this.view[t+3]=255&e}n&&(this.offset+=4);return this};s.writeUInt32=s.writeUint32;s.readUint32=function(e){var t="undefined"===typeof e;t&&(e=this.offset);if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=0;if(this.littleEndian){n=this.view[e+2]<<16;n|=this.view[e+1]<<8;n|=this.view[e];n+=this.view[e+3]<<24>>>0}else{n=this.view[e+1]<<16;n|=this.view[e+2]<<8;n|=this.view[e+3];n+=this.view[e]<<24>>>0}t&&(this.offset+=4);return n};s.readUInt32=s.readUint32;if(e){s.writeInt64=function(t,n){var r="undefined"===typeof n;r&&(n=this.offset);if(!this.noAssert){if("number"===typeof t)t=e.fromNumber(t);else if("string"===typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!==typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"===typeof t?t=e.fromNumber(t):"string"===typeof t&&(t=e.fromString(t));n+=8;var i=this.buffer.byteLength;n>i&&this.resize((i*=2)>n?i:n);n-=8;var o=t.low,s=t.high;if(this.littleEndian){this.view[n+3]=o>>>24&255;this.view[n+2]=o>>>16&255;this.view[n+1]=o>>>8&255;this.view[n]=255&o;n+=4;this.view[n+3]=s>>>24&255;this.view[n+2]=s>>>16&255;this.view[n+1]=s>>>8&255;this.view[n]=255&s}else{this.view[n]=s>>>24&255;this.view[n+1]=s>>>16&255;this.view[n+2]=s>>>8&255;this.view[n+3]=255&s;n+=4;this.view[n]=o>>>24&255;this.view[n+1]=o>>>16&255;this.view[n+2]=o>>>8&255;this.view[n+3]=255&o}r&&(this.offset+=8);return this};s.writeLong=s.writeInt64;s.readInt64=function(t){var n="undefined"===typeof t;n&&(t=this.offset);if(!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=0,i=0;if(this.littleEndian){r=this.view[t+2]<<16;r|=this.view[t+1]<<8;r|=this.view[t];r+=this.view[t+3]<<24>>>0;t+=4;i=this.view[t+2]<<16;i|=this.view[t+1]<<8;i|=this.view[t];i+=this.view[t+3]<<24>>>0}else{i=this.view[t+1]<<16;i|=this.view[t+2]<<8;i|=this.view[t+3];i+=this.view[t]<<24>>>0;t+=4;r=this.view[t+1]<<16;r|=this.view[t+2]<<8;r|=this.view[t+3];r+=this.view[t]<<24>>>0}var o=new e(r,i,!1);n&&(this.offset+=8);return o};s.readLong=s.readInt64;s.writeUint64=function(t,n){var r="undefined"===typeof n;r&&(n=this.offset);if(!this.noAssert){if("number"===typeof t)t=e.fromNumber(t);else if("string"===typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!==typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"===typeof t?t=e.fromNumber(t):"string"===typeof t&&(t=e.fromString(t));n+=8;var i=this.buffer.byteLength;n>i&&this.resize((i*=2)>n?i:n);n-=8;var o=t.low,s=t.high;if(this.littleEndian){this.view[n+3]=o>>>24&255;this.view[n+2]=o>>>16&255;this.view[n+1]=o>>>8&255;this.view[n]=255&o;n+=4;this.view[n+3]=s>>>24&255;this.view[n+2]=s>>>16&255;this.view[n+1]=s>>>8&255;this.view[n]=255&s}else{this.view[n]=s>>>24&255;this.view[n+1]=s>>>16&255;this.view[n+2]=s>>>8&255;this.view[n+3]=255&s;n+=4;this.view[n]=o>>>24&255;this.view[n+1]=o>>>16&255;this.view[n+2]=o>>>8&255;this.view[n+3]=255&o}r&&(this.offset+=8);return this};s.writeUInt64=s.writeUint64;s.readUint64=function(t){var n="undefined"===typeof t;n&&(t=this.offset);if(!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=0,i=0;if(this.littleEndian){r=this.view[t+2]<<16;r|=this.view[t+1]<<8;r|=this.view[t];r+=this.view[t+3]<<24>>>0;t+=4;i=this.view[t+2]<<16;i|=this.view[t+1]<<8;i|=this.view[t];i+=this.view[t+3]<<24>>>0}else{i=this.view[t+1]<<16;i|=this.view[t+2]<<8;i|=this.view[t+3];i+=this.view[t]<<24>>>0;t+=4;r=this.view[t+1]<<16;r|=this.view[t+2]<<8;r|=this.view[t+3];r+=this.view[t]<<24>>>0}var o=new e(r,i,!0);n&&(this.offset+=8);return o};s.readUInt64=s.readUint64}s.writeFloat32=function(e,t){var n="undefined"===typeof t;n&&(t=this.offset);if(!this.noAssert){if("number"!==typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var r=this.buffer.byteLength;t>r&&this.resize((r*=2)>t?r:t);t-=4;i(this.view,e,t,this.littleEndian,23,4);n&&(this.offset+=4);return this};s.writeFloat=s.writeFloat32;s.readFloat32=function(e){var t="undefined"===typeof e;t&&(e=this.offset);if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=r(this.view,e,this.littleEndian,23,4);t&&(this.offset+=4);return n};s.readFloat=s.readFloat32;s.writeFloat64=function(e,t){var n="undefined"===typeof t;n&&(t=this.offset);if(!this.noAssert){if("number"!==typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=8;var r=this.buffer.byteLength;t>r&&this.resize((r*=2)>t?r:t);t-=8;i(this.view,e,t,this.littleEndian,52,8);n&&(this.offset+=8);return this};s.writeDouble=s.writeFloat64;s.readFloat64=function(e){var t="undefined"===typeof e;t&&(e=this.offset);if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var n=r(this.view,e,this.littleEndian,52,8);t&&(this.offset+=8);return n};s.readDouble=s.readFloat64;o.MAX_VARINT32_BYTES=5;o.calculateVarint32=function(e){return(e>>>=0)<128?1:e<16384?2:e<1<<21?3:e<1<<28?4:5};o.zigZagEncode32=function(e){return((e|=0)<<1^e>>31)>>>0};o.zigZagDecode32=function(e){return e>>>1^-(1&e)};s.writeVarint32=function(e,t){var n="undefined"===typeof t;n&&(t=this.offset);if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");e|=0;if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var r,i=o.calculateVarint32(e);t+=i;var s=this.buffer.byteLength;t>s&&this.resize((s*=2)>t?s:t);t-=i;e>>>=0;for(;e>=128;){r=127&e|128;this.view[t++]=r;e>>>=7}this.view[t++]=e;if(n){this.offset=t;return this}return i};s.writeVarint32ZigZag=function(e,t){return this.writeVarint32(o.zigZagEncode32(e),t)};s.readVarint32=function(e){var t="undefined"===typeof e;t&&(e=this.offset);if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n,r=0,i=0;do{if(!this.noAssert&&e>this.limit){var o=Error("Truncated");o["truncated"]=!0;throw o}n=this.view[e++];r<5&&(i|=(127&n)<<7*r);++r}while(0!==(128&n));i|=0;if(t){this.offset=e;return i}return{value:i,length:r}};s.readVarint32ZigZag=function(e){var t=this.readVarint32(e);"object"===typeof t?t["value"]=o.zigZagDecode32(t["value"]):t=o.zigZagDecode32(t);return t};if(e){o.MAX_VARINT64_BYTES=10;o.calculateVarint64=function(t){"number"===typeof t?t=e.fromNumber(t):"string"===typeof t&&(t=e.fromString(t));var n=t.toInt()>>>0,r=t.shiftRightUnsigned(28).toInt()>>>0,i=t.shiftRightUnsigned(56).toInt()>>>0;return 0==i?0==r?n<16384?n<128?1:2:n<1<<21?3:4:r<16384?r<128?5:6:r<1<<21?7:8:i<128?9:10};o.zigZagEncode64=function(t){"number"===typeof t?t=e.fromNumber(t,!1):"string"===typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned());return t.shiftLeft(1).xor(t.shiftRight(63)).toUnsigned()};o.zigZagDecode64=function(t){"number"===typeof t?t=e.fromNumber(t,!1):"string"===typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned());return t.shiftRightUnsigned(1).xor(t.and(e.ONE).toSigned().negate()).toSigned()};s.writeVarint64=function(t,n){var r="undefined"===typeof n;r&&(n=this.offset);if(!this.noAssert){if("number"===typeof t)t=e.fromNumber(t);else if("string"===typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!==typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"===typeof t?t=e.fromNumber(t,!1):"string"===typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned());var i=o.calculateVarint64(t),s=t.toInt()>>>0,a=t.shiftRightUnsigned(28).toInt()>>>0,c=t.shiftRightUnsigned(56).toInt()>>>0;n+=i;var u=this.buffer.byteLength;n>u&&this.resize((u*=2)>n?u:n);n-=i;switch(i){case 10:this.view[n+9]=c>>>7&1;case 9:this.view[n+8]=9!==i?128|c:127&c;case 8:this.view[n+7]=8!==i?a>>>21|128:a>>>21&127;case 7:this.view[n+6]=7!==i?a>>>14|128:a>>>14&127;case 6:this.view[n+5]=6!==i?a>>>7|128:a>>>7&127;case 5:this.view[n+4]=5!==i?128|a:127&a;case 4:this.view[n+3]=4!==i?s>>>21|128:s>>>21&127;case 3:this.view[n+2]=3!==i?s>>>14|128:s>>>14&127;case 2:this.view[n+1]=2!==i?s>>>7|128:s>>>7&127;case 1:this.view[n]=1!==i?128|s:127&s}if(r){this.offset+=i;return this}return i};s.writeVarint64ZigZag=function(e,t){return this.writeVarint64(o.zigZagEncode64(e),t)};s.readVarint64=function(t){var n="undefined"===typeof t;n&&(t=this.offset);if(!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=t,i=0,o=0,s=0,a=0;i=127&(a=this.view[t++]);if(128&a){i|=(127&(a=this.view[t++]))<<7;if(128&a||this.noAssert&&"undefined"===typeof a){i|=(127&(a=this.view[t++]))<<14;if(128&a||this.noAssert&&"undefined"===typeof a){i|=(127&(a=this.view[t++]))<<21;if(128&a||this.noAssert&&"undefined"===typeof a){o=127&(a=this.view[t++]);if(128&a||this.noAssert&&"undefined"===typeof a){o|=(127&(a=this.view[t++]))<<7;if(128&a||this.noAssert&&"undefined"===typeof a){o|=(127&(a=this.view[t++]))<<14;if(128&a||this.noAssert&&"undefined"===typeof a){o|=(127&(a=this.view[t++]))<<21;if(128&a||this.noAssert&&"undefined"===typeof a){s=127&(a=this.view[t++]);if(128&a||this.noAssert&&"undefined"===typeof a){s|=(127&(a=this.view[t++]))<<7;if(128&a||this.noAssert&&"undefined"===typeof a)throw Error("Buffer overrun")}}}}}}}}}var c=e.fromBits(i|o<<28,o>>>4|s<<24,!1);if(n){this.offset=t;return c}return{value:c,length:t-r}};s.readVarint64ZigZag=function(t){var n=this.readVarint64(t);n&&n["value"]instanceof e?n["value"]=o.zigZagDecode64(n["value"]):n=o.zigZagDecode64(n);return n}}s.writeCString=function(e,n){var r="undefined"===typeof n;r&&(n=this.offset);var i,o=e.length;if(!this.noAssert){if("string"!==typeof e)throw TypeError("Illegal str: Not a string");for(i=0;i<o;++i)if(0===e.charCodeAt(i))throw RangeError("Illegal str: Contains NULL-characters");if("number"!==typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}o=l.calculateUTF16asUTF8(t(e))[1];n+=o+1;var s=this.buffer.byteLength;n>s&&this.resize((s*=2)>n?s:n);n-=o+1;l.encodeUTF16toUTF8(t(e),function(e){this.view[n++]=e}.bind(this));this.view[n++]=0;if(r){this.offset=n;return this}return o};s.readCString=function(e){var t="undefined"===typeof e;t&&(e=this.offset);if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r,i=e,o=-1;l.decodeUTF8toUTF16(function(){if(0===o)return null;if(e>=this.limit)throw RangeError("Illegal range: Truncated data, "+e+" < "+this.limit);return 0===(o=this.view[e++])?null:o}.bind(this),r=n(),!0);if(t){this.offset=e;return r()}return{string:r(),length:e-i}};s.writeIString=function(e,n){var r="undefined"===typeof n;r&&(n=this.offset);if(!this.noAssert){if("string"!==typeof e)throw TypeError("Illegal str: Not a string");if("number"!==typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var i,o=n;i=l.calculateUTF16asUTF8(t(e),this.noAssert)[1];n+=4+i;var s=this.buffer.byteLength;n>s&&this.resize((s*=2)>n?s:n);n-=4+i;if(this.littleEndian){this.view[n+3]=i>>>24&255;this.view[n+2]=i>>>16&255;this.view[n+1]=i>>>8&255;this.view[n]=255&i}else{this.view[n]=i>>>24&255;this.view[n+1]=i>>>16&255;this.view[n+2]=i>>>8&255;this.view[n+3]=255&i}n+=4;l.encodeUTF16toUTF8(t(e),function(e){this.view[n++]=e}.bind(this));if(n!==o+4+i)throw RangeError("Illegal range: Truncated data, "+n+" == "+(n+4+i));if(r){this.offset=n;return this}return n-o};s.readIString=function(e){var t="undefined"===typeof e;t&&(e=this.offset);if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=e,r=this.readUint32(e),i=this.readUTF8String(r,o.METRICS_BYTES,e+=4);e+=i["length"];if(t){this.offset=e;return i["string"]}return{string:i["string"],length:e-n}};o.METRICS_CHARS="c";o.METRICS_BYTES="b";s.writeUTF8String=function(e,n){var r,i="undefined"===typeof n;i&&(n=this.offset);if(!this.noAssert){if("number"!==typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var o=n;r=l.calculateUTF16asUTF8(t(e))[1];n+=r;var s=this.buffer.byteLength;n>s&&this.resize((s*=2)>n?s:n);n-=r;l.encodeUTF16toUTF8(t(e),function(e){this.view[n++]=e}.bind(this));if(i){this.offset=n;return this}return n-o};s.writeString=s.writeUTF8String;o.calculateUTF8Chars=function(e){return l.calculateUTF16asUTF8(t(e))[0]};o.calculateUTF8Bytes=function(e){return l.calculateUTF16asUTF8(t(e))[1]};o.calculateString=o.calculateUTF8Bytes;s.readUTF8String=function(e,t,r){if("number"===typeof t){r=t;t=void 0}var i="undefined"===typeof r;i&&(r=this.offset);"undefined"===typeof t&&(t=o.METRICS_CHARS);if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal length: "+e+" (not an integer)");e|=0;if("number"!==typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var s,a=0,c=r;if(t===o.METRICS_CHARS){s=n();l.decodeUTF8(function(){return a<e&&r<this.limit?this.view[r++]:null}.bind(this),(function(e){++a;l.UTF8toUTF16(e,s)}));if(a!==e)throw RangeError("Illegal range: Truncated data, "+a+" == "+e);if(i){this.offset=r;return s()}return{string:s(),length:r-c}}if(t===o.METRICS_BYTES){if(!this.noAssert){if("number"!==typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+"+e+") <= "+this.buffer.byteLength)}var u=r+e;l.decodeUTF8toUTF16(function(){return r<u?this.view[r++]:null}.bind(this),s=n(),this.noAssert);if(r!==u)throw RangeError("Illegal range: Truncated data, "+r+" == "+u);if(i){this.offset=r;return s()}return{string:s(),length:r-c}}throw TypeError("Unsupported metrics: "+t)};s.readString=s.readUTF8String;s.writeVString=function(e,n){var r="undefined"===typeof n;r&&(n=this.offset);if(!this.noAssert){if("string"!==typeof e)throw TypeError("Illegal str: Not a string");if("number"!==typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var i,s,a=n;i=l.calculateUTF16asUTF8(t(e),this.noAssert)[1];s=o.calculateVarint32(i);n+=s+i;var c=this.buffer.byteLength;n>c&&this.resize((c*=2)>n?c:n);n-=s+i;n+=this.writeVarint32(i,n);l.encodeUTF16toUTF8(t(e),function(e){this.view[n++]=e}.bind(this));if(n!==a+i+s)throw RangeError("Illegal range: Truncated data, "+n+" == "+(n+i+s));if(r){this.offset=n;return this}return n-a};s.readVString=function(e){var t="undefined"===typeof e;t&&(e=this.offset);if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=e,r=this.readVarint32(e),i=this.readUTF8String(r["value"],o.METRICS_BYTES,e+=r["length"]);e+=i["length"];if(t){this.offset=e;return i["string"]}return{string:i["string"],length:e-n}};s.append=function(e,t,n){if("number"===typeof t||"string"!==typeof t){n=t;t=void 0}var r="undefined"===typeof n;r&&(n=this.offset);if(!this.noAssert){if("number"!==typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}e instanceof o||(e=o.wrap(e,t));var i=e.limit-e.offset;if(i<=0)return this;n+=i;var s=this.buffer.byteLength;n>s&&this.resize((s*=2)>n?s:n);n-=i;this.view.set(e.view.subarray(e.offset,e.limit),n);e.offset+=i;r&&(this.offset+=i);return this};s.appendTo=function(e,t){e.append(this,t);return this};s.assert=function(e){this.noAssert=!e;return this};s.capacity=function(){return this.buffer.byteLength};s.clear=function(){this.offset=0;this.limit=this.buffer.byteLength;this.markedOffset=-1;return this};s.clone=function(e){var t=new o(0,this.littleEndian,this.noAssert);if(e){t.buffer=new ArrayBuffer(this.buffer.byteLength);t.view=new Uint8Array(t.buffer)}else{t.buffer=this.buffer;t.view=this.view}t.offset=this.offset;t.markedOffset=this.markedOffset;t.limit=this.limit;return t};s.compact=function(e,t){"undefined"===typeof e&&(e=this.offset);"undefined"===typeof t&&(t=this.limit);if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");e>>>=0;if("number"!==typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");t>>>=0;if(e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(0===e&&t===this.buffer.byteLength)return this;var n=t-e;if(0===n){this.buffer=a;this.view=null;this.markedOffset<0||(this.markedOffset-=e);this.offset=0;this.limit=0;return this}var r=new ArrayBuffer(n),i=new Uint8Array(r);i.set(this.view.subarray(e,t));this.buffer=r;this.view=i;this.markedOffset<0||(this.markedOffset-=e);this.offset=0;this.limit=n;return this};s.copy=function(e,t){"undefined"===typeof e&&(e=this.offset);"undefined"===typeof t&&(t=this.limit);if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");e>>>=0;if("number"!==typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");t>>>=0;if(e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(e===t)return new o(0,this.littleEndian,this.noAssert);var n=t-e,r=new o(n,this.littleEndian,this.noAssert);r.offset=0;r.limit=n;r.markedOffset<0||(r.markedOffset-=e);this.copyTo(r,0,e,t);return r};s.copyTo=function(e,t,n,r){var i,s;if(!this.noAssert&&!o.isByteBuffer(e))throw TypeError("Illegal target: Not a ByteBuffer");t=(s="undefined"===typeof t)?e.offset:0|t;n=(i="undefined"===typeof n)?this.offset:0|n;r="undefined"===typeof r?this.limit:0|r;if(t<0||t>e.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+t+" <= "+e.buffer.byteLength);if(n<0||r>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+n+" <= "+this.buffer.byteLength);var a=r-n;if(0===a)return e;e.ensureCapacity(t+a);e.view.set(this.view.subarray(n,r),t);i&&(this.offset+=a);s&&(e.offset+=a);return this};s.ensureCapacity=function(e){var t=this.buffer.byteLength;return t<e?this.resize((t*=2)>e?t:e):this};s.fill=function(e,t,n){var r="undefined"===typeof t;r&&(t=this.offset);"string"===typeof e&&e.length>0&&(e=e.charCodeAt(0));"undefined"===typeof t&&(t=this.offset);"undefined"===typeof n&&(n=this.limit);if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");e|=0;if("number"!==typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");t>>>=0;if("number"!==typeof n||n%1!==0)throw TypeError("Illegal end: Not an integer");n>>>=0;if(t<0||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}if(t>=n)return this;for(;t<n;)this.view[t++]=e;r&&(this.offset=t);return this};s.flip=function(){this.limit=this.offset;this.offset=0;return this};s.mark=function(e){e="undefined"===typeof e?this.offset:e;if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}this.markedOffset=e;return this};s.order=function(e){if(!this.noAssert&&"boolean"!==typeof e)throw TypeError("Illegal littleEndian: Not a boolean");this.littleEndian=!!e;return this};s.LE=function(e){this.littleEndian="undefined"===typeof e||!!e;return this};s.BE=function(e){this.littleEndian="undefined"!==typeof e&&!e;return this};s.prepend=function(e,t,n){if("number"===typeof t||"string"!==typeof t){n=t;t=void 0}var r="undefined"===typeof n;r&&(n=this.offset);if(!this.noAssert){if("number"!==typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}e instanceof o||(e=o.wrap(e,t));var i=e.limit-e.offset;if(i<=0)return this;var s=i-n;if(s>0){var a=new ArrayBuffer(this.buffer.byteLength+s),c=new Uint8Array(a);c.set(this.view.subarray(n,this.buffer.byteLength),i);this.buffer=a;this.view=c;this.offset+=s;this.markedOffset<0||(this.markedOffset+=s);this.limit+=s;n+=s}else new Uint8Array(this.buffer);this.view.set(e.view.subarray(e.offset,e.limit),n-i);e.offset=e.limit;r&&(this.offset-=i);return this};s.prependTo=function(e,t){e.prepend(this,t);return this};s.printDebug=function(e){"function"!==typeof e&&(e=function(){}.bind());e(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))};s.remaining=function(){return this.limit-this.offset};s.reset=function(){if(this.markedOffset<0)this.offset=0;else{this.offset=this.markedOffset;this.markedOffset=-1}return this};s.resize=function(e){if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal capacity: "+e+" (not an integer)");if((e|=0)<0)throw RangeError("Illegal capacity: 0 <= "+e)}if(this.buffer.byteLength<e){var t=new ArrayBuffer(e),n=new Uint8Array(t);n.set(this.view);this.buffer=t;this.view=n}return this};s.reverse=function(e,t){"undefined"===typeof e&&(e=this.offset);"undefined"===typeof t&&(t=this.limit);if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");e>>>=0;if("number"!==typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");t>>>=0;if(e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(e===t)return this;Array.prototype.reverse.call(this.view.subarray(e,t));return this};s.skip=function(e){if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal length: "+e+" (not an integer)");e|=0}var t=this.offset+e;if(!this.noAssert&&(t<0||t>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+e+" <= "+this.buffer.byteLength);this.offset=t;return this};s.slice=function(e,t){"undefined"===typeof e&&(e=this.offset);"undefined"===typeof t&&(t=this.limit);if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");e>>>=0;if("number"!==typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");t>>>=0;if(e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var n=this.clone();n.offset=e;n.limit=t;return n};s.toBuffer=function(e){var t=this.offset,n=this.limit;if(!this.noAssert){if("number"!==typeof t||t%1!==0)throw TypeError("Illegal offset: Not an integer");t>>>=0;if("number"!==typeof n||n%1!==0)throw TypeError("Illegal limit: Not an integer");n>>>=0;if(t<0||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}if(!e&&0===t&&n===this.buffer.byteLength)return this.buffer;if(t===n)return a;var r=new ArrayBuffer(n-t);new Uint8Array(r).set(new Uint8Array(this.buffer).subarray(t,n),0);return r};s.toArrayBuffer=s.toBuffer;s.toString=function(e,t,n){if("undefined"===typeof e)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";"number"===typeof e&&(n=t=e="utf8");switch(e){case"utf8":return this.toUTF8(t,n);case"base64":return this.toBase64(t,n);case"hex":return this.toHex(t,n);case"binary":return this.toBinary(t,n);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+e)}};var u=function(){for(var e={},t=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],n=[],r=0,i=t.length;r<i;++r)n[t[r]]=r;e.encode=function(e,n){for(var r,i;null!==(r=e());){n(t[r>>2&63]);i=(3&r)<<4;if(null!==(r=e())){n(t[63&((i|=r>>4&15)|r>>4&15)]);i=(15&r)<<2;null!==(r=e())?(n(t[63&(i|r>>6&3)]),n(t[63&r])):(n(t[63&i]),n(61))}else n(t[63&i]),n(61),n(61)}};e.decode=function(e,t){function r(e){throw Error("Illegal character code: "+e)}for(var i,o,s;null!==(i=e());){"undefined"===typeof(o=n[i])&&r(i);if(null!==(i=e())){"undefined"===typeof(s=n[i])&&r(i);t(o<<2>>>0|(48&s)>>4);if(null!==(i=e())){if("undefined"===typeof(o=n[i])){if(61===i)break;r(i)}t((15&s)<<4>>>0|(60&o)>>2);if(null!==(i=e())){if("undefined"===typeof(s=n[i])){if(61===i)break;r(i)}t((3&o)<<6>>>0|s)}}}}};e.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)};return e}();s.toBase64=function(e,t){"undefined"===typeof e&&(e=this.offset);"undefined"===typeof t&&(t=this.limit);t|=0;if((e|=0)<0||t>this.capacity||e>t)throw RangeError("begin, end");var r;u.encode(function(){return e<t?this.view[e++]:null}.bind(this),r=n());return r()};o.fromBase64=function(e,n){if("string"!==typeof e)throw TypeError("str");var r=new o(e.length/4*3,n),i=0;u.decode(t(e),(function(e){r.view[i++]=e}));r.limit=i;return r};o.btoa=function(e){return o.fromBinary(e).toBase64()};o.atob=function(e){return o.fromBase64(e).toBinary()};s.toBinary=function(e,t){"undefined"===typeof e&&(e=this.offset);"undefined"===typeof t&&(t=this.limit);t|=0;if((e|=0)<0||t>this.capacity()||e>t)throw RangeError("begin, end");if(e===t)return"";for(var n=[],r=[];e<t;){n.push(this.view[e++]);n.length<1024||(r.push(String.fromCharCode.apply(String,n)),n=[])}return r.join("")+String.fromCharCode.apply(String,n)};o.fromBinary=function(e,t){if("string"!==typeof e)throw TypeError("str");for(var n,r=0,i=e.length,s=new o(i,t);r<i;){if((n=e.charCodeAt(r))>255)throw RangeError("illegal char code: "+n);s.view[r++]=n}s.limit=i;return s};s.toDebug=function(e){for(var t,n=-1,r=this.buffer.byteLength,i="",o="",s="";n<r;){if(-1!==n){i+=(t=this.view[n])<16?"0"+t.toString(16).toUpperCase():t.toString(16).toUpperCase();e&&(o+=t>32&&t<127?String.fromCharCode(t):".")}++n;if(e&&n>0&&n%16===0&&n!==r){for(;i.length<51;)i+=" ";s+=i+o+"\n";i=o=""}n===this.offset&&n===this.limit?i+=n===this.markedOffset?"!":"|":n===this.offset?i+=n===this.markedOffset?"[":"<":n===this.limit?i+=n===this.markedOffset?"]":">":i+=n===this.markedOffset?"'":e||0!==n&&n!==r?" ":""}if(e&&" "!==i){for(;i.length<51;)i+=" ";s+=i+o+"\n"}return e?s:i};o.fromDebug=function(e,t,n){for(var r,i,s=e.length,a=new o((s+1)/3|0,t,n),c=0,u=0,l=!1,f=!1,d=!1,h=!1,p=!1;c<s;){switch(r=e.charAt(c++)){case"!":if(!n){if(f||d||h){p=!0;break}f=d=h=!0}a.offset=a.markedOffset=a.limit=u;l=!1;break;case"|":if(!n){if(f||h){p=!0;break}f=h=!0}a.offset=a.limit=u;l=!1;break;case"[":if(!n){if(f||d){p=!0;break}f=d=!0}a.offset=a.markedOffset=u;l=!1;break;case"<":if(!n){if(f){p=!0;break}f=!0}a.offset=u;l=!1;break;case"]":if(!n){if(h||d){p=!0;break}h=d=!0}a.limit=a.markedOffset=u;l=!1;break;case">":if(!n){if(h){p=!0;break}h=!0}a.limit=u;l=!1;break;case"'":if(!n){if(d){p=!0;break}d=!0}a.markedOffset=u;l=!1;break;case" ":l=!1;break;default:if(!n&&l){p=!0;break}i=parseInt(r+e.charAt(c++),16);if(!n&&(isNaN(i)||i<0||i>255))throw TypeError("Illegal str: Not a debug encoded string");a.view[u++]=i;l=!0}if(p)throw TypeError("Illegal str: Invalid symbol at "+c)}if(!n){if(!f||!h)throw TypeError("Illegal str: Missing offset or limit");if(u<a.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+u+" < "+s)}return a};s.toHex=function(e,t){e="undefined"===typeof e?this.offset:e;t="undefined"===typeof t?this.limit:t;if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");e>>>=0;if("number"!==typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");t>>>=0;if(e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}for(var n,r=new Array(t-e);e<t;)(n=this.view[e++])<16?r.push("0",n.toString(16)):r.push(n.toString(16));return r.join("")};o.fromHex=function(e,t,n){if(!n){if("string"!==typeof e)throw TypeError("Illegal str: Not a string");if(e.length%2!==0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var r,i=e.length,s=new o(i/2|0,t),a=0,c=0;a<i;a+=2){r=parseInt(e.substring(a,a+2),16);if(!n&&(!isFinite(r)||r<0||r>255))throw TypeError("Illegal str: Contains non-hex characters");s.view[c++]=r}s.limit=c;return s};var l=function(){var e={MAX_CODEPOINT:1114111,encodeUTF8:function(e,t){var n=null;"number"===typeof e&&(n=e,e=function(){return null});for(;null!==n||null!==(n=e());){n<128?t(127&n):n<2048?(t(n>>6&31|192),t(63&n|128)):n<65536?(t(n>>12&15|224),t(n>>6&63|128),t(63&n|128)):(t(n>>18&7|240),t(n>>12&63|128),t(n>>6&63|128),t(63&n|128));n=null}},decodeUTF8:function(e,t){for(var n,r,i,o,s=function(e){e=e.slice(0,e.indexOf(null));var t=Error(e.toString());t.name="TruncatedError";t["bytes"]=e;throw t};null!==(n=e());)if(0===(128&n))t(n);else if(192===(224&n))null===(r=e())&&s([n,r]),t((31&n)<<6|63&r);else if(224===(240&n))(null===(r=e())||null===(i=e()))&&s([n,r,i]),t((15&n)<<12|(63&r)<<6|63&i);else{if(240!==(248&n))throw RangeError("Illegal starting byte: "+n);(null===(r=e())||null===(i=e())||null===(o=e()))&&s([n,r,i,o]),t((7&n)<<18|(63&r)<<12|(63&i)<<6|63&o)}},UTF16toUTF8:function(e,t){for(var n,r=null;null!==(n=null!==r?r:e());)if(n<55296||n>57343||null===(r=e())||r<56320||r>57343)t(n);else{t(1024*(n-55296)+r-56320+65536);r=null}null!==r&&t(r)},UTF8toUTF16:function(e,t){var n=null;"number"===typeof e&&(n=e,e=function(){return null});for(;null!==n||null!==(n=e());){n>65535?(t(55296+((n-=65536)>>10)),t(n%1024+56320)):t(n);n=null}},encodeUTF16toUTF8:function(t,n){e.UTF16toUTF8(t,(function(t){e.encodeUTF8(t,n)}))},decodeUTF8toUTF16:function(t,n){e.decodeUTF8(t,(function(t){e.UTF8toUTF16(t,n)}))},calculateCodePoint:function(e){return e<128?1:e<2048?2:e<65536?3:4},calculateUTF8:function(e){for(var t,n=0;null!==(t=e());)n+=t<128?1:t<2048?2:t<65536?3:4;return n},calculateUTF16asUTF8:function(t){var n=0,r=0;e.UTF16toUTF8(t,(function(e){++n;r+=e<128?1:e<2048?2:e<65536?3:4}));return[n,r]}};return e}();s.toUTF8=function(e,t){"undefined"===typeof e&&(e=this.offset);"undefined"===typeof t&&(t=this.limit);if(!this.noAssert){if("number"!==typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");e>>>=0;if("number"!==typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");t>>>=0;if(e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var r;try{l.decodeUTF8toUTF16(function(){return e<t?this.view[e++]:null}.bind(this),r=n())}catch(n){if(e!==t)throw RangeError("Illegal range: Truncated data, "+e+" != "+t)}return r()};o.fromUTF8=function(e,n,r){if(!r&&"string"!==typeof e)throw TypeError("Illegal str: Not a string");var i=new o(l.calculateUTF16asUTF8(t(e),!0)[1],n,r),s=0;l.encodeUTF16toUTF8(t(e),(function(e){i.view[s++]=e}));i.limit=s;return i};return o},void 0!==(o=r.apply(t,i))&&(e.exports=o)}()},3759:function(e,t){var n,r,i;
/**
 * @license long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/long.js for details
 */!function(){r=[],void 0!==(i="function"===typeof(n=function(){"use strict";function e(e,t,n){this.low=0|e;this.high=0|t;this.unsigned=!!n}function t(e){return!0===(e&&e["__isLong__"])}function n(e,t){var n,r,o;if(t){if((o=0<=(e>>>=0)&&e<256)&&(r=c[e]))return r;n=i(e,(0|e)<0?-1:0,!0);o&&(c[e]=n);return n}if((o=-128<=(e|=0)&&e<128)&&(r=a[e]))return r;n=i(e,e<0?-1:0,!1);o&&(a[e]=n);return n}function r(e,t){if(isNaN(e)||!isFinite(e))return t?m:p;if(t){if(e<0)return m;if(e>=f)return E}else{if(e<=-d)return S;if(e+1>=d)return v}return e<0?r(-e,t).neg():i(e%l|0,e/l|0,t)}function i(t,n,r){return new e(t,n,r)}function o(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return p;"number"===typeof t?(n=t,t=!1):t=!!t;if((n=n||10)<2||36<n)throw RangeError("radix");var i;if((i=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===i)return o(e.substring(1),t,n).neg();for(var s=r(u(n,8)),a=p,c=0;c<e.length;c+=8){var l=Math.min(8,e.length-c),f=parseInt(e.substring(c,c+l),n);if(l<8){var d=r(u(n,l));a=a.mul(d).add(r(f))}else a=(a=a.mul(s)).add(r(f))}a.unsigned=t;return a}function s(t){return t instanceof e?t:"number"===typeof t?r(t):"string"===typeof t?o(t):i(t.low,t.high,t.unsigned)}e.prototype.__isLong__;Object.defineProperty(e.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1});e.isLong=t;var a={},c={};e.fromInt=n;e.fromNumber=r;e.fromBits=i;var u=Math.pow;e.fromString=o;e.fromValue=s;var l=4294967296,f=l*l,d=f/2,h=n(1<<24),p=n(0);e.ZERO=p;var m=n(0,!0);e.UZERO=m;var g=n(1);e.ONE=g;var y=n(1,!0);e.UONE=y;var _=n(-1);e.NEG_ONE=_;var v=i(-1,2147483647,!1);e.MAX_VALUE=v;var E=i(-1,-1,!0);e.MAX_UNSIGNED_VALUE=E;var S=i(0,-2147483648,!1);e.MIN_VALUE=S;var b=e.prototype;b.toInt=function(){return this.unsigned?this.low>>>0:this.low};b.toNumber=function(){return this.unsigned?(this.high>>>0)*l+(this.low>>>0):this.high*l+(this.low>>>0)};b.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=r(e),n=this.div(t),i=n.mul(t).sub(this);return n.toString(e)+i.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=r(u(e,6),this.unsigned),s=this,a="";;){var c=s.div(o),l=(s.sub(c.mul(o)).toInt()>>>0).toString(e);if((s=c).isZero())return l+a;for(;l.length<6;)l="0"+l;a=""+l+a}};b.getHighBits=function(){return this.high};b.getHighBitsUnsigned=function(){return this.high>>>0};b.getLowBits=function(){return this.low};b.getLowBitsUnsigned=function(){return this.low>>>0};b.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1};b.isZero=function(){return 0===this.high&&0===this.low};b.isNegative=function(){return!this.unsigned&&this.high<0};b.isPositive=function(){return this.unsigned||this.high>=0};b.isOdd=function(){return 1===(1&this.low)};b.isEven=function(){return 0===(1&this.low)};b.equals=function(e){t(e)||(e=s(e));return(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&this.high===e.high&&this.low===e.low};b.eq=b.equals;b.notEquals=function(e){return!this.eq(e)};b.neq=b.notEquals;b.lessThan=function(e){return this.comp(e)<0};b.lt=b.lessThan;b.lessThanOrEqual=function(e){return this.comp(e)<=0};b.lte=b.lessThanOrEqual;b.greaterThan=function(e){return this.comp(e)>0};b.gt=b.greaterThan;b.greaterThanOrEqual=function(e){return this.comp(e)>=0};b.gte=b.greaterThanOrEqual;b.compare=function(e){t(e)||(e=s(e));if(this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};b.comp=b.compare;b.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(g)};b.neg=b.negate;b.add=function(e){t(e)||(e=s(e));var n=this.high>>>16,r=65535&this.high,o=this.low>>>16,a=65535&this.low,c=e.high>>>16,u=65535&e.high,l=e.low>>>16,f=0,d=0,h=0,p=0;h+=(p+=a+(65535&e.low))>>>16;d+=(h+=o+l)>>>16;f+=(d+=r+u)>>>16;f+=n+c;return i((h&=65535)<<16|(p&=65535),(f&=65535)<<16|(d&=65535),this.unsigned)};b.subtract=function(e){t(e)||(e=s(e));return this.add(e.neg())};b.sub=b.subtract;b.multiply=function(e){if(this.isZero())return p;t(e)||(e=s(e));if(e.isZero())return p;if(this.eq(S))return e.isOdd()?S:p;if(e.eq(S))return this.isOdd()?S:p;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(h)&&e.lt(h))return r(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,o=65535&this.high,a=this.low>>>16,c=65535&this.low,u=e.high>>>16,l=65535&e.high,f=e.low>>>16,d=65535&e.low,m=0,g=0,y=0,_=0;y+=(_+=c*d)>>>16;g+=(y+=a*d)>>>16;y&=65535;g+=(y+=c*f)>>>16;m+=(g+=o*d)>>>16;g&=65535;m+=(g+=a*f)>>>16;g&=65535;m+=(g+=c*l)>>>16;m+=n*d+o*f+a*l+c*u;return i((y&=65535)<<16|(_&=65535),(m&=65535)<<16|(g&=65535),this.unsigned)};b.mul=b.multiply;b.divide=function(e){t(e)||(e=s(e));if(e.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?m:p;var n,i,o;if(this.unsigned){e.unsigned||(e=e.toUnsigned());if(e.gt(this))return m;if(e.gt(this.shru(1)))return y;o=m}else{if(this.eq(S)){if(e.eq(g)||e.eq(_))return S;if(e.eq(S))return g;if((n=this.shr(1).div(e).shl(1)).eq(p))return e.isNegative()?g:_;i=this.sub(e.mul(n));return n.add(i.div(e))}if(e.eq(S))return this.unsigned?m:p;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=p}i=this;for(;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(n)/Math.LN2),c=a>48?u(2,a-48):1,l=r(n),f=l.mul(e);f.isNegative()||f.gt(i);)f=(l=r(n-=c,this.unsigned)).mul(e);l.isZero()&&(l=g);o=o.add(l);i=i.sub(f)}return o};b.div=b.divide;b.modulo=function(e){t(e)||(e=s(e));return this.sub(this.div(e).mul(e))};b.mod=b.modulo;b.not=function(){return i(~this.low,~this.high,this.unsigned)};b.and=function(e){t(e)||(e=s(e));return i(this.low&e.low,this.high&e.high,this.unsigned)};b.or=function(e){t(e)||(e=s(e));return i(this.low|e.low,this.high|e.high,this.unsigned)};b.xor=function(e){t(e)||(e=s(e));return i(this.low^e.low,this.high^e.high,this.unsigned)};b.shiftLeft=function(e){t(e)&&(e=e.toInt());return 0===(e&=63)?this:e<32?i(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):i(0,this.low<<e-32,this.unsigned)};b.shl=b.shiftLeft;b.shiftRight=function(e){t(e)&&(e=e.toInt());return 0===(e&=63)?this:e<32?i(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):i(this.high>>e-32,this.high<0?-1:0,this.unsigned)};b.shr=b.shiftRight;b.shiftRightUnsigned=function(e){t(e)&&(e=e.toInt());if(0===(e&=63))return this;var n=this.high;return e<32?i(this.low>>>e|n<<32-e,n>>>e,this.unsigned):i(32===e?n:n>>>e-32,0,this.unsigned)};b.shru=b.shiftRightUnsigned;b.toSigned=function(){return this.unsigned?i(this.low,this.high,!1):this};b.toUnsigned=function(){return this.unsigned?this:i(this.low,this.high,!0)};b.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};b.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24&255,255&e,e>>>8&255,e>>>16&255,e>>>24&255]};b.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t]};return e})?n.apply(t,r):n)&&(e.exports=i)}()},1711:function(e,t){var n,r,i;!function(){r=[],void 0!==(i="function"===typeof(n=function(){"use strict";var e=function(){this._listeners={}};e.prototype.addEventListener=function(e,t){this._listeners[e]=this._listeners[e]||[];this._listeners[e].indexOf(t)<0&&this._listeners[e].push(t)};e.prototype.removeEventListener=function(e,t){if(this._listeners[e]){var n=this._listeners[e].indexOf(t);n<0||this._listeners[e].splice(n,1)}};e.prototype.dispatchEvent=function(e){if(this._listeners[e.type]&&this._listeners[e.type].length)for(var t=this._listeners[e.type].slice(),n=0,r=t.length;n<r;++n)t[n].call(this,e)};var t=function(e){var t=!1;return{next:function(){if(t)return{done:!0};t=!0;return{value:e}}}},n=function(e,t,n){this.target=e;this.type=t;this.data=n},r=function(n,r,i){e.call(this);if("number"!==typeof r||Math.floor(r)!==r||r<1)throw new Error("Invalid concurrency");this._concurrency=r;this._options=i||{};this._options.promise=this._options.promise||Promise;this._iterator=function(e,n){var r=typeof e;if("object"===r){if("function"===typeof e.next)return e;if("function"===typeof e.then)return t(e)}return"function"===r?function(e){return"function"===typeof e.constructor&&"GeneratorFunction"===e.constructor.name}(e)?e():function(e){return{next:function(){var t=e();return t?{value:t}:{done:!0}}}}(e):t(n.resolve(e))}(n,this._options.promise);this._done=!1;this._size=0;this._promise=null;this._callbacks=null};r.prototype=new e;r.prototype.constructor=r;r.prototype.concurrency=function(e){if("undefined"!==typeof e){this._concurrency=e;this.active()&&this._proceed()}return this._concurrency};r.prototype.size=function(){return this._size};r.prototype.active=function(){return!!this._promise};r.prototype.promise=function(){return this._promise};r.prototype.start=function(){var e=this,t=this._options.promise;this._promise=new t((function(t,n){e._callbacks={reject:n,resolve:t};e._proceed()}));return this._promise};r.prototype._fireEvent=function(e,t){this.dispatchEvent(new n(this,e,t))};r.prototype._settle=function(e){e?this._callbacks.reject(e):this._callbacks.resolve();this._promise=null;this._callbacks=null};r.prototype._onPooledPromiseFulfilled=function(e,t){this._size--;if(this.active()){this._fireEvent("fulfilled",{promise:e,result:t});this._proceed()}};r.prototype._onPooledPromiseRejected=function(e,t){this._size--;if(this.active()){this._fireEvent("rejected",{promise:e,error:t});this._settle(t||new Error("Unknown error"))}};r.prototype._trackPromise=function(e){var t=this;e.then((function(n){t._onPooledPromiseFulfilled(e,n)}),(function(n){t._onPooledPromiseRejected(e,n)}))["catch"]((function(e){t._settle(new Error("Promise processing failed: "+e))}))};r.prototype._proceed=function(){if(!this._done){for(var e=null;this._size<this._concurrency&&!(e=this._iterator.next()).done;){this._size++;this._trackPromise(e.value)}this._done=null===e||!!e.done}this._done&&0===this._size&&this._settle()};r.PromisePoolEvent=n;r.PromisePool=r;return r})?n.apply(t,r):n)&&(e.exports=i)}()},7007:e=>{"use strict";function t(){t.init.call(this)}function n(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function r(e){return void 0===e._maxListeners?t.defaultMaxListeners:e._maxListeners}function i(e,t,i,o){var s,a,c;n(i);if(void 0===(a=e._events)){a=e._events=Object.create(null);e._eventsCount=0}else{if(void 0!==a.newListener){e.emit("newListener",t,i.listener?i.listener:i);a=e._events}c=a[t]}if(void 0===c){c=a[t]=i;++e._eventsCount}else{"function"===typeof c?c=a[t]=o?[i,c]:[c,i]:o?c.unshift(i):c.push(i);if((s=r(e))>0&&c.length>s&&!c.warned){c.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning";u.emitter=e;u.type=t;u.count=c.length;!function(){console&&console.warn}()}}return e}function o(){if(!this.fired){this.target.removeListener(this.type,this.wrapFn);this.fired=!0;return 0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}}function s(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=o.bind(r);i.listener=n;r.wrapFn=i;return i}function a(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):u(i,i.length)}function c(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function u(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function l(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i);n(o)}))}}var f,d="object"===typeof Reflect?Reflect:null,h=d&&"function"===typeof d.apply?d.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};f=d&&"function"===typeof d.ownKeys?d.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var p=Number.isNaN||function(e){return e!==e};e.exports=t;e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o);r(n)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",i);n([].slice.call(arguments))}l(e,t,o,{once:!0});"error"!==t&&function(e,t){"function"===typeof e.on&&l(e,"error",t,{once:!0})}(e,i)}))};t.EventEmitter=t;t.prototype._events=void 0;t.prototype._eventsCount=0;t.prototype._maxListeners=void 0;var m=10;Object.defineProperty(t,"defaultMaxListeners",{enumerable:!0,get:function(){return m},set:function(e){if("number"!==typeof e||e<0||p(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");m=e}});t.init=function(){if(void 0===this._events||this._events===Object.getPrototypeOf(this)._events){this._events=Object.create(null);this._eventsCount=0}this._maxListeners=this._maxListeners||void 0};t.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||p(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");this._maxListeners=e;return this};t.prototype.getMaxListeners=function(){return r(this)};t.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;t.length>0&&(o=t[0]);if(o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));s.context=o;throw s}var a=i[e];if(void 0===a)return!1;if("function"===typeof a)h(a,this,t);else{var c=a.length,l=u(a,c);for(n=0;n<c;++n)h(l[n],this,t)}return!0};t.prototype.addListener=function(e,t){return i(this,e,t,!1)};t.prototype.on=t.prototype.addListener;t.prototype.prependListener=function(e,t){return i(this,e,t,!0)};t.prototype.once=function(e,t){n(t);this.on(e,s(this,e,t));return this};t.prototype.prependOnceListener=function(e,t){n(t);this.prependListener(e,s(this,e,t));return this};t.prototype.removeListener=function(e,t){var r,i,o,s,a;n(t);if(void 0===(i=this._events))return this;if(void 0===(r=i[e]))return this;if(r===t||r.listener===t)if(0===--this._eventsCount)this._events=Object.create(null);else{delete i[e];i.removeListener&&this.emit("removeListener",e,r.listener||t)}else if("function"!==typeof r){o=-1;for(s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){a=r[s].listener;o=s;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o);1===r.length&&(i[e]=r[0]);void 0!==i.removeListener&&this.emit("removeListener",e,a||t)}return this};t.prototype.off=t.prototype.removeListener;t.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener){if(0===arguments.length){this._events=Object.create(null);this._eventsCount=0}else void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]);return this}if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);this.removeAllListeners("removeListener");this._events=Object.create(null);this._eventsCount=0;return this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this};t.prototype.listeners=function(e){return a(this,e,!0)};t.prototype.rawListeners=function(e){return a(this,e,!1)};t.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):c.call(e,t)};t.prototype.listenerCount=c;t.prototype.eventNames=function(){return this._eventsCount>0?f(this._events):[]}},6796:(e,t,n)=>{var r=n(1013),i=n(4160);"undefined"===typeof i["adminCore"]&&(i["adminCore"]={});"undefined"===typeof i["adminCore"]["adminApi"]&&(i["adminCore"]["adminApi"]={});i["adminCore"]["adminApi"]["adminApi"]=r;e.exports=r},3964:(e,t,n)=>{var r=n(4965),i=n(4160);"undefined"===typeof i["adminCore"]&&(i["adminCore"]={});"undefined"===typeof i["adminCore"]["adminApi"]&&(i["adminCore"]["adminApi"]={});i["adminCore"]["adminApi"]["initLoginCli"]=r;e.exports=r},2363:(e,t,n)=>{var r=n(8975);n(4160)["log4javascript"]=r;e.exports=r},4160:(e,t,n)=>{"use strict";e.exports=function(){if("object"===typeof globalThis)return globalThis;var e;try{e=this||new Function("return this")()}catch(e){if("object"===typeof window)return window;if("object"===typeof self)return self;if("undefined"!==typeof n.g)return n.g}return e}()},6454:(e,t,n)=>{"use strict";const r=n(3918),i=n(2923),o=n(8904);e.exports={XMLParser:i,XMLValidator:r,XMLBuilder:o}},5334:(e,t)=>{"use strict";const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+n+"]["+n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",i=new RegExp("^"+r+"$");t.isExist=function(e){return"undefined"!==typeof e};t.isEmptyObject=function(e){return 0===Object.keys(e).length};t.merge=function(e,t,n){if(t){const r=Object.keys(t),i=r.length;for(let o=0;o<i;o++)e[r[o]]="strict"===n?[t[r[o]]]:t[r[o]]}};t.getValue=function(e){return t.isExist(e)?e:""};t.isName=function(e){const t=i.exec(e);return!(null===t||"undefined"===typeof t)};t.getAllMatches=function(e,t){const n=[];let r=t.exec(e);for(;r;){const i=[];i.startIndex=t.lastIndex-r[0].length;const o=r.length;for(let e=0;e<o;e++)i.push(r[e]);n.push(i);r=t.exec(e)}return n};t.nameRegexp=r},3918:(e,t,n)=>{"use strict";function r(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function i(e,t){const n=t;for(;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{const r=e.substr(n,t-n);if(t>5&&"xml"===r)return u("InvalidXml","XML declaration allowed only at the start of the document.",d(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function o(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]){n--;if(0===n)break}}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}function s(e,t){let n="",r="",i=!1;for(;t<e.length;t++){if(e[t]===g||e[t]===y)""===r?r=e[t]:r!==e[t]||(r="");else if(">"===e[t]&&""===r){i=!0;break}n+=e[t]}return""===r&&{value:n,index:t,tagClosed:i}}function a(e,t){const n=p.getAllMatches(e,_),r={};for(let e=0;e<n.length;e++){if(0===n[e][1].length)return u("InvalidAttr","Attribute '"+n[e][2]+"' has no space in starting.",h(n[e]));if(void 0!==n[e][3]&&void 0===n[e][4])return u("InvalidAttr","Attribute '"+n[e][2]+"' is without value.",h(n[e]));if(void 0===n[e][3]&&!t.allowBooleanAttributes)return u("InvalidAttr","boolean attribute '"+n[e][2]+"' is not allowed.",h(n[e]));const i=n[e][2];if(!l(i))return u("InvalidAttr","Attribute '"+i+"' is an invalid name.",h(n[e]));if(r.hasOwnProperty(i))return u("InvalidAttr","Attribute '"+i+"' is repeated.",h(n[e]));r[i]=1}return!0}function c(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let n=/\d/;if("x"===e[t]){t++;n=/[\da-fA-F]/}for(;t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);let n=0;for(;t<e.length;t++,n++)if(!e[t].match(/\w/)||n>=20){if(";"===e[t])break;return-1}return t}function u(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function l(e){return p.isName(e)}function f(e){return p.isName(e)}function d(e,t){const n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function h(e){return e.startIndex+e[1].length}const p=n(5334),m={allowBooleanAttributes:!1,unpairedTags:[]};t.validate=function(e,t){t=Object.assign({},m,t);const n=[];let l=!1,h=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let p=0;p<e.length;p++)if("<"===e[p]&&"?"===e[p+1]){p+=2;p=i(e,p);if(p.err)return p}else{if("<"!==e[p]){if(r(e[p]))continue;return u("InvalidChar","char '"+e[p]+"' is not expected.",d(e,p))}{let m=p;p++;if("!"===e[p]){p=o(e,p);continue}{let g=!1;if("/"===e[p]){g=!0;p++}let y="";for(;p<e.length&&">"!==e[p]&&" "!==e[p]&&"\t"!==e[p]&&"\n"!==e[p]&&"\r"!==e[p];p++)y+=e[p];y=y.trim();if("/"===y[y.length-1]){y=y.substring(0,y.length-1);p--}if(!f(y)){let t;t=0===y.trim().length?"Invalid space after '<'.":"Tag '"+y+"' is an invalid name.";return u("InvalidTag",t,d(e,p))}const _=s(e,p);if(!1===_)return u("InvalidAttr","Attributes for '"+y+"' have open quote.",d(e,p));let v=_.value;p=_.index;if("/"===v[v.length-1]){const n=p-v.length;v=v.substring(0,v.length-1);const r=a(v,t);if(!0!==r)return u(r.err.code,r.err.msg,d(e,n+r.err.line));l=!0}else if(g){if(!_.tagClosed)return u("InvalidTag","Closing tag '"+y+"' doesn't have proper closing.",d(e,p));if(v.trim().length>0)return u("InvalidTag","Closing tag '"+y+"' can't have attributes or invalid starting.",d(e,m));if(0===n.length)return u("InvalidTag","Closing tag '"+y+"' has not been opened.",d(e,m));{const t=n.pop();if(y!==t.tagName){let n=d(e,t.tagStartPos);return u("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+n.line+", col "+n.col+") instead of closing tag '"+y+"'.",d(e,m))}0==n.length&&(h=!0)}}else{const r=a(v,t);if(!0!==r)return u(r.err.code,r.err.msg,d(e,p-v.length+r.err.line));if(!0===h)return u("InvalidXml","Multiple possible root nodes found.",d(e,p));-1!==t.unpairedTags.indexOf(y)||n.push({tagName:y,tagStartPos:m});l=!0}for(p++;p<e.length;p++)if("<"===e[p]){if("!"===e[p+1]){p++;p=o(e,p);continue}if("?"!==e[p+1])break;p=i(e,++p);if(p.err)return p}else if("&"===e[p]){const t=c(e,p);if(-1==t)return u("InvalidChar","char '&' is not expected.",d(e,p));p=t}else if(!0===h&&!r(e[p]))return u("InvalidXml","Extra text at the end",d(e,p));"<"===e[p]&&p--}}}return l?1==n.length?u("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",d(e,n[0].tagStartPos)):n.length<=0||u("InvalidXml","Invalid '"+JSON.stringify(n.map((e=>e.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):u("InvalidXml","Start tag expected.",1)};const g='"',y="'",_=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g")},8904:(e,t,n)=>{"use strict";function r(e){this.options=Object.assign({},c,e);if(this.options.ignoreAttributes||this.options.attributesGroupName)this.isAttribute=function(){return!1};else{this.attrPrefixLen=this.options.attributeNamePrefix.length;this.isAttribute=s}this.processTextOrObjNode=i;if(this.options.format){this.indentate=o;this.tagEndChar=">\n";this.newLine="\n"}else{this.indentate=function(){return""};this.tagEndChar=">";this.newLine=""}}function i(e,t,n){const r=this.j2x(e,n+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextValNode(e[this.options.textNodeName],t,r.attrStr,n):this.buildObjectNode(r.val,t,r.attrStr,n)}function o(e){return this.options.indentBy.repeat(e)}function s(e){return!(!e.startsWith(this.options.attributeNamePrefix)||e===this.options.textNodeName)&&e.substr(this.attrPrefixLen)}const a=n(2788),c={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};r.prototype.build=function(e){if(this.options.preserveOrder)return a(e,this.options);Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e});return this.j2x(e,0).val};r.prototype.j2x=function(e,t){let n="",r="";for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i))if("undefined"===typeof e[i])this.isAttribute(i)&&(r+="");else if(null===e[i])this.isAttribute(i)?r+="":"?"===i[0]?r+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)r+=this.buildTextValNode(e[i],i,"",t);else if("object"!==typeof e[i]){const o=this.isAttribute(i);if(o)n+=this.buildAttrPairStr(o,""+e[i]);else if(i===this.options.textNodeName){let t=this.options.tagValueProcessor(i,""+e[i]);r+=this.replaceEntitiesValue(t)}else r+=this.buildTextValNode(e[i],i,"",t)}else if(Array.isArray(e[i])){const n=e[i].length;let o="",s="";for(let a=0;a<n;a++){const n=e[i][a];if("undefined"===typeof n);else if(null===n)"?"===i[0]?r+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if("object"===typeof n)if(this.options.oneListGroup){const e=this.j2x(n,t+1);o+=e.val;this.options.attributesGroupName&&n.hasOwnProperty(this.options.attributesGroupName)&&(s+=e.attrStr)}else o+=this.processTextOrObjNode(n,i,t);else if(this.options.oneListGroup){let e=this.options.tagValueProcessor(i,n);e=this.replaceEntitiesValue(e);o+=e}else o+=this.buildTextValNode(n,i,"",t)}this.options.oneListGroup&&(o=this.buildObjectNode(o,i,s,t));r+=o}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){const t=Object.keys(e[i]),r=t.length;for(let o=0;o<r;o++)n+=this.buildAttrPairStr(t[o],""+e[i][t[o]])}else r+=this.processTextOrObjNode(e[i],i,t);return{attrStr:n,val:r}};r.prototype.buildAttrPairStr=function(e,t){t=this.options.attributeValueProcessor(e,""+t);t=this.replaceEntitiesValue(t);return this.options.suppressBooleanAttributes&&"true"===t?" "+e:" "+e+'="'+t+'"'};r.prototype.buildObjectNode=function(e,t,n,r){if(""===e)return"?"===t[0]?this.indentate(r)+"<"+t+n+"?"+this.tagEndChar:this.indentate(r)+"<"+t+n+this.closeTag(t)+this.tagEndChar;{let i="</"+t+this.tagEndChar,o="";if("?"===t[0]){o="?";i=""}return!n&&""!==n||-1!==e.indexOf("<")?!1!==this.options.commentPropName&&t===this.options.commentPropName&&0===o.length?this.indentate(r)+`\x3c!--${e}--\x3e`+this.newLine:this.indentate(r)+"<"+t+n+o+this.tagEndChar+e+this.indentate(r)+i:this.indentate(r)+"<"+t+n+o+">"+e+i}};r.prototype.closeTag=function(e){let t="";-1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode||(t="/"):t=this.options.suppressEmptyNode?"/":`></${e}`;return t};r.prototype.buildTextValNode=function(e,t,n,r){if(!1!==this.options.cdataPropName&&t===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${e}]]>`+this.newLine;if(!1!==this.options.commentPropName&&t===this.options.commentPropName)return this.indentate(r)+`\x3c!--${e}--\x3e`+this.newLine;if("?"===t[0])return this.indentate(r)+"<"+t+n+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(t,e);i=this.replaceEntitiesValue(i);return""===i?this.indentate(r)+"<"+t+n+this.closeTag(t)+this.tagEndChar:this.indentate(r)+"<"+t+n+">"+i+"</"+t+this.tagEndChar}};r.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const n=this.options.entities[t];e=e.replace(n.regex,n.val)}return e};e.exports=r},2788:e=>{function t(e,s,a,c){let u="",l=!1;for(let f=0;f<e.length;f++){const d=e[f],h=n(d);if(void 0===h)continue;let p="";p=0===a.length?h:`${a}.${h}`;if(h===s.textNodeName){let e=d[h];if(!i(p,s)){e=s.tagValueProcessor(h,e);e=o(e,s)}l&&(u+=c);u+=e;l=!1;continue}if(h===s.cdataPropName){l&&(u+=c);u+=`<![CDATA[${d[h][0][s.textNodeName]}]]>`;l=!1;continue}if(h===s.commentPropName){u+=c+`\x3c!--${d[h][0][s.textNodeName]}--\x3e`;l=!0;continue}if("?"===h[0]){const e=r(d[":@"],s),t="?xml"===h?"":c;let n=d[h][0][s.textNodeName];n=0!==n.length?" "+n:"";u+=t+`<${h}${n}${e}?>`;l=!0;continue}let m=c;""!==m&&(m+=s.indentBy);const g=c+`<${h}${r(d[":@"],s)}`,y=t(d[h],s,p,m);if(-1!==s.unpairedTags.indexOf(h))s.suppressUnpairedNode?u+=g+">":u+=g+"/>";else if(y&&0!==y.length||!s.suppressEmptyNode)if(y&&y.endsWith(">"))u+=g+`>${y}${c}</${h}>`;else{u+=g+">";y&&""!==c&&(y.includes("/>")||y.includes("</"))?u+=c+s.indentBy+y+c:u+=y;u+=`</${h}>`}else u+=g+"/>";l=!0}return u}function n(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];if(e.hasOwnProperty(r)&&":@"!==r)return r}}function r(e,t){let n="";if(e&&!t.ignoreAttributes)for(let r in e){if(!e.hasOwnProperty(r))continue;let i=t.attributeValueProcessor(r,e[r]);i=o(i,t);!0===i&&t.suppressBooleanAttributes?n+=` ${r.substr(t.attributeNamePrefix.length)}`:n+=` ${r.substr(t.attributeNamePrefix.length)}="${i}"`}return n}function i(e,t){let n=(e=e.substr(0,e.length-t.textNodeName.length-1)).substr(e.lastIndexOf(".")+1);for(let r in t.stopNodes)if(t.stopNodes[r]===e||t.stopNodes[r]==="*."+n)return!0;return!1}function o(e,t){if(e&&e.length>0&&t.processEntities)for(let n=0;n<t.entities.length;n++){const r=t.entities[n];e=e.replace(r.regex,r.val)}return e}e.exports=function(e,n){let r="";n.format&&n.indentBy.length>0&&(r="\n");return t(e,n,"",r)}},9400:(e,t,n)=>{function r(e,t){let n="";for(;t<e.length&&"'"!==e[t]&&'"'!==e[t];t++)n+=e[t];n=n.trim();if(-1!==n.indexOf(" "))throw new Error("External entites are not supported");const r=e[t++];let i="";for(;t<e.length&&e[t]!==r;t++)i+=e[t];return[n,i,t]}function i(e,t){return"!"===e[t+1]&&"-"===e[t+2]&&"-"===e[t+3]}function o(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"N"===e[t+3]&&"T"===e[t+4]&&"I"===e[t+5]&&"T"===e[t+6]&&"Y"===e[t+7]}function s(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"L"===e[t+3]&&"E"===e[t+4]&&"M"===e[t+5]&&"E"===e[t+6]&&"N"===e[t+7]&&"T"===e[t+8]}function a(e,t){return"!"===e[t+1]&&"A"===e[t+2]&&"T"===e[t+3]&&"T"===e[t+4]&&"L"===e[t+5]&&"I"===e[t+6]&&"S"===e[t+7]&&"T"===e[t+8]}function c(e,t){return"!"===e[t+1]&&"N"===e[t+2]&&"O"===e[t+3]&&"T"===e[t+4]&&"A"===e[t+5]&&"T"===e[t+6]&&"I"===e[t+7]&&"O"===e[t+8]&&"N"===e[t+9]}function u(e){if(l.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}const l=n(5334);e.exports=function(e,t){const n={};if("O"!==e[t+3]||"C"!==e[t+4]||"T"!==e[t+5]||"Y"!==e[t+6]||"P"!==e[t+7]||"E"!==e[t+8])throw new Error("Invalid Tag instead of DOCTYPE");{t+=9;let l=1,f=!1,d=!1,h="";for(;t<e.length;t++)if("<"!==e[t]||d)if(">"===e[t]){if(d){if("-"===e[t-1]&&"-"===e[t-2]){d=!1;l--}}else l--;if(0===l)break}else"["===e[t]?f=!0:h+=e[t];else{if(f&&o(e,t)){t+=7;[entityName,val,t]=r(e,t+1);-1===val.indexOf("&")&&(n[u(entityName)]={regx:RegExp(`&${entityName};`,"g"),val})}else if(f&&s(e,t))t+=8;else if(f&&a(e,t))t+=8;else if(f&&c(e,t))t+=9;else{if(!i)throw new Error("Invalid DOCTYPE");d=!0}l++;h=""}if(0!==l)throw new Error("Unclosed DOCTYPE")}return{entities:n,i:t}}},460:(e,t)=>{const n={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e){return e}};t.buildOptions=function(e){return Object.assign({},n,e)};t.defaultOptions=n},7680:(e,t,n)=>{"use strict";function r(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:e[r]}}}function i(e,t,n,r,i,o,s){if(void 0!==e){this.options.trimValues&&!r&&(e=e.trim());if(e.length>0){s||(e=this.replaceEntitiesValue(e));const r=this.options.tagValueProcessor(t,e,n,i,o);return null===r||void 0===r?e:typeof r!==typeof e||r!==e?r:this.options.trimValues||e.trim()===e?h(e,this.options.parseTagValue,this.options.numberParseOptions):e}}}function o(e){if(this.options.removeNSPrefix){const t=e.split(":"),n="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=n+t[1])}return e}function s(e,t){if(!this.options.ignoreAttributes&&"string"===typeof e){const n=p.getAllMatches(e,_),r=n.length,i={};for(let e=0;e<r;e++){const r=this.resolveNameSpace(n[e][1]);let o=n[e][4],s=this.options.attributeNamePrefix+r;if(r.length){this.options.transformAttributeName&&(s=this.options.transformAttributeName(s));"__proto__"===s&&(s="#__proto__");if(void 0!==o){this.options.trimValues&&(o=o.trim());o=this.replaceEntitiesValue(o);const e=this.options.attributeValueProcessor(r,o,t);i[s]=null===e||void 0===e?o:typeof e!==typeof o||e!==o?e:h(o,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[s]=!0)}}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){const e={};e[this.options.attributesGroupName]=i;return e}return i}}function a(e,t,n){const r=this.options.updateTag(t.tagname,n,t[":@"]);if(!1===r);else if("string"===typeof r){t.tagname=r;e.addChild(t)}else e.addChild(t)}function c(e,t,n,r){if(e){void 0===r&&(r=0===Object.keys(t.child).length);void 0!==(e=this.parseTextData(e,t.tagname,n,!1,!!t[":@"]&&0!==Object.keys(t[":@"]).length,r))&&""!==e&&t.add(this.options.textNodeName,e);e=""}return e}function u(e,t,n){const r="*."+n;for(const n in e){const i=e[n];if(r===i||t===i)return!0}return!1}function l(e,t,n,r){const i=e.indexOf(t,n);if(-1===i)throw new Error(r);return i+t.length-1}function f(e,t,n,r=">"){const i=function(e,t,n=">"){let r,i="";for(let o=t;o<e.length;o++){let t=e[o];if(r)t===r&&(r="");else if('"'===t||"'"===t)r=t;else if(t===n[0]){if(!n[1])return{data:i,index:o};if(e[o+1]===n[1])return{data:i,index:o}}else"\t"===t&&(t=" ");i+=t}}(e,t+1,r);if(!i)return;let o=i.data;const s=i.index,a=o.search(/\s/);let c=o,u=!0;if(-1!==a){c=o.substring(0,a);o=o.substring(a+1).trimStart()}const l=c;if(n){const e=c.indexOf(":");if(-1!==e){c=c.substr(e+1);u=c!==i.data.substr(e+1)}}return{tagName:c,tagExp:o,closeIndex:s,attrExpPresent:u,rawTagName:l}}function d(e,t,n){const r=n;let i=1;for(;n<e.length;n++)if("<"===e[n])if("/"===e[n+1]){const o=l(e,">",n,`${t} is not closed`);if(e.substring(n+2,o).trim()===t){i--;if(0===i)return{tagContent:e.substring(r,n),i:o}}n=o}else if("?"===e[n+1])n=l(e,"?>",n+1,"StopNode is not closed.");else if("!--"===e.substr(n+1,3))n=l(e,"--\x3e",n+3,"StopNode is not closed.");else if("!["===e.substr(n+1,2))n=l(e,"]]>",n,"StopNode is not closed.")-2;else{const r=f(e,n,">");if(r){(r&&r.tagName)===t&&"/"!==r.tagExp[r.tagExp.length-1]&&i++;n=r.closeIndex}}}function h(e,t,n){if(t&&"string"===typeof e){const t=e.trim();return"true"===t||"false"!==t&&y(e,n)}return p.isExist(e)?e:""}const p=n(5334),m=n(3832),g=n(9400),y=n(7983),_=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm"),v=function(e){e=e.replace(/\r\n?/g,"\n");const t=new m("!xml");let n=t,r="",i="";for(let o=0;o<e.length;o++)if("<"===e[o])if("/"===e[o+1]){const t=l(e,">",o,"Closing Tag is not closed.");let s=e.substring(o+2,t).trim();if(this.options.removeNSPrefix){const e=s.indexOf(":");-1!==e&&(s=s.substr(e+1))}this.options.transformTagName&&(s=this.options.transformTagName(s));n&&(r=this.saveTextToParentTag(r,n,i));const a=i.substring(i.lastIndexOf(".")+1);if(s&&-1!==this.options.unpairedTags.indexOf(s))throw new Error(`Unpaired tag can not be used as closing tag: </${s}>`);let c=0;if(a&&-1!==this.options.unpairedTags.indexOf(a)){c=i.lastIndexOf(".",i.lastIndexOf(".")-1);this.tagsNodeStack.pop()}else c=i.lastIndexOf(".");i=i.substring(0,c);n=this.tagsNodeStack.pop();r="";o=t}else if("?"===e[o+1]){let t=f(e,o,!1,"?>");if(!t)throw new Error("Pi Tag is not closed.");r=this.saveTextToParentTag(r,n,i);if(this.options.ignoreDeclaration&&"?xml"===t.tagName||this.options.ignorePiTags);else{const e=new m(t.tagName);e.add(this.options.textNodeName,"");t.tagName!==t.tagExp&&t.attrExpPresent&&(e[":@"]=this.buildAttributesMap(t.tagExp,i,t.tagName));this.addChild(n,e,i)}o=t.closeIndex+1}else if("!--"===e.substr(o+1,3)){const t=l(e,"--\x3e",o+4,"Comment is not closed.");if(this.options.commentPropName){const s=e.substring(o+4,t-2);r=this.saveTextToParentTag(r,n,i);n.add(this.options.commentPropName,[{[this.options.textNodeName]:s}])}o=t}else if("!D"===e.substr(o+1,2)){const t=g(e,o);this.docTypeEntities=t.entities;o=t.i}else if("!["===e.substr(o+1,2)){const t=l(e,"]]>",o,"CDATA is not closed.")-2,s=e.substring(o+9,t);r=this.saveTextToParentTag(r,n,i);let a=this.parseTextData(s,n.tagname,i,!0,!1,!0,!0);void 0==a&&(a="");this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:s}]):n.add(this.options.textNodeName,a);o=t+2}else{let s=f(e,o,this.options.removeNSPrefix),a=s.tagName;const c=s.rawTagName;let u=s.tagExp,l=s.attrExpPresent,d=s.closeIndex;this.options.transformTagName&&(a=this.options.transformTagName(a));n&&r&&"!xml"!==n.tagname&&(r=this.saveTextToParentTag(r,n,i,!1));const h=n;if(h&&-1!==this.options.unpairedTags.indexOf(h.tagname)){n=this.tagsNodeStack.pop();i=i.substring(0,i.lastIndexOf("."))}a!==t.tagname&&(i+=i?"."+a:a);if(this.isItStopNode(this.options.stopNodes,i,a)){let t="";if(u.length>0&&u.lastIndexOf("/")===u.length-1){if("/"===a[a.length-1]){a=a.substr(0,a.length-1);i=i.substr(0,i.length-1);u=a}else u=u.substr(0,u.length-1);o=s.closeIndex}else if(-1!==this.options.unpairedTags.indexOf(a))o=s.closeIndex;else{const n=this.readStopNodeData(e,c,d+1);if(!n)throw new Error(`Unexpected end of ${c}`);o=n.i;t=n.tagContent}const r=new m(a);a!==u&&l&&(r[":@"]=this.buildAttributesMap(u,i,a));t&&(t=this.parseTextData(t,a,i,!0,l,!0,!0));i=i.substr(0,i.lastIndexOf("."));r.add(this.options.textNodeName,t);this.addChild(n,r,i)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){if("/"===a[a.length-1]){a=a.substr(0,a.length-1);i=i.substr(0,i.length-1);u=a}else u=u.substr(0,u.length-1);this.options.transformTagName&&(a=this.options.transformTagName(a));const e=new m(a);a!==u&&l&&(e[":@"]=this.buildAttributesMap(u,i,a));this.addChild(n,e,i);i=i.substr(0,i.lastIndexOf("."))}else{const e=new m(a);this.tagsNodeStack.push(n);a!==u&&l&&(e[":@"]=this.buildAttributesMap(u,i,a));this.addChild(n,e,i);n=e}r="";o=d}}else r+=e[o];return t.child},E=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(let t in this.lastEntities){const n=this.lastEntities[t];e=e.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const n=this.htmlEntities[t];e=e.replace(n.regex,n.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};e.exports=class{constructor(e){this.options=e;this.currentNode=null;this.tagsNodeStack=[];this.docTypeEntities={};this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}};this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"};this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""},num_dec:{regex:/&#([0-9]{1,7});/g,val:(e,t)=>String.fromCharCode(Number.parseInt(t,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(e,t)=>String.fromCharCode(Number.parseInt(t,16))}};this.addExternalEntities=r;this.parseXml=v;this.parseTextData=i;this.resolveNameSpace=o;this.buildAttributesMap=s;this.isItStopNode=u;this.replaceEntitiesValue=E;this.readStopNodeData=d;this.saveTextToParentTag=c;this.addChild=a}}},2923:(e,t,n)=>{const{buildOptions:r}=n(460),i=n(7680),{prettify:o}=n(5629),s=n(3918);e.exports=class{constructor(e){this.externalEntities={};this.options=r(e)}parse(e,t){if("string"===typeof e);else{if(!e.toString)throw new Error("XML data is accepted in String or Bytes[] form.");e=e.toString()}if(t){!0===t&&(t={});const n=s.validate(e,t);if(!0!==n)throw Error(`${n.err.msg}:${n.err.line}:${n.err.col}`)}const n=new i(this.options);n.addExternalEntities(this.externalEntities);const r=n.parseXml(e);return this.options.preserveOrder||void 0===r?r:o(r,this.options)}addEntity(e,t){if(-1!==t.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===t)throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=t}}},5629:(e,t)=>{"use strict";function n(e,t,s){let a;const c={};for(let u=0;u<e.length;u++){const l=e[u],f=r(l);let d="";d=void 0===s?f:s+"."+f;if(f===t.textNodeName)void 0===a?a=l[f]:a+=""+l[f];else{if(void 0===f)continue;if(l[f]){let e=n(l[f],t,d);const r=o(e,t);l[":@"]?i(e,l[":@"],d,t):1!==Object.keys(e).length||void 0===e[t.textNodeName]||t.alwaysCreateTextNode?0===Object.keys(e).length&&(t.alwaysCreateTextNode?e[t.textNodeName]="":e=""):e=e[t.textNodeName];if(void 0!==c[f]&&c.hasOwnProperty(f)){Array.isArray(c[f])||(c[f]=[c[f]]);c[f].push(e)}else t.isArray(f,d,r)?c[f]=[e]:c[f]=e}}}"string"===typeof a?a.length>0&&(c[t.textNodeName]=a):void 0!==a&&(c[t.textNodeName]=a);return c}function r(e){const t=Object.keys(e);for(let e=0;e<t.length;e++){const n=t[e];if(":@"!==n)return n}}function i(e,t,n,r){if(t){const i=Object.keys(t),o=i.length;for(let s=0;s<o;s++){const o=i[s];r.isArray(o,n+"."+o,!0,!0)?e[o]=[t[o]]:e[o]=t[o]}}}function o(e,t){const{textNodeName:n}=t,r=Object.keys(e).length;return 0===r||!(1!==r||!e[n]&&"boolean"!==typeof e[n]&&0!==e[n])}t.prettify=function(e,t){return n(e,t)}},3832:e=>{"use strict";e.exports=class{constructor(e){this.tagname=e;this.child=[];this[":@"]={}}add(e,t){"__proto__"===e&&(e="#__proto__");this.child.push({[e]:t})}addChild(e){"__proto__"===e.tagname&&(e.tagname="#__proto__");e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}},9840:(e,t,n)=>{var r;r="undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};e.exports=r},7114:(e,t,n)=>{"use strict";function r(){o=!0;for(var e,t,n=f.length;n;){t=f;f=[];e=-1;for(;++e<n;)t[e]();n=f.length}o=!1}var i,o,s=n.g.MutationObserver||n.g.WebKitMutationObserver;if(s){var a=0,c=new s(r),u=n.g.document.createTextNode("");c.observe(u,{characterData:!0});i=function(){u.data=a=++a%2}}else if(n.g.setImmediate||"undefined"===typeof n.g.MessageChannel)i="document"in n.g&&"onreadystatechange"in n.g.document.createElement("script")?function(){var e=n.g.document.createElement("script");e.onreadystatechange=function(){r();e.onreadystatechange=null;e.parentNode.removeChild(e);e=null};n.g.document.documentElement.appendChild(e)}:function(){setTimeout(r,0)};else{var l=new n.g.MessageChannel;l.port1.onmessage=r;i=function(){l.port2.postMessage(0)}}var f=[];e.exports=function(e){1!==f.push(e)||o||i()}},7056:e=>{e.exports=function(e){if(!e)return!1;var n=t.call(e);return"[object Function]"===n||"function"===typeof e&&"[object RegExp]"!==n||"undefined"!==typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var t=Object.prototype.toString},9537:function(e,t){(function(e){e(t)}).call(this,(function(e){var t=Array.prototype.slice,n=Array.prototype.forEach,r=function(e){if("object"!==typeof e)throw e+" is not an object";var i=t.call(arguments,1);n.call(i,(function(t){if(t)for(var n in t)"object"===typeof t[n]&&e[n]?r.call(e,e[n],t[n]):e[n]=t[n]}));return e};e.extend=r}))},9977:(e,t,n)=>{"use strict";function r(){}function i(e){if("function"!==typeof e)throw new TypeError("resolver must be a function");this.state=p;this.queue=[];this.outcome=void 0;process.browser||(this.handled=m);e!==r&&c(this,e)}function o(e,t,n){this.promise=e;if("function"===typeof t){this.onFulfilled=t;this.callFulfilled=this.otherCallFulfilled}if("function"===typeof n){this.onRejected=n;this.callRejected=this.otherCallRejected}}function s(e,t,n){l((function(){var r;try{r=t(n)}catch(t){return f.reject(e,t)}r===e?f.reject(e,new TypeError("Cannot resolve promise with itself")):f.resolve(e,r)}))}function a(e){var t=e&&e.then;if(e&&"object"===typeof e&&"function"===typeof t)return function(){t.apply(e,arguments)}}function c(e,t){function n(t){if(!i){i=!0;f.reject(e,t)}}function r(t){if(!i){i=!0;f.resolve(e,t)}}var i=!1,o=u((function(){t(r,n)}));"error"===o.status&&n(o.value)}function u(e,t){var n={};try{n.value=e(t);n.status="success"}catch(e){n.status="error";n.value=e}return n}var l=n(7114),f={},d=["REJECTED"],h=["FULFILLED"],p=["PENDING"];if(!process.browser)var m=["UNHANDLED"];e.exports=i;i.prototype.catch=function(e){return this.then(null,e)};i.prototype.then=function(e,t){if("function"!==typeof e&&this.state===h||"function"!==typeof t&&this.state===d)return this;var n=new this.constructor(r);process.browser||this.handled===m&&(this.handled=null);this.state!==p?s(n,this.state===h?e:t,this.outcome):this.queue.push(new o(n,e,t));return n};o.prototype.callFulfilled=function(e){f.resolve(this.promise,e)};o.prototype.otherCallFulfilled=function(e){s(this.promise,this.onFulfilled,e)};o.prototype.callRejected=function(e){f.reject(this.promise,e)};o.prototype.otherCallRejected=function(e){s(this.promise,this.onRejected,e)};f.resolve=function(e,t){var n=u(a,t);if("error"===n.status)return f.reject(e,n.value);var r=n.value;if(r)c(e,r);else{e.state=h;e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e};f.reject=function(e,t){e.state=d;e.outcome=t;process.browser||e.handled===m&&l((function(){e.handled===m&&process.emit("unhandledRejection",t,e)}));for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e};i.resolve=function(e){return e instanceof this?e:f.resolve(new this(r),e)};i.reject=function(e){var t=new this(r);return f.reject(t,e)};i.all=function(e){function t(e,t){n.resolve(e).then((function(e){s[t]=e;if(++a===i&&!o){o=!0;f.resolve(u,s)}}),(function(e){if(!o){o=!0;f.reject(u,e)}}))}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,o=!1;if(!i)return this.resolve([]);for(var s=new Array(i),a=0,c=-1,u=new this(r);++c<i;)t(e[c],c);return u};i.race=function(e){function t(e){n.resolve(e).then((function(e){if(!o){o=!0;f.resolve(a,e)}}),(function(e){if(!o){o=!0;f.reject(a,e)}}))}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,o=!1;if(!i)return this.resolve([]);for(var s=-1,a=new this(r);++s<i;)t(e[s]);return a}},2543:function(e,t,n){e=n.nmd(e);var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){function i(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function o(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function s(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function a(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function c(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function u(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function l(e,t){return!(null==e||!e.length)&&v(e,t,0)>-1}function f(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function d(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function h(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function p(e,t,n,r){var i=-1,o=null==e?0:e.length;r&&o&&(n=e[++i]);for(;++i<o;)n=t(n,e[i],i,e);return n}function m(e,t,n,r){var i=null==e?0:e.length;r&&i&&(n=e[--i]);for(;i--;)n=t(n,e[i],i,e);return n}function g(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function y(e,t,n){var r;n(e,(function(e,n,i){if(t(e,n,i)){r=n;return!1}}));return r}function _(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function v(e,t,n){return t===t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):_(e,S,n)}function E(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function S(e){return e!==e}function b(e,t){var n=null==e?0:e.length;return n?w(e,t)/n:J}function T(e){return function(t){return null==t?q:t[e]}}function C(e){return function(t){return null==e?q:e[t]}}function I(e,t,n,r,i){i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}));return n}function w(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==q&&(n=n===q?o:n+o)}return n}function N(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function A(e){return e?e.slice(0,V(e)+1).replace(Ve,""):e}function R(e){return function(t){return e(t)}}function O(e,t){return d(t,(function(t){return e[t]}))}function L(e,t){return e.has(t)}function D(e,t){for(var n=-1,r=e.length;++n<r&&v(t,e[n],0)>-1;);return n}function x(e,t){for(var n=e.length;n--&&v(t,e[n],0)>-1;);return n}function P(e){return"\\"+Kt[e]}function k(e){return jt.test(e)}function B(e){var t=-1,n=Array(e.size);e.forEach((function(e,r){n[++t]=[r,e]}));return n}function M(e,t){return function(n){return e(t(n))}}function U(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];if(s===t||s===z){e[n]=z;o[i++]=n}}return o}function F(e){var t=-1,n=Array(e.size);e.forEach((function(e){n[++t]=e}));return n}function j(e){var t=-1,n=Array(e.size);e.forEach((function(e){n[++t]=[e,e]}));return n}function G(e){return k(e)?function(e){for(var t=Ut.lastIndex=0;Ut.test(e);)++t;return t}(e):ln(e)}function H(e){return k(e)?function(e){return e.match(Ut)||[]}(e):function(e){return e.split("")}(e)}function V(e){for(var t=e.length;t--&&qe.test(e.charAt(t)););return t}var q,W="Expected a function",K="__lodash_hash_undefined__",z="__lodash_placeholder__",Y=32,$=128,Q=1/0,X=9007199254740991,J=NaN,Z=4294967295,ee=[["ary",$],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",Y],["partialRight",64],["rearg",256]],te="[object Arguments]",ne="[object Array]",re="[object Boolean]",ie="[object Date]",oe="[object Error]",se="[object Function]",ae="[object GeneratorFunction]",ce="[object Map]",ue="[object Number]",le="[object Object]",fe="[object Promise]",de="[object RegExp]",he="[object Set]",pe="[object String]",me="[object Symbol]",ge="[object WeakMap]",ye="[object ArrayBuffer]",_e="[object DataView]",ve="[object Float32Array]",Ee="[object Float64Array]",Se="[object Int8Array]",be="[object Int16Array]",Te="[object Int32Array]",Ce="[object Uint8Array]",Ie="[object Uint8ClampedArray]",we="[object Uint16Array]",Ne="[object Uint32Array]",Ae=/\b__p \+= '';/g,Re=/\b(__p \+=) '' \+/g,Oe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Le=/&(?:amp|lt|gt|quot|#39);/g,De=/[&<>"']/g,xe=RegExp(Le.source),Pe=RegExp(De.source),ke=/<%-([\s\S]+?)%>/g,Be=/<%([\s\S]+?)%>/g,Me=/<%=([\s\S]+?)%>/g,Ue=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fe=/^\w*$/,je=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ge=/[\\^$.*+?()[\]{}|]/g,He=RegExp(Ge.source),Ve=/^\s+/,qe=/\s/,We=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ke=/\{\n\/\* \[wrapped with (.+)\] \*/,ze=/,? & /,Ye=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,$e=/[()=,{}\[\]\/\s]/,Qe=/\\(\\)?/g,Xe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Je=/\w*$/,Ze=/^[-+]0x[0-9a-f]+$/i,et=/^0b[01]+$/i,tt=/^\[object .+?Constructor\]$/,nt=/^0o[0-7]+$/i,rt=/^(?:0|[1-9]\d*)$/,it=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ot=/($^)/,st=/['\n\r\u2028\u2029\\]/g,at="\\ud800-\\udfff",ct="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ut="\\u2700-\\u27bf",lt="a-z\\xdf-\\xf6\\xf8-\\xff",ft="A-Z\\xc0-\\xd6\\xd8-\\xde",dt="\\ufe0e\\ufe0f",ht="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pt="["+at+"]",mt="["+ht+"]",gt="["+ct+"]",yt="\\d+",_t="["+ut+"]",vt="["+lt+"]",Et="[^"+at+ht+yt+ut+lt+ft+"]",St="\\ud83c[\\udffb-\\udfff]",bt="[^"+at+"]",Tt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ct="[\\ud800-\\udbff][\\udc00-\\udfff]",It="["+ft+"]",wt="\\u200d",Nt="(?:"+vt+"|"+Et+")",At="(?:"+It+"|"+Et+")",Rt="(?:['](?:d|ll|m|re|s|t|ve))?",Ot="(?:['](?:D|LL|M|RE|S|T|VE))?",Lt="(?:"+gt+"|"+St+")?",Dt="["+dt+"]?",xt=Dt+Lt+"(?:"+wt+"(?:"+[bt,Tt,Ct].join("|")+")"+Dt+Lt+")*",Pt="(?:"+[_t,Tt,Ct].join("|")+")"+xt,kt="(?:"+[bt+gt+"?",gt,Tt,Ct,pt].join("|")+")",Bt=RegExp("[']","g"),Mt=RegExp(gt,"g"),Ut=RegExp(St+"(?="+St+")|"+kt+xt,"g"),Ft=RegExp([It+"?"+vt+"+"+Rt+"(?="+[mt,It,"$"].join("|")+")",At+"+"+Ot+"(?="+[mt,It+Nt,"$"].join("|")+")",It+"?"+Nt+"+"+Rt,It+"+"+Ot,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",yt,Pt].join("|"),"g"),jt=RegExp("["+wt+at+ct+dt+"]"),Gt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ht=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vt=-1,qt={};qt[ve]=qt[Ee]=qt[Se]=qt[be]=qt[Te]=qt[Ce]=qt[Ie]=qt[we]=qt[Ne]=!0;qt[te]=qt[ne]=qt[ye]=qt[re]=qt[_e]=qt[ie]=qt[oe]=qt[se]=qt[ce]=qt[ue]=qt[le]=qt[de]=qt[he]=qt[pe]=qt[ge]=!1;var Wt={};Wt[te]=Wt[ne]=Wt[ye]=Wt[_e]=Wt[re]=Wt[ie]=Wt[ve]=Wt[Ee]=Wt[Se]=Wt[be]=Wt[Te]=Wt[ce]=Wt[ue]=Wt[le]=Wt[de]=Wt[he]=Wt[pe]=Wt[me]=Wt[Ce]=Wt[Ie]=Wt[we]=Wt[Ne]=!0;Wt[oe]=Wt[se]=Wt[ge]=!1;var Kt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},zt=parseFloat,Yt=parseInt,$t="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,Qt="object"==typeof self&&self&&self.Object===Object&&self,Xt=$t||Qt||Function("return this")(),Jt=t&&!t.nodeType&&t,Zt=Jt&&e&&!e.nodeType&&e,en=Zt&&Zt.exports===Jt,tn=en&&$t.process,nn=function(){try{return Zt&&Zt.require&&Zt.require("util").types||tn&&tn.binding&&tn.binding("util")}catch(e){}}(),rn=nn&&nn.isArrayBuffer,on=nn&&nn.isDate,sn=nn&&nn.isMap,an=nn&&nn.isRegExp,cn=nn&&nn.isSet,un=nn&&nn.isTypedArray,ln=T("length"),fn=C({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),dn=C({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),hn=C({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),pn=function e(t){function n(e){if(Di(e)&&!ba(e)&&!(e instanceof qe)){if(e instanceof C)return e;if(bo.call(e,"__wrapped__"))return ii(e)}return new C(e)}function r(){}function C(e,t){this.__wrapped__=e;this.__actions__=[];this.__chain__=!!t;this.__index__=0;this.__values__=q}function qe(e){this.__wrapped__=e;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=[];this.__takeCount__=Z;this.__views__=[]}function at(e){var t=-1,n=null==e?0:e.length;this.clear();for(;++t<n;){var r=e[t];this.set(r[0],r[1])}}function ct(e){var t=-1,n=null==e?0:e.length;this.clear();for(;++t<n;){var r=e[t];this.set(r[0],r[1])}}function ut(e){var t=-1,n=null==e?0:e.length;this.clear();for(;++t<n;){var r=e[t];this.set(r[0],r[1])}}function lt(e){var t=-1,n=null==e?0:e.length;this.__data__=new ut;for(;++t<n;)this.add(e[t])}function ft(e){var t=this.__data__=new ct(e);this.size=t.size}function dt(e,t){var n=ba(e),r=!n&&Sa(e),i=!n&&!r&&Ca(e),o=!n&&!r&&!i&&Ra(e),s=n||r||i||o,a=s?N(e.length,mo):[],c=a.length;for(var u in e)!t&&!bo.call(e,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Vr(u,c))||a.push(u);return a}function ht(e){var t=e.length;return t?e[An(0,t-1)]:q}function pt(e,t){return ti(or(e),Tt(t,0,e.length))}function mt(e){return ti(or(e))}function gt(e,t,n){(n!==q&&!Ci(e[t],n)||n===q&&!(t in e))&&St(e,t,n)}function yt(e,t,n){var r=e[t];bo.call(e,t)&&Ci(r,n)&&(n!==q||t in e)||St(e,t,n)}function _t(e,t){for(var n=e.length;n--;)if(Ci(e[n][0],t))return n;return-1}function vt(e,t,n,r){Es(e,(function(e,i,o){t(r,e,n(e),o)}));return r}function Et(e,t){return e&&sr(t,Ki(t),e)}function St(e,t,n){"__proto__"==t&&jo?jo(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function bt(e,t){for(var n=-1,r=t.length,i=ao(r),o=null==e;++n<r;)i[n]=o?q:qi(e,t[n]);return i}function Tt(e,t,n){if(e===e){n!==q&&(e=e>n?n:e);t!==q&&(e=e<t?t:e)}return e}function Ct(e,t,n,r,i,o){var a,c=1&t,u=2&t,l=4&t;n&&(a=i?n(e,r,i,o):n(e));if(a!==q)return a;if(!Li(e))return e;var f=ba(e);if(f){a=function(e){var t=e.length,n=new e.constructor(t);if(t&&"string"==typeof e[0]&&bo.call(e,"index")){n.index=e.index;n.input=e.input}return n}(e);if(!c)return or(e,a)}else{var d=Ds(e),h=d==se||d==ae;if(Ca(e))return Zn(e,c);if(d==le||d==te||h&&!i){a=u||h?{}:Gr(e);if(!c)return u?function(e,t){return sr(e,Ls(e),t)}(e,function(e,t){return e&&sr(t,zi(t),e)}(a,e)):function(e,t){return sr(e,Os(e),t)}(e,Et(a,e))}else{if(!Wt[d])return i?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case ye:return er(e);case re:case ie:return new r(+e);case _e:return function(e,t){var n=t?er(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case ve:case Ee:case Se:case be:case Te:case Ce:case Ie:case we:case Ne:return tr(e,n);case ce:return new r;case ue:case pe:return new r(e);case de:return function(e){var t=new e.constructor(e.source,Je.exec(e));t.lastIndex=e.lastIndex;return t}(e);case he:return new r;case me:return function(e){return ys?ho(ys.call(e)):{}}(e)}}(e,d,c)}}o||(o=new ft);var p=o.get(e);if(p)return p;o.set(e,a);Aa(e)?e.forEach((function(r){a.add(Ct(r,t,n,r,e,o))})):wa(e)&&e.forEach((function(r,i){a.set(i,Ct(r,t,n,i,e,o))}));var m=f?q:(l?u?xr:Dr:u?zi:Ki)(e);s(m||e,(function(r,i){m&&(r=e[i=r]);yt(a,i,Ct(r,t,n,i,e,o))}));return a}function It(e,t,n){var r=n.length;if(null==e)return!r;e=ho(e);for(;r--;){var i=n[r],o=t[i],s=e[i];if(s===q&&!(i in e)||!o(s))return!1}return!0}function wt(e,t,n){if("function"!=typeof e)throw new go(W);return ks((function(){e.apply(q,n)}),t)}function Nt(e,t,n,r){var i=-1,o=l,s=!0,a=e.length,c=[],u=t.length;if(!a)return c;n&&(t=d(t,R(n)));if(r){o=f;s=!1}else if(t.length>=200){o=L;s=!1;t=new lt(t)}e:for(;++i<a;){var h=e[i],p=null==n?h:n(h);h=r||0!==h?h:0;if(s&&p===p){for(var m=u;m--;)if(t[m]===p)continue e;c.push(h)}else o(t,p,r)||c.push(h)}return c}function At(e,t){var n=!0;Es(e,(function(e,r,i){return n=!!t(e,r,i)}));return n}function Rt(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],s=t(o);if(null!=s&&(a===q?s===s&&!Bi(s):n(s,a)))var a=s,c=o}return c}function Ot(e,t){var n=[];Es(e,(function(e,r,i){t(e,r,i)&&n.push(e)}));return n}function Lt(e,t,n,r,i){var o=-1,s=e.length;n||(n=Hr);i||(i=[]);for(;++o<s;){var a=e[o];t>0&&n(a)?t>1?Lt(a,t-1,n,r,i):h(i,a):r||(i[i.length]=a)}return i}function Dt(e,t){return e&&bs(e,t,Ki)}function xt(e,t){return e&&Ts(e,t,Ki)}function Pt(e,t){return u(t,(function(t){return Ai(e[t])}))}function kt(e,t){for(var n=0,r=(t=Xn(t,e)).length;null!=e&&n<r;)e=e[ni(t[n++])];return n&&n==r?e:q}function Ut(e,t,n){var r=t(e);return ba(e)?r:h(r,n(e))}function jt(e){return null==e?e===q?"[object Undefined]":"[object Null]":Fo&&Fo in ho(e)?function(e){var t=bo.call(e,Fo),n=e[Fo];try{e[Fo]=q;var r=!0}catch(e){}var i=Io.call(e);r&&(t?e[Fo]=n:delete e[Fo]);return i}(e):function(e){return Io.call(e)}(e)}function Kt(e,t){return e>t}function $t(e,t){return null!=e&&bo.call(e,t)}function Qt(e,t){return null!=e&&t in ho(e)}function Jt(e,t,n){for(var r=n?f:l,i=e[0].length,o=e.length,s=o,a=ao(o),c=1/0,u=[];s--;){var h=e[s];s&&t&&(h=d(h,R(t)));c=Jo(h.length,c);a[s]=n||!t&&(i<120||h.length<120)?q:new lt(s&&h)}h=e[0];var p=-1,m=a[0];e:for(;++p<i&&u.length<c;){var g=h[p],y=t?t(g):g;g=n||0!==g?g:0;if(!(m?L(m,y):r(u,y,n))){s=o;for(;--s;){var _=a[s];if(!(_?L(_,y):r(e[s],y,n)))continue e}m&&m.push(y);u.push(g)}}return u}function Zt(e,t,n){var r=null==(e=Xr(e,t=Xn(t,e)))?e:e[ni(ui(t))];return null==r?q:i(r,e,n)}function tn(e){return Di(e)&&jt(e)==te}function nn(e,t,n,r,i){return e===t||(null==e||null==t||!Di(e)&&!Di(t)?e!==e&&t!==t:function(e,t,n,r,i,o){var s=ba(e),a=ba(t),c=s?ne:Ds(e),u=a?ne:Ds(t),l=(c=c==te?le:c)==le,f=(u=u==te?le:u)==le,d=c==u;if(d&&Ca(e)){if(!Ca(t))return!1;s=!0;l=!1}if(d&&!l){o||(o=new ft);return s||Ra(e)?Or(e,t,n,r,i,o):function(e,t,n,r,i,o,s){switch(n){case _e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer;t=t.buffer;case ye:return!(e.byteLength!=t.byteLength||!o(new Lo(e),new Lo(t)));case re:case ie:case ue:return Ci(+e,+t);case oe:return e.name==t.name&&e.message==t.message;case de:case pe:return e==t+"";case ce:var a=B;case he:var c=1&r;a||(a=F);if(e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;r|=2;s.set(e,t);var l=Or(a(e),a(t),r,i,o,s);s["delete"](e);return l;case me:if(ys)return ys.call(e)==ys.call(t)}return!1}(e,t,c,n,r,i,o)}if(!(1&n)){var h=l&&bo.call(e,"__wrapped__"),p=f&&bo.call(t,"__wrapped__");if(h||p){var m=h?e.value():e,g=p?t.value():t;o||(o=new ft);return i(m,g,n,r,o)}}if(!d)return!1;o||(o=new ft);return function(e,t,n,r,i,o){var s=1&n,a=Dr(e),c=a.length;if(c!=Dr(t).length&&!s)return!1;for(var u=c;u--;){var l=a[u];if(!(s?l in t:bo.call(t,l)))return!1}var f=o.get(e),d=o.get(t);if(f&&d)return f==t&&d==e;var h=!0;o.set(e,t);o.set(t,e);for(var p=s;++u<c;){var m=e[l=a[u]],g=t[l];if(r)var y=s?r(g,m,l,t,e,o):r(m,g,l,e,t,o);if(!(y===q?m===g||i(m,g,n,r,o):y)){h=!1;break}p||(p="constructor"==l)}if(h&&!p){var _=e.constructor,v=t.constructor;_==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof v&&v instanceof v||(h=!1)}o["delete"](e);o["delete"](t);return h}(e,t,n,r,i,o)}(e,t,n,r,nn,i))}function ln(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;e=ho(e);for(;i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){var c=(a=n[i])[0],u=e[c],l=a[1];if(s&&a[2]){if(u===q&&!(c in e))return!1}else{var f=new ft;if(r)var d=r(u,l,c,e,t,f);if(!(d===q?nn(l,u,3,r,f):d))return!1}}return!0}function mn(e){return!(!Li(e)||function(e){return!!Co&&Co in e}(e))&&(Ai(e)?Ao:tt).test(ri(e))}function gn(e){return"function"==typeof e?e:null==e?eo:"object"==typeof e?ba(e)?Sn(e[0],e[1]):En(e):io(e)}function yn(e){if(!zr(e))return Qo(e);var t=[];for(var n in ho(e))bo.call(e,n)&&"constructor"!=n&&t.push(n);return t}function _n(e,t){return e<t}function vn(e,t){var n=-1,r=Ii(e)?ao(e.length):[];Es(e,(function(e,i,o){r[++n]=t(e,i,o)}));return r}function En(e){var t=Ur(e);return 1==t.length&&t[0][2]?$r(t[0][0],t[0][1]):function(n){return n===e||ln(n,e,t)}}function Sn(e,t){return Wr(e)&&Yr(t)?$r(ni(e),t):function(n){var r=qi(n,e);return r===q&&r===t?Wi(n,e):nn(t,r,3)}}function bn(e,t,n,r,i){e!==t&&bs(t,(function(o,s){i||(i=new ft);if(Li(o))!function(e,t,n,r,i,o,s){var a=Jr(e,n),c=Jr(t,n),u=s.get(c);if(u)gt(e,n,u);else{var l=o?o(a,c,n+"",e,t,s):q,f=l===q;if(f){var d=ba(c),h=!d&&Ca(c),p=!d&&!h&&Ra(c);l=c;if(d||h||p)if(ba(a))l=a;else if(wi(a))l=or(a);else if(h){f=!1;l=Zn(c,!0)}else if(p){f=!1;l=tr(c,!0)}else l=[];else if(Pi(c)||Sa(c)){l=a;Sa(a)?l=Hi(a):Li(a)&&!Ai(a)||(l=Gr(c))}else f=!1}if(f){s.set(c,l);i(l,c,r,o,s);s["delete"](c)}gt(e,n,l)}}(e,t,s,n,bn,r,i);else{var a=r?r(Jr(e,s),o,s+"",e,t,i):q;a===q&&(a=o);gt(e,s,a)}}),zi)}function Tn(e,t){var n=e.length;if(n)return Vr(t+=t<0?n:0,n)?e[t]:q}function Cn(e,t,n){t=t.length?d(t,(function(e){return ba(e)?function(t){return kt(t,1===e.length?e[0]:e)}:e})):[eo];var r=-1;t=d(t,R(Br()));var i=vn(e,(function(e){var n=d(t,(function(t){return t(e)}));return{criteria:n,index:++r,value:e}}));return function(e){var t=e.length;e.sort((function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var c=nr(i[r],o[r]);if(c)return r<a?c*("desc"==n[r]?-1:1):c}return e.index-t.index}(e,t,n)}));for(;t--;)e[t]=e[t].value;return e}(i)}function In(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=kt(e,s);n(a,s)&&xn(o,Xn(s,e),a)}return o}function wn(e,t,n,r){var i=r?E:v,o=-1,s=t.length,a=e;e===t&&(t=or(t));n&&(a=d(e,R(n)));for(;++o<s;)for(var c=0,u=t[o],l=n?n(u):u;(c=i(a,l,c,r))>-1;){a!==e&&Bo.call(a,c,1);Bo.call(e,c,1)}return e}function Nn(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;Vr(i)?Bo.call(e,i,1):Vn(e,i)}}return e}function An(e,t){return e+Wo(ts()*(t-e+1))}function Rn(e,t){var n="";if(!e||t<1||t>X)return n;do{t%2&&(n+=e);(t=Wo(t/2))&&(e+=e)}while(t);return n}function On(e,t){return Bs(Qr(e,t,eo),e+"")}function Ln(e){return ht($i(e))}function Dn(e,t){var n=$i(e);return ti(n,Tt(t,0,n.length))}function xn(e,t,n,r){if(!Li(e))return e;for(var i=-1,o=(t=Xn(t,e)).length,s=o-1,a=e;null!=a&&++i<o;){var c=ni(t[i]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=s){var l=a[c];(u=r?r(l,c,a):q)===q&&(u=Li(l)?l:Vr(t[i+1])?[]:{})}yt(a,c,u);a=a[c]}return e}function Pn(e){return ti($i(e))}function kn(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t);(n=n>i?i:n)<0&&(n+=i);i=t>n?0:n-t>>>0;t>>>=0;for(var o=ao(i);++r<i;)o[r]=e[r+t];return o}function Bn(e,t){var n;Es(e,(function(e,r,i){return!(n=t(e,r,i))}));return!!n}function Mn(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null===s||Bi(s)||(n?s>t:s>=t)?i=o:r=o+1}return i}return Un(e,t,eo,n)}function Un(e,t,n,r){var i=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!==t,a=null===t,c=Bi(t),u=t===q;i<o;){var l=Wo((i+o)/2),f=n(e[l]),d=f!==q,h=null===f,p=f===f,m=Bi(f);if(s)var g=r||p;else g=u?p&&(r||d):a?p&&d&&(r||!h):c?p&&d&&!h&&(r||!m):!h&&!m&&(r?f<=t:f<t);g?i=l+1:o=l}return Jo(o,4294967294)}function Fn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!Ci(a,c)){var c=a;o[i++]=0===s?0:s}}return o}function jn(e){return"number"==typeof e?e:Bi(e)?J:+e}function Gn(e){if("string"==typeof e)return e;if(ba(e))return d(e,Gn)+"";if(Bi(e))return _s?_s.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Hn(e,t,n){var r=-1,i=l,o=e.length,s=!0,a=[],c=a;if(n){s=!1;i=f}else if(o<200)c=t?[]:a;else{var u=t?null:As(e);if(u)return F(u);s=!1;i=L;c=new lt}e:for(;++r<o;){var d=e[r],h=t?t(d):d;d=n||0!==d?d:0;if(s&&h===h){for(var p=c.length;p--;)if(c[p]===h)continue e;t&&c.push(h);a.push(d)}else if(!i(c,h,n)){c!==a&&c.push(h);a.push(d)}}return a}function Vn(e,t){return null==(e=Xr(e,t=Xn(t,e)))||delete e[ni(ui(t))]}function qn(e,t,n,r){return xn(e,t,n(kt(e,t)),r)}function Wn(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?kn(e,r?0:o,r?o+1:i):kn(e,r?o+1:0,r?i:o)}function Kn(e,t){var n=e;n instanceof qe&&(n=n.value());return p(t,(function(e,t){return t.func.apply(t.thisArg,h([e],t.args))}),n)}function zn(e,t,n){var r=e.length;if(r<2)return r?Hn(e[0]):[];for(var i=-1,o=ao(r);++i<r;)for(var s=e[i],a=-1;++a<r;)a!=i&&(o[i]=Nt(o[i]||s,e[a],t,n));return Hn(Lt(o,1),t,n)}function Yn(e,t,n){for(var r=-1,i=e.length,o=t.length,s={};++r<i;){var a=r<o?t[r]:q;n(s,e[r],a)}return s}function $n(e){return wi(e)?e:[]}function Qn(e){return"function"==typeof e?e:eo}function Xn(e,t){return ba(e)?e:Wr(e,t)?[e]:Ms(Vi(e))}function Jn(e,t,n){var r=e.length;n=n===q?r:n;return t||n<r?kn(e,t,n):e}function Zn(e,t){if(t)return e.slice();var n=e.length,r=Do?Do(n):new e.constructor(n);e.copy(r);return r}function er(e){var t=new e.constructor(e.byteLength);new Lo(t).set(new Lo(e));return t}function tr(e,t){var n=t?er(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function nr(e,t){if(e!==t){var n=e!==q,r=null===e,i=e===e,o=Bi(e),s=t!==q,a=null===t,c=t===t,u=Bi(t);if(!a&&!u&&!o&&e>t||o&&s&&c&&!a&&!u||r&&s&&c||!n&&c||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!c)return-1}return 0}function rr(e,t,n,r){for(var i=-1,o=e.length,s=n.length,a=-1,c=t.length,u=Xo(o-s,0),l=ao(c+u),f=!r;++a<c;)l[a]=t[a];for(;++i<s;)(f||i<o)&&(l[n[i]]=e[i]);for(;u--;)l[a++]=e[i++];return l}function ir(e,t,n,r){for(var i=-1,o=e.length,s=-1,a=n.length,c=-1,u=t.length,l=Xo(o-a,0),f=ao(l+u),d=!r;++i<l;)f[i]=e[i];for(var h=i;++c<u;)f[h+c]=t[c];for(;++s<a;)(d||i<o)&&(f[h+n[s]]=e[i++]);return f}function or(e,t){var n=-1,r=e.length;t||(t=ao(r));for(;++n<r;)t[n]=e[n];return t}function sr(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],c=r?r(n[a],e[a],a,n,e):q;c===q&&(c=e[a]);i?St(n,a,c):yt(n,a,c)}return n}function ar(e,t){return function(n,r){var i=ba(n)?o:vt,s=t?t():{};return i(n,e,Br(r,2),s)}}function cr(e){return On((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:q,s=i>2?n[2]:q;o=e.length>3&&"function"==typeof o?(i--,o):q;if(s&&qr(n[0],n[1],s)){o=i<3?q:o;i=1}t=ho(t);for(;++r<i;){var a=n[r];a&&e(t,a,r,o)}return t}))}function ur(e,t){return function(n,r){if(null==n)return n;if(!Ii(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=ho(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function lr(e){return function(t,n,r){for(var i=-1,o=ho(t),s=r(t),a=s.length;a--;){var c=s[e?a:++i];if(!1===n(o[c],c,o))break}return t}}function fr(e){return function(t){var n=k(t=Vi(t))?H(t):q,r=n?n[0]:t.charAt(0),i=n?Jn(n,1).join(""):t.slice(1);return r[e]()+i}}function dr(e){return function(t){return p(Ji(Xi(t).replace(Bt,"")),e,"")}}function hr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=vs(e.prototype),r=e.apply(n,t);return Li(r)?r:n}}function pr(e){return function(t,n,r){var i=ho(t);if(!Ii(t)){var o=Br(n,3);t=Ki(t);n=function(e){return o(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[o?t[s]:s]:q}}function mr(e){return Lr((function(t){var n=t.length,r=n,i=C.prototype.thru;e&&t.reverse();for(;r--;){var o=t[r];if("function"!=typeof o)throw new go(W);if(i&&!s&&"wrapper"==Pr(o))var s=new C([],!0)}r=s?r:n;for(;++r<n;){var a=Pr(o=t[r]),c="wrapper"==a?Rs(o):q;s=c&&Kr(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[Pr(c[0])].apply(s,c[3]):1==o.length&&Kr(o)?s[a]():s.thru(o)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&ba(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function gr(e,t,n,r,i,o,s,a,c,u){var l=t&$,f=1&t,d=2&t,h=24&t,p=512&t,m=d?q:hr(e);return function g(){for(var y=arguments.length,_=ao(y),v=y;v--;)_[v]=arguments[v];if(h)var E=kr(g),S=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(_,E);r&&(_=rr(_,r,i,h));o&&(_=ir(_,o,s,h));y-=S;if(h&&y<u){var b=U(_,E);return Tr(e,t,gr,g.placeholder,n,_,b,a,c,u-y)}var T=f?n:this,C=d?T[e]:e;y=_.length;a?_=function(e,t){for(var n=e.length,r=Jo(t.length,n),i=or(e);r--;){var o=t[r];e[r]=Vr(o,n)?i[o]:q}return e}(_,a):p&&y>1&&_.reverse();l&&c<y&&(_.length=c);this&&this!==Xt&&this instanceof g&&(C=m||hr(C));return C.apply(T,_)}}function yr(e,t){return function(n,r){return function(e,t,n,r){Dt(e,(function(e,i,o){t(r,n(e),i,o)}));return r}(n,e,t(r),{})}}function _r(e,t){return function(n,r){var i;if(n===q&&r===q)return t;n!==q&&(i=n);if(r!==q){if(i===q)return r;if("string"==typeof n||"string"==typeof r){n=Gn(n);r=Gn(r)}else{n=jn(n);r=jn(r)}i=e(n,r)}return i}}function vr(e){return Lr((function(t){t=d(t,R(Br()));return On((function(n){var r=this;return e(t,(function(e){return i(e,r,n)}))}))}))}function Er(e,t){var n=(t=t===q?" ":Gn(t)).length;if(n<2)return n?Rn(t,e):t;var r=Rn(t,qo(e/G(t)));return k(t)?Jn(H(r),0,e).join(""):r.slice(0,e)}function Sr(e){return function(t,n,r){r&&"number"!=typeof r&&qr(t,n,r)&&(n=r=q);t=Ui(t);if(n===q){n=t;t=0}else n=Ui(n);return function(e,t,n,r){for(var i=-1,o=Xo(qo((t-e)/(n||1)),0),s=ao(o);o--;){s[r?o:++i]=e;e+=n}return s}(t,n,r=r===q?t<n?1:-1:Ui(r),e)}}function br(e){return function(t,n){if("string"!=typeof t||"string"!=typeof n){t=Gi(t);n=Gi(n)}return e(t,n)}}function Tr(e,t,n,r,i,o,s,a,c,u){var l=8&t;t|=l?Y:64;4&(t&=~(l?64:Y))||(t&=-4);var f=[e,t,i,l?o:q,l?s:q,l?q:o,l?q:s,a,c,u],d=n.apply(q,f);Kr(e)&&Ps(d,f);d.placeholder=r;return Zr(d,e,t)}function Cr(e){var t=fo[e];return function(e,n){e=Gi(e);if((n=null==n?0:Jo(Fi(n),292))&&Yo(e)){var r=(Vi(e)+"e").split("e");return+((r=(Vi(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}function Ir(e){return function(t){var n=Ds(t);return n==ce?B(t):n==he?j(t):function(e,t){return d(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function wr(e,t,n,r,o,s,a,c){var u=2&t;if(!u&&"function"!=typeof e)throw new go(W);var l=r?r.length:0;if(!l){t&=-97;r=o=q}a=a===q?a:Xo(Fi(a),0);c=c===q?c:Fi(c);l-=o?o.length:0;if(64&t){var f=r,d=o;r=o=q}var h=u?q:Rs(e),p=[e,t,n,r,o,f,d,s,a,c];h&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=r==$&&8==n||r==$&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;if(1&r){e[2]=t[2];i|=1&n?0:4}var a=t[3];if(a){var c=e[3];e[3]=c?rr(c,a,t[4]):a;e[4]=c?U(e[3],z):t[4]}if(a=t[5]){c=e[5];e[5]=c?ir(c,a,t[6]):a;e[6]=c?U(e[5],z):t[6]}(a=t[7])&&(e[7]=a);r&$&&(e[8]=null==e[8]?t[8]:Jo(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0];e[1]=i}(p,h);e=p[0];t=p[1];n=p[2];r=p[3];o=p[4];!(c=p[9]=p[9]===q?u?0:e.length:Xo(p[9]-l,0))&&24&t&&(t&=-25);if(t&&1!=t)m=8==t||16==t?function(e,t,n){var r=hr(e);return function o(){for(var s=arguments.length,a=ao(s),c=s,u=kr(o);c--;)a[c]=arguments[c];var l=s<3&&a[0]!==u&&a[s-1]!==u?[]:U(a,u);return(s-=l.length)<n?Tr(e,t,gr,o.placeholder,q,a,l,q,q,n-s):i(this&&this!==Xt&&this instanceof o?r:e,this,a)}}(e,t,c):t!=Y&&33!=t||o.length?gr.apply(q,p):function(e,t,n,r){var o=1&t,s=hr(e);return function t(){for(var a=-1,c=arguments.length,u=-1,l=r.length,f=ao(l+c),d=this&&this!==Xt&&this instanceof t?s:e;++u<l;)f[u]=r[u];for(;c--;)f[u++]=arguments[++a];return i(d,o?n:this,f)}}(e,t,n,r);else var m=function(e,t,n){var r=1&t,i=hr(e);return function t(){return(this&&this!==Xt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Zr((h?Cs:Ps)(m,p),e,t)}function Nr(e,t,n,r){return e===q||Ci(e,vo[n])&&!bo.call(r,n)?t:e}function Ar(e,t,n,r,i,o){if(Li(e)&&Li(t)){o.set(t,e);bn(e,t,q,Ar,o);o["delete"](t)}return e}function Rr(e){return Pi(e)?q:e}function Or(e,t,n,r,i,o){var s=1&n,a=e.length,c=t.length;if(a!=c&&(!s||c<=a))return!1;var u=o.get(e),l=o.get(t);if(u&&l)return u==t&&l==e;var f=-1,d=!0,h=2&n?new lt:q;o.set(e,t);o.set(t,e);for(;++f<a;){var p=e[f],m=t[f];if(r)var y=s?r(m,p,f,t,e,o):r(p,m,f,e,t,o);if(y!==q){if(y)continue;d=!1;break}if(h){if(!g(t,(function(e,t){if(!L(h,t)&&(p===e||i(p,e,n,r,o)))return h.push(t)}))){d=!1;break}}else if(p!==m&&!i(p,m,n,r,o)){d=!1;break}}o["delete"](e);o["delete"](t);return d}function Lr(e){return Bs(Qr(e,q,ai),e+"")}function Dr(e){return Ut(e,Ki,Os)}function xr(e){return Ut(e,zi,Ls)}function Pr(e){for(var t=e.name+"",n=ls[t],r=bo.call(ls,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function kr(e){return(bo.call(n,"placeholder")?n:e).placeholder}function Br(){var e=n.iteratee||to;e=e===to?gn:e;return arguments.length?e(arguments[0],arguments[1]):e}function Mr(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Ur(e){for(var t=Ki(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Yr(i)]}return t}function Fr(e,t){var n=function(e,t){return null==e?q:e[t]}(e,t);return mn(n)?n:q}function jr(e,t,n){for(var r=-1,i=(t=Xn(t,e)).length,o=!1;++r<i;){var s=ni(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Oi(i)&&Vr(s,i)&&(ba(e)||Sa(e))}function Gr(e){return"function"!=typeof e.constructor||zr(e)?{}:vs(xo(e))}function Hr(e){return ba(e)||Sa(e)||!!(Mo&&e&&e[Mo])}function Vr(e,t){var n=typeof e;return!!(t=null==t?X:t)&&("number"==n||"symbol"!=n&&rt.test(e))&&e>-1&&e%1==0&&e<t}function qr(e,t,n){if(!Li(n))return!1;var r=typeof t;return!!("number"==r?Ii(n)&&Vr(t,n.length):"string"==r&&t in n)&&Ci(n[t],e)}function Wr(e,t){if(ba(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Bi(e))||Fe.test(e)||!Ue.test(e)||null!=t&&e in ho(t)}function Kr(e){var t=Pr(e),r=n[t];if("function"!=typeof r||!(t in qe.prototype))return!1;if(e===r)return!0;var i=Rs(r);return!!i&&e===i[0]}function zr(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||vo)}function Yr(e){return e===e&&!Li(e)}function $r(e,t){return function(n){return null!=n&&n[e]===t&&(t!==q||e in ho(n))}}function Qr(e,t,n){t=Xo(t===q?e.length-1:t,0);return function(){for(var r=arguments,o=-1,s=Xo(r.length-t,0),a=ao(s);++o<s;)a[o]=r[t+o];o=-1;for(var c=ao(t+1);++o<t;)c[o]=r[o];c[t]=n(a);return i(e,this,c)}}function Xr(e,t){return t.length<2?e:kt(e,kn(t,0,-1))}function Jr(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}function Zr(e,t,n){var r=t+"";return Bs(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;t[r]=(n>1?"& ":"")+t[r];t=t.join(n>2?", ":" ");return e.replace(We,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){s(ee,(function(n){var r="_."+n[0];t&n[1]&&!l(e,r)&&e.push(r)}));return e.sort()}(function(e){var t=e.match(Ke);return t?t[1].split(ze):[]}(r),n)))}function ei(e){var t=0,n=0;return function(){var r=Zo(),i=16-(r-n);n=r;if(i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(q,arguments)}}function ti(e,t){var n=-1,r=e.length,i=r-1;t=t===q?r:t;for(;++n<t;){var o=An(n,i),s=e[o];e[o]=e[n];e[n]=s}e.length=t;return e}function ni(e){if("string"==typeof e||Bi(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ri(e){if(null!=e){try{return So.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ii(e){if(e instanceof qe)return e.clone();var t=new C(e.__wrapped__,e.__chain__);t.__actions__=or(e.__actions__);t.__index__=e.__index__;t.__values__=e.__values__;return t}function oi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Fi(n);i<0&&(i=Xo(r+i,0));return _(e,Br(t,3),i)}function si(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;if(n!==q){i=Fi(n);i=n<0?Xo(r+i,0):Jo(i,r-1)}return _(e,Br(t,3),i,!0)}function ai(e){return null!=e&&e.length?Lt(e,1):[]}function ci(e){return e&&e.length?e[0]:q}function ui(e){var t=null==e?0:e.length;return t?e[t-1]:q}function li(e,t){return e&&e.length&&t&&t.length?wn(e,t):e}function fi(e){return null==e?e:ns.call(e)}function di(e){if(!e||!e.length)return[];var t=0;e=u(e,(function(e){if(wi(e)){t=Xo(e.length,t);return!0}}));return N(t,(function(t){return d(e,T(t))}))}function hi(e,t){if(!e||!e.length)return[];var n=di(e);return null==t?n:d(n,(function(e){return i(t,q,e)}))}function pi(e){var t=n(e);t.__chain__=!0;return t}function mi(e,t){return t(e)}function gi(e,t){return(ba(e)?s:Es)(e,Br(t,3))}function yi(e,t){return(ba(e)?a:Ss)(e,Br(t,3))}function _i(e,t){return(ba(e)?d:vn)(e,Br(t,3))}function vi(e,t,n){t=n?q:t;t=e&&null==t?e.length:t;return wr(e,$,q,q,q,q,t)}function Ei(e,t){var n;if("function"!=typeof t)throw new go(W);e=Fi(e);return function(){--e>0&&(n=t.apply(this,arguments));e>1||(t=q);return n}}function Si(e,t,n){function r(t){var n=c,r=u;c=u=q;p=t;return f=e.apply(r,n)}function i(e){var n=e-h;return h===q||n>=t||n<0||g&&e-p>=l}function o(){var e=la();if(i(e))return s(e);d=ks(o,function(e){var n=t-(e-h);return g?Jo(n,l-(e-p)):n}(e))}function s(e){d=q;if(y&&c)return r(e);c=u=q;return f}function a(){var e=la(),n=i(e);c=arguments;u=this;h=e;if(n){if(d===q)return function(e){p=e;d=ks(o,t);return m?r(e):f}(h);if(g){Ns(d);d=ks(o,t);return r(h)}}d===q&&(d=ks(o,t));return f}var c,u,l,f,d,h,p=0,m=!1,g=!1,y=!0;if("function"!=typeof e)throw new go(W);t=Gi(t)||0;if(Li(n)){m=!!n.leading;l=(g="maxWait"in n)?Xo(Gi(n.maxWait)||0,t):l;y="trailing"in n?!!n.trailing:y}a.cancel=function(){d!==q&&Ns(d);p=0;c=h=u=d=q};a.flush=function(){return d===q?f:s(la())};return a}function bi(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new go(W);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);n.cache=o.set(i,s)||o;return s};n.cache=new(bi.Cache||ut);return n}function Ti(e){if("function"!=typeof e)throw new go(W);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Ci(e,t){return e===t||e!==e&&t!==t}function Ii(e){return null!=e&&Oi(e.length)&&!Ai(e)}function wi(e){return Di(e)&&Ii(e)}function Ni(e){if(!Di(e))return!1;var t=jt(e);return t==oe||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Pi(e)}function Ai(e){if(!Li(e))return!1;var t=jt(e);return t==se||t==ae||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ri(e){return"number"==typeof e&&e==Fi(e)}function Oi(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=X}function Li(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Di(e){return null!=e&&"object"==typeof e}function xi(e){return"number"==typeof e||Di(e)&&jt(e)==ue}function Pi(e){if(!Di(e)||jt(e)!=le)return!1;var t=xo(e);if(null===t)return!0;var n=bo.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&So.call(n)==wo}function ki(e){return"string"==typeof e||!ba(e)&&Di(e)&&jt(e)==pe}function Bi(e){return"symbol"==typeof e||Di(e)&&jt(e)==me}function Mi(e){if(!e)return[];if(Ii(e))return ki(e)?H(e):or(e);if(Uo&&e[Uo])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Uo]());var t=Ds(e);return(t==ce?B:t==he?F:$i)(e)}function Ui(e){return e?(e=Gi(e))===Q||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function Fi(e){var t=Ui(e),n=t%1;return t===t?n?t-n:t:0}function ji(e){return e?Tt(Fi(e),0,Z):0}function Gi(e){if("number"==typeof e)return e;if(Bi(e))return J;if(Li(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Li(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=A(e);var n=et.test(e);return n||nt.test(e)?Yt(e.slice(2),n?2:8):Ze.test(e)?J:+e}function Hi(e){return sr(e,zi(e))}function Vi(e){return null==e?"":Gn(e)}function qi(e,t,n){var r=null==e?q:kt(e,t);return r===q?n:r}function Wi(e,t){return null!=e&&jr(e,t,Qt)}function Ki(e){return Ii(e)?dt(e):yn(e)}function zi(e){return Ii(e)?dt(e,!0):function(e){if(!Li(e))return function(e){var t=[];if(null!=e)for(var n in ho(e))t.push(n);return t}(e);var t=zr(e),n=[];for(var r in e)("constructor"!=r||!t&&bo.call(e,r))&&n.push(r);return n}(e)}function Yi(e,t){if(null==e)return{};var n=d(xr(e),(function(e){return[e]}));t=Br(t);return In(e,n,(function(e,n){return t(e,n[0])}))}function $i(e){return null==e?[]:O(e,Ki(e))}function Qi(e){return tc(Vi(e).toLowerCase())}function Xi(e){return(e=Vi(e))&&e.replace(it,fn).replace(Mt,"")}function Ji(e,t,n){e=Vi(e);return(t=n?q:t)===q?function(e){return Gt.test(e)}(e)?function(e){return e.match(Ft)||[]}(e):function(e){return e.match(Ye)||[]}(e):e.match(t)||[]}function Zi(e){return function(){return e}}function eo(e){return e}function to(e){return gn("function"==typeof e?e:Ct(e,1))}function no(e,t,n){var r=Ki(t),i=Pt(t,r);if(null==n&&(!Li(t)||!i.length&&r.length)){n=t;t=e;e=this;i=Pt(t,Ki(t))}var o=!(Li(n)&&"chain"in n)||!!n.chain,a=Ai(e);s(i,(function(n){var r=t[n];e[n]=r;a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);(n.__actions__=or(this.__actions__)).push({func:r,args:arguments,thisArg:e});n.__chain__=t;return n}return r.apply(e,h([this.value()],arguments))})}));return e}function ro(){}function io(e){return Wr(e)?T(ni(e)):function(e){return function(t){return kt(t,e)}}(e)}function oo(){return[]}function so(){return!1}var ao=(t=null==t?Xt:pn.defaults(Xt.Object(),t,pn.pick(Xt,Ht))).Array,co=t.Date,uo=t.Error,lo=t.Function,fo=t.Math,ho=t.Object,po=t.RegExp,mo=t.String,go=t.TypeError,yo=ao.prototype,_o=lo.prototype,vo=ho.prototype,Eo=t["__core-js_shared__"],So=_o.toString,bo=vo.hasOwnProperty,To=0,Co=function(){var e=/[^.]+$/.exec(Eo&&Eo.keys&&Eo.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Io=vo.toString,wo=So.call(ho),No=Xt._,Ao=po("^"+So.call(bo).replace(Ge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ro=en?t.Buffer:q,Oo=t.Symbol,Lo=t.Uint8Array,Do=Ro?Ro.allocUnsafe:q,xo=M(ho.getPrototypeOf,ho),Po=ho.create,ko=vo.propertyIsEnumerable,Bo=yo.splice,Mo=Oo?Oo.isConcatSpreadable:q,Uo=Oo?Oo.iterator:q,Fo=Oo?Oo.toStringTag:q,jo=function(){try{var e=Fr(ho,"defineProperty");e({},"",{});return e}catch(e){}}(),Go=t.clearTimeout!==Xt.clearTimeout&&t.clearTimeout,Ho=co&&co.now!==Xt.Date.now&&co.now,Vo=t.setTimeout!==Xt.setTimeout&&t.setTimeout,qo=fo.ceil,Wo=fo.floor,Ko=ho.getOwnPropertySymbols,zo=Ro?Ro.isBuffer:q,Yo=t.isFinite,$o=yo.join,Qo=M(ho.keys,ho),Xo=fo.max,Jo=fo.min,Zo=co.now,es=t.parseInt,ts=fo.random,ns=yo.reverse,rs=Fr(t,"DataView"),is=Fr(t,"Map"),os=Fr(t,"Promise"),ss=Fr(t,"Set"),as=Fr(t,"WeakMap"),cs=Fr(ho,"create"),us=as&&new as,ls={},fs=ri(rs),ds=ri(is),hs=ri(os),ps=ri(ss),ms=ri(as),gs=Oo?Oo.prototype:q,ys=gs?gs.valueOf:q,_s=gs?gs.toString:q,vs=function(){function e(){}return function(t){if(!Li(t))return{};if(Po)return Po(t);e.prototype=t;var n=new e;e.prototype=q;return n}}();n.templateSettings={escape:ke,evaluate:Be,interpolate:Me,variable:"",imports:{_:n}};n.prototype=r.prototype;n.prototype.constructor=n;C.prototype=vs(r.prototype);C.prototype.constructor=C;qe.prototype=vs(r.prototype);qe.prototype.constructor=qe;at.prototype.clear=function(){this.__data__=cs?cs(null):{};this.size=0};at.prototype["delete"]=function(e){var t=this.has(e)&&delete this.__data__[e];this.size-=t?1:0;return t};at.prototype.get=function(e){var t=this.__data__;if(cs){var n=t[e];return n===K?q:n}return bo.call(t,e)?t[e]:q};at.prototype.has=function(e){var t=this.__data__;return cs?t[e]!==q:bo.call(t,e)};at.prototype.set=function(e,t){var n=this.__data__;this.size+=this.has(e)?0:1;n[e]=cs&&t===q?K:t;return this};ct.prototype.clear=function(){this.__data__=[];this.size=0};ct.prototype["delete"]=function(e){var t=this.__data__,n=_t(t,e);if(n<0)return!1;n==t.length-1?t.pop():Bo.call(t,n,1);--this.size;return!0};ct.prototype.get=function(e){var t=this.__data__,n=_t(t,e);return n<0?q:t[n][1]};ct.prototype.has=function(e){return _t(this.__data__,e)>-1};ct.prototype.set=function(e,t){var n=this.__data__,r=_t(n,e);if(r<0){++this.size;n.push([e,t])}else n[r][1]=t;return this};ut.prototype.clear=function(){this.size=0;this.__data__={hash:new at,map:new(is||ct),string:new at}};ut.prototype["delete"]=function(e){var t=Mr(this,e)["delete"](e);this.size-=t?1:0;return t};ut.prototype.get=function(e){return Mr(this,e).get(e)};ut.prototype.has=function(e){return Mr(this,e).has(e)};ut.prototype.set=function(e,t){var n=Mr(this,e),r=n.size;n.set(e,t);this.size+=n.size==r?0:1;return this};lt.prototype.add=lt.prototype.push=function(e){this.__data__.set(e,K);return this};lt.prototype.has=function(e){return this.__data__.has(e)};ft.prototype.clear=function(){this.__data__=new ct;this.size=0};ft.prototype["delete"]=function(e){var t=this.__data__,n=t["delete"](e);this.size=t.size;return n};ft.prototype.get=function(e){return this.__data__.get(e)};ft.prototype.has=function(e){return this.__data__.has(e)};ft.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ct){var r=n.__data__;if(!is||r.length<199){r.push([e,t]);this.size=++n.size;return this}n=this.__data__=new ut(r)}n.set(e,t);this.size=n.size;return this};var Es=ur(Dt),Ss=ur(xt,!0),bs=lr(),Ts=lr(!0),Cs=us?function(e,t){us.set(e,t);return e}:eo,Is=jo?function(e,t){return jo(e,"toString",{configurable:!0,enumerable:!1,value:Zi(t),writable:!0})}:eo,ws=On,Ns=Go||function(e){return Xt.clearTimeout(e)},As=ss&&1/F(new ss([,-0]))[1]==Q?function(e){return new ss(e)}:ro,Rs=us?function(e){return us.get(e)}:ro,Os=Ko?function(e){if(null==e)return[];e=ho(e);return u(Ko(e),(function(t){return ko.call(e,t)}))}:oo,Ls=Ko?function(e){for(var t=[];e;){h(t,Os(e));e=xo(e)}return t}:oo,Ds=jt;(rs&&Ds(new rs(new ArrayBuffer(1)))!=_e||is&&Ds(new is)!=ce||os&&Ds(os.resolve())!=fe||ss&&Ds(new ss)!=he||as&&Ds(new as)!=ge)&&(Ds=function(e){var t=jt(e),n=t==le?e.constructor:q,r=n?ri(n):"";if(r)switch(r){case fs:return _e;case ds:return ce;case hs:return fe;case ps:return he;case ms:return ge}return t});var xs=Eo?Ai:so,Ps=ei(Cs),ks=Vo||function(e,t){return Xt.setTimeout(e,t)},Bs=ei(Is),Ms=function(){var e=bi((function(e){var t=[];46===e.charCodeAt(0)&&t.push("");e.replace(je,(function(e,n,r,i){t.push(r?i.replace(Qe,"$1"):n||e)}));return t}),(function(e){500===t.size&&t.clear();return e})),t=e.cache;return e}(),Us=On((function(e,t){return wi(e)?Nt(e,Lt(t,1,wi,!0)):[]})),Fs=On((function(e,t){var n=ui(t);wi(n)&&(n=q);return wi(e)?Nt(e,Lt(t,1,wi,!0),Br(n,2)):[]})),js=On((function(e,t){var n=ui(t);wi(n)&&(n=q);return wi(e)?Nt(e,Lt(t,1,wi,!0),q,n):[]})),Gs=On((function(e){var t=d(e,$n);return t.length&&t[0]===e[0]?Jt(t):[]})),Hs=On((function(e){var t=ui(e),n=d(e,$n);t===ui(n)?t=q:n.pop();return n.length&&n[0]===e[0]?Jt(n,Br(t,2)):[]})),Vs=On((function(e){var t=ui(e),n=d(e,$n);(t="function"==typeof t?t:q)&&n.pop();return n.length&&n[0]===e[0]?Jt(n,q,t):[]})),qs=On(li),Ws=Lr((function(e,t){var n=null==e?0:e.length,r=bt(e,t);Nn(e,d(t,(function(e){return Vr(e,n)?+e:e})).sort(nr));return r})),Ks=On((function(e){return Hn(Lt(e,1,wi,!0))})),zs=On((function(e){var t=ui(e);wi(t)&&(t=q);return Hn(Lt(e,1,wi,!0),Br(t,2))})),Ys=On((function(e){var t=ui(e);t="function"==typeof t?t:q;return Hn(Lt(e,1,wi,!0),q,t)})),$s=On((function(e,t){return wi(e)?Nt(e,t):[]})),Qs=On((function(e){return zn(u(e,wi))})),Xs=On((function(e){var t=ui(e);wi(t)&&(t=q);return zn(u(e,wi),Br(t,2))})),Js=On((function(e){var t=ui(e);t="function"==typeof t?t:q;return zn(u(e,wi),q,t)})),Zs=On(di),ea=On((function(e){var t=e.length,n=t>1?e[t-1]:q;n="function"==typeof n?(e.pop(),n):q;return hi(e,n)})),ta=Lr((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return bt(t,e)};if(t>1||this.__actions__.length||!(r instanceof qe)||!Vr(n))return this.thru(i);(r=r.slice(n,+n+(t?1:0))).__actions__.push({func:mi,args:[i],thisArg:q});return new C(r,this.__chain__).thru((function(e){t&&!e.length&&e.push(q);return e}))})),na=ar((function(e,t,n){bo.call(e,n)?++e[n]:St(e,n,1)})),ra=pr(oi),ia=pr(si),oa=ar((function(e,t,n){bo.call(e,n)?e[n].push(t):St(e,n,[t])})),sa=On((function(e,t,n){var r=-1,o="function"==typeof t,s=Ii(e)?ao(e.length):[];Es(e,(function(e){s[++r]=o?i(t,e,n):Zt(e,t,n)}));return s})),aa=ar((function(e,t,n){St(e,n,t)})),ca=ar((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),ua=On((function(e,t){if(null==e)return[];var n=t.length;n>1&&qr(e,t[0],t[1])?t=[]:n>2&&qr(t[0],t[1],t[2])&&(t=[t[0]]);return Cn(e,Lt(t,1),[])})),la=Ho||function(){return Xt.Date.now()},fa=On((function(e,t,n){var r=1;if(n.length){var i=U(n,kr(fa));r|=Y}return wr(e,r,t,n,i)})),da=On((function(e,t,n){var r=3;if(n.length){var i=U(n,kr(da));r|=Y}return wr(t,r,e,n,i)})),ha=On((function(e,t){return wt(e,1,t)})),pa=On((function(e,t,n){return wt(e,Gi(t)||0,n)}));bi.Cache=ut;var ma=ws((function(e,t){var n=(t=1==t.length&&ba(t[0])?d(t[0],R(Br())):d(Lt(t,1),R(Br()))).length;return On((function(r){for(var o=-1,s=Jo(r.length,n);++o<s;)r[o]=t[o].call(this,r[o]);return i(e,this,r)}))})),ga=On((function(e,t){var n=U(t,kr(ga));return wr(e,Y,q,t,n)})),ya=On((function(e,t){var n=U(t,kr(ya));return wr(e,64,q,t,n)})),_a=Lr((function(e,t){return wr(e,256,q,q,q,t)})),va=br(Kt),Ea=br((function(e,t){return e>=t})),Sa=tn(function(){return arguments}())?tn:function(e){return Di(e)&&bo.call(e,"callee")&&!ko.call(e,"callee")},ba=ao.isArray,Ta=rn?R(rn):function(e){return Di(e)&&jt(e)==ye},Ca=zo||so,Ia=on?R(on):function(e){return Di(e)&&jt(e)==ie},wa=sn?R(sn):function(e){return Di(e)&&Ds(e)==ce},Na=an?R(an):function(e){return Di(e)&&jt(e)==de},Aa=cn?R(cn):function(e){return Di(e)&&Ds(e)==he},Ra=un?R(un):function(e){return Di(e)&&Oi(e.length)&&!!qt[jt(e)]},Oa=br(_n),La=br((function(e,t){return e<=t})),Da=cr((function(e,t){if(zr(t)||Ii(t))sr(t,Ki(t),e);else for(var n in t)bo.call(t,n)&&yt(e,n,t[n])})),xa=cr((function(e,t){sr(t,zi(t),e)})),Pa=cr((function(e,t,n,r){sr(t,zi(t),e,r)})),ka=cr((function(e,t,n,r){sr(t,Ki(t),e,r)})),Ba=Lr(bt),Ma=On((function(e,t){e=ho(e);var n=-1,r=t.length,i=r>2?t[2]:q;i&&qr(t[0],t[1],i)&&(r=1);for(;++n<r;)for(var o=t[n],s=zi(o),a=-1,c=s.length;++a<c;){var u=s[a],l=e[u];(l===q||Ci(l,vo[u])&&!bo.call(e,u))&&(e[u]=o[u])}return e})),Ua=On((function(e){e.push(q,Ar);return i(Va,q,e)})),Fa=yr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Io.call(t));e[t]=n}),Zi(eo)),ja=yr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Io.call(t));bo.call(e,t)?e[t].push(n):e[t]=[n]}),Br),Ga=On(Zt),Ha=cr((function(e,t,n){bn(e,t,n)})),Va=cr((function(e,t,n,r){bn(e,t,n,r)})),qa=Lr((function(e,t){var n={};if(null==e)return n;var r=!1;t=d(t,(function(t){t=Xn(t,e);r||(r=t.length>1);return t}));sr(e,xr(e),n);r&&(n=Ct(n,7,Rr));for(var i=t.length;i--;)Vn(n,t[i]);return n})),Wa=Lr((function(e,t){return null==e?{}:function(e,t){return In(e,t,(function(t,n){return Wi(e,n)}))}(e,t)})),Ka=Ir(Ki),za=Ir(zi),Ya=dr((function(e,t,n){t=t.toLowerCase();return e+(n?Qi(t):t)})),$a=dr((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Qa=dr((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Xa=fr("toLowerCase"),Ja=dr((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Za=dr((function(e,t,n){return e+(n?" ":"")+tc(t)})),ec=dr((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),tc=fr("toUpperCase"),nc=On((function(e,t){try{return i(e,q,t)}catch(e){return Ni(e)?e:new uo(e)}})),rc=Lr((function(e,t){s(t,(function(t){t=ni(t);St(e,t,fa(e[t],e))}));return e})),ic=mr(),oc=mr(!0),sc=On((function(e,t){return function(n){return Zt(n,e,t)}})),ac=On((function(e,t){return function(n){return Zt(e,n,t)}})),cc=vr(d),uc=vr(c),lc=vr(g),fc=Sr(),dc=Sr(!0),hc=_r((function(e,t){return e+t}),0),pc=Cr("ceil"),mc=_r((function(e,t){return e/t}),1),gc=Cr("floor"),yc=_r((function(e,t){return e*t}),1),_c=Cr("round"),vc=_r((function(e,t){return e-t}),0);n.after=function(e,t){if("function"!=typeof t)throw new go(W);e=Fi(e);return function(){if(--e<1)return t.apply(this,arguments)}};n.ary=vi;n.assign=Da;n.assignIn=xa;n.assignInWith=Pa;n.assignWith=ka;n.at=Ba;n.before=Ei;n.bind=fa;n.bindAll=rc;n.bindKey=da;n.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return ba(e)?e:[e]};n.chain=pi;n.chunk=function(e,t,n){t=(n?qr(e,t,n):t===q)?1:Xo(Fi(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,s=ao(qo(r/t));i<r;)s[o++]=kn(e,i,i+=t);return s};n.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i};n.concat=function(){var e=arguments.length;if(!e)return[];for(var t=ao(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return h(ba(n)?or(n):[n],Lt(t,1))};n.cond=function(e){var t=null==e?0:e.length,n=Br();e=t?d(e,(function(e){if("function"!=typeof e[1])throw new go(W);return[n(e[0]),e[1]]})):[];return On((function(n){for(var r=-1;++r<t;){var o=e[r];if(i(o[0],this,n))return i(o[1],this,n)}}))};n.conforms=function(e){return function(e){var t=Ki(e);return function(n){return It(n,e,t)}}(Ct(e,1))};n.constant=Zi;n.countBy=na;n.create=function(e,t){var n=vs(e);return null==t?n:Et(n,t)};n.curry=function e(t,n,r){var i=wr(t,8,q,q,q,q,q,n=r?q:n);i.placeholder=e.placeholder;return i};n.curryRight=function e(t,n,r){var i=wr(t,16,q,q,q,q,q,n=r?q:n);i.placeholder=e.placeholder;return i};n.debounce=Si;n.defaults=Ma;n.defaultsDeep=Ua;n.defer=ha;n.delay=pa;n.difference=Us;n.differenceBy=Fs;n.differenceWith=js;n.drop=function(e,t,n){var r=null==e?0:e.length;return r?kn(e,(t=n||t===q?1:Fi(t))<0?0:t,r):[]};n.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?kn(e,0,(t=r-(t=n||t===q?1:Fi(t)))<0?0:t):[]};n.dropRightWhile=function(e,t){return e&&e.length?Wn(e,Br(t,3),!0,!0):[]};n.dropWhile=function(e,t){return e&&e.length?Wn(e,Br(t,3),!0):[]};n.fill=function(e,t,n,r){var i=null==e?0:e.length;if(!i)return[];if(n&&"number"!=typeof n&&qr(e,t,n)){n=0;r=i}return function(e,t,n,r){var i=e.length;(n=Fi(n))<0&&(n=-n>i?0:i+n);(r=r===q||r>i?i:Fi(r))<0&&(r+=i);r=n>r?0:ji(r);for(;n<r;)e[n++]=t;return e}(e,t,n,r)};n.filter=function(e,t){return(ba(e)?u:Ot)(e,Br(t,3))};n.flatMap=function(e,t){return Lt(_i(e,t),1)};n.flatMapDeep=function(e,t){return Lt(_i(e,t),Q)};n.flatMapDepth=function(e,t,n){n=n===q?1:Fi(n);return Lt(_i(e,t),n)};n.flatten=ai;n.flattenDeep=function(e){return null!=e&&e.length?Lt(e,Q):[]};n.flattenDepth=function(e,t){return null!=e&&e.length?Lt(e,t=t===q?1:Fi(t)):[]};n.flip=function(e){return wr(e,512)};n.flow=ic;n.flowRight=oc;n.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r};n.functions=function(e){return null==e?[]:Pt(e,Ki(e))};n.functionsIn=function(e){return null==e?[]:Pt(e,zi(e))};n.groupBy=oa;n.initial=function(e){return null!=e&&e.length?kn(e,0,-1):[]};n.intersection=Gs;n.intersectionBy=Hs;n.intersectionWith=Vs;n.invert=Fa;n.invertBy=ja;n.invokeMap=sa;n.iteratee=to;n.keyBy=aa;n.keys=Ki;n.keysIn=zi;n.map=_i;n.mapKeys=function(e,t){var n={};t=Br(t,3);Dt(e,(function(e,r,i){St(n,t(e,r,i),e)}));return n};n.mapValues=function(e,t){var n={};t=Br(t,3);Dt(e,(function(e,r,i){St(n,r,t(e,r,i))}));return n};n.matches=function(e){return En(Ct(e,1))};n.matchesProperty=function(e,t){return Sn(e,Ct(t,1))};n.memoize=bi;n.merge=Ha;n.mergeWith=Va;n.method=sc;n.methodOf=ac;n.mixin=no;n.negate=Ti;n.nthArg=function(e){e=Fi(e);return On((function(t){return Tn(t,e)}))};n.omit=qa;n.omitBy=function(e,t){return Yi(e,Ti(Br(t)))};n.once=function(e){return Ei(2,e)};n.orderBy=function(e,t,n,r){if(null==e)return[];ba(t)||(t=null==t?[]:[t]);ba(n=r?q:n)||(n=null==n?[]:[n]);return Cn(e,t,n)};n.over=cc;n.overArgs=ma;n.overEvery=uc;n.overSome=lc;n.partial=ga;n.partialRight=ya;n.partition=ca;n.pick=Wa;n.pickBy=Yi;n.property=io;n.propertyOf=function(e){return function(t){return null==e?q:kt(e,t)}};n.pull=qs;n.pullAll=li;n.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?wn(e,t,Br(n,2)):e};n.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?wn(e,t,q,n):e};n.pullAt=Ws;n.range=fc;n.rangeRight=dc;n.rearg=_a;n.reject=function(e,t){return(ba(e)?u:Ot)(e,Ti(Br(t,3)))};n.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;t=Br(t,3);for(;++r<o;){var s=e[r];if(t(s,r,e)){n.push(s);i.push(r)}}Nn(e,i);return n};n.rest=function(e,t){if("function"!=typeof e)throw new go(W);return On(e,t=t===q?t:Fi(t))};n.reverse=fi;n.sampleSize=function(e,t,n){t=(n?qr(e,t,n):t===q)?1:Fi(t);return(ba(e)?pt:Dn)(e,t)};n.set=function(e,t,n){return null==e?e:xn(e,t,n)};n.setWith=function(e,t,n,r){r="function"==typeof r?r:q;return null==e?e:xn(e,t,n,r)};n.shuffle=function(e){return(ba(e)?mt:Pn)(e)};n.slice=function(e,t,n){var r=null==e?0:e.length;if(!r)return[];if(n&&"number"!=typeof n&&qr(e,t,n)){t=0;n=r}else{t=null==t?0:Fi(t);n=n===q?r:Fi(n)}return kn(e,t,n)};n.sortBy=ua;n.sortedUniq=function(e){return e&&e.length?Fn(e):[]};n.sortedUniqBy=function(e,t){return e&&e.length?Fn(e,Br(t,2)):[]};n.split=function(e,t,n){n&&"number"!=typeof n&&qr(e,t,n)&&(t=n=q);return(n=n===q?Z:n>>>0)?(e=Vi(e))&&("string"==typeof t||null!=t&&!Na(t))&&!(t=Gn(t))&&k(e)?Jn(H(e),0,n):e.split(t,n):[]};n.spread=function(e,t){if("function"!=typeof e)throw new go(W);t=null==t?0:Xo(Fi(t),0);return On((function(n){var r=n[t],o=Jn(n,0,t);r&&h(o,r);return i(e,this,o)}))};n.tail=function(e){var t=null==e?0:e.length;return t?kn(e,1,t):[]};n.take=function(e,t,n){return e&&e.length?kn(e,0,(t=n||t===q?1:Fi(t))<0?0:t):[]};n.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?kn(e,(t=r-(t=n||t===q?1:Fi(t)))<0?0:t,r):[]};n.takeRightWhile=function(e,t){return e&&e.length?Wn(e,Br(t,3),!1,!0):[]};n.takeWhile=function(e,t){return e&&e.length?Wn(e,Br(t,3)):[]};n.tap=function(e,t){t(e);return e};n.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new go(W);if(Li(n)){r="leading"in n?!!n.leading:r;i="trailing"in n?!!n.trailing:i}return Si(e,t,{leading:r,maxWait:t,trailing:i})};n.thru=mi;n.toArray=Mi;n.toPairs=Ka;n.toPairsIn=za;n.toPath=function(e){return ba(e)?d(e,ni):Bi(e)?[e]:or(Ms(Vi(e)))};n.toPlainObject=Hi;n.transform=function(e,t,n){var r=ba(e),i=r||Ca(e)||Ra(e);t=Br(t,4);if(null==n){var o=e&&e.constructor;n=i?r?new o:[]:Li(e)&&Ai(o)?vs(xo(e)):{}}(i?s:Dt)(e,(function(e,r,i){return t(n,e,r,i)}));return n};n.unary=function(e){return vi(e,1)};n.union=Ks;n.unionBy=zs;n.unionWith=Ys;n.uniq=function(e){return e&&e.length?Hn(e):[]};n.uniqBy=function(e,t){return e&&e.length?Hn(e,Br(t,2)):[]};n.uniqWith=function(e,t){t="function"==typeof t?t:q;return e&&e.length?Hn(e,q,t):[]};n.unset=function(e,t){return null==e||Vn(e,t)};n.unzip=di;n.unzipWith=hi;n.update=function(e,t,n){return null==e?e:qn(e,t,Qn(n))};n.updateWith=function(e,t,n,r){r="function"==typeof r?r:q;return null==e?e:qn(e,t,Qn(n),r)};n.values=$i;n.valuesIn=function(e){return null==e?[]:O(e,zi(e))};n.without=$s;n.words=Ji;n.wrap=function(e,t){return ga(Qn(t),e)};n.xor=Qs;n.xorBy=Xs;n.xorWith=Js;n.zip=Zs;n.zipObject=function(e,t){return Yn(e||[],t||[],yt)};n.zipObjectDeep=function(e,t){return Yn(e||[],t||[],xn)};n.zipWith=ea;n.entries=Ka;n.entriesIn=za;n.extend=xa;n.extendWith=Pa;no(n,n);n.add=hc;n.attempt=nc;n.camelCase=Ya;n.capitalize=Qi;n.ceil=pc;n.clamp=function(e,t,n){if(n===q){n=t;t=q}n!==q&&(n=(n=Gi(n))===n?n:0);t!==q&&(t=(t=Gi(t))===t?t:0);return Tt(Gi(e),t,n)};n.clone=function(e){return Ct(e,4)};n.cloneDeep=function(e){return Ct(e,5)};n.cloneDeepWith=function(e,t){return Ct(e,5,t="function"==typeof t?t:q)};n.cloneWith=function(e,t){return Ct(e,4,t="function"==typeof t?t:q)};n.conformsTo=function(e,t){return null==t||It(e,t,Ki(t))};n.deburr=Xi;n.defaultTo=function(e,t){return null==e||e!==e?t:e};n.divide=mc;n.endsWith=function(e,t,n){e=Vi(e);t=Gn(t);var r=e.length,i=n=n===q?r:Tt(Fi(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t};n.eq=Ci;n.escape=function(e){return(e=Vi(e))&&Pe.test(e)?e.replace(De,dn):e};n.escapeRegExp=function(e){return(e=Vi(e))&&He.test(e)?e.replace(Ge,"\\$&"):e};n.every=function(e,t,n){var r=ba(e)?c:At;n&&qr(e,t,n)&&(t=q);return r(e,Br(t,3))};n.find=ra;n.findIndex=oi;n.findKey=function(e,t){return y(e,Br(t,3),Dt)};n.findLast=ia;n.findLastIndex=si;n.findLastKey=function(e,t){return y(e,Br(t,3),xt)};n.floor=gc;n.forEach=gi;n.forEachRight=yi;n.forIn=function(e,t){return null==e?e:bs(e,Br(t,3),zi)};n.forInRight=function(e,t){return null==e?e:Ts(e,Br(t,3),zi)};n.forOwn=function(e,t){return e&&Dt(e,Br(t,3))};n.forOwnRight=function(e,t){return e&&xt(e,Br(t,3))};n.get=qi;n.gt=va;n.gte=Ea;n.has=function(e,t){return null!=e&&jr(e,t,$t)};n.hasIn=Wi;n.head=ci;n.identity=eo;n.includes=function(e,t,n,r){e=Ii(e)?e:$i(e);n=n&&!r?Fi(n):0;var i=e.length;n<0&&(n=Xo(i+n,0));return ki(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&v(e,t,n)>-1};n.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Fi(n);i<0&&(i=Xo(r+i,0));return v(e,t,i)};n.inRange=function(e,t,n){t=Ui(t);if(n===q){n=t;t=0}else n=Ui(n);return function(e,t,n){return e>=Jo(t,n)&&e<Xo(t,n)}(e=Gi(e),t,n)};n.invoke=Ga;n.isArguments=Sa;n.isArray=ba;n.isArrayBuffer=Ta;n.isArrayLike=Ii;n.isArrayLikeObject=wi;n.isBoolean=function(e){return!0===e||!1===e||Di(e)&&jt(e)==re};n.isBuffer=Ca;n.isDate=Ia;n.isElement=function(e){return Di(e)&&1===e.nodeType&&!Pi(e)};n.isEmpty=function(e){if(null==e)return!0;if(Ii(e)&&(ba(e)||"string"==typeof e||"function"==typeof e.splice||Ca(e)||Ra(e)||Sa(e)))return!e.length;var t=Ds(e);if(t==ce||t==he)return!e.size;if(zr(e))return!yn(e).length;for(var n in e)if(bo.call(e,n))return!1;return!0};n.isEqual=function(e,t){return nn(e,t)};n.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:q)?n(e,t):q;return r===q?nn(e,t,q,n):!!r};n.isError=Ni;n.isFinite=function(e){return"number"==typeof e&&Yo(e)};n.isFunction=Ai;n.isInteger=Ri;n.isLength=Oi;n.isMap=wa;n.isMatch=function(e,t){return e===t||ln(e,t,Ur(t))};n.isMatchWith=function(e,t,n){n="function"==typeof n?n:q;return ln(e,t,Ur(t),n)};n.isNaN=function(e){return xi(e)&&e!=+e};n.isNative=function(e){if(xs(e))throw new uo("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return mn(e)};n.isNil=function(e){return null==e};n.isNull=function(e){return null===e};n.isNumber=xi;n.isObject=Li;n.isObjectLike=Di;n.isPlainObject=Pi;n.isRegExp=Na;n.isSafeInteger=function(e){return Ri(e)&&e>=-9007199254740991&&e<=X};n.isSet=Aa;n.isString=ki;n.isSymbol=Bi;n.isTypedArray=Ra;n.isUndefined=function(e){return e===q};n.isWeakMap=function(e){return Di(e)&&Ds(e)==ge};n.isWeakSet=function(e){return Di(e)&&"[object WeakSet]"==jt(e)};n.join=function(e,t){return null==e?"":$o.call(e,t)};n.kebabCase=$a;n.last=ui;n.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;n!==q&&(i=(i=Fi(n))<0?Xo(r+i,0):Jo(i,r-1));return t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):_(e,S,i,!0)};n.lowerCase=Qa;n.lowerFirst=Xa;n.lt=Oa;n.lte=La;n.max=function(e){return e&&e.length?Rt(e,eo,Kt):q};n.maxBy=function(e,t){return e&&e.length?Rt(e,Br(t,2),Kt):q};n.mean=function(e){return b(e,eo)};n.meanBy=function(e,t){return b(e,Br(t,2))};n.min=function(e){return e&&e.length?Rt(e,eo,_n):q};n.minBy=function(e,t){return e&&e.length?Rt(e,Br(t,2),_n):q};n.stubArray=oo;n.stubFalse=so;n.stubObject=function(){return{}};n.stubString=function(){return""};n.stubTrue=function(){return!0};n.multiply=yc;n.nth=function(e,t){return e&&e.length?Tn(e,Fi(t)):q};n.noConflict=function(){Xt._===this&&(Xt._=No);return this};n.noop=ro;n.now=la;n.pad=function(e,t,n){e=Vi(e);var r=(t=Fi(t))?G(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Er(Wo(i),n)+e+Er(qo(i),n)};n.padEnd=function(e,t,n){e=Vi(e);var r=(t=Fi(t))?G(e):0;return t&&r<t?e+Er(t-r,n):e};n.padStart=function(e,t,n){e=Vi(e);var r=(t=Fi(t))?G(e):0;return t&&r<t?Er(t-r,n)+e:e};n.parseInt=function(e,t,n){n||null==t?t=0:t&&(t=+t);return es(Vi(e).replace(Ve,""),t||0)};n.random=function(e,t,n){n&&"boolean"!=typeof n&&qr(e,t,n)&&(t=n=q);if(n===q)if("boolean"==typeof t){n=t;t=q}else if("boolean"==typeof e){n=e;e=q}if(e===q&&t===q){e=0;t=1}else{e=Ui(e);if(t===q){t=e;e=0}else t=Ui(t)}if(e>t){var r=e;e=t;t=r}if(n||e%1||t%1){var i=ts();return Jo(e+i*(t-e+zt("1e-"+((i+"").length-1))),t)}return An(e,t)};n.reduce=function(e,t,n){var r=ba(e)?p:I,i=arguments.length<3;return r(e,Br(t,4),n,i,Es)};n.reduceRight=function(e,t,n){var r=ba(e)?m:I,i=arguments.length<3;return r(e,Br(t,4),n,i,Ss)};n.repeat=function(e,t,n){t=(n?qr(e,t,n):t===q)?1:Fi(t);return Rn(Vi(e),t)};n.replace=function(){var e=arguments,t=Vi(e[0]);return e.length<3?t:t.replace(e[1],e[2])};n.result=function(e,t,n){var r=-1,i=(t=Xn(t,e)).length;if(!i){i=1;e=q}for(;++r<i;){var o=null==e?q:e[ni(t[r])];if(o===q){r=i;o=n}e=Ai(o)?o.call(e):o}return e};n.round=_c;n.runInContext=e;n.sample=function(e){return(ba(e)?ht:Ln)(e)};n.size=function(e){if(null==e)return 0;if(Ii(e))return ki(e)?G(e):e.length;var t=Ds(e);return t==ce||t==he?e.size:yn(e).length};n.snakeCase=Ja;n.some=function(e,t,n){var r=ba(e)?g:Bn;n&&qr(e,t,n)&&(t=q);return r(e,Br(t,3))};n.sortedIndex=function(e,t){return Mn(e,t)};n.sortedIndexBy=function(e,t,n){return Un(e,t,Br(n,2))};n.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Mn(e,t);if(r<n&&Ci(e[r],t))return r}return-1};n.sortedLastIndex=function(e,t){return Mn(e,t,!0)};n.sortedLastIndexBy=function(e,t,n){return Un(e,t,Br(n,2),!0)};n.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Mn(e,t,!0)-1;if(Ci(e[n],t))return n}return-1};n.startCase=Za;n.startsWith=function(e,t,n){e=Vi(e);n=null==n?0:Tt(Fi(n),0,e.length);t=Gn(t);return e.slice(n,n+t.length)==t};n.subtract=vc;n.sum=function(e){return e&&e.length?w(e,eo):0};n.sumBy=function(e,t){return e&&e.length?w(e,Br(t,2)):0};n.template=function(e,t,r){var i=n.templateSettings;r&&qr(e,t,r)&&(t=q);e=Vi(e);t=Pa({},t,i,Nr);var o,s,a=Pa({},t.imports,i.imports,Nr),c=Ki(a),u=O(a,c),l=0,f=t.interpolate||ot,d="__p += '",h=po((t.escape||ot).source+"|"+f.source+"|"+(f===Me?Xe:ot).source+"|"+(t.evaluate||ot).source+"|$","g"),p="//# sourceURL="+(bo.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Vt+"]")+"\n";e.replace(h,(function(t,n,r,i,a,c){r||(r=i);d+=e.slice(l,c).replace(st,P);if(n){o=!0;d+="' +\n__e("+n+") +\n'"}if(a){s=!0;d+="';\n"+a+";\n__p += '"}r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'");l=c+t.length;return t}));d+="';\n";var m=bo.call(t,"variable")&&t.variable;if(m){if($e.test(m))throw new uo("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(Ae,""):d).replace(Re,"$1").replace(Oe,"$1;");d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=nc((function(){return lo(c,p+"return "+d).apply(q,u)}));g.source=d;if(Ni(g))throw g;return g};n.times=function(e,t){if((e=Fi(e))<1||e>X)return[];var n=Z,r=Jo(e,Z);t=Br(t);e-=Z;for(var i=N(r,t);++n<e;)t(n);return i};n.toFinite=Ui;n.toInteger=Fi;n.toLength=ji;n.toLower=function(e){return Vi(e).toLowerCase()};n.toNumber=Gi;n.toSafeInteger=function(e){return e?Tt(Fi(e),-9007199254740991,X):0===e?e:0};n.toString=Vi;n.toUpper=function(e){return Vi(e).toUpperCase()};n.trim=function(e,t,n){if((e=Vi(e))&&(n||t===q))return A(e);if(!e||!(t=Gn(t)))return e;var r=H(e),i=H(t);return Jn(r,D(r,i),x(r,i)+1).join("")};n.trimEnd=function(e,t,n){if((e=Vi(e))&&(n||t===q))return e.slice(0,V(e)+1);if(!e||!(t=Gn(t)))return e;var r=H(e);return Jn(r,0,x(r,H(t))+1).join("")};n.trimStart=function(e,t,n){if((e=Vi(e))&&(n||t===q))return e.replace(Ve,"");if(!e||!(t=Gn(t)))return e;var r=H(e);return Jn(r,D(r,H(t))).join("")};n.truncate=function(e,t){var n=30,r="...";if(Li(t)){var i="separator"in t?t.separator:i;n="length"in t?Fi(t.length):n;r="omission"in t?Gn(t.omission):r}var o=(e=Vi(e)).length;if(k(e)){var s=H(e);o=s.length}if(n>=o)return e;var a=n-G(r);if(a<1)return r;var c=s?Jn(s,0,a).join(""):e.slice(0,a);if(i===q)return c+r;s&&(a+=c.length-a);if(Na(i)){if(e.slice(a).search(i)){var u,l=c;i.global||(i=po(i.source,Vi(Je.exec(i))+"g"));i.lastIndex=0;for(;u=i.exec(l);)var f=u.index;c=c.slice(0,f===q?a:f)}}else if(e.indexOf(Gn(i),a)!=a){var d=c.lastIndexOf(i);d>-1&&(c=c.slice(0,d))}return c+r};n.unescape=function(e){return(e=Vi(e))&&xe.test(e)?e.replace(Le,hn):e};n.uniqueId=function(e){var t=++To;return Vi(e)+t};n.upperCase=ec;n.upperFirst=tc;n.each=gi;n.eachRight=yi;n.first=ci;no(n,function(){var e={};Dt(n,(function(t,r){bo.call(n.prototype,r)||(e[r]=t)}));return e}(),{chain:!1});n.VERSION="4.17.21";s(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){n[e].placeholder=n}));s(["drop","take"],(function(e,t){qe.prototype[e]=function(n){n=n===q?1:Xo(Fi(n),0);var r=this.__filtered__&&!t?new qe(this):this.clone();r.__filtered__?r.__takeCount__=Jo(n,r.__takeCount__):r.__views__.push({size:Jo(n,Z),type:e+(r.__dir__<0?"Right":"")});return r};qe.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}));s(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;qe.prototype[e]=function(e){var t=this.clone();t.__iteratees__.push({iteratee:Br(e,3),type:n});t.__filtered__=t.__filtered__||r;return t}}));s(["head","last"],(function(e,t){var n="take"+(t?"Right":"");qe.prototype[e]=function(){return this[n](1).value()[0]}}));s(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");qe.prototype[e]=function(){return this.__filtered__?new qe(this):this[n](1)}}));qe.prototype.compact=function(){return this.filter(eo)};qe.prototype.find=function(e){return this.filter(e).head()};qe.prototype.findLast=function(e){return this.reverse().find(e)};qe.prototype.invokeMap=On((function(e,t){return"function"==typeof e?new qe(this):this.map((function(n){return Zt(n,e,t)}))}));qe.prototype.reject=function(e){return this.filter(Ti(Br(e)))};qe.prototype.slice=function(e,t){e=Fi(e);var n=this;if(n.__filtered__&&(e>0||t<0))return new qe(n);e<0?n=n.takeRight(-e):e&&(n=n.drop(e));t!==q&&(n=(t=Fi(t))<0?n.dropRight(-t):n.take(t-e));return n};qe.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()};qe.prototype.toArray=function(){return this.take(Z)};Dt(qe.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),o=n[i?"take"+("last"==t?"Right":""):t],s=i||/^find/.test(t);o&&(n.prototype[t]=function(){var t=this.__wrapped__,a=i?[1]:arguments,c=t instanceof qe,u=a[0],l=c||ba(t),f=function(e){var t=o.apply(n,h([e],a));return i&&d?t[0]:t};l&&r&&"function"==typeof u&&1!=u.length&&(c=l=!1);var d=this.__chain__,p=!!this.__actions__.length,m=s&&!d,g=c&&!p;if(!s&&l){t=g?t:new qe(this);var y=e.apply(t,a);y.__actions__.push({func:mi,args:[f],thisArg:q});return new C(y,d)}if(m&&g)return e.apply(this,a);y=this.thru(f);return m?i?y.value()[0]:y.value():y})}));s(["pop","push","shift","sort","splice","unshift"],(function(e){var t=yo[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var n=this.value();return t.apply(ba(n)?n:[],e)}return this[r]((function(n){return t.apply(ba(n)?n:[],e)}))}}));Dt(qe.prototype,(function(e,t){var r=n[t];if(r){var i=r.name+"";bo.call(ls,i)||(ls[i]=[]);ls[i].push({name:t,func:r})}}));ls[gr(q,2).name]=[{name:"wrapper",func:q}];qe.prototype.clone=function(){var e=new qe(this.__wrapped__);e.__actions__=or(this.__actions__);e.__dir__=this.__dir__;e.__filtered__=this.__filtered__;e.__iteratees__=or(this.__iteratees__);e.__takeCount__=this.__takeCount__;e.__views__=or(this.__views__);return e};qe.prototype.reverse=function(){if(this.__filtered__){var e=new qe(this);e.__dir__=-1;e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e};qe.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=ba(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=Jo(t,e+s);break;case"takeRight":e=Xo(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,c=a-s,u=r?a:s-1,l=this.__iteratees__,f=l.length,d=0,h=Jo(c,this.__takeCount__);if(!n||!r&&i==c&&h==c)return Kn(e,this.__actions__);var p=[];e:for(;c--&&d<h;){for(var m=-1,g=e[u+=t];++m<f;){var y=l[m],_=y.iteratee,v=y.type,E=_(g);if(2==v)g=E;else if(!E){if(1==v)continue e;break e}}p[d++]=g}return p};n.prototype.at=ta;n.prototype.chain=function(){return pi(this)};n.prototype.commit=function(){return new C(this.value(),this.__chain__)};n.prototype.next=function(){this.__values__===q&&(this.__values__=Mi(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?q:this.__values__[this.__index__++]}};n.prototype.plant=function(e){for(var t,n=this;n instanceof r;){var i=ii(n);i.__index__=0;i.__values__=q;t?o.__wrapped__=i:t=i;var o=i;n=n.__wrapped__}o.__wrapped__=e;return t};n.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof qe){var t=e;this.__actions__.length&&(t=new qe(this));(t=t.reverse()).__actions__.push({func:mi,args:[fi],thisArg:q});return new C(t,this.__chain__)}return this.thru(fi)};n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=function(){return Kn(this.__wrapped__,this.__actions__)};n.prototype.first=n.prototype.head;Uo&&(n.prototype[Uo]=function(){return this});return n}();Xt._=pn;(r=function(){return pn}.call(t,n,t,e))!==q&&(e.exports=r)}).call(this)},6863:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(e){void 0!==(__WEBPACK_AMD_DEFINE_RESULT__="function"===typeof(__WEBPACK_AMD_DEFINE_FACTORY__=e)?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}((function(){function isUndefined(e){return"undefined"==typeof e}function EventSupport(){}function Log4JavaScript(){}function toStr(e){return e&&e.toString?e.toString():String(e)}function getExceptionMessage(e){return e.message?e.message:e.description?e.description:toStr(e)}function getUrlFileName(e){var t=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return e.substr(t+1)}function getExceptionStringRep(e){if(e){var t="Exception: "+getExceptionMessage(e);try{e.lineNumber&&(t+=" on line number "+e.lineNumber);e.fileName&&(t+=" in file "+getUrlFileName(e.fileName))}catch(e){logLog.warn("Unable to obtain file and line information for error")}showStackTraces&&e.stack&&(t+=newLine+"Stack trace:"+newLine+e.stack);return t}return null}function bool(e){return Boolean(e)}function trim(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function splitIntoLines(e){return e.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n")}function array_remove(e,t){for(var n=-1,r=0,i=e.length;r<i;r++)if(e[r]===t){n=r;break}if(n<0)return!1;e.splice(n,1);return!0}function array_contains(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]==t)return!0;return!1}function extractBooleanFromParam(e,t){return isUndefined(e)?t:bool(e)}function extractStringFromParam(e,t){return isUndefined(e)?t:String(e)}function extractIntFromParam(e,t){if(isUndefined(e))return t;try{var n=parseInt(e,10);return isNaN(n)?t:n}catch(n){logLog.warn("Invalid int param "+e,n);return t}}function extractFunctionFromParam(e,t){return"function"==typeof e?e:t}function isError(e){return e instanceof Error}function handleError(e,t){logLog.error(e,t);log4javascript.dispatchEvent("error",{message:e,exception:t})}function Timer(e,t){this.name=e;this.level=isUndefined(t)?Level.INFO:t;this.start=new Date}function Logger(e){this.name=e;this.parent=null;this.children=[];var t=[],n=null,r=this.name===rootLoggerName,i=this.name===nullLoggerName,o=null,s=!1;this.addChild=function(e){this.children.push(e);e.parent=this;e.invalidateAppenderCache()};var a=!0;this.getAdditivity=function(){return a};this.setAdditivity=function(e){var t=a!=e;a=e;t&&this.invalidateAppenderCache()};this.addAppender=function(e){if(i)handleError("Logger.addAppender: you may not add an appender to the null logger");else if(e instanceof log4javascript.Appender){if(!array_contains(t,e)){t.push(e);e.setAddedToLogger(this);this.invalidateAppenderCache()}}else handleError("Logger.addAppender: appender supplied ('"+toStr(e)+"') is not a subclass of Appender")};this.removeAppender=function(e){array_remove(t,e);e.setRemovedFromLogger(this);this.invalidateAppenderCache()};this.removeAllAppenders=function(){var e=t.length;if(e>0){for(var n=0;n<e;n++)t[n].setRemovedFromLogger(this);t.length=0;this.invalidateAppenderCache()}};this.getEffectiveAppenders=function(){if(null===o||s){var e=r||!this.getAdditivity()?[]:this.parent.getEffectiveAppenders();o=e.concat(t);s=!1}return o};this.invalidateAppenderCache=function(){s=!0;for(var e=0,t=this.children.length;e<t;e++)this.children[e].invalidateAppenderCache()};this.log=function(e,t){if(enabled&&e.isGreaterOrEqual(this.getEffectiveLevel())){var n,r=t.length-1,i=t[r];if(t.length>1&&isError(i)){n=i;r--}for(var o=[],s=0;s<=r;s++)o[s]=t[s];var a=new LoggingEvent(this,new Date,e,o,n);this.callAppenders(a)}};this.callAppenders=function(e){for(var t=this.getEffectiveAppenders(),n=0,r=t.length;n<r;n++)t[n].doAppend(e)};this.setLevel=function(e){r&&null===e?handleError("Logger.setLevel: you cannot set the level of the root logger to null"):e instanceof Level?n=e:handleError("Logger.setLevel: level supplied to logger "+this.name+" is not an instance of log4javascript.Level")};this.getLevel=function(){return n};this.getEffectiveLevel=function(){for(var e=this;null!==e;e=e.parent){var t=e.getLevel();if(null!==t)return t}};this.group=function(e,t){if(enabled)for(var n=this.getEffectiveAppenders(),r=0,i=n.length;r<i;r++)n[r].group(e,t)};this.groupEnd=function(){if(enabled)for(var e=this.getEffectiveAppenders(),t=0,n=e.length;t<n;t++)e[t].groupEnd()};var c={};this.time=function(e,t){enabled&&(isUndefined(e)?handleError("Logger.time: a name for the timer must be supplied"):!t||t instanceof Level?c[e]=new Timer(e,t):handleError("Logger.time: level supplied to timer "+e+" is not an instance of log4javascript.Level"))};this.timeEnd=function(e){if(enabled)if(isUndefined(e))handleError("Logger.timeEnd: a name for the timer must be supplied");else if(c[e]){var t=c[e],n=t.getElapsedTime();this.log(t.level,["Timer "+toStr(e)+" completed in "+n+"ms"]);delete c[e]}else logLog.warn("Logger.timeEnd: no timer found with name "+e)};this.assert=function(e){if(enabled&&!e){for(var t=[],n=1,r=arguments.length;n<r;n++)t.push(arguments[n]);(t=t.length>0?t:["Assertion Failure"]).push(newLine);t.push(e);this.log(Level.ERROR,t)}};this.toString=function(){return"Logger["+this.name+"]"}}function SimpleLayout(){this.customFields=[]}function NullLayout(){this.customFields=[]}function XmlLayout(e){this.combineMessages=extractBooleanFromParam(e,!0);this.customFields=[]}function escapeNewLines(e){return e.replace(/\r\n|\r|\n/g,"\\r\\n")}function JsonLayout(e,t){this.readable=extractBooleanFromParam(e,!1);this.combineMessages=extractBooleanFromParam(t,!0);this.batchHeader=this.readable?"["+newLine:"[";this.batchFooter=this.readable?"]"+newLine:"]";this.batchSeparator=this.readable?","+newLine:",";this.setKeys();this.colon=this.readable?": ":":";this.tab=this.readable?"\t":"";this.lineBreak=this.readable?newLine:"";this.customFields=[]}function HttpPostDataLayout(){this.setKeys();this.customFields=[];this.returnsPostData=!0}function formatObjectExpansion(e,t,n){var r=[];return function e(t,n,i){function o(e){for(var t=splitIntoLines(e),n=1,r=t.length;n<r;n++)t[n]=i+t[n];return t.join(newLine)}var s,a,c,u,l,f,d;i||(i="");if(null===t)return"null";if("undefined"==typeof t)return"undefined";if("string"==typeof t)return o(t);if("object"==typeof t&&array_contains(r,t)){try{f=toStr(t)}catch(e){f="Error formatting property. Details: "+getExceptionStringRep(e)}return f+" [already expanded]"}if(t instanceof Array&&n>0){r.push(t);f="["+newLine;c=n-1;u=i+"  ";l=[];for(s=0,a=t.length;s<a;s++)try{d=e(t[s],c,u);l.push(u+d)}catch(e){l.push(u+"Error formatting array member. Details: "+getExceptionStringRep(e))}return f+(l.join(","+newLine)+newLine+i+"]")}if("[object Date]"==Object.prototype.toString.call(t))return t.toString();if("object"==typeof t&&n>0){r.push(t);f="{"+newLine;c=n-1;u=i+"  ";l=[];for(s in t)try{d=e(t[s],c,u);l.push(u+s+": "+d)}catch(e){l.push(u+s+": Error formatting property. Details: "+getExceptionStringRep(e))}return f+(l.join(","+newLine)+newLine+i+"}")}return o(toStr(t))}(e,t,n)}function PatternLayout(e){this.pattern=e||PatternLayout.DEFAULT_CONVERSION_PATTERN;this.customFields=[]}function AlertAppender(){}function BrowserConsoleAppender(){}function isHttpRequestSuccessful(e){return isUndefined(e.status)||0===e.status||e.status>=200&&e.status<300||1223==e.status}function AjaxAppender(e,t){function n(e){if(I){handleError("AjaxAppender: configuration option '"+e+"' may not be set after the appender has been initialized");return!1}return!0}function r(){if(l&&enabled){C=!0;var e;if(d)if(b.length>0)c(o(e=b.shift()),r);else{C=!1;f&&s()}else{for(;e=b.shift();)c(o(e));C=!1;f&&s()}}}function i(){var e=!1;if(l&&enabled){for(var t,n=u.getLayout().allowBatching()?h:1,i=[];t=S.shift();){i.push(t);if(S.length>=n){b.push(i);i=[]}}i.length>0&&b.push(i);e=b.length>0;d=!1;f=!1;r()}return e}function o(e){for(var t,n=[],r="";t=e.shift();)n.push(u.getLayout().formatWithException(t));r=1==e.length?n.join(""):u.getLayout().batchHeader+n.join(u.getLayout().batchSeparator)+u.getLayout().batchFooter;if(v==u.defaults.contentType){(r=u.getLayout().returnsPostData?r:urlEncode(y)+"="+urlEncode(r)).length>0&&(r+="&");r+="layout="+urlEncode(u.getLayout().toString())}return r}function s(){window.setTimeout(r,p)}function a(){var e="AjaxAppender: could not create XMLHttpRequest object. AjaxAppender disabled";handleError(e);l=!1;g&&g(e)}function c(n,r){try{var i=getXmlHttp(a);if(l){i.onreadystatechange=function(){if(4==i.readyState){if(isHttpRequestSuccessful(i)){m&&m(i);r&&r(i)}else{var t="AjaxAppender.append: XMLHttpRequest request to URL "+e+" returned status code "+i.status;handleError(t);g&&g(t)}i.onreadystatechange=emptyFunction;i=null}};i.open("POST",e,!0);t&&withCredentialsSupported&&(i.withCredentials=!0);try{for(var o,s=0;o=T[s++];)i.setRequestHeader(o.name,o.value);i.setRequestHeader("Content-Type",v)}catch(e){var c="AjaxAppender.append: your browser's XMLHttpRequest implementation does not support setRequestHeader, therefore cannot post data. AjaxAppender disabled";handleError(c);l=!1;g&&g(c);return}i.send(n)}}catch(t){var u="AjaxAppender.append: error sending log message to "+e;handleError(u,t);l=!1;g&&g(u+". Details: "+getExceptionStringRep(t))}}var u=this,l=!0;if(!e){handleError("AjaxAppender: URL must be specified in constructor");l=!1}var f=this.defaults.timed,d=this.defaults.waitForResponse,h=this.defaults.batchSize,p=this.defaults.timerInterval,m=this.defaults.requestSuccessCallback,g=this.defaults.failCallback,y=this.defaults.postVarName,_=this.defaults.sendAllOnUnload,v=this.defaults.contentType,E=null,S=[],b=[],T=[],C=!1,I=!1;this.getSessionId=function(){return E};this.setSessionId=function(e){E=extractStringFromParam(e,null);this.layout.setCustomField("sessionid",E)};this.setLayout=function(e){if(n("layout")){this.layout=e;null!==E&&this.setSessionId(E)}};this.isTimed=function(){return f};this.setTimed=function(e){n("timed")&&(f=bool(e))};this.getTimerInterval=function(){return p};this.setTimerInterval=function(e){n("timerInterval")&&(p=extractIntFromParam(e,p))};this.isWaitForResponse=function(){return d};this.setWaitForResponse=function(e){n("waitForResponse")&&(d=bool(e))};this.getBatchSize=function(){return h};this.setBatchSize=function(e){n("batchSize")&&(h=extractIntFromParam(e,h))};this.isSendAllOnUnload=function(){return _};this.setSendAllOnUnload=function(e){n("sendAllOnUnload")&&(_=extractBooleanFromParam(e,_))};this.setRequestSuccessCallback=function(e){m=extractFunctionFromParam(e,m)};this.setFailCallback=function(e){g=extractFunctionFromParam(e,g)};this.getPostVarName=function(){return y};this.setPostVarName=function(e){n("postVarName")&&(y=extractStringFromParam(e,y))};this.getHeaders=function(){return T};this.addHeader=function(e,t){"content-type"==e.toLowerCase()?v=t:T.push({name:e,value:t})};this.sendAll=r;this.sendAllRemaining=i;this.append=function(e){if(l){I||function(){I=!0;if(_){var e=window.onbeforeunload;window.onbeforeunload=function(){e&&e();i()}}f&&s()}();S.push(e);var t=this.getLayout().allowBatching()?h:1;if(S.length>=t){for(var n,o=[];n=S.shift();)o.push(n);b.push(o);f||d&&(!d||C)||r()}}}}function setCookie(e,t,n,r){var i;r=r?"; path="+r:"";if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);i="; expires="+o.toGMTString()}else i="";document.cookie=escape(e)+"="+escape(t)+i+r}function getCookie(e){for(var t=escape(e)+"=",n=document.cookie.split(";"),r=0,i=n.length;r<i;r++){for(var o=n[r];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return unescape(o.substring(t.length,o.length))}return null}function getBaseUrl(){for(var e=document.getElementsByTagName("script"),t=0,n=e.length;t<n;++t)if(-1!=e[t].src.indexOf("log4javascript")){var r=e[t].src.lastIndexOf("/");return-1==r?"":e[t].src.substr(0,r+1)}return null}function isLoaded(e){try{return bool(e.loaded)}catch(e){return!1}}function padWithSpaces(e,t){if(e.length<t){for(var n=[],r=Math.max(0,t-e.length),i=0;i<r;i++)n[i]=" ";e+=n.join("")}return e}function createDefaultLogger(){var e=log4javascript.getLogger(defaultLoggerName),t=new log4javascript.PopUpAppender;e.addAppender(t);return e}Array.prototype.push||(Array.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)this[this.length]=arguments[e];return this.length});Array.prototype.shift||(Array.prototype.shift=function(){if(this.length>0){for(var e=this[0],t=0,n=this.length-1;t<n;t++)this[t]=this[t+1];this.length=this.length-1;return e}});Array.prototype.splice||(Array.prototype.splice=function(e,t){var n=this.slice(e+t),r=this.slice(e,e+t);this.length=e;for(var i=[],o=0,s=arguments.length;o<s;o++)i[o]=arguments[o];var a=i.length>2?n=i.slice(2).concat(n):n;for(o=0,s=a.length;o<s;o++)this.push(a[o]);return r});EventSupport.prototype={eventTypes:[],eventListeners:{},setEventTypes:function(e){if(e instanceof Array){this.eventTypes=e;this.eventListeners={};for(var t=0,n=this.eventTypes.length;t<n;t++)this.eventListeners[this.eventTypes[t]]=[]}else handleError("log4javascript.EventSupport ["+this+"]: setEventTypes: eventTypes parameter must be an Array")},addEventListener:function(e,t){if("function"==typeof t){array_contains(this.eventTypes,e)||handleError("log4javascript.EventSupport ["+this+"]: addEventListener: no event called '"+e+"'");this.eventListeners[e].push(t)}else handleError("log4javascript.EventSupport ["+this+"]: addEventListener: listener must be a function")},removeEventListener:function(e,t){if("function"==typeof t){array_contains(this.eventTypes,e)||handleError("log4javascript.EventSupport ["+this+"]: removeEventListener: no event called '"+e+"'");array_remove(this.eventListeners[e],t)}else handleError("log4javascript.EventSupport ["+this+"]: removeEventListener: listener must be a function")},dispatchEvent:function(e,t){if(array_contains(this.eventTypes,e))for(var n=this.eventListeners[e],r=0,i=n.length;r<i;r++)n[r](this,e,t);else handleError("log4javascript.EventSupport ["+this+"]: dispatchEvent: no event called '"+e+"'")}};var applicationStartDate=new Date,uniqueId="log4javascript_"+applicationStartDate.getTime()+"_"+Math.floor(1e8*Math.random()),emptyFunction=function(){},newLine="\r\n",pageLoaded=!1;Log4JavaScript.prototype=new EventSupport;var log4javascript=new Log4JavaScript;log4javascript.version="1.4.13";log4javascript.edition="log4javascript";var urlEncode="undefined"!=typeof window.encodeURIComponent?function(e){return encodeURIComponent(e)}:function(e){return escape(e).replace(/\+/g,"%2B").replace(/"/g,"%22").replace(/'/g,"%27").replace(/\//g,"%2F").replace(/=/g,"%3D")};Function.prototype.apply||(Function.prototype.apply=function(obj,args){var methodName="__apply__";"undefined"!=typeof obj[methodName]&&(methodName+=String(Math.random()).substr(2));obj[methodName]=this;for(var argsStrings=[],i=0,len=args.length;i<len;i++)argsStrings[i]="args["+i+"]";var script="obj."+methodName+"("+argsStrings.join(",")+")",returnValue=eval(script);delete obj[methodName];return returnValue});Function.prototype.call||(Function.prototype.call=function(e){for(var t=[],n=1,r=arguments.length;n<r;n++)t[n-1]=arguments[n];return this.apply(e,t)});var logLog={quietMode:!1,debugMessages:[],setQuietMode:function(e){this.quietMode=bool(e)},numberOfErrors:0,alertAllErrors:!1,setAlertAllErrors:function(e){this.alertAllErrors=e},debug:function(e){this.debugMessages.push(e)},displayDebug:function(){alert(this.debugMessages.join(newLine))},warn:function(){},error:function(e,t){if((1==++this.numberOfErrors||this.alertAllErrors)&&!this.quietMode){var n="log4javascript error: "+e;t&&(n+=newLine+newLine+"Original error: "+getExceptionStringRep(t));alert(n)}}};log4javascript.logLog=logLog;log4javascript.setEventTypes(["load","error"]);log4javascript.handleError=handleError;var enabled=!("undefined"!=typeof log4javascript_disabled&&log4javascript_disabled);log4javascript.setEnabled=function(e){enabled=bool(e)};log4javascript.isEnabled=function(){return enabled};var useTimeStampsInMilliseconds=!0;log4javascript.setTimeStampsInMilliseconds=function(e){useTimeStampsInMilliseconds=bool(e)};log4javascript.isTimeStampsInMilliseconds=function(){return useTimeStampsInMilliseconds};log4javascript.evalInScope=function(expr){return eval(expr)};var showStackTraces=!1;log4javascript.setShowStackTraces=function(e){showStackTraces=bool(e)};var Level=function(e,t){this.level=e;this.name=t};Level.prototype={toString:function(){return this.name},equals:function(e){return this.level==e.level},isGreaterOrEqual:function(e){return this.level>=e.level}};Level.ALL=new Level(Number.MIN_VALUE,"ALL");Level.TRACE=new Level(1e4,"TRACE");Level.DEBUG=new Level(2e4,"DEBUG");Level.INFO=new Level(3e4,"INFO");Level.WARN=new Level(4e4,"WARN");Level.ERROR=new Level(5e4,"ERROR");Level.FATAL=new Level(6e4,"FATAL");Level.OFF=new Level(Number.MAX_VALUE,"OFF");log4javascript.Level=Level;Timer.prototype.getElapsedTime=function(){return(new Date).getTime()-this.start.getTime()};var anonymousLoggerName="[anonymous]",defaultLoggerName="[default]",nullLoggerName="[null]",rootLoggerName="root";Logger.prototype={trace:function(){this.log(Level.TRACE,arguments)},debug:function(){this.log(Level.DEBUG,arguments)},info:function(){this.log(Level.INFO,arguments)},warn:function(){this.log(Level.WARN,arguments)},error:function(){this.log(Level.ERROR,arguments)},fatal:function(){this.log(Level.FATAL,arguments)},isEnabledFor:function(e){return e.isGreaterOrEqual(this.getEffectiveLevel())},isTraceEnabled:function(){return this.isEnabledFor(Level.TRACE)},isDebugEnabled:function(){return this.isEnabledFor(Level.DEBUG)},isInfoEnabled:function(){return this.isEnabledFor(Level.INFO)},isWarnEnabled:function(){return this.isEnabledFor(Level.WARN)},isErrorEnabled:function(){return this.isEnabledFor(Level.ERROR)},isFatalEnabled:function(){return this.isEnabledFor(Level.FATAL)}};Logger.prototype.trace.isEntryPoint=!0;Logger.prototype.debug.isEntryPoint=!0;Logger.prototype.info.isEntryPoint=!0;Logger.prototype.warn.isEntryPoint=!0;Logger.prototype.error.isEntryPoint=!0;Logger.prototype.fatal.isEntryPoint=!0;var loggers={},loggerNames=[],ROOT_LOGGER_DEFAULT_LEVEL=Level.DEBUG,rootLogger=new Logger(rootLoggerName);rootLogger.setLevel(ROOT_LOGGER_DEFAULT_LEVEL);log4javascript.getRootLogger=function(){return rootLogger};log4javascript.getLogger=function(e){if("string"!=typeof e){e=anonymousLoggerName;logLog.warn("log4javascript.getLogger: non-string logger name "+toStr(e)+" supplied, returning anonymous logger")}e==rootLoggerName&&handleError("log4javascript.getLogger: root logger may not be obtained by name");if(!loggers[e]){var t=new Logger(e);loggers[e]=t;loggerNames.push(e);var n,r=e.lastIndexOf(".");if(r>-1){var i=e.substring(0,r);n=log4javascript.getLogger(i)}else n=rootLogger;n.addChild(t)}return loggers[e]};var defaultLogger=null;log4javascript.getDefaultLogger=function(){defaultLogger||(defaultLogger=createDefaultLogger());return defaultLogger};var nullLogger=null;log4javascript.getNullLogger=function(){nullLogger||(nullLogger=new Logger(nullLoggerName)).setLevel(Level.OFF);return nullLogger};log4javascript.resetConfiguration=function(){rootLogger.setLevel(ROOT_LOGGER_DEFAULT_LEVEL);loggers={}};var LoggingEvent=function(e,t,n,r,i){this.logger=e;this.timeStamp=t;this.timeStampInMilliseconds=t.getTime();this.timeStampInSeconds=Math.floor(this.timeStampInMilliseconds/1e3);this.milliseconds=this.timeStamp.getMilliseconds();this.level=n;this.messages=r;this.exception=i};LoggingEvent.prototype={getThrowableStrRep:function(){return this.exception?getExceptionStringRep(this.exception):""},getCombinedMessages:function(){return 1==this.messages.length?this.messages[0]:this.messages.join(newLine)},toString:function(){return"LoggingEvent["+this.level+"]"}};log4javascript.LoggingEvent=LoggingEvent;var Layout=function(){};Layout.prototype={defaults:{loggerKey:"logger",timeStampKey:"timestamp",millisecondsKey:"milliseconds",levelKey:"level",messageKey:"message",exceptionKey:"exception",urlKey:"url"},loggerKey:"logger",timeStampKey:"timestamp",millisecondsKey:"milliseconds",levelKey:"level",messageKey:"message",exceptionKey:"exception",urlKey:"url",batchHeader:"",batchFooter:"",batchSeparator:"",returnsPostData:!1,overrideTimeStampsSetting:!1,useTimeStampsInMilliseconds:null,format:function(){handleError("Layout.format: layout supplied has no format() method")},ignoresThrowable:function(){handleError("Layout.ignoresThrowable: layout supplied has no ignoresThrowable() method")},getContentType:function(){return"text/plain"},allowBatching:function(){return!0},setTimeStampsInMilliseconds:function(e){this.overrideTimeStampsSetting=!0;this.useTimeStampsInMilliseconds=bool(e)},isTimeStampsInMilliseconds:function(){return this.overrideTimeStampsSetting?this.useTimeStampsInMilliseconds:useTimeStampsInMilliseconds},getTimeStampValue:function(e){return this.isTimeStampsInMilliseconds()?e.timeStampInMilliseconds:e.timeStampInSeconds},getDataValues:function(e,t){var n=[[this.loggerKey,e.logger.name],[this.timeStampKey,this.getTimeStampValue(e)],[this.levelKey,e.level.name],[this.urlKey,window.location.href],[this.messageKey,t?e.getCombinedMessages():e.messages]];this.isTimeStampsInMilliseconds()||n.push([this.millisecondsKey,e.milliseconds]);e.exception&&n.push([this.exceptionKey,getExceptionStringRep(e.exception)]);if(this.hasCustomFields())for(var r=0,i=this.customFields.length;r<i;r++){var o=this.customFields[r].value;"function"===typeof o&&(o=o(this,e));n.push([this.customFields[r].name,o])}return n},setKeys:function(e,t,n,r,i,o,s){this.loggerKey=extractStringFromParam(e,this.defaults.loggerKey);this.timeStampKey=extractStringFromParam(t,this.defaults.timeStampKey);this.levelKey=extractStringFromParam(n,this.defaults.levelKey);this.messageKey=extractStringFromParam(r,this.defaults.messageKey);this.exceptionKey=extractStringFromParam(i,this.defaults.exceptionKey);this.urlKey=extractStringFromParam(o,this.defaults.urlKey);this.millisecondsKey=extractStringFromParam(s,this.defaults.millisecondsKey)},setCustomField:function(e,t){for(var n=!1,r=0,i=this.customFields.length;r<i;r++)if(this.customFields[r].name===e){this.customFields[r].value=t;n=!0}n||this.customFields.push({name:e,value:t})},hasCustomFields:function(){return this.customFields.length>0},formatWithException:function(e){var t=this.format(e);e.exception&&this.ignoresThrowable()&&(t+=e.getThrowableStrRep());return t},toString:function(){handleError("Layout.toString: all layouts must override this method")}};log4javascript.Layout=Layout;var Appender=function(){},SimpleDateFormat;Appender.prototype=new EventSupport;Appender.prototype.layout=new PatternLayout;Appender.prototype.threshold=Level.ALL;Appender.prototype.loggers=[];Appender.prototype.doAppend=function(e){enabled&&e.level.level>=this.threshold.level&&this.append(e)};Appender.prototype.append=function(){};Appender.prototype.setLayout=function(e){e instanceof Layout?this.layout=e:handleError("Appender.setLayout: layout supplied to "+this.toString()+" is not a subclass of Layout")};Appender.prototype.getLayout=function(){return this.layout};Appender.prototype.setThreshold=function(e){e instanceof Level?this.threshold=e:handleError("Appender.setThreshold: threshold supplied to "+this.toString()+" is not a subclass of Level")};Appender.prototype.getThreshold=function(){return this.threshold};Appender.prototype.setAddedToLogger=function(e){this.loggers.push(e)};Appender.prototype.setRemovedFromLogger=function(e){array_remove(this.loggers,e)};Appender.prototype.group=emptyFunction;Appender.prototype.groupEnd=emptyFunction;Appender.prototype.toString=function(){handleError("Appender.toString: all appenders must override this method")};log4javascript.Appender=Appender;SimpleLayout.prototype=new Layout;SimpleLayout.prototype.format=function(e){return e.level.name+" - "+e.getCombinedMessages()};SimpleLayout.prototype.ignoresThrowable=function(){return!0};SimpleLayout.prototype.toString=function(){return"SimpleLayout"};log4javascript.SimpleLayout=SimpleLayout;NullLayout.prototype=new Layout;NullLayout.prototype.format=function(e){return e.messages};NullLayout.prototype.ignoresThrowable=function(){return!0};NullLayout.prototype.formatWithException=function(e){var t=e.messages,n=e.exception;return n?t.concat([n]):t};NullLayout.prototype.toString=function(){return"NullLayout"};log4javascript.NullLayout=NullLayout;XmlLayout.prototype=new Layout;XmlLayout.prototype.isCombinedMessages=function(){return this.combineMessages};XmlLayout.prototype.getContentType=function(){return"text/xml"};XmlLayout.prototype.escapeCdata=function(e){return e.replace(/\]\]>/,"]]>]]&gt;<![CDATA[")};XmlLayout.prototype.format=function(e){function t(e){e="string"===typeof e?e:toStr(e);return"<log4javascript:message><![CDATA["+i.escapeCdata(e)+"]]></log4javascript:message>"}var n,r,i=this,o='<log4javascript:event logger="'+e.logger.name+'" timestamp="'+this.getTimeStampValue(e)+'"';this.isTimeStampsInMilliseconds()||(o+=' milliseconds="'+e.milliseconds+'"');o+=' level="'+e.level.name+'">'+newLine;if(this.combineMessages)o+=t(e.getCombinedMessages());else{o+="<log4javascript:messages>"+newLine;for(n=0,r=e.messages.length;n<r;n++)o+=t(e.messages[n])+newLine;o+="</log4javascript:messages>"+newLine}if(this.hasCustomFields())for(n=0,r=this.customFields.length;n<r;n++)o+='<log4javascript:customfield name="'+this.customFields[n].name+'"><![CDATA['+this.customFields[n].value.toString()+"]]></log4javascript:customfield>"+newLine;e.exception&&(o+="<log4javascript:exception><![CDATA["+getExceptionStringRep(e.exception)+"]]></log4javascript:exception>"+newLine);return o+"</log4javascript:event>"+newLine+newLine};XmlLayout.prototype.ignoresThrowable=function(){return!1};XmlLayout.prototype.toString=function(){return"XmlLayout"};log4javascript.XmlLayout=XmlLayout;JsonLayout.prototype=new Layout;JsonLayout.prototype.isReadable=function(){return this.readable};JsonLayout.prototype.isCombinedMessages=function(){return this.combineMessages};JsonLayout.prototype.format=function(e){function t(e,n,r){var o,s=typeof e;if(e instanceof Date)o=String(e.getTime());else if(r&&e instanceof Array){o="["+i.lineBreak;for(var a=0,c=e.length;a<c;a++){var u=n+i.tab;o+=u+t(e[a],u,!1);a<e.length-1&&(o+=",");o+=i.lineBreak}o+=n+"]"}else o="number"!==s&&"boolean"!==s?'"'+escapeNewLines(toStr(e).replace(/\"/g,'\\"'))+'"':e;return o}var n,r,i=this,o=this.getDataValues(e,this.combineMessages),s="{"+this.lineBreak;for(n=0,r=o.length-1;n<=r;n++){s+=this.tab+'"'+o[n][0]+'"'+this.colon+t(o[n][1],this.tab,!0);n<r&&(s+=",");s+=this.lineBreak}return s+"}"+this.lineBreak};JsonLayout.prototype.ignoresThrowable=function(){return!1};JsonLayout.prototype.toString=function(){return"JsonLayout"};JsonLayout.prototype.getContentType=function(){return"application/json"};log4javascript.JsonLayout=JsonLayout;HttpPostDataLayout.prototype=new Layout;HttpPostDataLayout.prototype.allowBatching=function(){return!1};HttpPostDataLayout.prototype.format=function(e){for(var t=this.getDataValues(e),n=[],r=0,i=t.length;r<i;r++){var o=t[r][1]instanceof Date?String(t[r][1].getTime()):t[r][1];n.push(urlEncode(t[r][0])+"="+urlEncode(o))}return n.join("&")};HttpPostDataLayout.prototype.ignoresThrowable=function(){return!1};HttpPostDataLayout.prototype.toString=function(){return"HttpPostDataLayout"};log4javascript.HttpPostDataLayout=HttpPostDataLayout;!function(){var e=/('[^']*')|(G+|y+|M+|w+|W+|D+|d+|F+|E+|a+|H+|k+|K+|h+|m+|s+|S+|Z+)|([a-zA-Z]+)|([^a-zA-Z']+)/,t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r={G:0,y:3,M:4,w:2,W:2,D:2,d:2,F:2,E:1,a:0,H:2,k:2,K:2,h:2,m:2,s:2,S:2,Z:5},i=864e5,o=6048e5,s=function(e,t,n){var r=new Date(e,t,n,0,0,0);r.setMilliseconds(0);return r};Date.prototype.getDifference=function(e){return this.getTime()-e.getTime()};Date.prototype.isBefore=function(e){return this.getTime()<e.getTime()};Date.prototype.getUTCTime=function(){return Date.UTC(this.getFullYear(),this.getMonth(),this.getDate(),this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())};Date.prototype.getTimeSince=function(e){return this.getUTCTime()-e.getUTCTime()};Date.prototype.getPreviousSunday=function(){var e=new Date(this.getFullYear(),this.getMonth(),this.getDate(),12,0,0),t=new Date(e.getTime()-this.getDay()*i);return s(t.getFullYear(),t.getMonth(),t.getDate())};Date.prototype.getWeekInYear=function(e){isUndefined(this.minimalDaysInFirstWeek)&&(e=1);var t=this.getPreviousSunday(),n=s(this.getFullYear(),0,1),r=t.isBefore(n)?0:1+Math.floor(t.getTimeSince(n)/o);7-n.getDay()<e&&r--;return r};Date.prototype.getWeekInMonth=function(e){isUndefined(this.minimalDaysInFirstWeek)&&(e=1);var t=this.getPreviousSunday(),n=s(this.getFullYear(),this.getMonth(),1),r=t.isBefore(n)?0:1+Math.floor(t.getTimeSince(n)/o);7-n.getDay()<e||r++;return r};Date.prototype.getDayInYear=function(){var e=s(this.getFullYear(),0,1);return 1+Math.floor(this.getTimeSince(e)/i)};(SimpleDateFormat=function(e){this.formatString=e}).prototype.setMinimalDaysInFirstWeek=function(e){this.minimalDaysInFirstWeek=e};SimpleDateFormat.prototype.getMinimalDaysInFirstWeek=function(){return isUndefined(this.minimalDaysInFirstWeek)?1:this.minimalDaysInFirstWeek};var a=function(e,t){for(;e.length<t;)e="0"+e;return e},c=function(e,t,n){return t<4?e.substr(0,Math.max(n,t)):e},u=function(e,t){return a(""+e,t)};SimpleDateFormat.prototype.format=function(i){for(var o,s="",l=this.formatString;o=e.exec(l);){var f=o[1],d=o[2],h=o[3],p=o[4];if(f)s+="''"==f?"'":f.substring(1,f.length-1);else if(h);else if(p)s+=p;else if(d){var m=d.charAt(0),g=d.length,y="";switch(m){case"G":y="AD";break;case"y":y=i.getFullYear();break;case"M":y=i.getMonth();break;case"w":y=i.getWeekInYear(this.getMinimalDaysInFirstWeek());break;case"W":y=i.getWeekInMonth(this.getMinimalDaysInFirstWeek());break;case"D":y=i.getDayInYear();break;case"d":y=i.getDate();break;case"F":y=1+Math.floor((i.getDate()-1)/7);break;case"E":y=n[i.getDay()];break;case"a":y=i.getHours()<12?"AM":"PM";break;case"H":y=i.getHours();break;case"k":y=i.getHours()||24;break;case"K":y=i.getHours()%12;break;case"h":y=i.getHours()%12||12;break;case"m":y=i.getMinutes();break;case"s":y=i.getSeconds();break;case"S":y=i.getMilliseconds();break;case"Z":y=i.getTimezoneOffset()}switch(r[m]){case 0:s+=c(y,g,2);break;case 1:s+=c(y,g,3);break;case 2:s+=u(y,g);break;case 3:s+=g>3?u(y,g):(""+y).substr(2,2);break;case 4:s+=g<3?u(y+1,g):c(t[y],g,g);break;case 5:var _=y>0?"-":"+",v=Math.abs(y),E=""+Math.floor(v/60),S=""+v%60;s+=_+(E=a(E,2))+(S=a(S,2))}}l=l.substr(o.index+o[0].length)}return s}}();log4javascript.SimpleDateFormat=SimpleDateFormat;PatternLayout.TTCC_CONVERSION_PATTERN="%r %p %c - %m%n";PatternLayout.DEFAULT_CONVERSION_PATTERN="%m%n";PatternLayout.ISO8601_DATEFORMAT="yyyy-MM-dd HH:mm:ss,SSS";PatternLayout.DATETIME_DATEFORMAT="dd MMM yyyy HH:mm:ss,SSS";PatternLayout.ABSOLUTETIME_DATEFORMAT="HH:mm:ss,SSS";PatternLayout.prototype=new Layout;PatternLayout.prototype.format=function(e){for(var t,n=/%(-?[0-9]+)?(\.?[0-9]+)?([acdfmMnpr%])(\{([^\}]+)\})?|([^%]+)/,r="",i=this.pattern;t=n.exec(i);){var o=t[0],s=t[1],a=t[2],c=t[3],u=t[5],l=t[6];if(l)r+=""+l;else{var f,d="";switch(c){case"a":case"m":var h=0;if(u){h=parseInt(u,10);if(isNaN(h)){handleError("PatternLayout.format: invalid specifier '"+u+"' for conversion character '"+c+"' - should be a number");h=0}}for(var p="a"===c?e.messages[0]:e.messages,m=0,g=p.length;m<g;m++){m>0&&" "!==d.charAt(d.length-1)&&(d+=" ");d+=0===h?p[m]:formatObjectExpansion(p[m],h)}break;case"c":var y=e.logger.name;if(u){var _=parseInt(u,10),v=e.logger.name.split(".");d=_<v.length?v.slice(v.length-_).join("."):y}else d=y;break;case"d":var E=PatternLayout.ISO8601_DATEFORMAT;u&&("ISO8601"==(E=u)?E=PatternLayout.ISO8601_DATEFORMAT:"ABSOLUTE"==E?E=PatternLayout.ABSOLUTETIME_DATEFORMAT:"DATE"==E&&(E=PatternLayout.DATETIME_DATEFORMAT));d=new SimpleDateFormat(E).format(e.timeStamp);break;case"f":if(this.hasCustomFields()){var S=0;if(u){S=parseInt(u,10);isNaN(S)?handleError("PatternLayout.format: invalid specifier '"+u+"' for conversion character 'f' - should be a number"):0===S?handleError("PatternLayout.format: invalid specifier '"+u+"' for conversion character 'f' - must be greater than zero"):S>this.customFields.length?handleError("PatternLayout.format: invalid specifier '"+u+"' for conversion character 'f' - there aren't that many custom fields"):S-=1}var b=this.customFields[S].value;"function"==typeof b&&(b=b(this,e));d=b}break;case"n":d=newLine;break;case"p":d=e.level.name;break;case"r":d=""+e.timeStamp.getDifference(applicationStartDate);break;case"%":d="%";break;default:d=o}if(a){f=parseInt(a.substr(1),10);var T=d.length;f<T&&(d=d.substring(T-f,T))}if(s)if("-"==s.charAt(0)){f=parseInt(s.substr(1),10);for(;d.length<f;)d+=" "}else{f=parseInt(s,10);for(;d.length<f;)d=" "+d}r+=d}i=i.substr(t.index+t[0].length)}return r};PatternLayout.prototype.ignoresThrowable=function(){return!0};PatternLayout.prototype.toString=function(){return"PatternLayout"};log4javascript.PatternLayout=PatternLayout;AlertAppender.prototype=new Appender;AlertAppender.prototype.layout=new SimpleLayout;AlertAppender.prototype.append=function(e){alert(this.getLayout().formatWithException(e))};AlertAppender.prototype.toString=function(){return"AlertAppender"};log4javascript.AlertAppender=AlertAppender;BrowserConsoleAppender.prototype=new log4javascript.Appender;BrowserConsoleAppender.prototype.layout=new NullLayout;BrowserConsoleAppender.prototype.threshold=Level.DEBUG;BrowserConsoleAppender.prototype.append=function(e){var t=this,n=function(n){var r=t.getLayout().formatWithException(e);return"string"==typeof r?n?r:[r]:n?r.join(" "):r},r=window.console;if(r&&r.log){var i;"function"==typeof r[i=r.debug&&Level.DEBUG.isGreaterOrEqual(e.level)?"debug":r.info&&Level.INFO.equals(e.level)?"info":r.warn&&Level.WARN.equals(e.level)?"warn":r.error&&e.level.isGreaterOrEqual(Level.ERROR)?"error":"log"].apply?r[i].apply(r,n(!1)):r[i](n(!0))}else"undefined"!=typeof opera&&opera.postError&&opera.postError(n(!0))};BrowserConsoleAppender.prototype.group=function(e){window.console&&window.console.group&&window.console.group(e)};BrowserConsoleAppender.prototype.groupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()};BrowserConsoleAppender.prototype.toString=function(){return"BrowserConsoleAppender"};log4javascript.BrowserConsoleAppender=BrowserConsoleAppender;var xhrFactory=function(){return new XMLHttpRequest},xmlHttpFactories=[xhrFactory,function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],withCredentialsSupported=!1,getXmlHttp=function(e){for(var t,n=null,r=0,i=xmlHttpFactories.length;r<i;r++){t=xmlHttpFactories[r];try{n=t();withCredentialsSupported=t==xhrFactory&&"withCredentials"in n;getXmlHttp=t;return n}catch(e){}}e?e():handleError("getXmlHttp: unable to obtain XMLHttpRequest object")},ConsoleAppender;AjaxAppender.prototype=new Appender;AjaxAppender.prototype.defaults={waitForResponse:!1,timed:!1,timerInterval:1e3,batchSize:1,sendAllOnUnload:!1,requestSuccessCallback:null,failCallback:null,postVarName:"data",contentType:"application/x-www-form-urlencoded"};AjaxAppender.prototype.layout=new HttpPostDataLayout;AjaxAppender.prototype.toString=function(){return"AjaxAppender"};log4javascript.AjaxAppender=AjaxAppender;!function(){function e(e,t,n,r,i){this.create(!1,null,e,t,n,r,i,this.defaults.focusPopUp)}function t(e,t,n,r,i,o){this.create(!0,e,t,n,r,i,o,!1)}var n=[],r=1;(ConsoleAppender=function(){}).prototype=new Appender;ConsoleAppender.prototype.create=function(e,t,i,o,s,a,c,u){function l(e,t){this.loggingEvent=e;this.levelName=e.level.name;this.formattedMessage=t}function f(e,t){this.name=e;this.initiallyExpanded=t}function d(){}var h=this,p=!1,m=!1,g=!1,y=!1,_=[],v=!0,E=r++;o=extractBooleanFromParam(o,this.defaults.initiallyMinimized);i=extractBooleanFromParam(i,this.defaults.lazyInit);s=extractBooleanFromParam(s,this.defaults.useDocumentWrite);var S=this.defaults.newestMessageAtTop,b=this.defaults.scrollToLatestMessage;a=a||this.defaults.width;c=c||this.defaults.height;var T,C,I,w,N,A=this.defaults.maxMessages,R=this.defaults.showCommandLine,O=this.defaults.commandLineObjectExpansionDepth,L=this.defaults.showHideButton,D=this.defaults.showCloseButton;this.setLayout(this.defaults.layout);var x=e?"InPageAppender":"PopUpAppender",P=function(e){if(m){handleError(x+": configuration option '"+e+"' may not be set after the appender has been initialized");return!1}return!0},k=function(){return g&&v&&!y};this.isNewestMessageAtTop=function(){return S};this.setNewestMessageAtTop=function(e){S=bool(e);k()&&w().setNewestAtTop(S)};this.isScrollToLatestMessage=function(){return b};this.setScrollToLatestMessage=function(e){b=bool(e);k()&&w().setScrollToLatest(b)};this.getWidth=function(){return a};this.setWidth=function(e){P("width")&&(a=extractStringFromParam(e,a))};this.getHeight=function(){return c};this.setHeight=function(e){P("height")&&(c=extractStringFromParam(e,c))};this.getMaxMessages=function(){return A};this.setMaxMessages=function(e){A=extractIntFromParam(e,A);k()&&w().setMaxMessages(A)};this.isShowCommandLine=function(){return R};this.setShowCommandLine=function(e){R=bool(e);k()&&w().setShowCommandLine(R)};this.isShowHideButton=function(){return L};this.setShowHideButton=function(e){L=bool(e);k()&&w().setShowHideButton(L)};this.isShowCloseButton=function(){return D};this.setShowCloseButton=function(e){D=bool(e);k()&&w().setShowCloseButton(D)};this.getCommandLineObjectExpansionDepth=function(){return O};this.setCommandLineObjectExpansionDepth=function(e){O=extractIntFromParam(e,O)};var B=o;this.isInitiallyMinimized=function(){return o};this.setInitiallyMinimized=function(e){if(P("initiallyMinimized")){o=bool(e);B=o}};this.isUseDocumentWrite=function(){return s};this.setUseDocumentWrite=function(e){P("useDocumentWrite")&&(s=bool(e))};l.prototype.append=function(){w().log(this.levelName,this.formattedMessage)};f.prototype.append=function(){w().group(this.name,this.initiallyExpanded)};d.prototype.append=function(){w().groupEnd()};var M=function(){I();p?y&&te&&C():T();I()&&U()};this.append=function(e){if(v){var t=h.getLayout().formatWithException(e);_.push(new l(e,t));M()}};this.group=function(e,t){if(v){_.push(new f(e,t));M()}};this.groupEnd=function(){if(v){_.push(new d);M()}};var U=function(){for(;_.length>0;)_.shift().append();u&&w().focus()};this.setAddedToLogger=function(e){this.loggers.push(e);enabled&&!i&&T()};this.clear=function(){k()&&w().clearLog();_.length=0};this.focus=function(){k()&&w().focus()};this.focusCommandLine=function(){k()&&w().focusCommandLine()};this.focusSearch=function(){k()&&w().focusSearch()};var F=window;this.getCommandWindow=function(){return F};this.setCommandWindow=function(e){F=e};this.executeLastCommand=function(){k()&&w().evalLastCommand()};var j=new PatternLayout("%m");this.getCommandLayout=function(){return j};this.setCommandLayout=function(e){j=e};this.evalCommandAndAppend=function(e){var t={appendResult:!0,isError:!1},n="";try{var r,i;!F.eval&&F.execScript&&F.execScript("null");var o={};for(i=0,len=G.length;i<len;i++)o[G[i][0]]=G[i][1];var s=[],a=function(e){s.push([e,F[e]])};a("appender");F.appender=h;a("commandReturnValue");F.commandReturnValue=t;a("commandLineFunctionsHash");F.commandLineFunctionsHash=o;var c=function(e){a(e);F[e]=function(){return this.commandLineFunctionsHash[e](h,arguments,t)}};for(i=0,len=G.length;i<len;i++)c(G[i][0]);if(F===window&&F.execScript){a("evalExpr");a("result");window.evalExpr=e;F.execScript("window.result=eval(window.evalExpr);");r=window.result}else r=F.eval(e);n=isUndefined(r)?r:formatObjectExpansion(r,O);for(i=0,len=s.length;i<len;i++)F[s[i][0]]=s[i][1]}catch(e){n="Error evaluating command: "+getExceptionStringRep(e);t.isError=!0}if(t.appendResult){var u=">>> "+e;isUndefined(n)||(u+=newLine+n);var l=t.isError?Level.ERROR:Level.INFO,f=new LoggingEvent(null,new Date,l,[u],null),d=this.getLayout();this.setLayout(j);this.append(f);this.setLayout(d)}};var G=n.concat([]);this.addCommandLineFunction=function(e,t){G.push([e,t])};var H="log4javascriptCommandHistory";this.storeCommandHistory=function(e){setCookie(H,e.join(","))};var V=function(e){var t=function(){return['<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">','<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">',"<head>","<title>log4javascript</title>",'<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />',"\x3c!-- Make IE8 behave like IE7, having gone to all the trouble of making IE work --\x3e",'<meta http-equiv="X-UA-Compatible" content="IE=7" />','<script type="text/javascript">var isIe = false, isIePre7 = false;<\/script>','\x3c!--[if IE]><script type="text/javascript">isIe = true<\/script><![endif]--\x3e','\x3c!--[if lt IE 7]><script type="text/javascript">isIePre7 = true<\/script><![endif]--\x3e','<script type="text/javascript">',"//<![CDATA[","var loggingEnabled=true;var logQueuedEventsTimer=null;var logEntries=[];var logEntriesAndSeparators=[];var logItems=[];var renderDelay=100;var unrenderedLogItemsExist=false;var rootGroup,currentGroup=null;var loaded=false;var currentLogItem=null;var logMainContainer;function copyProperties(obj,props){for(var i in props){obj[i]=props[i];}}","function LogItem(){}","LogItem.prototype={mainContainer:null,wrappedContainer:null,unwrappedContainer:null,group:null,appendToLog:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].appendToLog();}","this.group.update();},doRemove:function(doUpdate,removeFromGroup){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].remove();}","this.unwrappedElementContainer=null;this.wrappedElementContainer=null;this.mainElementContainer=null;}","if(this.group&&removeFromGroup){this.group.removeChild(this,doUpdate);}","if(this===currentLogItem){currentLogItem=null;}},remove:function(doUpdate,removeFromGroup){this.doRemove(doUpdate,removeFromGroup);},render:function(){},accept:function(visitor){visitor.visit(this);},getUnwrappedDomContainer:function(){return this.group.unwrappedElementContainer.contentDiv;},getWrappedDomContainer:function(){return this.group.wrappedElementContainer.contentDiv;},getMainDomContainer:function(){return this.group.mainElementContainer.contentDiv;}};LogItem.serializedItemKeys={LOG_ENTRY:0,GROUP_START:1,GROUP_END:2};function LogItemContainerElement(){}",'LogItemContainerElement.prototype={appendToLog:function(){var insertBeforeFirst=(newestAtTop&&this.containerDomNode.hasChildNodes());if(insertBeforeFirst){this.containerDomNode.insertBefore(this.mainDiv,this.containerDomNode.firstChild);}else{this.containerDomNode.appendChild(this.mainDiv);}}};function SeparatorElementContainer(containerDomNode){this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="separator";this.mainDiv.innerHTML="&nbsp;";}',"SeparatorElementContainer.prototype=new LogItemContainerElement();SeparatorElementContainer.prototype.remove=function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;};function Separator(){this.rendered=false;}","Separator.prototype=new LogItem();copyProperties(Separator.prototype,{render:function(){var containerDomNode=this.group.contentDiv;if(isIe){this.unwrappedElementContainer=new SeparatorElementContainer(this.getUnwrappedDomContainer());this.wrappedElementContainer=new SeparatorElementContainer(this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new SeparatorElementContainer(this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}",'this.content=this.formattedMessage;this.rendered=true;}});function GroupElementContainer(group,containerDomNode,isRoot,isWrapped){this.group=group;this.containerDomNode=containerDomNode;this.isRoot=isRoot;this.isWrapped=isWrapped;this.expandable=false;if(this.isRoot){if(isIe){this.contentDiv=logMainContainer.appendChild(document.createElement("div"));this.contentDiv.id=this.isWrapped?"log_wrapped":"log_unwrapped";}else{this.contentDiv=logMainContainer;}}else{var groupElementContainer=this;this.mainDiv=document.createElement("div");this.mainDiv.className="group";this.headingDiv=this.mainDiv.appendChild(document.createElement("div"));this.headingDiv.className="groupheading";this.expander=this.headingDiv.appendChild(document.createElement("span"));this.expander.className="expander unselectable greyedout";this.expander.unselectable=true;var expanderText=this.group.expanded?"-":"+";this.expanderTextNode=this.expander.appendChild(document.createTextNode(expanderText));this.headingDiv.appendChild(document.createTextNode(" "+this.group.name));this.contentDiv=this.mainDiv.appendChild(document.createElement("div"));var contentCssClass=this.group.expanded?"expanded":"collapsed";this.contentDiv.className="groupcontent "+contentCssClass;this.expander.onclick=function(){if(groupElementContainer.group.expandable){groupElementContainer.group.toggleExpanded();}};}}','GroupElementContainer.prototype=new LogItemContainerElement();copyProperties(GroupElementContainer.prototype,{toggleExpanded:function(){if(!this.isRoot){var oldCssClass,newCssClass,expanderText;if(this.group.expanded){newCssClass="expanded";oldCssClass="collapsed";expanderText="-";}else{newCssClass="collapsed";oldCssClass="expanded";expanderText="+";}',"replaceClass(this.contentDiv,newCssClass,oldCssClass);this.expanderTextNode.nodeValue=expanderText;}},remove:function(){if(!this.isRoot){this.headingDiv=null;this.expander.onclick=null;this.expander=null;this.expanderTextNode=null;this.contentDiv=null;this.containerDomNode=null;this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;}},reverseChildren:function(){var node=null;var childDomNodes=[];while((node=this.contentDiv.firstChild)){this.contentDiv.removeChild(node);childDomNodes.push(node);}",'while((node=childDomNodes.pop())){this.contentDiv.appendChild(node);}},update:function(){if(!this.isRoot){if(this.group.expandable){removeClass(this.expander,"greyedout");}else{addClass(this.expander,"greyedout");}}},clear:function(){if(this.isRoot){this.contentDiv.innerHTML="";}}});function Group(name,isRoot,initiallyExpanded){this.name=name;this.group=null;this.isRoot=isRoot;this.initiallyExpanded=initiallyExpanded;this.elementContainers=[];this.children=[];this.expanded=initiallyExpanded;this.rendered=false;this.expandable=false;}',"Group.prototype=new LogItem();copyProperties(Group.prototype,{addChild:function(logItem){this.children.push(logItem);logItem.group=this;},render:function(){if(isIe){var unwrappedDomContainer,wrappedDomContainer;if(this.isRoot){unwrappedDomContainer=logMainContainer;wrappedDomContainer=logMainContainer;}else{unwrappedDomContainer=this.getUnwrappedDomContainer();wrappedDomContainer=this.getWrappedDomContainer();}","this.unwrappedElementContainer=new GroupElementContainer(this,unwrappedDomContainer,this.isRoot,false);this.wrappedElementContainer=new GroupElementContainer(this,wrappedDomContainer,this.isRoot,true);this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{var mainDomContainer=this.isRoot?logMainContainer:this.getMainDomContainer();this.mainElementContainer=new GroupElementContainer(this,mainDomContainer,this.isRoot,false);this.elementContainers=[this.mainElementContainer];}","this.rendered=true;},toggleExpanded:function(){this.expanded=!this.expanded;for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].toggleExpanded();}},expand:function(){if(!this.expanded){this.toggleExpanded();}},accept:function(visitor){visitor.visitGroup(this);},reverseChildren:function(){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].reverseChildren();}}},update:function(){var previouslyExpandable=this.expandable;this.expandable=(this.children.length!==0);if(this.expandable!==previouslyExpandable){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].update();}}},flatten:function(){var visitor=new GroupFlattener();this.accept(visitor);return visitor.logEntriesAndSeparators;},removeChild:function(child,doUpdate){array_remove(this.children,child);child.group=null;if(doUpdate){this.update();}},remove:function(doUpdate,removeFromGroup){for(var i=0,len=this.children.length;i<len;i++){this.children[i].remove(false,false);}","this.children=[];this.update();if(this===currentGroup){currentGroup=this.group;}","this.doRemove(doUpdate,removeFromGroup);},serialize:function(items){items.push([LogItem.serializedItemKeys.GROUP_START,this.name]);for(var i=0,len=this.children.length;i<len;i++){this.children[i].serialize(items);}","if(this!==currentGroup){items.push([LogItem.serializedItemKeys.GROUP_END]);}},clear:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clear();}}});function LogEntryElementContainer(){}",'LogEntryElementContainer.prototype=new LogItemContainerElement();copyProperties(LogEntryElementContainer.prototype,{remove:function(){this.doRemove();},doRemove:function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;this.contentElement=null;this.containerDomNode=null;},setContent:function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=content;}},setSearchMatch:function(isMatch){var oldCssClass=isMatch?"searchnonmatch":"searchmatch";var newCssClass=isMatch?"searchmatch":"searchnonmatch";replaceClass(this.mainDiv,newCssClass,oldCssClass);},clearSearch:function(){removeClass(this.mainDiv,"searchmatch");removeClass(this.mainDiv,"searchnonmatch");}});function LogEntryWrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.mainDiv.className="logentry wrapped "+this.logEntry.level;this.contentElement=this.mainDiv;}','LogEntryWrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryWrappedElementContainer.prototype.setContent=function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=wrappedContent;}};function LogEntryUnwrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry unwrapped "+this.logEntry.level;this.pre=this.mainDiv.appendChild(document.createElement("pre"));this.pre.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.pre.className="unwrapped";this.contentElement=this.pre;}','LogEntryUnwrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryUnwrappedElementContainer.prototype.remove=function(){this.doRemove();this.pre=null;};function LogEntryMainElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry nonielogentry "+this.logEntry.level;this.contentElement=this.mainDiv.appendChild(document.createElement("span"));this.contentElement.appendChild(document.createTextNode(this.logEntry.formattedMessage));}',"LogEntryMainElementContainer.prototype=new LogEntryElementContainer();function LogEntry(level,formattedMessage){this.level=level;this.formattedMessage=formattedMessage;this.rendered=false;}",'LogEntry.prototype=new LogItem();copyProperties(LogEntry.prototype,{render:function(){var logEntry=this;var containerDomNode=this.group.contentDiv;if(isIe){this.formattedMessage=this.formattedMessage.replace(/\\r\\n/g,"\\r");this.unwrappedElementContainer=new LogEntryUnwrappedElementContainer(this,this.getUnwrappedDomContainer());this.wrappedElementContainer=new LogEntryWrappedElementContainer(this,this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new LogEntryMainElementContainer(this,this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}','this.content=this.formattedMessage;this.rendered=true;},setContent:function(content,wrappedContent){if(content!=this.content){if(isIe&&(content!==this.formattedMessage)){content=content.replace(/\\r\\n/g,"\\r");}',"for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setContent(content,wrappedContent);}",'this.content=content;}},getSearchMatches:function(){var matches=[];var i,len;if(isIe){var unwrappedEls=getElementsByClass(this.unwrappedElementContainer.mainDiv,"searchterm","span");var wrappedEls=getElementsByClass(this.wrappedElementContainer.mainDiv,"searchterm","span");for(i=0,len=unwrappedEls.length;i<len;i++){matches[i]=new Match(this.level,null,unwrappedEls[i],wrappedEls[i]);}}else{var els=getElementsByClass(this.mainElementContainer.mainDiv,"searchterm","span");for(i=0,len=els.length;i<len;i++){matches[i]=new Match(this.level,els[i]);}}',"return matches;},setSearchMatch:function(isMatch){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setSearchMatch(isMatch);}},clearSearch:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clearSearch();}},accept:function(visitor){visitor.visitLogEntry(this);},serialize:function(items){items.push([LogItem.serializedItemKeys.LOG_ENTRY,this.level,this.formattedMessage]);}});function LogItemVisitor(){}","LogItemVisitor.prototype={visit:function(logItem){},visitParent:function(logItem){if(logItem.group){logItem.group.accept(this);}},visitChildren:function(logItem){for(var i=0,len=logItem.children.length;i<len;i++){logItem.children[i].accept(this);}},visitLogEntry:function(logEntry){this.visit(logEntry);},visitSeparator:function(separator){this.visit(separator);},visitGroup:function(group){this.visit(group);}};function GroupFlattener(){this.logEntriesAndSeparators=[];}",'GroupFlattener.prototype=new LogItemVisitor();GroupFlattener.prototype.visitGroup=function(group){this.visitChildren(group);};GroupFlattener.prototype.visitLogEntry=function(logEntry){this.logEntriesAndSeparators.push(logEntry);};GroupFlattener.prototype.visitSeparator=function(separator){this.logEntriesAndSeparators.push(separator);};window.onload=function(){if(location.search){var queryBits=unescape(location.search).substr(1).split("&"),nameValueBits;for(var i=0,len=queryBits.length;i<len;i++){nameValueBits=queryBits[i].split("=");if(nameValueBits[0]=="log4javascript_domain"){document.domain=nameValueBits[1];break;}}}','logMainContainer=$("log");if(isIePre7){addClass(logMainContainer,"oldIe");}','rootGroup=new Group("root",true);rootGroup.render();currentGroup=rootGroup;setCommandInputWidth();setLogContainerHeight();toggleLoggingEnabled();toggleSearchEnabled();toggleSearchFilter();toggleSearchHighlight();applyFilters();checkAllLevels();toggleWrap();toggleNewestAtTop();toggleScrollToLatest();renderQueuedLogItems();loaded=true;$("command").value="";$("command").autocomplete="off";$("command").onkeydown=function(evt){evt=getEvent(evt);if(evt.keyCode==10||evt.keyCode==13){evalCommandLine();stopPropagation(evt);}else if(evt.keyCode==27){this.value="";this.focus();}else if(evt.keyCode==38&&commandHistory.length>0){currentCommandIndex=Math.max(0,currentCommandIndex-1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}else if(evt.keyCode==40&&commandHistory.length>0){currentCommandIndex=Math.min(commandHistory.length-1,currentCommandIndex+1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}};$("command").onkeypress=function(evt){evt=getEvent(evt);if(evt.keyCode==38&&commandHistory.length>0&&evt.preventDefault){evt.preventDefault();}};$("command").onkeyup=function(evt){evt=getEvent(evt);if(evt.keyCode==27&&evt.preventDefault){evt.preventDefault();this.focus();}};document.onkeydown=function keyEventHandler(evt){evt=getEvent(evt);switch(evt.keyCode){case 69:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){evalLastCommand();cancelKeyEvent(evt);return false;}',"break;case 75:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusSearch();cancelKeyEvent(evt);return false;}","break;case 40:case 76:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusCommandLine();cancelKeyEvent(evt);return false;}","break;}};setTimeout(setLogContainerHeight,20);setShowCommandLine(showCommandLine);doSearch();};window.onunload=function(){if(mainWindowExists()){appender.unload();}",'appender=null;};function toggleLoggingEnabled(){setLoggingEnabled($("enableLogging").checked);}',"function setLoggingEnabled(enable){loggingEnabled=enable;}","var appender=null;function setAppender(appenderParam){appender=appenderParam;}",'function setShowCloseButton(showCloseButton){$("closeButton").style.display=showCloseButton?"inline":"none";}','function setShowHideButton(showHideButton){$("hideButton").style.display=showHideButton?"inline":"none";}',"var newestAtTop=false;function LogItemContentReverser(){}","LogItemContentReverser.prototype=new LogItemVisitor();LogItemContentReverser.prototype.visitGroup=function(group){group.reverseChildren();this.visitChildren(group);};function setNewestAtTop(isNewestAtTop){var oldNewestAtTop=newestAtTop;var i,iLen,j,jLen;newestAtTop=Boolean(isNewestAtTop);if(oldNewestAtTop!=newestAtTop){var visitor=new LogItemContentReverser();rootGroup.accept(visitor);if(currentSearch){var currentMatch=currentSearch.matches[currentMatchIndex];var matchIndex=0;var matches=[];var actOnLogEntry=function(logEntry){var logEntryMatches=logEntry.getSearchMatches();for(j=0,jLen=logEntryMatches.length;j<jLen;j++){matches[matchIndex]=logEntryMatches[j];if(currentMatch&&logEntryMatches[j].equals(currentMatch)){currentMatchIndex=matchIndex;}","matchIndex++;}};if(newestAtTop){for(i=logEntries.length-1;i>=0;i--){actOnLogEntry(logEntries[i]);}}else{for(i=0,iLen=logEntries.length;i<iLen;i++){actOnLogEntry(logEntries[i]);}}","currentSearch.matches=matches;if(currentMatch){currentMatch.setCurrent();}}else if(scrollToLatest){doScrollToLatest();}}",'$("newestAtTop").checked=isNewestAtTop;}','function toggleNewestAtTop(){var isNewestAtTop=$("newestAtTop").checked;setNewestAtTop(isNewestAtTop);}',"var scrollToLatest=true;function setScrollToLatest(isScrollToLatest){scrollToLatest=isScrollToLatest;if(scrollToLatest){doScrollToLatest();}",'$("scrollToLatest").checked=isScrollToLatest;}','function toggleScrollToLatest(){var isScrollToLatest=$("scrollToLatest").checked;setScrollToLatest(isScrollToLatest);}','function doScrollToLatest(){var l=logMainContainer;if(typeof l.scrollTop!="undefined"){if(newestAtTop){l.scrollTop=0;}else{var latestLogEntry=l.lastChild;if(latestLogEntry){l.scrollTop=l.scrollHeight;}}}}',"var closeIfOpenerCloses=true;function setCloseIfOpenerCloses(isCloseIfOpenerCloses){closeIfOpenerCloses=isCloseIfOpenerCloses;}","var maxMessages=null;function setMaxMessages(max){maxMessages=max;pruneLogEntries();}",'var showCommandLine=false;function setShowCommandLine(isShowCommandLine){showCommandLine=isShowCommandLine;if(loaded){$("commandLine").style.display=showCommandLine?"block":"none";setCommandInputWidth();setLogContainerHeight();}}','function focusCommandLine(){if(loaded){$("command").focus();}}','function focusSearch(){if(loaded){$("searchBox").focus();}}',"function getLogItems(){var items=[];for(var i=0,len=logItems.length;i<len;i++){logItems[i].serialize(items);}","return items;}","function setLogItems(items){var loggingReallyEnabled=loggingEnabled;loggingEnabled=true;for(var i=0,len=items.length;i<len;i++){switch(items[i][0]){case LogItem.serializedItemKeys.LOG_ENTRY:log(items[i][1],items[i][2]);break;case LogItem.serializedItemKeys.GROUP_START:group(items[i][1]);break;case LogItem.serializedItemKeys.GROUP_END:groupEnd();break;}}","loggingEnabled=loggingReallyEnabled;}","function log(logLevel,formattedMessage){if(loggingEnabled){var logEntry=new LogEntry(logLevel,formattedMessage);logEntries.push(logEntry);logEntriesAndSeparators.push(logEntry);logItems.push(logEntry);currentGroup.addChild(logEntry);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}","logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function renderQueuedLogItems(){logQueuedEventsTimer=null;var pruned=pruneLogEntries();var initiallyHasMatches=currentSearch?currentSearch.hasMatches():false;for(var i=0,len=logItems.length;i<len;i++){if(!logItems[i].rendered){logItems[i].render();logItems[i].appendToLog();if(currentSearch&&(logItems[i]instanceof LogEntry)){currentSearch.applyTo(logItems[i]);}}}","if(currentSearch){if(pruned){if(currentSearch.hasVisibleMatches()){if(currentMatchIndex===null){setCurrentMatchIndex(0);}","displayMatches();}else{displayNoMatches();}}else if(!initiallyHasMatches&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}}","if(scrollToLatest){doScrollToLatest();}","unrenderedLogItemsExist=false;}","function pruneLogEntries(){if((maxMessages!==null)&&(logEntriesAndSeparators.length>maxMessages)){var numberToDelete=logEntriesAndSeparators.length-maxMessages;var prunedLogEntries=logEntriesAndSeparators.slice(0,numberToDelete);if(currentSearch){currentSearch.removeMatches(prunedLogEntries);}","var group;for(var i=0;i<numberToDelete;i++){group=logEntriesAndSeparators[i].group;array_remove(logItems,logEntriesAndSeparators[i]);array_remove(logEntries,logEntriesAndSeparators[i]);logEntriesAndSeparators[i].remove(true,true);if(group.children.length===0&&group!==currentGroup&&group!==rootGroup){array_remove(logItems,group);group.remove(true,true);}}","logEntriesAndSeparators=array_removeFromStart(logEntriesAndSeparators,numberToDelete);return true;}","return false;}",'function group(name,startExpanded){if(loggingEnabled){initiallyExpanded=(typeof startExpanded==="undefined")?true:Boolean(startExpanded);var newGroup=new Group(name,false,initiallyExpanded);currentGroup.addChild(newGroup);currentGroup=newGroup;logItems.push(newGroup);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}',"logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function groupEnd(){currentGroup=(currentGroup===rootGroup)?rootGroup:currentGroup.group;}","function mainPageReloaded(){currentGroup=rootGroup;var separator=new Separator();logEntriesAndSeparators.push(separator);logItems.push(separator);currentGroup.addChild(separator);}","function closeWindow(){if(appender&&mainWindowExists()){appender.close(true);}else{window.close();}}","function hide(){if(appender&&mainWindowExists()){appender.hide();}}",'var mainWindow=window;var windowId="log4javascriptConsoleWindow_"+new Date().getTime()+"_"+(""+Math.random()).substr(2);function setMainWindow(win){mainWindow=win;mainWindow[windowId]=window;if(opener&&closeIfOpenerCloses){pollOpener();}}',"function pollOpener(){if(closeIfOpenerCloses){if(mainWindowExists()){setTimeout(pollOpener,500);}else{closeWindow();}}}","function mainWindowExists(){try{return(mainWindow&&!mainWindow.closed&&mainWindow[windowId]==window);}catch(ex){}","return false;}",'var logLevels=["TRACE","DEBUG","INFO","WARN","ERROR","FATAL"];function getCheckBox(logLevel){return $("switch_"+logLevel);}','function getIeWrappedLogContainer(){return $("log_wrapped");}','function getIeUnwrappedLogContainer(){return $("log_unwrapped");}',"function applyFilters(){for(var i=0;i<logLevels.length;i++){if(getCheckBox(logLevels[i]).checked){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}","updateSearchFromFilters();}",'function toggleAllLevels(){var turnOn=$("switch_ALL").checked;for(var i=0;i<logLevels.length;i++){getCheckBox(logLevels[i]).checked=turnOn;if(turnOn){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}}','function checkAllLevels(){for(var i=0;i<logLevels.length;i++){if(!getCheckBox(logLevels[i]).checked){getCheckBox("ALL").checked=false;return;}}','getCheckBox("ALL").checked=true;}',"function clearLog(){rootGroup.clear();currentGroup=rootGroup;logEntries=[];logItems=[];logEntriesAndSeparators=[];doSearch();}",'function toggleWrap(){var enable=$("wrap").checked;if(enable){addClass(logMainContainer,"wrap");}else{removeClass(logMainContainer,"wrap");}',"refreshCurrentMatch();}","var searchTimer=null;function scheduleSearch(){try{clearTimeout(searchTimer);}catch(ex){}","searchTimer=setTimeout(doSearch,500);}","function Search(searchTerm,isRegex,searchRegex,isCaseSensitive){this.searchTerm=searchTerm;this.isRegex=isRegex;this.searchRegex=searchRegex;this.isCaseSensitive=isCaseSensitive;this.matches=[];}","Search.prototype={hasMatches:function(){return this.matches.length>0;},hasVisibleMatches:function(){if(this.hasMatches()){for(var i=0;i<this.matches.length;i++){if(this.matches[i].isVisible()){return true;}}}","return false;},match:function(logEntry){var entryText=String(logEntry.formattedMessage);var matchesSearch=false;if(this.isRegex){matchesSearch=this.searchRegex.test(entryText);}else if(this.isCaseSensitive){matchesSearch=(entryText.indexOf(this.searchTerm)>-1);}else{matchesSearch=(entryText.toLowerCase().indexOf(this.searchTerm.toLowerCase())>-1);}","return matchesSearch;},getNextVisibleMatchIndex:function(){for(var i=currentMatchIndex+1;i<this.matches.length;i++){if(this.matches[i].isVisible()){return i;}}","for(i=0;i<=currentMatchIndex;i++){if(this.matches[i].isVisible()){return i;}}","return-1;},getPreviousVisibleMatchIndex:function(){for(var i=currentMatchIndex-1;i>=0;i--){if(this.matches[i].isVisible()){return i;}}","for(var i=this.matches.length-1;i>=currentMatchIndex;i--){if(this.matches[i].isVisible()){return i;}}",'return-1;},applyTo:function(logEntry){var doesMatch=this.match(logEntry);if(doesMatch){logEntry.group.expand();logEntry.setSearchMatch(true);var logEntryContent;var wrappedLogEntryContent;var searchTermReplacementStartTag="<span class=\\"searchterm\\">";var searchTermReplacementEndTag="<"+"/span>";var preTagName=isIe?"pre":"span";var preStartTag="<"+preTagName+" class=\\"pre\\">";var preEndTag="<"+"/"+preTagName+">";var startIndex=0;var searchIndex,matchedText,textBeforeMatch;if(this.isRegex){var flags=this.isCaseSensitive?"g":"gi";var capturingRegex=new RegExp("("+this.searchRegex.source+")",flags);var rnd=(""+Math.random()).substr(2);var startToken="%%s"+rnd+"%%";var endToken="%%e"+rnd+"%%";logEntryContent=logEntry.formattedMessage.replace(capturingRegex,startToken+"$1"+endToken);logEntryContent=escapeHtml(logEntryContent);var result;var searchString=logEntryContent;logEntryContent="";wrappedLogEntryContent="";while((searchIndex=searchString.indexOf(startToken,startIndex))>-1){var endTokenIndex=searchString.indexOf(endToken,searchIndex);matchedText=searchString.substring(searchIndex+startToken.length,endTokenIndex);textBeforeMatch=searchString.substring(startIndex,searchIndex);logEntryContent+=preStartTag+textBeforeMatch+preEndTag;logEntryContent+=searchTermReplacementStartTag+preStartTag+matchedText+',"preEndTag+searchTermReplacementEndTag;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=endTokenIndex+endToken.length;}",'logEntryContent+=preStartTag+searchString.substr(startIndex)+preEndTag;if(isIe){wrappedLogEntryContent+=searchString.substr(startIndex);}}else{logEntryContent="";wrappedLogEntryContent="";var searchTermReplacementLength=searchTermReplacementStartTag.length+',"this.searchTerm.length+searchTermReplacementEndTag.length;var searchTermLength=this.searchTerm.length;var searchTermLowerCase=this.searchTerm.toLowerCase();var logTextLowerCase=logEntry.formattedMessage.toLowerCase();while((searchIndex=logTextLowerCase.indexOf(searchTermLowerCase,startIndex))>-1){matchedText=escapeHtml(logEntry.formattedMessage.substr(searchIndex,this.searchTerm.length));textBeforeMatch=escapeHtml(logEntry.formattedMessage.substring(startIndex,searchIndex));var searchTermReplacement=searchTermReplacementStartTag+","preStartTag+matchedText+preEndTag+searchTermReplacementEndTag;logEntryContent+=preStartTag+textBeforeMatch+preEndTag+searchTermReplacement;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=searchIndex+searchTermLength;}","var textAfterLastMatch=escapeHtml(logEntry.formattedMessage.substr(startIndex));logEntryContent+=preStartTag+textAfterLastMatch+preEndTag;if(isIe){wrappedLogEntryContent+=textAfterLastMatch;}}","logEntry.setContent(logEntryContent,wrappedLogEntryContent);var logEntryMatches=logEntry.getSearchMatches();this.matches=this.matches.concat(logEntryMatches);}else{logEntry.setSearchMatch(false);logEntry.setContent(logEntry.formattedMessage,logEntry.formattedMessage);}","return doesMatch;},removeMatches:function(logEntries){var matchesToRemoveCount=0;var currentMatchRemoved=false;var matchesToRemove=[];var i,iLen,j,jLen;for(i=0,iLen=this.matches.length;i<iLen;i++){for(j=0,jLen=logEntries.length;j<jLen;j++){if(this.matches[i].belongsTo(logEntries[j])){matchesToRemove.push(this.matches[i]);if(i===currentMatchIndex){currentMatchRemoved=true;}}}}","var newMatch=currentMatchRemoved?null:this.matches[currentMatchIndex];if(currentMatchRemoved){for(i=currentMatchIndex,iLen=this.matches.length;i<iLen;i++){if(this.matches[i].isVisible()&&!array_contains(matchesToRemove,this.matches[i])){newMatch=this.matches[i];break;}}}","for(i=0,iLen=matchesToRemove.length;i<iLen;i++){array_remove(this.matches,matchesToRemove[i]);matchesToRemove[i].remove();}","if(this.hasVisibleMatches()){if(newMatch===null){setCurrentMatchIndex(0);}else{var newMatchIndex=0;for(i=0,iLen=this.matches.length;i<iLen;i++){if(newMatch===this.matches[i]){newMatchIndex=i;break;}}","setCurrentMatchIndex(newMatchIndex);}}else{currentMatchIndex=null;displayNoMatches();}}};function getPageOffsetTop(el,container){var currentEl=el;var y=0;while(currentEl&&currentEl!=container){y+=currentEl.offsetTop;currentEl=currentEl.offsetParent;}","return y;}",'function scrollIntoView(el){var logContainer=logMainContainer;if(!$("wrap").checked){var logContainerLeft=logContainer.scrollLeft;var logContainerRight=logContainerLeft+logContainer.offsetWidth;var elLeft=el.offsetLeft;var elRight=elLeft+el.offsetWidth;if(elLeft<logContainerLeft||elRight>logContainerRight){logContainer.scrollLeft=elLeft-(logContainer.offsetWidth-el.offsetWidth)/2;}}',"var logContainerTop=logContainer.scrollTop;var logContainerBottom=logContainerTop+logContainer.offsetHeight;var elTop=getPageOffsetTop(el)-getToolBarsHeight();var elBottom=elTop+el.offsetHeight;if(elTop<logContainerTop||elBottom>logContainerBottom){logContainer.scrollTop=elTop-(logContainer.offsetHeight-el.offsetHeight)/2;}}","function Match(logEntryLevel,spanInMainDiv,spanInUnwrappedPre,spanInWrappedDiv){this.logEntryLevel=logEntryLevel;this.spanInMainDiv=spanInMainDiv;if(isIe){this.spanInUnwrappedPre=spanInUnwrappedPre;this.spanInWrappedDiv=spanInWrappedDiv;}","this.mainSpan=isIe?spanInUnwrappedPre:spanInMainDiv;}",'Match.prototype={equals:function(match){return this.mainSpan===match.mainSpan;},setCurrent:function(){if(isIe){addClass(this.spanInUnwrappedPre,"currentmatch");addClass(this.spanInWrappedDiv,"currentmatch");var elementToScroll=$("wrap").checked?this.spanInWrappedDiv:this.spanInUnwrappedPre;scrollIntoView(elementToScroll);}else{addClass(this.spanInMainDiv,"currentmatch");scrollIntoView(this.spanInMainDiv);}},belongsTo:function(logEntry){if(isIe){return isDescendant(this.spanInUnwrappedPre,logEntry.unwrappedPre);}else{return isDescendant(this.spanInMainDiv,logEntry.mainDiv);}},setNotCurrent:function(){if(isIe){removeClass(this.spanInUnwrappedPre,"currentmatch");removeClass(this.spanInWrappedDiv,"currentmatch");}else{removeClass(this.spanInMainDiv,"currentmatch");}},isOrphan:function(){return isOrphan(this.mainSpan);},isVisible:function(){return getCheckBox(this.logEntryLevel).checked;},remove:function(){if(isIe){this.spanInUnwrappedPre=null;this.spanInWrappedDiv=null;}else{this.spanInMainDiv=null;}}};var currentSearch=null;var currentMatchIndex=null;function doSearch(){var searchBox=$("searchBox");var searchTerm=searchBox.value;var isRegex=$("searchRegex").checked;var isCaseSensitive=$("searchCaseSensitive").checked;var i;if(searchTerm===""){$("searchReset").disabled=true;$("searchNav").style.display="none";removeClass(document.body,"searching");removeClass(searchBox,"hasmatches");removeClass(searchBox,"nomatches");for(i=0;i<logEntries.length;i++){logEntries[i].clearSearch();logEntries[i].setContent(logEntries[i].formattedMessage,logEntries[i].formattedMessage);}','currentSearch=null;setLogContainerHeight();}else{$("searchReset").disabled=false;$("searchNav").style.display="block";var searchRegex;var regexValid;if(isRegex){try{searchRegex=isCaseSensitive?new RegExp(searchTerm,"g"):new RegExp(searchTerm,"gi");regexValid=true;replaceClass(searchBox,"validregex","invalidregex");searchBox.title="Valid regex";}catch(ex){regexValid=false;replaceClass(searchBox,"invalidregex","validregex");searchBox.title="Invalid regex: "+(ex.message?ex.message:(ex.description?ex.description:"unknown error"));return;}}else{searchBox.title="";removeClass(searchBox,"validregex");removeClass(searchBox,"invalidregex");}','addClass(document.body,"searching");currentSearch=new Search(searchTerm,isRegex,searchRegex,isCaseSensitive);for(i=0;i<logEntries.length;i++){currentSearch.applyTo(logEntries[i]);}',"setLogContainerHeight();if(currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}else{displayNoMatches();}}}","function updateSearchFromFilters(){if(currentSearch){if(currentSearch.hasMatches()){if(currentMatchIndex===null){currentMatchIndex=0;}","var currentMatch=currentSearch.matches[currentMatchIndex];if(currentMatch.isVisible()){displayMatches();setCurrentMatchIndex(currentMatchIndex);}else{currentMatch.setNotCurrent();var nextVisibleMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextVisibleMatchIndex>-1){setCurrentMatchIndex(nextVisibleMatchIndex);displayMatches();}else{displayNoMatches();}}}else{displayNoMatches();}}}","function refreshCurrentMatch(){if(currentSearch&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(currentMatchIndex);}}",'function displayMatches(){replaceClass($("searchBox"),"hasmatches","nomatches");$("searchBox").title=""+currentSearch.matches.length+" matches found";$("searchNav").style.display="block";setLogContainerHeight();}','function displayNoMatches(){replaceClass($("searchBox"),"nomatches","hasmatches");$("searchBox").title="No matches found";$("searchNav").style.display="none";setLogContainerHeight();}','function toggleSearchEnabled(enable){enable=(typeof enable=="undefined")?!$("searchDisable").checked:enable;$("searchBox").disabled=!enable;$("searchReset").disabled=!enable;$("searchRegex").disabled=!enable;$("searchNext").disabled=!enable;$("searchPrevious").disabled=!enable;$("searchCaseSensitive").disabled=!enable;$("searchNav").style.display=(enable&&($("searchBox").value!=="")&&currentSearch&&currentSearch.hasVisibleMatches())?"block":"none";if(enable){removeClass($("search"),"greyedout");addClass(document.body,"searching");if($("searchHighlight").checked){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}','if($("searchFilter").checked){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}','$("searchDisable").checked=!enable;}else{addClass($("search"),"greyedout");removeClass(document.body,"searching");removeClass(logMainContainer,"searchhighlight");removeClass(logMainContainer,"searchfilter");}',"setLogContainerHeight();}",'function toggleSearchFilter(){var enable=$("searchFilter").checked;if(enable){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}',"refreshCurrentMatch();}",'function toggleSearchHighlight(){var enable=$("searchHighlight").checked;if(enable){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}}','function clearSearch(){$("searchBox").value="";doSearch();}','function searchNext(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var nextMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextMatchIndex>currentMatchIndex||confirm("Reached the end of the page. Start from the top?")){setCurrentMatchIndex(nextMatchIndex);}}}','function searchPrevious(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var previousMatchIndex=currentSearch.getPreviousVisibleMatchIndex();if(previousMatchIndex<currentMatchIndex||confirm("Reached the start of the page. Continue from the bottom?")){setCurrentMatchIndex(previousMatchIndex);}}}',"function setCurrentMatchIndex(index){currentMatchIndex=index;currentSearch.matches[currentMatchIndex].setCurrent();}",'function addClass(el,cssClass){if(!hasClass(el,cssClass)){if(el.className){el.className+=" "+cssClass;}else{el.className=cssClass;}}}','function hasClass(el,cssClass){if(el.className){var classNames=el.className.split(" ");return array_contains(classNames,cssClass);}',"return false;}",'function removeClass(el,cssClass){if(hasClass(el,cssClass)){var existingClasses=el.className.split(" ");var newClasses=[];for(var i=0,len=existingClasses.length;i<len;i++){if(existingClasses[i]!=cssClass){newClasses[newClasses.length]=existingClasses[i];}}','el.className=newClasses.join(" ");}}',"function replaceClass(el,newCssClass,oldCssClass){removeClass(el,oldCssClass);addClass(el,newCssClass);}","function getElementsByClass(el,cssClass,tagName){var elements=el.getElementsByTagName(tagName);var matches=[];for(var i=0,len=elements.length;i<len;i++){if(hasClass(elements[i],cssClass)){matches.push(elements[i]);}}","return matches;}","function $(id){return document.getElementById(id);}","function isDescendant(node,ancestorNode){while(node!=null){if(node===ancestorNode){return true;}","node=node.parentNode;}","return false;}","function isOrphan(node){var currentNode=node;while(currentNode){if(currentNode==document.body){return false;}","currentNode=currentNode.parentNode;}","return true;}",'function escapeHtml(str){return str.replace(/&/g,"&amp;").replace(/[<]/g,"&lt;").replace(/>/g,"&gt;");}',"function getWindowWidth(){if(window.innerWidth){return window.innerWidth;}else if(document.documentElement&&document.documentElement.clientWidth){return document.documentElement.clientWidth;}else if(document.body){return document.body.clientWidth;}","return 0;}","function getWindowHeight(){if(window.innerHeight){return window.innerHeight;}else if(document.documentElement&&document.documentElement.clientHeight){return document.documentElement.clientHeight;}else if(document.body){return document.body.clientHeight;}","return 0;}",'function getToolBarsHeight(){return $("switches").offsetHeight;}','function getChromeHeight(){var height=getToolBarsHeight();if(showCommandLine){height+=$("commandLine").offsetHeight;}',"return height;}",'function setLogContainerHeight(){if(logMainContainer){var windowHeight=getWindowHeight();$("body").style.height=getWindowHeight()+"px";logMainContainer.style.height=""+','Math.max(0,windowHeight-getChromeHeight())+"px";}}','function setCommandInputWidth(){if(showCommandLine){$("command").style.width=""+Math.max(0,$("commandLineContainer").offsetWidth-','($("evaluateButton").offsetWidth+13))+"px";}}',"window.onresize=function(){setCommandInputWidth();setLogContainerHeight();};if(!Array.prototype.push){Array.prototype.push=function(){for(var i=0,len=arguments.length;i<len;i++){this[this.length]=arguments[i];}","return this.length;};}","if(!Array.prototype.pop){Array.prototype.pop=function(){if(this.length>0){var val=this[this.length-1];this.length=this.length-1;return val;}};}","if(!Array.prototype.shift){Array.prototype.shift=function(){if(this.length>0){var firstItem=this[0];for(var i=0,len=this.length-1;i<len;i++){this[i]=this[i+1];}","this.length=this.length-1;return firstItem;}};}","if(!Array.prototype.splice){Array.prototype.splice=function(startIndex,deleteCount){var itemsAfterDeleted=this.slice(startIndex+deleteCount);var itemsDeleted=this.slice(startIndex,startIndex+deleteCount);this.length=startIndex;var argumentsArray=[];for(var i=0,len=arguments.length;i<len;i++){argumentsArray[i]=arguments[i];}","var itemsToAppend=(argumentsArray.length>2)?itemsAfterDeleted=argumentsArray.slice(2).concat(itemsAfterDeleted):itemsAfterDeleted;for(i=0,len=itemsToAppend.length;i<len;i++){this.push(itemsToAppend[i]);}","return itemsDeleted;};}","function array_remove(arr,val){var index=-1;for(var i=0,len=arr.length;i<len;i++){if(arr[i]===val){index=i;break;}}","if(index>=0){arr.splice(index,1);return index;}else{return false;}}","function array_removeFromStart(array,numberToRemove){if(Array.prototype.splice){array.splice(0,numberToRemove);}else{for(var i=numberToRemove,len=array.length;i<len;i++){array[i-numberToRemove]=array[i];}","array.length=array.length-numberToRemove;}","return array;}","function array_contains(arr,val){for(var i=0,len=arr.length;i<len;i++){if(arr[i]==val){return true;}}","return false;}","function getErrorMessage(ex){if(ex.message){return ex.message;}else if(ex.description){return ex.description;}",'return""+ex;}',"function moveCaretToEnd(input){if(input.setSelectionRange){input.focus();var length=input.value.length;input.setSelectionRange(length,length);}else if(input.createTextRange){var range=input.createTextRange();range.collapse(false);range.select();}","input.focus();}",'function stopPropagation(evt){if(evt.stopPropagation){evt.stopPropagation();}else if(typeof evt.cancelBubble!="undefined"){evt.cancelBubble=true;}}',"function getEvent(evt){return evt?evt:event;}","function getTarget(evt){return evt.target?evt.target:evt.srcElement;}",'function getRelatedTarget(evt){if(evt.relatedTarget){return evt.relatedTarget;}else if(evt.srcElement){switch(evt.type){case"mouseover":return evt.fromElement;case"mouseout":return evt.toElement;default:return evt.srcElement;}}}',"function cancelKeyEvent(evt){evt.returnValue=false;stopPropagation(evt);}",'function evalCommandLine(){var expr=$("command").value;evalCommand(expr);$("command").value="";}',"function evalLastCommand(){if(lastCommand!=null){evalCommand(lastCommand);}}",'var lastCommand=null;var commandHistory=[];var currentCommandIndex=0;function evalCommand(expr){if(appender){appender.evalCommandAndAppend(expr);}else{var prefix=">>> "+expr+"\\r\\n";try{log("INFO",prefix+eval(expr));}catch(ex){log("ERROR",prefix+"Error: "+getErrorMessage(ex));}}',"if(expr!=commandHistory[commandHistory.length-1]){commandHistory.push(expr);if(appender){appender.storeCommandHistory(commandHistory);}}","currentCommandIndex=(expr==commandHistory[currentCommandIndex])?currentCommandIndex+1:commandHistory.length;lastCommand=expr;}","//]]>","<\/script>",'<style type="text/css">',"body{background-color:white;color:black;padding:0;margin:0;font-family:tahoma,verdana,arial,helvetica,sans-serif;overflow:hidden}div#switchesContainer input{margin-bottom:0}div.toolbar{border-top:solid #ffffff 1px;border-bottom:solid #aca899 1px;background-color:#f1efe7;padding:3px 5px;font-size:68.75%}div.toolbar,div#search input{font-family:tahoma,verdana,arial,helvetica,sans-serif}div.toolbar input.button{padding:0 5px;font-size:100%}div.toolbar input.hidden{display:none}div#switches input#clearButton{margin-left:20px}div#levels label{font-weight:bold}div#levels label,div#options label{margin-right:5px}div#levels label#wrapLabel{font-weight:normal}div#search label{margin-right:10px}div#search label.searchboxlabel{margin-right:0}div#search input{font-size:100%}div#search input.validregex{color:green}div#search input.invalidregex{color:red}div#search input.nomatches{color:white;background-color:#ff6666}div#search input.nomatches{color:white;background-color:#ff6666}div#searchNav{display:none}div#commandLine{display:none}div#commandLine input#command{font-size:100%;font-family:Courier New,Courier}div#commandLine input#evaluateButton{}*.greyedout{color:gray !important;border-color:gray !important}*.greyedout *.alwaysenabled{color:black}*.unselectable{-khtml-user-select:none;-moz-user-select:none;user-select:none}div#log{font-family:Courier New,Courier;font-size:75%;width:100%;overflow:auto;clear:both;position:relative}div.group{border-color:#cccccc;border-style:solid;border-width:1px 0 1px 1px;overflow:visible}div.oldIe div.group,div.oldIe div.group *,div.oldIe *.logentry{height:1%}div.group div.groupheading span.expander{border:solid black 1px;font-family:Courier New,Courier;font-size:0.833em;background-color:#eeeeee;position:relative;top:-1px;color:black;padding:0 2px;cursor:pointer;cursor:hand;height:1%}div.group div.groupcontent{margin-left:10px;padding-bottom:2px;overflow:visible}div.group div.expanded{display:block}div.group div.collapsed{display:none}*.logentry{overflow:visible;display:none;white-space:pre}span.pre{white-space:pre}pre.unwrapped{display:inline !important}pre.unwrapped pre.pre,div.wrapped pre.pre{display:inline}div.wrapped pre.pre{white-space:normal}div.wrapped{display:none}body.searching *.logentry span.currentmatch{color:white !important;background-color:green !important}body.searching div.searchhighlight *.logentry span.searchterm{color:black;background-color:yellow}div.wrap *.logentry{white-space:normal !important;border-width:0 0 1px 0;border-color:#dddddd;border-style:dotted}div.wrap #log_wrapped,#log_unwrapped{display:block}div.wrap #log_unwrapped,#log_wrapped{display:none}div.wrap *.logentry span.pre{overflow:visible;white-space:normal}div.wrap *.logentry pre.unwrapped{display:none}div.wrap *.logentry span.wrapped{display:inline}div.searchfilter *.searchnonmatch{display:none !important}div#log *.TRACE,label#label_TRACE{color:#666666}div#log *.DEBUG,label#label_DEBUG{color:green}div#log *.INFO,label#label_INFO{color:#000099}div#log *.WARN,label#label_WARN{color:#999900}div#log *.ERROR,label#label_ERROR{color:red}div#log *.FATAL,label#label_FATAL{color:#660066}div.TRACE#log *.TRACE,div.DEBUG#log *.DEBUG,div.INFO#log *.INFO,div.WARN#log *.WARN,div.ERROR#log *.ERROR,div.FATAL#log *.FATAL{display:block}div#log div.separator{background-color:#cccccc;margin:5px 0;line-height:1px}","</style>","</head>",'<body id="body">','<div id="switchesContainer">','<div id="switches">','<div id="levels" class="toolbar">',"Filters:",'<input type="checkbox" id="switch_TRACE" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide trace messages" /><label for="switch_TRACE" id="label_TRACE">trace</label>','<input type="checkbox" id="switch_DEBUG" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide debug messages" /><label for="switch_DEBUG" id="label_DEBUG">debug</label>','<input type="checkbox" id="switch_INFO" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide info messages" /><label for="switch_INFO" id="label_INFO">info</label>','<input type="checkbox" id="switch_WARN" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide warn messages" /><label for="switch_WARN" id="label_WARN">warn</label>','<input type="checkbox" id="switch_ERROR" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide error messages" /><label for="switch_ERROR" id="label_ERROR">error</label>','<input type="checkbox" id="switch_FATAL" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide fatal messages" /><label for="switch_FATAL" id="label_FATAL">fatal</label>','<input type="checkbox" id="switch_ALL" onclick="toggleAllLevels(); applyFilters()" checked="checked" title="Show/hide all messages" /><label for="switch_ALL" id="label_ALL">all</label>',"</div>",'<div id="search" class="toolbar">','<label for="searchBox" class="searchboxlabel">Search:</label> <input type="text" id="searchBox" onclick="toggleSearchEnabled(true)" onkeyup="scheduleSearch()" size="20" />','<input type="button" id="searchReset" disabled="disabled" value="Reset" onclick="clearSearch()" class="button" title="Reset the search" />','<input type="checkbox" id="searchRegex" onclick="doSearch()" title="If checked, search is treated as a regular expression" /><label for="searchRegex">Regex</label>','<input type="checkbox" id="searchCaseSensitive" onclick="doSearch()" title="If checked, search is case sensitive" /><label for="searchCaseSensitive">Match case</label>','<input type="checkbox" id="searchDisable" onclick="toggleSearchEnabled()" title="Enable/disable search" /><label for="searchDisable" class="alwaysenabled">Disable</label>','<div id="searchNav">','<input type="button" id="searchNext" disabled="disabled" value="Next" onclick="searchNext()" class="button" title="Go to the next matching log entry" />','<input type="button" id="searchPrevious" disabled="disabled" value="Previous" onclick="searchPrevious()" class="button" title="Go to the previous matching log entry" />','<input type="checkbox" id="searchFilter" onclick="toggleSearchFilter()" title="If checked, non-matching log entries are filtered out" /><label for="searchFilter">Filter</label>','<input type="checkbox" id="searchHighlight" onclick="toggleSearchHighlight()" title="Highlight matched search terms" /><label for="searchHighlight" class="alwaysenabled">Highlight all</label>',"</div>","</div>",'<div id="options" class="toolbar">',"Options:",'<input type="checkbox" id="enableLogging" onclick="toggleLoggingEnabled()" checked="checked" title="Enable/disable logging" /><label for="enableLogging" id="enableLoggingLabel">Log</label>','<input type="checkbox" id="wrap" onclick="toggleWrap()" title="Enable / disable word wrap" /><label for="wrap" id="wrapLabel">Wrap</label>','<input type="checkbox" id="newestAtTop" onclick="toggleNewestAtTop()" title="If checked, causes newest messages to appear at the top" /><label for="newestAtTop" id="newestAtTopLabel">Newest at the top</label>','<input type="checkbox" id="scrollToLatest" onclick="toggleScrollToLatest()" checked="checked" title="If checked, window automatically scrolls to a new message when it is added" /><label for="scrollToLatest" id="scrollToLatestLabel">Scroll to latest</label>','<input type="button" id="clearButton" value="Clear" onclick="clearLog()" class="button" title="Clear all log messages"  />','<input type="button" id="hideButton" value="Hide" onclick="hide()" class="hidden button" title="Hide the console" />','<input type="button" id="closeButton" value="Close" onclick="closeWindow()" class="hidden button" title="Close the window" />',"</div>","</div>","</div>",'<div id="log" class="TRACE DEBUG INFO WARN ERROR FATAL"></div>','<div id="commandLine" class="toolbar">','<div id="commandLineContainer">','<input type="text" id="command" title="Enter a JavaScript command here and hit return or press \'Evaluate\'" />','<input type="button" id="evaluateButton" value="Evaluate" class="button" title="Evaluate the command" onclick="evalCommandLine()" />',"</div>","</div>","</body>","</html>",""]}();e.open();for(var n=0,r=t.length;n<r;n++)e.writeln(t[n]);e.close()};this.setEventTypes(["load","unload"]);var q=function(){var e=w();e.setAppender(h);e.setNewestAtTop(S);e.setScrollToLatest(b);e.setMaxMessages(A);e.setShowCommandLine(R);e.setShowHideButton(L);e.setShowCloseButton(D);e.setMainWindow(window);var t=getCookie(H);if(t){e.commandHistory=t.split(",");e.currentCommandIndex=e.commandHistory.length}h.dispatchEvent("load",{win:e})};this.unload=function(){logLog.debug("unload "+this+", caller: "+this.unload.caller);if(!y){logLog.debug("really doing unload "+this);y=!0;g=!1;m=!1;h.dispatchEvent("unload",{})}};var W=function(e,t,n,r){var i=setInterval((function(){try{y&&clearInterval(i);if(e(w())){clearInterval(i);n()}}catch(e){clearInterval(i);v=!1;handleError(r,e)}}),t)},K=function(){var e=document.domain!=location.hostname;return s?"":getBaseUrl()+"console.html"+(e?"?log4javascript_domain="+escape(document.domain):"")};if(e){var z=null,Y=[];this.addCssProperty=function(e,t){P("cssProperties")&&Y.push([e,t])};var $,Q=!1,X=uniqueId+"_InPageAppender_"+E;this.hide=function(){if(p&&m){k()&&w().$("command").blur();$.style.display="none";B=!0}};this.show=function(){if(p)if(m){$.style.display="block";this.setShowCommandLine(R);B=!1}else Q||C(!0)};this.isVisible=function(){return!B&&!y};this.close=function(e){if(!y&&(!e||confirm("This will permanently remove the console from the page. No more messages will be logged. Do you wish to continue?"))){$.parentNode.removeChild($);this.unload()}};N=function(){function e(){try{o||h.show();q();g=!0;U()}catch(e){v=!1;handleError(n,e)}}function t(){try{var t=function(e){return isLoaded(e)};s&&V(w().document);t(w())?e():W(t,100,e,n)}catch(e){v=!1;handleError(n,e)}}var n="InPageAppender.open: unable to create console iframe";B=!1;($=z.appendChild(document.createElement("div"))).style.width=a;$.style.height=c;$.style.border="solid gray 1px";for(var r=0,i=Y.length;r<i;r++)$.style[Y[r][0]]=Y[r][1];var u=s?"":" src='"+K()+"'";$.innerHTML="<iframe id='"+X+"' name='"+X+"' width='100%' height='100%' frameborder='0'"+u+" scrolling='no'></iframe>";y=!1;var l=function(e){try{return bool(e)&&bool(e.document)}catch(e){return!1}};l(w())?t():W(l,100,t,n);m=!0};C=function(e){if(e||!o){var n=function(){if(t)try{var e=document.getElementById(t);1==e.nodeType&&(z=e);N()}catch(e){handleError("InPageAppender.init: invalid container element '"+t+"' supplied",e)}else{(z=document.createElement("div")).style.position="fixed";z.style.left="0";z.style.right="0";z.style.bottom="0";document.body.appendChild(z);h.addCssProperty("borderWidth","1px 0 0 0");h.addCssProperty("zIndex",1e6);N()}};if(pageLoaded&&t&&t.appendChild){z=t;N()}else pageLoaded?n():log4javascript.addEventListener("load",n);Q=!0}};T=function(){C();p=!0};w=function(){var e=window.frames[X];if(e)return e};I=function(){if(v&&!y){m&&!g&&w()&&isLoaded(w())&&(g=!0);return g}return!1}}else{var J,Z=h.defaults.useOldPopUp,ee=h.defaults.complainAboutPopUpBlocking,te=this.defaults.reopenWhenClosed;this.isUseOldPopUp=function(){return Z};this.setUseOldPopUp=function(e){P("useOldPopUp")&&(Z=bool(e))};this.isComplainAboutPopUpBlocking=function(){return ee};this.setComplainAboutPopUpBlocking=function(e){P("complainAboutPopUpBlocking")&&(ee=bool(e))};this.isFocusPopUp=function(){return u};this.setFocusPopUp=function(e){u=bool(e)};this.isReopenWhenClosed=function(){return te};this.setReopenWhenClosed=function(e){te=bool(e)};this.close=function(){logLog.debug("close "+this);try{J.close();this.unload()}catch(e){}};this.hide=function(){logLog.debug("hide "+this);k()&&this.close()};this.show=function(){logLog.debug("show "+this);m||N()};this.isVisible=function(){return I()};N=function(){function e(){w().setCloseIfOpenerCloses(!Z||!s);q();g=!0;U();W(o,500,u,"PopUpAppender.checkPopUpClosed: error checking pop-up window")}var t="width="+a+",height="+c+",status,resizable",n="";try{var r=window.frameElement;r&&(n="_"+r.tagName+"_"+(r.name||r.id||""))}catch(e){n="_inaccessibleParentFrame"}var i="PopUp_"+location.host.replace(/[^a-z0-9]/gi,"_")+"_"+E+n;Z&&s||(i=i+"_"+uniqueId);var o=function(e){if(y)return!0;try{return bool(e)&&e.closed}catch(e){}return!1},u=function(){y||h.unload()};try{J=window.open(K(),i,t);y=!1;m=!0;if(J&&J.document)if(s&&Z&&isLoaded(J)){J.mainPageReloaded();e()}else{s&&V(J.document);isLoaded(J)?e():W((function(e){return bool(e)&&isLoaded(e)}),100,e,"PopUpAppender.init: unable to create console window")}else{v=!1;logLog.warn("PopUpAppender.init: pop-ups blocked, please unblock to use PopUpAppender");ee&&handleError("log4javascript: pop-up windows appear to be blocked. Please unblock them to use pop-up logging.")}}catch(e){handleError("PopUpAppender.init: error creating pop-up",e)}};C=function(){o||N()};T=function(){C();p=!0};w=function(){return J};I=function(){if(v&&!isUndefined(J)&&!y){if(J.closed||g&&isUndefined(J.closed)){h.unload();logLog.debug("PopUpAppender: pop-up closed");return!1}!g&&isLoaded(J)&&(g=!0)}return v&&g&&!y}}this.getConsoleWindow=w};ConsoleAppender.addGlobalCommandLineFunction=function(e,t){n.push([e,t])};e.prototype=new ConsoleAppender;e.prototype.defaults={layout:new PatternLayout("%d{HH:mm:ss} %-5p - %m{1}%n"),initiallyMinimized:!1,focusPopUp:!1,lazyInit:!0,useOldPopUp:!0,complainAboutPopUpBlocking:!0,newestMessageAtTop:!1,scrollToLatestMessage:!0,width:"600",height:"400",reopenWhenClosed:!1,maxMessages:null,showCommandLine:!0,commandLineObjectExpansionDepth:1,showHideButton:!1,showCloseButton:!0,useDocumentWrite:!0};e.prototype.toString=function(){return"PopUpAppender"};log4javascript.PopUpAppender=e;t.prototype=new ConsoleAppender;t.prototype.defaults={layout:new PatternLayout("%d{HH:mm:ss} %-5p - %m{1}%n"),initiallyMinimized:!1,lazyInit:!0,newestMessageAtTop:!1,scrollToLatestMessage:!0,width:"100%",height:"220px",maxMessages:null,showCommandLine:!0,commandLineObjectExpansionDepth:1,showHideButton:!1,showCloseButton:!1,showLogEntryDeleteButtons:!0,useDocumentWrite:!0};t.prototype.toString=function(){return"InPageAppender"};log4javascript.InPageAppender=t;log4javascript.InlineAppender=t}();!function(){function e(e){var t=0;for(var n in e)t=Math.max(toStr(n).length,t);var r=[];for(n in e){var i,o="  "+padWithSpaces(toStr(n),t+2);try{i=splitIntoLines(toStr(e[n])).join(padWithSpaces(newLine,t+6))}catch(e){i="[Error obtaining property. Details: "+getExceptionMessage(e)+"]"}r.push(o+i)}return r.join(newLine)}function t(e,u,l,f,d){function h(e){return e.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function p(e){for(var t=e.style.cssText.split(";"),n="",r=0,i=t.length;r<i;r++){var o=t[r].split(":"),s=[];/^\s*$/.test(o[0])||s.push(trim(o[0]).toLowerCase()+":"+trim(o[1]));n=s.join(";")}return n}"string"!=typeof l&&(l="");f=!!f;d=!!d;var m,g,y;if(!(u="undefined"==typeof u||!!u)||e.nodeType==s){m="";for(g=0,y=e.childNodes.length;g<y;g++)m+=t(e.childNodes[g],!0,l+"  ");return m}switch(e.nodeType){case n:var _=e.tagName.toLowerCase();m=f?newLine+l:"";m+="<";var v=function(e){return e.prefix?e.prefix:e.outerHTML&&new RegExp("<([^:]+):"+e.tagName+"[^>]*>","i").test(e.outerHTML)?RegExp.$1.toLowerCase():""}(e),E=!!v;E&&(m+=v+":");m+=_;for(g=0,y=e.attributes.length;g<y;g++){var S=e.attributes[g];if(S.specified&&null!==S.nodeValue&&"style"!==S.nodeName.toLowerCase()&&"string"===typeof S.nodeValue&&0!==S.nodeName.indexOf("_moz")){m+=" "+S.nodeName.toLowerCase()+'="';m+=h(S.nodeValue);m+='"'}}e.style.cssText&&""!==p(e)&&(m+=' style="'+p(e)+'"');if(array_contains(c,_)||E&&!e.hasChildNodes())m+="/>";else{m+=">";var b=!(1===e.childNodes.length&&e.childNodes[0].nodeType===r),T=array_contains(a,_);for(g=0,y=e.childNodes.length;g<y;g++)m+=t(e.childNodes[g],!0,l+"  ",b,T);var C="</"+_+">";m+=b?newLine+l+C:C}return m;case r:if(function(e){return e.nodeType==r&&/^[ \t\r\n]*$/.test(e.nodeValue)}(e))m="";else{if(d)m=e.nodeValue;else{var I=splitIntoLines(trim(e.nodeValue)),w=[];for(g=0,y=I.length;g<y;g++)w[g]=trim(I[g]);m=w.join(newLine+l)}f&&(m=newLine+l+m)}return m;case i:return"<![CDATA["+e.nodeValue+"]]>"+newLine;case o:m="";for(g=0,y=e.childNodes.length;g<y;g++)m+=t(e.childNodes[g],!0,l);return m;default:return""}}var n=1,r=3,i=4,o=9,s=11,a=["script","pre"],c=["br","img","hr","param","link","area","input","col","base","meta"];!function(){!function(){ConsoleAppender.addGlobalCommandLineFunction("$",(function(e,t){return document.getElementById(t[0])}));ConsoleAppender.addGlobalCommandLineFunction("dir",(function(t,n){for(var r=[],i=0,o=n.length;i<o;i++)r[i]=e(n[i]);return r.join(newLine+newLine)}));ConsoleAppender.addGlobalCommandLineFunction("dirxml",(function(e,n){for(var r=[],i=0,o=n.length;i<o;i++)r[i]=t(n[i]);return r.join(newLine+newLine)}));ConsoleAppender.addGlobalCommandLineFunction("cd",(function(e,t,n){var r,i;if(0===t.length||""===t[0]){r=window;i="Command line set to run in main window"}else if(t[0].window==t[0]){r=t[0];i="Command line set to run in frame '"+t[0].name+"'"}else if(r=window.frames[t[0]])i="Command line set to run in frame '"+t[0]+"'";else{n.isError=!0;i="Frame '"+t[0]+"' does not exist";r=e.getCommandWindow()}e.setCommandWindow(r);return i}));ConsoleAppender.addGlobalCommandLineFunction("clear",(function(e,t,n){n.appendResult=!1;e.clear()}));ConsoleAppender.addGlobalCommandLineFunction("keys",(function(e,t){var n=[];for(var r in t[0])n.push(r);return n}));ConsoleAppender.addGlobalCommandLineFunction("values",(function(e,t){var n=[];for(var r in t[0])try{n.push(t[0][r])}catch(e){logLog.warn("values(): Unable to obtain value for key "+r+". Details: "+getExceptionMessage(e))}return n}));ConsoleAppender.addGlobalCommandLineFunction("expansionDepth",(function(e,t,n){var r=parseInt(t[0],10);if(isNaN(r)||r<0){n.isError=!0;return t[0]+" is not a valid expansion depth"}e.setCommandLineObjectExpansionDepth(r);return"Object expansion depth set to "+r}))}()}()}();log4javascript.setDocumentReady=function(){pageLoaded=!0;log4javascript.dispatchEvent("load",{})};if(window.addEventListener)window.addEventListener("load",log4javascript.setDocumentReady,!1);else if(window.attachEvent)window.attachEvent("onload",log4javascript.setDocumentReady);else{var oldOnload=window.onload;"function"!=typeof window.onload?window.onload=log4javascript.setDocumentReady:window.onload=function(e){oldOnload&&oldOnload(e);log4javascript.setDocumentReady()}}return log4javascript}))},9504:(e,t,n)=>{function r(e,t){c.cipher.registerAlgorithm(e,(function(){return new c.aes.Algorithm(e,t)}))}function i(){p=!0;f=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t){e[t]=t<<1;e[t+128]=t+128<<1^283}u=new Array(256);l=new Array(256);d=new Array(4);h=new Array(4);for(t=0;t<4;++t){d[t]=new Array(256);h[t]=new Array(256)}var n,r,i,o,s,a,c,m=0,g=0;for(t=0;t<256;++t){o=(o=g^g<<1^g<<2^g<<3^g<<4)>>8^255&o^99;u[m]=o;l[o]=m;a=(s=e[o])<<24^o<<16^o<<8^o^s;c=((n=e[m])^(r=e[n])^(i=e[r]))<<24^(m^i)<<16^(m^r^i)<<8^m^n^i;for(var y=0;y<4;++y){d[y][m]=a;h[y][o]=c;a=a<<24|a>>>8;c=c<<24|c>>>8}if(0===m)m=g=1;else{m=n^e[e[e[n^i]]];g^=e[e[g]]}}}function o(e,t){for(var n,r=e.slice(0),i=1,o=r.length,s=m*(o+6+1),a=o;a<s;++a){n=r[a-1];if(a%o===0){n=u[n>>>16&255]<<24^u[n>>>8&255]<<16^u[255&n]<<8^u[n>>>24]^f[i]<<24;i++}else o>6&&a%o===4&&(n=u[n>>>24]<<24^u[n>>>16&255]<<16^u[n>>>8&255]<<8^u[255&n]);r[a]=r[a-o]^n}if(t){for(var c,l=h[0],d=h[1],p=h[2],g=h[3],y=r.slice(0),_=(a=0,(s=r.length)-m);a<s;a+=m,_-=m)if(0===a||a===s-m){y[a]=r[_];y[a+1]=r[_+3];y[a+2]=r[_+2];y[a+3]=r[_+1]}else for(var v=0;v<m;++v){c=r[_+v];y[a+(3&-v)]=l[u[c>>>24]]^d[u[c>>>16&255]]^p[u[c>>>8&255]]^g[u[255&c]]}r=y}return r}function s(e,t,n,r){var i,o,s,a,c,f,p,m,g,y,_,v,E=e.length/4-1;if(r){i=h[0];o=h[1];s=h[2];a=h[3];c=l}else{i=d[0];o=d[1];s=d[2];a=d[3];c=u}f=t[0]^e[0];p=t[r?3:1]^e[1];m=t[2]^e[2];g=t[r?1:3]^e[3];for(var S=3,b=1;b<E;++b){y=i[f>>>24]^o[p>>>16&255]^s[m>>>8&255]^a[255&g]^e[++S];_=i[p>>>24]^o[m>>>16&255]^s[g>>>8&255]^a[255&f]^e[++S];v=i[m>>>24]^o[g>>>16&255]^s[f>>>8&255]^a[255&p]^e[++S];g=i[g>>>24]^o[f>>>16&255]^s[p>>>8&255]^a[255&m]^e[++S];f=y;p=_;m=v}n[0]=c[f>>>24]<<24^c[p>>>16&255]<<16^c[m>>>8&255]<<8^c[255&g]^e[++S];n[r?3:1]=c[p>>>24]<<24^c[m>>>16&255]<<16^c[g>>>8&255]<<8^c[255&f]^e[++S];n[2]=c[m>>>24]<<24^c[g>>>16&255]<<16^c[f>>>8&255]<<8^c[255&p]^e[++S];n[r?1:3]=c[g>>>24]<<24^c[f>>>16&255]<<16^c[p>>>8&255]<<8^c[255&m]^e[++S]}function a(e){var t,n="AES-"+((e=e||{}).mode||"CBC").toUpperCase(),r=(t=e.decrypt?c.cipher.createDecipher(n,e.key):c.cipher.createCipher(n,e.key)).start;t.start=function(e,n){var i=null;if(n instanceof c.util.ByteBuffer){i=n;n={}}(n=n||{}).output=i;n.iv=e;r.call(t,n)};return t}var c=n(276);n(3900);n(6370);n(7619);e.exports=c.aes=c.aes||{};c.aes.startEncrypting=function(e,t,n,r){var i=a({key:e,output:n,decrypt:!1,mode:r});i.start(t);return i};c.aes.createEncryptionCipher=function(e,t){return a({key:e,output:null,decrypt:!1,mode:t})};c.aes.startDecrypting=function(e,t,n,r){var i=a({key:e,output:n,decrypt:!0,mode:r});i.start(t);return i};c.aes.createDecryptionCipher=function(e,t){return a({key:e,output:null,decrypt:!0,mode:t})};c.aes.Algorithm=function(e,t){p||i();var n=this;n.name=e;n.mode=new t({blockSize:16,cipher:{encrypt:function(e,t){return s(n._w,e,t,!1)},decrypt:function(e,t){return s(n._w,e,t,!0)}}});n._init=!1};c.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t,n=e.key;if("string"!==typeof n||16!==n.length&&24!==n.length&&32!==n.length){if(c.util.isArray(n)&&(16===n.length||24===n.length||32===n.length)){t=n;n=c.util.createBuffer();for(var r=0;r<t.length;++r)n.putByte(t[r])}}else n=c.util.createBuffer(n);if(!c.util.isArray(n)){t=n;n=[];var i=t.length();if(16===i||24===i||32===i){i>>>=2;for(r=0;r<i;++r)n.push(t.getInt32())}}if(!c.util.isArray(n)||4!==n.length&&6!==n.length&&8!==n.length)throw new Error("Invalid key parameter.");var s=this.mode.name,a=-1!==["CFB","OFB","CTR","GCM"].indexOf(s);this._w=o(n,e.decrypt&&!a);this._init=!0}};c.aes._expandKey=function(e,t){p||i();return o(e,t)};c.aes._updateBlock=s;r("AES-ECB",c.cipher.modes.ecb);r("AES-CBC",c.cipher.modes.cbc);r("AES-CFB",c.cipher.modes.cfb);r("AES-OFB",c.cipher.modes.ofb);r("AES-CTR",c.cipher.modes.ctr);r("AES-GCM",c.cipher.modes.gcm);var u,l,f,d,h,p=!1,m=4},8678:(e,t,n)=>{function r(e,t,n){var r=t.entity===c.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:c.cipher.createDecipher("AES-CBC",r?n.keys.server_write_key:n.keys.client_write_key),iv:r?n.keys.server_write_IV:n.keys.client_write_IV};e.write.cipherState={init:!1,cipher:c.cipher.createCipher("AES-CBC",r?n.keys.client_write_key:n.keys.server_write_key),iv:r?n.keys.client_write_IV:n.keys.server_write_IV};e.read.cipherFunction=a;e.write.cipherFunction=i;e.read.macLength=e.write.macLength=n.mac_length;e.read.macFunction=e.write.macFunction=u.hmac_sha1}function i(e,t){var n,r=!1,i=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(i);t.updateSequenceNumber();n=e.version.minor===u.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:c.random.getBytesSync(16);t.cipherState.init=!0;var s=t.cipherState.cipher;s.start({iv:n});e.version.minor<u.Versions.TLS_1_1.minor||s.output.putBytes(n);s.update(e.fragment);if(s.finish(o)){e.fragment=s.output;e.length=e.fragment.length();r=!0}return r}function o(e,t,n){if(!n){var r=e-t.length()%e;t.fillWithByte(r-1,r)}return!0}function s(e,t,n){var r=!0;if(n){for(var i=t.length(),o=t.last(),s=i-1-o;s<i-1;++s)r=r&&t.at(s)==o;r&&t.truncate(o+1)}return r}function a(e,t){var n,r=!1;n=e.version.minor===u.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:e.fragment.getBytes(16);t.cipherState.init=!0;var i=t.cipherState.cipher;i.start({iv:n});i.update(e.fragment);r=i.finish(s);var o=t.macLength,a=c.random.getBytesSync(o),l=i.output.length();if(l<o)e.fragment=i.output.getBytes();else{e.fragment=i.output.getBytes(l-o);a=i.output.getBytes(o)}e.fragment=c.util.createBuffer(e.fragment);e.length=e.fragment.length();var f=t.macFunction(t.macKey,t.sequenceNumber,e);t.updateSequenceNumber();r=function(e,t,n){var r=c.hmac.create();r.start("SHA1",e);r.update(t);t=r.digest().getBytes();r.start(null,null);r.update(n);return t===(n=r.digest().getBytes())}(t.macKey,a,f)&&r;return r}var c=n(276);n(9504);n(3986);var u=e.exports=c.tls;u.CipherSuites["TLS_RSA_WITH_AES_128_CBC_SHA"]={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=u.BulkCipherAlgorithm.aes;e.cipher_type=u.CipherType.block;e.enc_key_length=16;e.block_length=16;e.fixed_iv_length=16;e.record_iv_length=16;e.mac_algorithm=u.MACAlgorithm.hmac_sha1;e.mac_length=20;e.mac_key_length=20},initConnectionState:r};u.CipherSuites["TLS_RSA_WITH_AES_256_CBC_SHA"]={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=u.BulkCipherAlgorithm.aes;e.cipher_type=u.CipherType.block;e.enc_key_length=32;e.block_length=16;e.fixed_iv_length=16;e.record_iv_length=16;e.mac_algorithm=u.MACAlgorithm.hmac_sha1;e.mac_length=20;e.mac_key_length=20},initConnectionState:r}},4309:(e,t,n)=>{var r=n(276);n(2746);var i=r.asn1;t.privateKeyValidator={name:"PrivateKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};t.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},2746:(e,t,n)=>{function r(e,t,n){if(n>t){var r=new Error("Too few bytes to parse DER.");r.available=e.length();r.remaining=t;r.requested=n;throw r}}function i(e,t,n,o){var a;r(e,t,2);var c=e.getByte();t--;var u=192&c,l=31&c;a=e.length();var f,d,h=function(e,t){var n,i=e.getByte();t--;if(128!==i){if(128&i){var o=127&i;r(e,t,o);n=e.getInt(o<<3)}else n=i;if(n<0)throw new Error("Negative length: "+n);return n}}(e,t);t-=a-e.length();if(void 0!==h&&h>t){if(o.strict){var p=new Error("Too few bytes to read ASN.1 value.");p.available=e.length();p.remaining=t;p.requested=h;throw p}h=t}var m=32===(32&c);if(m){f=[];if(void 0===h)for(;;){r(e,t,2);if(e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2);t-=2;break}a=e.length();f.push(i(e,t,n+1,o));t-=a-e.length()}else for(;h>0;){a=e.length();f.push(i(e,h,n+1,o));t-=a-e.length();h-=a-e.length()}}void 0===f&&u===s.Class.UNIVERSAL&&l===s.Type.BITSTRING&&(d=e.bytes(h));if(void 0===f&&o.decodeBitStrings&&u===s.Class.UNIVERSAL&&l===s.Type.BITSTRING&&h>1){var g=e.read,y=t,_=0;if(l===s.Type.BITSTRING){r(e,t,1);_=e.getByte();t--}if(0===_)try{a=e.length();var v=i(e,t,n+1,{strict:!0,decodeBitStrings:!0}),E=a-e.length();t-=E;l==s.Type.BITSTRING&&E++;var S=v.tagClass;E!==h||S!==s.Class.UNIVERSAL&&S!==s.Class.CONTEXT_SPECIFIC||(f=[v])}catch(e){}if(void 0===f){e.read=g;t=y}}if(void 0===f){if(void 0===h){if(o.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");h=t}if(l===s.Type.BMPSTRING){f="";for(;h>0;h-=2){r(e,t,2);f+=String.fromCharCode(e.getInt16());t-=2}}else{f=e.getBytes(h);t-=h}}var b=void 0===d?null:{bitStringContents:d};return s.create(u,l,m,f,b)}var o=n(276);n(7619);n(6418);var s=e.exports=o.asn1=o.asn1||{};s.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};s.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};s.create=function(e,t,n,r,i){if(o.util.isArray(r)){for(var a=[],c=0;c<r.length;++c)void 0!==r[c]&&a.push(r[c]);r=a}var u={tagClass:e,type:t,constructed:n,composed:n||o.util.isArray(r),value:r};if(i&&"bitStringContents"in i){u.bitStringContents=i.bitStringContents;u.original=s.copy(u)}return u};s.copy=function(e,t){var n;if(o.util.isArray(e)){n=[];for(var r=0;r<e.length;++r)n.push(s.copy(e[r],t));return n}if("string"===typeof e)return e;n={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:s.copy(e.value,t)};t&&!t.excludeBitStringContents&&(n.bitStringContents=e.bitStringContents);return n};s.equals=function(e,t,n){if(o.util.isArray(e)){if(!o.util.isArray(t))return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!s.equals(e[r],t[r]))return!1;return!0}if(typeof e!==typeof t)return!1;if("string"===typeof e)return e===t;var i=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&s.equals(e.value,t.value);n&&n.includeBitStringContents&&(i=i&&e.bitStringContents===t.bitStringContents);return i};s.getBerValueLength=function(e){var t=e.getByte();if(128!==t)return 128&t?e.getInt((127&t)<<3):t};s.fromDer=function(e,t){void 0===t&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0});"boolean"===typeof t&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0});"strict"in t||(t.strict=!0);"parseAllBytes"in t||(t.parseAllBytes=!0);"decodeBitStrings"in t||(t.decodeBitStrings=!0);"string"===typeof e&&(e=o.util.createBuffer(e));var n=e.length(),r=i(e,e.length(),0,t);if(t.parseAllBytes&&0!==e.length()){var s=new Error("Unparsed DER bytes remain after ASN.1 parsing.");s.byteCount=n;s.remaining=e.length();throw s}return r};s.toDer=function(e){var t=o.util.createBuffer(),n=e.tagClass|e.type,r=o.util.createBuffer(),i=!1;if("bitStringContents"in e){i=!0;e.original&&(i=s.equals(e,e.original))}if(i)r.putBytes(e.bitStringContents);else if(e.composed){e.constructed?n|=32:r.putByte(0);for(var a=0;a<e.value.length;++a)void 0!==e.value[a]&&r.putBuffer(s.toDer(e.value[a]))}else if(e.type===s.Type.BMPSTRING)for(a=0;a<e.value.length;++a)r.putInt16(e.value.charCodeAt(a));else e.type===s.Type.INTEGER&&e.value.length>1&&(0===e.value.charCodeAt(0)&&0===(128&e.value.charCodeAt(1))||255===e.value.charCodeAt(0)&&128===(128&e.value.charCodeAt(1)))?r.putBytes(e.value.substr(1)):r.putBytes(e.value);t.putByte(n);if(r.length()>127){var c=r.length(),u="";do{u+=String.fromCharCode(255&c);c>>>=8}while(c>0);t.putByte(128|u.length);for(a=u.length-1;a>=0;--a)t.putByte(u.charCodeAt(a))}else t.putByte(127&r.length());t.putBuffer(r);return t};s.oidToDer=function(e){var t,n,r,i,s=e.split("."),a=o.util.createBuffer();a.putByte(40*parseInt(s[0],10)+parseInt(s[1],10));for(var c=2;c<s.length;++c){t=!0;n=[];r=parseInt(s[c],10);do{i=127&r;r>>>=7;t||(i|=128);n.push(i);t=!1}while(r>0);for(var u=n.length-1;u>=0;--u)a.putByte(n[u])}return a};s.derToOid=function(e){var t;"string"===typeof e&&(e=o.util.createBuffer(e));var n=e.getByte();t=Math.floor(n/40)+"."+n%40;for(var r=0;e.length()>0;){r<<=7;if(128&(n=e.getByte()))r+=127&n;else{t+="."+(r+n);r=0}}return t};s.utcTimeToDate=function(e){var t=new Date,n=parseInt(e.substr(0,2),10);n=n<50?2e3+n:1900+n;var r=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),o=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),a=0;if(e.length>11){var c=e.charAt(10),u=10;if("+"!==c&&"-"!==c){a=parseInt(e.substr(10,2),10);u+=2}}t.setUTCFullYear(n,r,i);t.setUTCHours(o,s,a,0);if(u&&("+"===(c=e.charAt(u))||"-"===c)){var l=60*parseInt(e.substr(u+1,2),10)+parseInt(e.substr(u+4,2),10);l*=6e4;"+"===c?t.setTime(+t-l):t.setTime(+t+l)}return t};s.generalizedTimeToDate=function(e){var t=new Date,n=parseInt(e.substr(0,4),10),r=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),o=parseInt(e.substr(8,2),10),s=parseInt(e.substr(10,2),10),a=parseInt(e.substr(12,2),10),c=0,u=0,l=!1;"Z"===e.charAt(e.length-1)&&(l=!0);var f=e.length-5,d=e.charAt(f);if("+"===d||"-"===d){u=60*parseInt(e.substr(f+1,2),10)+parseInt(e.substr(f+4,2),10);u*=6e4;"+"===d&&(u*=-1);l=!0}"."===e.charAt(14)&&(c=1e3*parseFloat(e.substr(14),10));if(l){t.setUTCFullYear(n,r,i);t.setUTCHours(o,s,a,c);t.setTime(+t+u)}else{t.setFullYear(n,r,i);t.setHours(o,s,a,c)}return t};s.dateToUtcTime=function(e){if("string"===typeof e)return e;var t="",n=[];n.push((""+e.getUTCFullYear()).substr(2));n.push(""+(e.getUTCMonth()+1));n.push(""+e.getUTCDate());n.push(""+e.getUTCHours());n.push(""+e.getUTCMinutes());n.push(""+e.getUTCSeconds());for(var r=0;r<n.length;++r){n[r].length<2&&(t+="0");t+=n[r]}return t+"Z"};s.dateToGeneralizedTime=function(e){if("string"===typeof e)return e;var t="",n=[];n.push(""+e.getUTCFullYear());n.push(""+(e.getUTCMonth()+1));n.push(""+e.getUTCDate());n.push(""+e.getUTCHours());n.push(""+e.getUTCMinutes());n.push(""+e.getUTCSeconds());for(var r=0;r<n.length;++r){n[r].length<2&&(t+="0");t+=n[r]}return t+"Z"};s.integerToDer=function(e){var t=o.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var n=new Error("Integer too large; max is 32-bits.");n.integer=e;throw n};s.derToInteger=function(e){"string"===typeof e&&(e=o.util.createBuffer(e));var t=8*e.length();if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};s.validate=function(e,t,n,r){var i=!1;if(e.tagClass!==t.tagClass&&"undefined"!==typeof t.tagClass||e.type!==t.type&&"undefined"!==typeof t.type){if(r){e.tagClass!==t.tagClass&&r.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"');e.type!==t.type&&r.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"')}}else if(e.constructed===t.constructed||"undefined"===typeof t.constructed){i=!0;if(t.value&&o.util.isArray(t.value))for(var a=0,c=0;i&&c<t.value.length;++c){i=t.value[c].optional||!1;e.value[a]&&((i=s.validate(e.value[a],t.value[c],n,r))?++a:t.value[c].optional&&(i=!0));!i&&r&&r.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"')}if(i&&n){t.capture&&(n[t.capture]=e.value);t.captureAsn1&&(n[t.captureAsn1]=e);t.captureBitStringContents&&"bitStringContents"in e&&(n[t.captureBitStringContents]=e.bitStringContents);if(t.captureBitStringValue&&"bitStringContents"in e)if(e.bitStringContents.length<2)n[t.captureBitStringValue]="";else{if(0!==e.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");n[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else r&&r.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');return i};var a=/[^\\u0000-\\u00ff]/;s.prettyPrint=function(e,t,n){var r="";n=n||2;(t=t||0)>0&&(r+="\n");for(var i="",c=0;c<t*n;++c)i+=" ";r+=i+"Tag: ";switch(e.tagClass){case s.Class.UNIVERSAL:r+="Universal:";break;case s.Class.APPLICATION:r+="Application:";break;case s.Class.CONTEXT_SPECIFIC:r+="Context-Specific:";break;case s.Class.PRIVATE:r+="Private:"}if(e.tagClass===s.Class.UNIVERSAL){r+=e.type;switch(e.type){case s.Type.NONE:r+=" (None)";break;case s.Type.BOOLEAN:r+=" (Boolean)";break;case s.Type.INTEGER:r+=" (Integer)";break;case s.Type.BITSTRING:r+=" (Bit string)";break;case s.Type.OCTETSTRING:r+=" (Octet string)";break;case s.Type.NULL:r+=" (Null)";break;case s.Type.OID:r+=" (Object Identifier)";break;case s.Type.ODESC:r+=" (Object Descriptor)";break;case s.Type.EXTERNAL:r+=" (External or Instance of)";break;case s.Type.REAL:r+=" (Real)";break;case s.Type.ENUMERATED:r+=" (Enumerated)";break;case s.Type.EMBEDDED:r+=" (Embedded PDV)";break;case s.Type.UTF8:r+=" (UTF8)";break;case s.Type.ROID:r+=" (Relative Object Identifier)";break;case s.Type.SEQUENCE:r+=" (Sequence)";break;case s.Type.SET:r+=" (Set)";break;case s.Type.PRINTABLESTRING:r+=" (Printable String)";break;case s.Type.IA5String:r+=" (IA5String (ASCII))";break;case s.Type.UTCTIME:r+=" (UTC time)";break;case s.Type.GENERALIZEDTIME:r+=" (Generalized time)";break;case s.Type.BMPSTRING:r+=" (BMP String)"}}else r+=e.type;r+="\n";r+=i+"Constructed: "+e.constructed+"\n";if(e.composed){var u=0,l="";for(c=0;c<e.value.length;++c)if(void 0!==e.value[c]){u+=1;l+=s.prettyPrint(e.value[c],t+1,n);c+1<e.value.length&&(l+=",")}r+=i+"Sub values: "+u+l}else{r+=i+"Value: ";if(e.type===s.Type.OID){var f=s.derToOid(e.value);r+=f;o.pki&&o.pki.oids&&f in o.pki.oids&&(r+=" ("+o.pki.oids[f]+") ")}if(e.type===s.Type.INTEGER)try{r+=s.derToInteger(e.value)}catch(t){r+="0x"+o.util.bytesToHex(e.value)}else if(e.type===s.Type.BITSTRING){e.value.length>1?r+="0x"+o.util.bytesToHex(e.value.slice(1)):r+="(none)";if(e.value.length>0){var d=e.value.charCodeAt(0);1==d?r+=" (1 unused bit shown)":d>1&&(r+=" ("+d+" unused bits shown)")}}else if(e.type===s.Type.OCTETSTRING){a.test(e.value)||(r+="("+e.value+") ");r+="0x"+o.util.bytesToHex(e.value)}else if(e.type===s.Type.UTF8)try{r+=o.util.decodeUtf8(e.value)}catch(t){if("URI malformed"!==t.message)throw t;r+="0x"+o.util.bytesToHex(e.value)+" (malformed UTF8)"}else e.type===s.Type.PRINTABLESTRING||e.type===s.Type.IA5String?r+=e.value:a.test(e.value)?r+="0x"+o.util.bytesToHex(e.value):0===e.value.length?r+="[null]":r+=e.value}return r}},4058:e=>{var t={};e.exports=t;var n={};t.encode=function(e,t,n){if("string"!==typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==n&&"number"!==typeof n)throw new TypeError('"maxline" must be a number.');var r="";if(e instanceof Uint8Array){var i=0,o=t.length,s=t.charAt(0),a=[0];for(i=0;i<e.length;++i){for(var c=0,u=e[i];c<a.length;++c){u+=a[c]<<8;a[c]=u%o;u=u/o|0}for(;u>0;){a.push(u%o);u=u/o|0}}for(i=0;0===e[i]&&i<e.length-1;++i)r+=s;for(i=a.length-1;i>=0;--i)r+=t[a[i]]}else r=function(e,t){var n=0,r=t.length,i=t.charAt(0),o=[0];for(n=0;n<e.length();++n){for(var s=0,a=e.at(n);s<o.length;++s){a+=o[s]<<8;o[s]=a%r;a=a/r|0}for(;a>0;){o.push(a%r);a=a/r|0}}var c="";for(n=0;0===e.at(n)&&n<e.length()-1;++n)c+=i;for(n=o.length-1;n>=0;--n)c+=t[o[n]];return c}(e,t);if(n){var l=new RegExp(".{1,"+n+"}","g");r=r.match(l).join("\r\n")}return r};t.decode=function(e,t){if("string"!==typeof e)throw new TypeError('"input" must be a string.');if("string"!==typeof t)throw new TypeError('"alphabet" must be a string.');var r=n[t];if(!r){r=n[t]=[];for(var i=0;i<t.length;++i)r[t.charCodeAt(i)]=i}e=e.replace(/\s/g,"");var o=t.length,s=t.charAt(0),a=[0];for(i=0;i<e.length;i++){var c=r[e.charCodeAt(i)];if(void 0===c)return;for(var u=0,l=c;u<a.length;++u){l+=a[u]*o;a[u]=255&l;l>>=8}for(;l>0;){a.push(255&l);l>>=8}}for(var f=0;e[f]===s&&f<e.length-1;++f)a.push(0);return"undefined"!==typeof Buffer?Buffer.from(a.reverse()):new Uint8Array(a.reverse())}},3900:(e,t,n)=>{var r=n(276);n(7619);e.exports=r.cipher=r.cipher||{};r.cipher.algorithms=r.cipher.algorithms||{};r.cipher.createCipher=function(e,t){var n=e;"string"===typeof n&&(n=r.cipher.getAlgorithm(n))&&(n=n());if(!n)throw new Error("Unsupported algorithm: "+e);return new r.cipher.BlockCipher({algorithm:n,key:t,decrypt:!1})};r.cipher.createDecipher=function(e,t){var n=e;"string"===typeof n&&(n=r.cipher.getAlgorithm(n))&&(n=n());if(!n)throw new Error("Unsupported algorithm: "+e);return new r.cipher.BlockCipher({algorithm:n,key:t,decrypt:!0})};r.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase();r.cipher.algorithms[e]=t};r.cipher.getAlgorithm=function(e){return(e=e.toUpperCase())in r.cipher.algorithms?r.cipher.algorithms[e]:null};var i=r.cipher.BlockCipher=function(e){this.algorithm=e.algorithm;this.mode=this.algorithm.mode;this.blockSize=this.mode.blockSize;this._finish=!1;this._input=null;this.output=null;this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt;this._decrypt=e.decrypt;this.algorithm.initialize(e)};i.prototype.start=function(e){e=e||{};var t={};for(var n in e)t[n]=e[n];t.decrypt=this._decrypt;this._finish=!1;this._input=r.util.createBuffer();this.output=e.output||r.util.createBuffer();this.mode.start(t)};i.prototype.update=function(e){e&&this._input.putBuffer(e);for(;!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};i.prototype.finish=function(e){if(e&&("ECB"===this.mode.name||"CBC"===this.mode.name)){this.mode.pad=function(t){return e(this.blockSize,t,!1)};this.mode.unpad=function(t){return e(this.blockSize,t,!0)}}var t={};t.decrypt=this._decrypt;t.overflow=this._input.length()%this.blockSize;if(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t))return!1;this._finish=!0;this.update();return!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}},6370:(e,t,n)=>{function r(e,t){"string"===typeof e&&(e=s.util.createBuffer(e));if(s.util.isArray(e)&&e.length>4){var n=e;e=s.util.createBuffer();for(var r=0;r<n.length;++r)e.putByte(n[r])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!s.util.isArray(e)){var i=[],o=t/4;for(r=0;r<o;++r)i.push(e.getInt32());e=i}return e}function i(e){e[e.length-1]=e[e.length-1]+1&4294967295}function o(e){return[e/4294967296|0,4294967295&e]}var s=n(276);n(7619);s.cipher=s.cipher||{};var a=e.exports=s.cipher.modes=s.cipher.modes||{};a.ecb=function(e){e=e||{};this.name="ECB";this.cipher=e.cipher;this.blockSize=e.blockSize||16;this._ints=this.blockSize/4;this._inBlock=new Array(this._ints);this._outBlock=new Array(this._ints)};a.ecb.prototype.start=function(){};a.ecb.prototype.encrypt=function(e,t,n){if(e.length()<this.blockSize&&(!n||e.length()<=0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(r=0;r<this._ints;++r)t.putInt32(this._outBlock[r])};a.ecb.prototype.decrypt=function(e,t,n){if(e.length()<this.blockSize&&(!n||e.length()<=0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(r=0;r<this._ints;++r)t.putInt32(this._outBlock[r])};a.ecb.prototype.pad=function(e){var t=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();e.fillWithByte(t,t);return!0};a.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var n=e.length(),r=e.at(n-1);if(r>this.blockSize<<2)return!1;e.truncate(r);return!0};a.cbc=function(e){e=e||{};this.name="CBC";this.cipher=e.cipher;this.blockSize=e.blockSize||16;this._ints=this.blockSize/4;this._inBlock=new Array(this._ints);this._outBlock=new Array(this._ints)};a.cbc.prototype.start=function(e){if(null===e.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=r(e.iv,this.blockSize);this._prev=this._iv.slice(0)}};a.cbc.prototype.encrypt=function(e,t,n){if(e.length()<this.blockSize&&(!n||e.length()<=0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=this._prev[r]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(r=0;r<this._ints;++r)t.putInt32(this._outBlock[r]);this._prev=this._outBlock};a.cbc.prototype.decrypt=function(e,t,n){if(e.length()<this.blockSize&&(!n||e.length()<=0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(r=0;r<this._ints;++r)t.putInt32(this._prev[r]^this._outBlock[r]);this._prev=this._inBlock.slice(0)};a.cbc.prototype.pad=function(e){var t=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();e.fillWithByte(t,t);return!0};a.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var n=e.length(),r=e.at(n-1);if(r>this.blockSize<<2)return!1;e.truncate(r);return!0};a.cfb=function(e){e=e||{};this.name="CFB";this.cipher=e.cipher;this.blockSize=e.blockSize||16;this._ints=this.blockSize/4;this._inBlock=null;this._outBlock=new Array(this._ints);this._partialBlock=new Array(this._ints);this._partialOutput=s.util.createBuffer();this._partialBytes=0};a.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=r(e.iv,this.blockSize);this._inBlock=this._iv.slice(0);this._partialBytes=0};a.cfb.prototype.encrypt=function(e,t,n){var r=e.length();if(0===r)return!0;this.cipher.encrypt(this._inBlock,this._outBlock);if(0!==this._partialBytes||r<this.blockSize){var i=(this.blockSize-r)%this.blockSize;i>0&&(i=this.blockSize-i);this._partialOutput.clear();for(o=0;o<this._ints;++o){this._partialBlock[o]=e.getInt32()^this._outBlock[o];this._partialOutput.putInt32(this._partialBlock[o])}if(i>0)e.read-=this.blockSize;else for(o=0;o<this._ints;++o)this._inBlock[o]=this._partialBlock[o];this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes);if(i>0&&!n){t.putBytes(this._partialOutput.getBytes(i-this._partialBytes));this._partialBytes=i;return!0}t.putBytes(this._partialOutput.getBytes(r-this._partialBytes));this._partialBytes=0}else for(var o=0;o<this._ints;++o){this._inBlock[o]=e.getInt32()^this._outBlock[o];t.putInt32(this._inBlock[o])}};a.cfb.prototype.decrypt=function(e,t,n){var r=e.length();if(0===r)return!0;this.cipher.encrypt(this._inBlock,this._outBlock);if(0!==this._partialBytes||r<this.blockSize){var i=(this.blockSize-r)%this.blockSize;i>0&&(i=this.blockSize-i);this._partialOutput.clear();for(o=0;o<this._ints;++o){this._partialBlock[o]=e.getInt32();this._partialOutput.putInt32(this._partialBlock[o]^this._outBlock[o])}if(i>0)e.read-=this.blockSize;else for(o=0;o<this._ints;++o)this._inBlock[o]=this._partialBlock[o];this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes);if(i>0&&!n){t.putBytes(this._partialOutput.getBytes(i-this._partialBytes));this._partialBytes=i;return!0}t.putBytes(this._partialOutput.getBytes(r-this._partialBytes));this._partialBytes=0}else for(var o=0;o<this._ints;++o){this._inBlock[o]=e.getInt32();t.putInt32(this._inBlock[o]^this._outBlock[o])}};a.ofb=function(e){e=e||{};this.name="OFB";this.cipher=e.cipher;this.blockSize=e.blockSize||16;this._ints=this.blockSize/4;this._inBlock=null;this._outBlock=new Array(this._ints);this._partialOutput=s.util.createBuffer();this._partialBytes=0};a.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=r(e.iv,this.blockSize);this._inBlock=this._iv.slice(0);this._partialBytes=0};a.ofb.prototype.encrypt=function(e,t,n){var r=e.length();if(0===e.length())return!0;this.cipher.encrypt(this._inBlock,this._outBlock);if(0!==this._partialBytes||r<this.blockSize){var i=(this.blockSize-r)%this.blockSize;i>0&&(i=this.blockSize-i);this._partialOutput.clear();for(o=0;o<this._ints;++o)this._partialOutput.putInt32(e.getInt32()^this._outBlock[o]);if(i>0)e.read-=this.blockSize;else for(o=0;o<this._ints;++o)this._inBlock[o]=this._outBlock[o];this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes);if(i>0&&!n){t.putBytes(this._partialOutput.getBytes(i-this._partialBytes));this._partialBytes=i;return!0}t.putBytes(this._partialOutput.getBytes(r-this._partialBytes));this._partialBytes=0}else for(var o=0;o<this._ints;++o){t.putInt32(e.getInt32()^this._outBlock[o]);this._inBlock[o]=this._outBlock[o]}};a.ofb.prototype.decrypt=a.ofb.prototype.encrypt;a.ctr=function(e){e=e||{};this.name="CTR";this.cipher=e.cipher;this.blockSize=e.blockSize||16;this._ints=this.blockSize/4;this._inBlock=null;this._outBlock=new Array(this._ints);this._partialOutput=s.util.createBuffer();this._partialBytes=0};a.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=r(e.iv,this.blockSize);this._inBlock=this._iv.slice(0);this._partialBytes=0};a.ctr.prototype.encrypt=function(e,t,n){var r=e.length();if(0===r)return!0;this.cipher.encrypt(this._inBlock,this._outBlock);if(0!==this._partialBytes||r<this.blockSize){var o=(this.blockSize-r)%this.blockSize;o>0&&(o=this.blockSize-o);this._partialOutput.clear();for(s=0;s<this._ints;++s)this._partialOutput.putInt32(e.getInt32()^this._outBlock[s]);o>0&&(e.read-=this.blockSize);this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes);if(o>0&&!n){t.putBytes(this._partialOutput.getBytes(o-this._partialBytes));this._partialBytes=o;return!0}t.putBytes(this._partialOutput.getBytes(r-this._partialBytes));this._partialBytes=0}else for(var s=0;s<this._ints;++s)t.putInt32(e.getInt32()^this._outBlock[s]);i(this._inBlock)};a.ctr.prototype.decrypt=a.ctr.prototype.encrypt;a.gcm=function(e){e=e||{};this.name="GCM";this.cipher=e.cipher;this.blockSize=e.blockSize||16;this._ints=this.blockSize/4;this._inBlock=new Array(this._ints);this._outBlock=new Array(this._ints);this._partialOutput=s.util.createBuffer();this._partialBytes=0;this._R=3774873600};a.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t,n=s.util.createBuffer(e.iv);this._cipherLength=0;t="additionalData"in e?s.util.createBuffer(e.additionalData):s.util.createBuffer();this._tagLength="tagLength"in e?e.tagLength:128;this._tag=null;if(e.decrypt){this._tag=s.util.createBuffer(e.tag).getBytes();if(this._tag.length!==this._tagLength/8)throw new Error("Authentication tag does not match tag length.")}this._hashBlock=new Array(this._ints);this.tag=null;this._hashSubkey=new Array(this._ints);this.cipher.encrypt([0,0,0,0],this._hashSubkey);this.componentBits=4;this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var r=n.length();if(12===r)this._j0=[n.getInt32(),n.getInt32(),n.getInt32(),1];else{this._j0=[0,0,0,0];for(;n.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[n.getInt32(),n.getInt32(),n.getInt32(),n.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(o(8*r)))}this._inBlock=this._j0.slice(0);i(this._inBlock);this._partialBytes=0;t=s.util.createBuffer(t);this._aDataLength=o(8*t.length());var a=t.length()%this.blockSize;a&&t.fillWithByte(0,this.blockSize-a);this._s=[0,0,0,0];for(;t.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()])};a.gcm.prototype.encrypt=function(e,t,n){var r=e.length();if(0===r)return!0;this.cipher.encrypt(this._inBlock,this._outBlock);if(0!==this._partialBytes||r<this.blockSize){var o=(this.blockSize-r)%this.blockSize;o>0&&(o=this.blockSize-o);this._partialOutput.clear();for(a=0;a<this._ints;++a)this._partialOutput.putInt32(e.getInt32()^this._outBlock[a]);if(o<=0||n){if(n){var s=r%this.blockSize;this._cipherLength+=s;this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(a=0;a<this._ints;++a)this._outBlock[a]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes);if(o>0&&!n){e.read-=this.blockSize;t.putBytes(this._partialOutput.getBytes(o-this._partialBytes));this._partialBytes=o;return!0}t.putBytes(this._partialOutput.getBytes(r-this._partialBytes));this._partialBytes=0}else{for(var a=0;a<this._ints;++a)t.putInt32(this._outBlock[a]^=e.getInt32());this._cipherLength+=this.blockSize}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock);i(this._inBlock)};a.gcm.prototype.decrypt=function(e,t,n){var r=e.length();if(r<this.blockSize&&(!n||r<=0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock);i(this._inBlock);this._hashBlock[0]=e.getInt32();this._hashBlock[1]=e.getInt32();this._hashBlock[2]=e.getInt32();this._hashBlock[3]=e.getInt32();this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var o=0;o<this._ints;++o)t.putInt32(this._outBlock[o]^this._hashBlock[o]);r<this.blockSize?this._cipherLength+=r%this.blockSize:this._cipherLength+=this.blockSize};a.gcm.prototype.afterFinish=function(e,t){var n=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow);this.tag=s.util.createBuffer();var r=this._aDataLength.concat(o(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,r);var i=[];this.cipher.encrypt(this._j0,i);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^i[a]);this.tag.truncate(this.tag.length()%(this._tagLength/8));t.decrypt&&this.tag.bytes()!==this._tag&&(n=!1);return n};a.gcm.prototype.multiply=function(e,t){for(var n=[0,0,0,0],r=t.slice(0),i=0;i<128;++i){if(e[i/32|0]&1<<31-i%32){n[0]^=r[0];n[1]^=r[1];n[2]^=r[2];n[3]^=r[3]}this.pow(r,r)}return n};a.gcm.prototype.pow=function(e,t){for(var n=1&e[3],r=3;r>0;--r)t[r]=e[r]>>>1|(1&e[r-1])<<31;t[0]=e[0]>>>1;n&&(t[0]^=this._R)};a.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],n=0;n<32;++n){var r=e[n/8|0]>>>4*(7-n%8)&15,i=this._m[n][r];t[0]^=i[0];t[1]^=i[1];t[2]^=i[2];t[3]^=i[3]}return t};a.gcm.prototype.ghash=function(e,t,n){t[0]^=n[0];t[1]^=n[1];t[2]^=n[2];t[3]^=n[3];return this.tableMultiply(t)};a.gcm.prototype.generateHashTable=function(e,t){for(var n=8/t,r=4*n,i=16*n,o=new Array(i),s=0;s<i;++s){var a=[0,0,0,0],c=(r-1-s%r)*t;a[s/r|0]=1<<t-1<<c;o[s]=this.generateSubHashTable(this.multiply(a,e),t)}return o};a.gcm.prototype.generateSubHashTable=function(e,t){var n=1<<t,r=n>>>1,i=new Array(n);i[r]=e.slice(0);for(var o=r>>>1;o>0;){this.pow(i[2*o],i[o]=[]);o>>=1}o=2;for(;o<r;){for(var s=1;s<o;++s){var a=i[o],c=i[s];i[o+s]=[a[0]^c[0],a[1]^c[1],a[2]^c[2],a[3]^c[3]]}o*=2}i[0]=[0,0,0,0];for(o=r+1;o<n;++o){var u=i[o^r];i[o]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return i}},1476:(e,t,n)=>{function r(e,t){s.cipher.registerAlgorithm(e,(function(){return new s.des.Algorithm(e,t)}))}function i(e,t,n,r){var i,o,s=32===e.length?3:9;i=3===s?r?[30,-2,-2]:[0,32,2]:r?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var m=t[0],g=t[1];m^=(o=252645135&(m>>>4^g))<<4;m^=(o=65535&(m>>>16^(g^=o)))<<16;m^=o=858993459&((g^=o)>>>2^m);m^=o=16711935&((g^=o<<2)>>>8^m);m=(m^=(o=1431655765&(m>>>1^(g^=o<<8)))<<1)<<1|m>>>31;g=(g^=o)<<1|g>>>31;for(var y=0;y<s;y+=3){for(var _=i[y+1],v=i[y+2],E=i[y];E!=_;E+=v){var S=g^e[E],b=(g>>>4|g<<28)^e[E+1];o=m;m=g;g=o^(c[S>>>24&63]|l[S>>>16&63]|d[S>>>8&63]|p[63&S]|a[b>>>24&63]|u[b>>>16&63]|f[b>>>8&63]|h[63&b])}o=m;m=g;g=o}g=g>>>1|g<<31;g^=o=1431655765&((m=m>>>1|m<<31)>>>1^g);g^=(o=16711935&(g>>>8^(m^=o<<1)))<<8;g^=(o=858993459&(g>>>2^(m^=o)))<<2;g^=o=65535&((m^=o)>>>16^g);g^=o=252645135&((m^=o<<16)>>>4^g);m^=o<<4;n[0]=m;n[1]=g}function o(e){var t,n="DES-"+((e=e||{}).mode||"CBC").toUpperCase(),r=(t=e.decrypt?s.cipher.createDecipher(n,e.key):s.cipher.createCipher(n,e.key)).start;t.start=function(e,n){var i=null;if(n instanceof s.util.ByteBuffer){i=n;n={}}(n=n||{}).output=i;n.iv=e;r.call(t,n)};return t}var s=n(276);n(3900);n(6370);n(7619);e.exports=s.des=s.des||{};s.des.startEncrypting=function(e,t,n,r){var i=o({key:e,output:n,decrypt:!1,mode:r||(null===t?"ECB":"CBC")});i.start(t);return i};s.des.createEncryptionCipher=function(e,t){return o({key:e,output:null,decrypt:!1,mode:t})};s.des.startDecrypting=function(e,t,n,r){var i=o({key:e,output:n,decrypt:!0,mode:r||(null===t?"ECB":"CBC")});i.start(t);return i};s.des.createDecryptionCipher=function(e,t){return o({key:e,output:null,decrypt:!0,mode:t})};s.des.Algorithm=function(e,t){var n=this;n.name=e;n.mode=new t({blockSize:8,cipher:{encrypt:function(e,t){return i(n._keys,e,t,!1)},decrypt:function(e,t){return i(n._keys,e,t,!0)}}});n._init=!1};s.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=s.util.createBuffer(e.key);if(0===this.name.indexOf("3DES")&&24!==t.length())throw new Error("Invalid Triple-DES key size: "+8*t.length());this._keys=function(e){for(var t,n=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],o=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],c=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],u=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],l=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],d=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],m=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],g=e.length()>8?3:1,y=[],_=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],v=0,E=0;E<g;E++){var S=e.getInt32(),b=e.getInt32();S^=(t=252645135&(S>>>4^b))<<4;S^=t=65535&((b^=t)>>>-16^S);S^=(t=858993459&(S>>>2^(b^=t<<-16)))<<2;S^=t=65535&((b^=t)>>>-16^S);S^=(t=1431655765&(S>>>1^(b^=t<<-16)))<<1;S^=t=16711935&((b^=t)>>>8^S);t=(S^=(t=1431655765&(S>>>1^(b^=t<<8)))<<1)<<8|(b^=t)>>>20&240;S=b<<24|b<<8&16711680|b>>>8&65280|b>>>24&240;b=t;for(var T=0;T<_.length;++T){if(_[T]){S=S<<2|S>>>26;b=b<<2|b>>>26}else{S=S<<1|S>>>27;b=b<<1|b>>>27}b&=-15;var C=n[(S&=-15)>>>28]|r[S>>>24&15]|i[S>>>20&15]|o[S>>>16&15]|s[S>>>12&15]|a[S>>>8&15]|c[S>>>4&15],I=u[b>>>28]|l[b>>>24&15]|f[b>>>20&15]|d[b>>>16&15]|h[b>>>12&15]|p[b>>>8&15]|m[b>>>4&15];t=65535&(I>>>16^C);y[v++]=C^t;y[v++]=I^t<<16}}return y}(t);this._init=!0}};r("DES-ECB",s.cipher.modes.ecb);r("DES-CBC",s.cipher.modes.cbc);r("DES-CFB",s.cipher.modes.cfb);r("DES-OFB",s.cipher.modes.ofb);r("DES-CTR",s.cipher.modes.ctr);r("3DES-ECB",s.cipher.modes.ecb);r("3DES-CBC",s.cipher.modes.cbc);r("3DES-CFB",s.cipher.modes.cfb);r("3DES-OFB",s.cipher.modes.ofb);r("3DES-CTR",s.cipher.modes.ctr);var a=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],c=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],u=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],l=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],f=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],d=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],h=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],p=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696]},2926:(e,t,n)=>{function r(e){var t=e.message;if(t instanceof Uint8Array||t instanceof O)return t;var n=e.encoding;if(void 0===t){if(!e.md)throw new TypeError('"options.message" or "options.md" not specified.');t=e.md.digest().getBytes();n="binary"}if("string"===typeof t&&!n)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"===typeof t){if("undefined"!==typeof Buffer)return Buffer.from(t,n);t=new R(t,n)}else if(!(t instanceof R))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var r=new O(t.length()),i=0;i<r.length;++i)r[i]=t.at(i);return r}function i(e,t){var n=C.md.sha512.create(),r=new R(e);n.update(r.getBytes(t),"binary");var i=n.digest().getBytes();if("undefined"!==typeof Buffer)return Buffer.from(i,"binary");for(var o=new O(L.constants.HASH_BYTE_LENGTH),s=0;s<64;++s)o[s]=i.charCodeAt(s);return o}function o(e,t){var n,r,i,o;for(r=63;r>=32;--r){n=0;for(i=r-32,o=r-12;i<o;++i){t[i]+=n-16*t[r]*U[i-(r-32)];n=t[i]+128>>8;t[i]-=256*n}t[i]+=n;t[r]=0}n=0;for(i=0;i<32;++i){t[i]+=n-(t[31]>>4)*U[i];n=t[i]>>8;t[i]&=255}for(i=0;i<32;++i)t[i]-=n*U[i];for(r=0;r<32;++r){t[r+1]+=t[r]>>8;e[r]=255&t[r]}}function s(e){for(var t=new Float64Array(64),n=0;n<64;++n){t[n]=e[n];e[n]=0}o(e,t)}function a(e,t){var n=v(),r=v(),i=v(),o=v(),s=v(),a=v(),c=v(),u=v(),l=v();S(n,e[1],e[0]);S(l,t[1],t[0]);T(n,n,l);E(r,e[0],e[1]);E(l,t[0],t[1]);T(r,r,l);T(i,e[3],t[3]);T(i,i,k);T(o,e[2],t[2]);E(o,o,o);S(s,r,n);S(a,o,i);E(c,o,i);E(u,r,n);T(e[0],s,a);T(e[1],u,c);T(e[2],c,a);T(e[3],s,u)}function c(e,t,n){for(var r=0;r<4;++r)_(e[r],t[r],n)}function u(e,t){var n=v(),r=v(),i=v();!function(e,t){var n,r=v();for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n){b(r,r);2!==n&&4!==n&&T(r,r,t)}for(n=0;n<16;++n)e[n]=r[n]}(i,t[2]);T(n,t[0],i);T(r,t[1],i);l(e,r);e[31]^=h(n)<<7}function l(e,t){var n,r,i,o=v(),s=v();for(n=0;n<16;++n)s[n]=t[n];y(s);y(s);y(s);for(r=0;r<2;++r){o[0]=s[0]-65517;for(n=1;n<15;++n){o[n]=s[n]-65535-(o[n-1]>>16&1);o[n-1]&=65535}o[15]=s[15]-32767-(o[14]>>16&1);i=o[15]>>16&1;o[14]&=65535;_(s,o,1-i)}for(n=0;n<16;n++){e[2*n]=255&s[n];e[2*n+1]=s[n]>>8}}function f(e,t){var n=new O(32),r=new O(32);l(n,e);l(r,t);return d(n,0,r,0)}function d(e,t,n,r){return function(e,t,n,r){var i,o=0;for(i=0;i<32;++i)o|=e[t+i]^n[r+i];return(1&o-1>>>8)-1}(e,t,n,r)}function h(e){var t=new O(32);l(t,e);return 1&t[0]}function p(e,t,n){var r,i;g(e[0],D);g(e[1],x);g(e[2],x);g(e[3],D);for(i=255;i>=0;--i){c(e,t,r=n[i/8|0]>>(7&i)&1);a(t,e);a(e,e);c(e,t,r)}}function m(e,t){var n=[v(),v(),v(),v()];g(n[0],B);g(n[1],M);g(n[2],x);T(n[3],B,M);p(e,n,t)}function g(e,t){var n;for(n=0;n<16;n++)e[n]=0|t[n]}function y(e){var t,n,r=1;for(t=0;t<16;++t){n=e[t]+r+65535;r=Math.floor(n/65536);e[t]=n-65536*r}e[0]+=r-1+37*(r-1)}function _(e,t,n){for(var r,i=~(n-1),o=0;o<16;++o){r=i&(e[o]^t[o]);e[o]^=r;t[o]^=r}}function v(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;++t)n[t]=e[t];return n}function E(e,t,n){for(var r=0;r<16;++r)e[r]=t[r]+n[r]}function S(e,t,n){for(var r=0;r<16;++r)e[r]=t[r]-n[r]}function b(e,t){T(e,t,t)}function T(e,t,n){var r,i,o=0,s=0,a=0,c=0,u=0,l=0,f=0,d=0,h=0,p=0,m=0,g=0,y=0,_=0,v=0,E=0,S=0,b=0,T=0,C=0,I=0,w=0,N=0,A=0,R=0,O=0,L=0,D=0,x=0,P=0,k=0,B=n[0],M=n[1],U=n[2],F=n[3],j=n[4],G=n[5],H=n[6],V=n[7],q=n[8],W=n[9],K=n[10],z=n[11],Y=n[12],$=n[13],Q=n[14],X=n[15];o+=(r=t[0])*B;s+=r*M;a+=r*U;c+=r*F;u+=r*j;l+=r*G;f+=r*H;d+=r*V;h+=r*q;p+=r*W;m+=r*K;g+=r*z;y+=r*Y;_+=r*$;v+=r*Q;E+=r*X;s+=(r=t[1])*B;a+=r*M;c+=r*U;u+=r*F;l+=r*j;f+=r*G;d+=r*H;h+=r*V;p+=r*q;m+=r*W;g+=r*K;y+=r*z;_+=r*Y;v+=r*$;E+=r*Q;S+=r*X;a+=(r=t[2])*B;c+=r*M;u+=r*U;l+=r*F;f+=r*j;d+=r*G;h+=r*H;p+=r*V;m+=r*q;g+=r*W;y+=r*K;_+=r*z;v+=r*Y;E+=r*$;S+=r*Q;b+=r*X;c+=(r=t[3])*B;u+=r*M;l+=r*U;f+=r*F;d+=r*j;h+=r*G;p+=r*H;m+=r*V;g+=r*q;y+=r*W;_+=r*K;v+=r*z;E+=r*Y;S+=r*$;b+=r*Q;T+=r*X;u+=(r=t[4])*B;l+=r*M;f+=r*U;d+=r*F;h+=r*j;p+=r*G;m+=r*H;g+=r*V;y+=r*q;_+=r*W;v+=r*K;E+=r*z;S+=r*Y;b+=r*$;T+=r*Q;C+=r*X;l+=(r=t[5])*B;f+=r*M;d+=r*U;h+=r*F;p+=r*j;m+=r*G;g+=r*H;y+=r*V;_+=r*q;v+=r*W;E+=r*K;S+=r*z;b+=r*Y;T+=r*$;C+=r*Q;I+=r*X;f+=(r=t[6])*B;d+=r*M;h+=r*U;p+=r*F;m+=r*j;g+=r*G;y+=r*H;_+=r*V;v+=r*q;E+=r*W;S+=r*K;b+=r*z;T+=r*Y;C+=r*$;I+=r*Q;w+=r*X;d+=(r=t[7])*B;h+=r*M;p+=r*U;m+=r*F;g+=r*j;y+=r*G;_+=r*H;v+=r*V;E+=r*q;S+=r*W;b+=r*K;T+=r*z;C+=r*Y;I+=r*$;w+=r*Q;N+=r*X;h+=(r=t[8])*B;p+=r*M;m+=r*U;g+=r*F;y+=r*j;_+=r*G;v+=r*H;E+=r*V;S+=r*q;b+=r*W;T+=r*K;C+=r*z;I+=r*Y;w+=r*$;N+=r*Q;A+=r*X;p+=(r=t[9])*B;m+=r*M;g+=r*U;y+=r*F;_+=r*j;v+=r*G;E+=r*H;S+=r*V;b+=r*q;T+=r*W;C+=r*K;I+=r*z;w+=r*Y;N+=r*$;A+=r*Q;R+=r*X;m+=(r=t[10])*B;g+=r*M;y+=r*U;_+=r*F;v+=r*j;E+=r*G;S+=r*H;b+=r*V;T+=r*q;C+=r*W;I+=r*K;w+=r*z;N+=r*Y;A+=r*$;R+=r*Q;O+=r*X;g+=(r=t[11])*B;y+=r*M;_+=r*U;v+=r*F;E+=r*j;S+=r*G;b+=r*H;T+=r*V;C+=r*q;I+=r*W;w+=r*K;N+=r*z;A+=r*Y;R+=r*$;O+=r*Q;L+=r*X;y+=(r=t[12])*B;_+=r*M;v+=r*U;E+=r*F;S+=r*j;b+=r*G;T+=r*H;C+=r*V;I+=r*q;w+=r*W;N+=r*K;A+=r*z;R+=r*Y;O+=r*$;L+=r*Q;D+=r*X;_+=(r=t[13])*B;v+=r*M;E+=r*U;S+=r*F;b+=r*j;T+=r*G;C+=r*H;I+=r*V;w+=r*q;N+=r*W;A+=r*K;R+=r*z;O+=r*Y;L+=r*$;D+=r*Q;x+=r*X;v+=(r=t[14])*B;E+=r*M;S+=r*U;b+=r*F;T+=r*j;C+=r*G;I+=r*H;w+=r*V;N+=r*q;A+=r*W;R+=r*K;O+=r*z;L+=r*Y;D+=r*$;x+=r*Q;P+=r*X;E+=(r=t[15])*B;s+=38*(b+=r*U);a+=38*(T+=r*F);c+=38*(C+=r*j);u+=38*(I+=r*G);l+=38*(w+=r*H);f+=38*(N+=r*V);d+=38*(A+=r*q);h+=38*(R+=r*W);p+=38*(O+=r*K);m+=38*(L+=r*z);g+=38*(D+=r*Y);y+=38*(x+=r*$);_+=38*(P+=r*Q);v+=38*(k+=r*X);o=(r=(o+=38*(S+=r*M))+(i=1)+65535)-65536*(i=Math.floor(r/65536));s=(r=s+i+65535)-65536*(i=Math.floor(r/65536));a=(r=a+i+65535)-65536*(i=Math.floor(r/65536));c=(r=c+i+65535)-65536*(i=Math.floor(r/65536));u=(r=u+i+65535)-65536*(i=Math.floor(r/65536));l=(r=l+i+65535)-65536*(i=Math.floor(r/65536));f=(r=f+i+65535)-65536*(i=Math.floor(r/65536));d=(r=d+i+65535)-65536*(i=Math.floor(r/65536));h=(r=h+i+65535)-65536*(i=Math.floor(r/65536));p=(r=p+i+65535)-65536*(i=Math.floor(r/65536));m=(r=m+i+65535)-65536*(i=Math.floor(r/65536));g=(r=g+i+65535)-65536*(i=Math.floor(r/65536));y=(r=y+i+65535)-65536*(i=Math.floor(r/65536));_=(r=_+i+65535)-65536*(i=Math.floor(r/65536));v=(r=v+i+65535)-65536*(i=Math.floor(r/65536));E=(r=E+i+65535)-65536*(i=Math.floor(r/65536));o=(r=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(r/65536));s=(r=s+i+65535)-65536*(i=Math.floor(r/65536));a=(r=a+i+65535)-65536*(i=Math.floor(r/65536));c=(r=c+i+65535)-65536*(i=Math.floor(r/65536));u=(r=u+i+65535)-65536*(i=Math.floor(r/65536));l=(r=l+i+65535)-65536*(i=Math.floor(r/65536));f=(r=f+i+65535)-65536*(i=Math.floor(r/65536));d=(r=d+i+65535)-65536*(i=Math.floor(r/65536));h=(r=h+i+65535)-65536*(i=Math.floor(r/65536));p=(r=p+i+65535)-65536*(i=Math.floor(r/65536));m=(r=m+i+65535)-65536*(i=Math.floor(r/65536));g=(r=g+i+65535)-65536*(i=Math.floor(r/65536));y=(r=y+i+65535)-65536*(i=Math.floor(r/65536));_=(r=_+i+65535)-65536*(i=Math.floor(r/65536));v=(r=v+i+65535)-65536*(i=Math.floor(r/65536));E=(r=E+i+65535)-65536*(i=Math.floor(r/65536));o+=i-1+37*(i-1);e[0]=o;e[1]=s;e[2]=a;e[3]=c;e[4]=u;e[5]=l;e[6]=f;e[7]=d;e[8]=h;e[9]=p;e[10]=m;e[11]=g;e[12]=y;e[13]=_;e[14]=v;e[15]=E}var C=n(276);n(3736);n(9356);n(2313);n(7619);var I=n(4309),w=I.publicKeyValidator,N=I.privateKeyValidator;if("undefined"===typeof A)var A=C.jsbn.BigInteger;var R=C.util.ByteBuffer,O="undefined"===typeof Buffer?Uint8Array:Buffer;C.pki=C.pki||{};e.exports=C.pki.ed25519=C.ed25519=C.ed25519||{};var L=C.ed25519;L.constants={};L.constants.PUBLIC_KEY_BYTE_LENGTH=32;L.constants.PRIVATE_KEY_BYTE_LENGTH=64;L.constants.SEED_BYTE_LENGTH=32;L.constants.SIGN_BYTE_LENGTH=64;L.constants.HASH_BYTE_LENGTH=64;L.generateKeyPair=function(e){var t=(e=e||{}).seed;if(void 0===t)t=C.random.getBytesSync(L.constants.SEED_BYTE_LENGTH);else if("string"===typeof t){if(t.length!==L.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+L.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=r({message:t,encoding:"binary"});for(var n=new O(L.constants.PUBLIC_KEY_BYTE_LENGTH),o=new O(L.constants.PRIVATE_KEY_BYTE_LENGTH),s=0;s<32;++s)o[s]=t[s];!function(e,t){var n,r=[v(),v(),v(),v()],o=i(t,32);o[0]&=248;o[31]&=127;o[31]|=64;m(r,o);u(e,r);for(n=0;n<32;++n)t[n+32]=e[n]}(n,o);return{publicKey:n,privateKey:o}};L.privateKeyFromAsn1=function(e){var t={},n=[];if(!C.asn1.validate(e,N,t,n)){var i=new Error("Invalid Key.");i.errors=n;throw i}var o=C.asn1.derToOid(t.privateKeyOid),s=C.oids.EdDSA25519;if(o!==s)throw new Error('Invalid OID "'+o+'"; OID must be "'+s+'".');var a=t.privateKey;return{privateKeyBytes:r({message:C.asn1.fromDer(a).value,encoding:"binary"})}};L.publicKeyFromAsn1=function(e){var t={},n=[];if(!C.asn1.validate(e,w,t,n)){var i=new Error("Invalid Key.");i.errors=n;throw i}var o=C.asn1.derToOid(t.publicKeyOid),s=C.oids.EdDSA25519;if(o!==s)throw new Error('Invalid OID "'+o+'"; OID must be "'+s+'".');var a=t.ed25519PublicKey;if(a.length!==L.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return r({message:a,encoding:"binary"})};L.publicKeyFromPrivateKey=function(e){var t=r({message:(e=e||{}).privateKey,encoding:"binary"});if(t.length!==L.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+L.constants.PRIVATE_KEY_BYTE_LENGTH);for(var n=new O(L.constants.PUBLIC_KEY_BYTE_LENGTH),i=0;i<n.length;++i)n[i]=t[32+i];return n};L.sign=function(e){var t=r(e=e||{}),n=r({message:e.privateKey,encoding:"binary"});if(n.length===L.constants.SEED_BYTE_LENGTH)n=L.generateKeyPair({seed:n}).privateKey;else if(n.length!==L.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+L.constants.SEED_BYTE_LENGTH+" or "+L.constants.PRIVATE_KEY_BYTE_LENGTH);var a=new O(L.constants.SIGN_BYTE_LENGTH+t.length);!function(e,t,n,r){var a,c,l=new Float64Array(64),f=[v(),v(),v(),v()],d=i(r,32);d[0]&=248;d[31]&=127;d[31]|=64;for(a=0;a<n;++a)e[64+a]=t[a];for(a=0;a<32;++a)e[32+a]=d[32+a];var h=i(e.subarray(32),n+32);s(h);m(f,h);u(e,f);for(a=32;a<64;++a)e[a]=r[a];var p=i(e,n+64);s(p);for(a=32;a<64;++a)l[a]=0;for(a=0;a<32;++a)l[a]=h[a];for(a=0;a<32;++a)for(c=0;c<32;c++)l[a+c]+=p[a]*d[c];o(e.subarray(32),l)}(a,t,t.length,n);for(var c=new O(L.constants.SIGN_BYTE_LENGTH),l=0;l<c.length;++l)c[l]=a[l];return c};L.verify=function(e){var t=r(e=e||{});if(void 0===e.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var n=r({message:e.signature,encoding:"binary"});if(n.length!==L.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+L.constants.SIGN_BYTE_LENGTH);var o=r({message:e.publicKey,encoding:"binary"});if(o.length!==L.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+L.constants.PUBLIC_KEY_BYTE_LENGTH);var c,l=new O(L.constants.SIGN_BYTE_LENGTH+t.length),y=new O(L.constants.SIGN_BYTE_LENGTH+t.length);for(c=0;c<L.constants.SIGN_BYTE_LENGTH;++c)l[c]=n[c];for(c=0;c<t.length;++c)l[c+L.constants.SIGN_BYTE_LENGTH]=t[c];return function(e,t,n,r){var o,c=new O(32),l=[v(),v(),v(),v()],y=[v(),v(),v(),v()];if(n<64)return-1;if(function(e,t){var n=v(),r=v(),i=v(),o=v(),s=v(),a=v(),c=v();g(e[2],x);!function(e,t){var n;for(n=0;n<16;++n)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}(e[1],t);b(i,e[1]);T(o,i,P);S(i,i,e[2]);E(o,e[2],o);b(s,o);b(a,s);T(c,a,s);T(n,c,i);T(n,n,o);!function(e,t){var n,r=v();for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n){b(r,r);1!==n&&T(r,r,t)}for(n=0;n<16;++n)e[n]=r[n]}(n,n);T(n,n,i);T(n,n,o);T(n,n,o);T(e[0],n,o);b(r,e[0]);T(r,r,o);f(r,i)&&T(e[0],e[0],F);b(r,e[0]);T(r,r,o);if(f(r,i))return-1;h(e[0])===t[31]>>7&&S(e[0],D,e[0]);T(e[3],e[0],e[1]);return 0}(y,r))return-1;for(o=0;o<n;++o)e[o]=t[o];for(o=0;o<32;++o)e[o+32]=r[o];var _=i(e,n);s(_);p(l,y,_);m(y,t.subarray(32));a(l,y);u(c,l);n-=64;if(d(t,0,c,0)){for(o=0;o<n;++o)e[o]=0;return-1}for(o=0;o<n;++o)e[o]=t[o+64];return n}(y,l,l.length,o)>=0};var D=v(),x=v([1]),P=v([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),k=v([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),B=v([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),M=v([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),U=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),F=v([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139])},276:e=>{e.exports={options:{usePureJavaScript:!1}}},1696:(e,t,n)=>{var r=n(276);n(8106);n(7619);(e.exports=r.hmac=r.hmac||{}).create=function(){var e=null,t=null,n=null,i=null,o={start:function(o,s){if(null!==o)if("string"===typeof o){if(!((o=o.toLowerCase())in r.md.algorithms))throw new Error('Unknown hash algorithm "'+o+'"');t=r.md.algorithms[o].create()}else t=o;if(null===s)s=e;else{if("string"===typeof s)s=r.util.createBuffer(s);else if(r.util.isArray(s)){var a=s;s=r.util.createBuffer();for(var c=0;c<a.length;++c)s.putByte(a[c])}var u=s.length();if(u>t.blockLength){t.start();t.update(s.bytes());s=t.digest()}n=r.util.createBuffer();i=r.util.createBuffer();u=s.length();for(c=0;c<u;++c){a=s.at(c);n.putByte(54^a);i.putByte(92^a)}if(u<t.blockLength)for(a=t.blockLength-u,c=0;c<a;++c){n.putByte(54);i.putByte(92)}e=s;n=n.bytes();i=i.bytes()}t.start();t.update(n)},update:function(e){t.update(e)},getMac:function(){var e=t.digest().bytes();t.start();t.update(i);t.update(e);return t.digest()}};o.digest=o.getMac;return o}},9547:(e,t,n)=>{e.exports=n(276);n(9504);n(8678);n(2746);n(3900);n(1476);n(2926);n(1696);n(3432);n(2045);n(1355);n(5250);n(3254);n(2385);n(7501);n(5071);n(9343);n(9255);n(268);n(3878);n(1417);n(9356);n(5124);n(149);n(3986);n(7619)},3736:(e,t,n)=>{function r(e,t,n){this.data=[];null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function i(){return new r(null)}function o(e,t,n,r,i,o){for(var s=16383&t,a=t>>14;--o>=0;){var c=16383&this.data[e],u=this.data[e++]>>14,l=a*c+u*s;i=((c=s*c+((16383&l)<<14)+n.data[r]+i)>>28)+(l>>14)+a*u;n.data[r++]=268435455&c}return i}function s(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function a(e,t){var n=I[e.charCodeAt(t)];return null==n?-1:n}function c(e){var t=i();t.fromInt(e);return t}function u(e){var t,n=1;if(0!=(t=e>>>16)){e=t;n+=16}if(0!=(t=e>>8)){e=t;n+=8}if(0!=(t=e>>4)){e=t;n+=4}if(0!=(t=e>>2)){e=t;n+=2}if(0!=(t=e>>1)){e=t;n+=1}return n}function l(e){this.m=e}function f(e){this.m=e;this.mp=e.invDigit();this.mpl=32767&this.mp;this.mph=this.mp>>15;this.um=(1<<e.DB-15)-1;this.mt2=2*e.t}function d(e,t){return e&t}function h(e,t){return e|t}function p(e,t){return e^t}function m(e,t){return e&~t}function g(e){if(0==e)return-1;var t=0;if(0==(65535&e)){e>>=16;t+=16}if(0==(255&e)){e>>=8;t+=8}if(0==(15&e)){e>>=4;t+=4}if(0==(3&e)){e>>=2;t+=2}0==(1&e)&&++t;return t}function y(e){for(var t=0;0!=e;){e&=e-1;++t}return t}function _(){}function v(e){return e}function E(e){this.r2=i();this.q3=i();r.ONE.dlShiftTo(2*e.t,this.r2);this.mu=this.r2.divide(e);this.m=e}var S,b=n(276);e.exports=b.jsbn=b.jsbn||{};b.jsbn.BigInteger=r;if("undefined"===typeof navigator){r.prototype.am=o;S=28}else if("Microsoft Internet Explorer"==navigator.appName){r.prototype.am=function(e,t,n,r,i,o){for(var s=32767&t,a=t>>15;--o>=0;){var c=32767&this.data[e],u=this.data[e++]>>15,l=a*c+u*s;i=((c=s*c+((32767&l)<<15)+n.data[r]+(1073741823&i))>>>30)+(l>>>15)+a*u+(i>>>30);n.data[r++]=1073741823&c}return i};S=30}else if("Netscape"!=navigator.appName){r.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var s=t*this.data[e++]+n.data[r]+i;i=Math.floor(s/67108864);n.data[r++]=67108863&s}return i};S=26}else{r.prototype.am=o;S=28}r.prototype.DB=S;r.prototype.DM=(1<<S)-1;r.prototype.DV=1<<S;r.prototype.FV=Math.pow(2,52);r.prototype.F1=52-S;r.prototype.F2=2*S-52;var T,C,I=new Array;T="0".charCodeAt(0);for(C=0;C<=9;++C)I[T++]=C;T="a".charCodeAt(0);for(C=10;C<36;++C)I[T++]=C;T="A".charCodeAt(0);for(C=10;C<36;++C)I[T++]=C;l.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e};l.prototype.revert=function(e){return e};l.prototype.reduce=function(e){e.divRemTo(this.m,null,e)};l.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n);this.reduce(n)};l.prototype.sqrTo=function(e,t){e.squareTo(t);this.reduce(t)};f.prototype.convert=function(e){var t=i();e.abs().dlShiftTo(this.m.t,t);t.divRemTo(this.m,null,t);e.s<0&&t.compareTo(r.ZERO)>0&&this.m.subTo(t,t);return t};f.prototype.revert=function(e){var t=i();e.copyTo(t);this.reduce(t);return t};f.prototype.reduce=function(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e.data[t],r=n*this.mpl+((n*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;n=t+this.m.t;e.data[n]+=this.m.am(0,r,e,t,0,this.m.t);for(;e.data[n]>=e.DV;){e.data[n]-=e.DV;e.data[++n]++}}e.clamp();e.drShiftTo(this.m.t,e);e.compareTo(this.m)<0||e.subTo(this.m,e)};f.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n);this.reduce(n)};f.prototype.sqrTo=function(e,t){e.squareTo(t);this.reduce(t)};r.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t;e.s=this.s};r.prototype.fromInt=function(e){this.t=1;this.s=e<0?-1:0;e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0};r.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t){this.fromRadix(e,t);return}n=2}this.t=0;this.s=0;for(var i=e.length,o=!1,s=0;--i>=0;){var c=8==n?255&e[i]:a(e,i);if(c<0)"-"==e.charAt(i)&&(o=!0);else{o=!1;if(0==s)this.data[this.t++]=c;else if(s+n>this.DB){this.data[this.t-1]|=(c&(1<<this.DB-s)-1)<<s;this.data[this.t++]=c>>this.DB-s}else this.data[this.t-1]|=c<<s;(s+=n)<this.DB||(s-=this.DB)}}if(8==n&&0!=(128&e[0])){this.s=-1;s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)}this.clamp();o&&r.ZERO.subTo(this,this)};r.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t};r.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t.data[n+e]=this.data[n];for(n=e-1;n>=0;--n)t.data[n]=0;t.t=this.t+e;t.s=this.s};r.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t.data[n-e]=this.data[n];t.t=Math.max(this.t-e,0);t.s=this.s};r.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n){t.data[n+s+1]=this.data[n]>>i|a;a=(this.data[n]&o)<<r}for(n=s-1;n>=0;--n)t.data[n]=0;t.data[s]=a;t.t=this.t+s+1;t.s=this.s;t.clamp()};r.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n<this.t){var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t.data[0]=this.data[n]>>r;for(var s=n+1;s<this.t;++s){t.data[s-n-1]|=(this.data[s]&o)<<i;t.data[s-n]=this.data[s]>>r}r>0&&(t.data[this.t-n-1]|=(this.s&o)<<i);t.t=this.t-n;t.clamp()}else t.t=0};r.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;){r+=this.data[n]-e.data[n];t.data[n++]=r&this.DM;r>>=this.DB}if(e.t<this.t){r-=e.s;for(;n<this.t;){r+=this.data[n];t.data[n++]=r&this.DM;r>>=this.DB}r+=this.s}else{r+=this.s;for(;n<e.t;){r-=e.data[n];t.data[n++]=r&this.DM;r>>=this.DB}r-=e.s}t.s=r<0?-1:0;r<-1?t.data[n++]=this.DV+r:r>0&&(t.data[n++]=r);t.t=n;t.clamp()};r.prototype.multiplyTo=function(e,t){var n=this.abs(),i=e.abs(),o=n.t;t.t=o+i.t;for(;--o>=0;)t.data[o]=0;for(o=0;o<i.t;++o)t.data[o+n.t]=n.am(0,i.data[o],t,o,0,n.t);t.s=0;t.clamp();this.s!=e.s&&r.ZERO.subTo(t,t)};r.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e.data[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t.data[n],e,2*n,0,1);if((e.data[n+t.t]+=t.am(n+1,2*t.data[n],e,2*n+1,r,t.t-n-1))>=t.DV){e.data[n+t.t]-=t.DV;e.data[n+t.t+1]=1}}e.t>0&&(e.data[e.t-1]+=t.am(n,t.data[n],e,2*n,0,1));e.s=0;e.clamp()};r.prototype.divRemTo=function(e,t,n){var o=e.abs();if(o.t>0){var s=this.abs();if(s.t<o.t){null!=t&&t.fromInt(0);null!=n&&this.copyTo(n)}else{null==n&&(n=i());var a=i(),c=this.s,l=e.s,f=this.DB-u(o.data[o.t-1]);if(f>0){o.lShiftTo(f,a);s.lShiftTo(f,n)}else{o.copyTo(a);s.copyTo(n)}var d=a.t,h=a.data[d-1];if(0!=h){var p=h*(1<<this.F1)+(d>1?a.data[d-2]>>this.F2:0),m=this.FV/p,g=(1<<this.F1)/p,y=1<<this.F2,_=n.t,v=_-d,E=null==t?i():t;a.dlShiftTo(v,E);if(n.compareTo(E)>=0){n.data[n.t++]=1;n.subTo(E,n)}r.ONE.dlShiftTo(d,E);E.subTo(a,a);for(;a.t<d;)a.data[a.t++]=0;for(;--v>=0;){var S=n.data[--_]==h?this.DM:Math.floor(n.data[_]*m+(n.data[_-1]+y)*g);if((n.data[_]+=a.am(0,S,n,v,0,d))<S){a.dlShiftTo(v,E);n.subTo(E,n);for(;n.data[_]<--S;)n.subTo(E,n)}}if(null!=t){n.drShiftTo(d,t);c!=l&&r.ZERO.subTo(t,t)}n.t=d;n.clamp();f>0&&n.rShiftTo(f,n);c<0&&r.ZERO.subTo(n,n)}}}};r.prototype.invDigit=function(){if(this.t<1)return 0;var e=this.data[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t};r.prototype.isEven=function(){return 0==(this.t>0?1&this.data[0]:this.s)};r.prototype.exp=function(e,t){if(e>4294967295||e<1)return r.ONE;var n=i(),o=i(),s=t.convert(this),a=u(e)-1;s.copyTo(n);for(;--a>=0;){t.sqrTo(n,o);if((e&1<<a)>0)t.mulTo(o,s,n);else{var c=n;n=o;o=c}}return t.revert(n)};r.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,o="",a=this.t,c=this.DB-a*this.DB%t;if(a-- >0){if(c<this.DB&&(n=this.data[a]>>c)>0){i=!0;o=s(n)}for(;a>=0;){if(c<t){n=(this.data[a]&(1<<c)-1)<<t-c;n|=this.data[--a]>>(c+=this.DB-t)}else{n=this.data[a]>>(c-=t)&r;if(c<=0){c+=this.DB;--a}}n>0&&(i=!0);i&&(o+=s(n))}}return i?o:"0"};r.prototype.negate=function(){var e=i();r.ZERO.subTo(this,e);return e};r.prototype.abs=function(){return this.s<0?this.negate():this};r.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this.data[n]-e.data[n]))return t;return 0};r.prototype.bitLength=function(){return this.t>0?this.DB*(this.t-1)+u(this.data[this.t-1]^this.s&this.DM):0};r.prototype.mod=function(e){var t=i();this.abs().divRemTo(e,null,t);this.s<0&&t.compareTo(r.ZERO)>0&&e.subTo(t,t);return t};r.prototype.modPowInt=function(e,t){var n;n=e<256||t.isEven()?new l(t):new f(t);return this.exp(e,n)};r.ZERO=c(0);r.ONE=c(1);_.prototype.convert=v;_.prototype.revert=v;_.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)};_.prototype.sqrTo=function(e,t){e.squareTo(t)};E.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=i();e.copyTo(t);this.reduce(t);return t};E.prototype.revert=function(e){return e};E.prototype.reduce=function(e){e.drShiftTo(this.m.t-1,this.r2);if(e.t>this.m.t+1){e.t=this.m.t+1;e.clamp()}this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);for(;e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);e.subTo(this.r2,e);for(;e.compareTo(this.m)>=0;)e.subTo(this.m,e)};E.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n);this.reduce(n)};E.prototype.sqrTo=function(e,t){e.squareTo(t);this.reduce(t)};var w=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],N=(1<<26)/w[w.length-1];r.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))};r.prototype.toRadix=function(e){null==e&&(e=10);if(0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=c(n),o=i(),s=i(),a="";this.divRemTo(r,o,s);for(;o.signum()>0;){a=(n+s.intValue()).toString(e).substr(1)+a;o.divRemTo(r,o,s)}return s.intValue().toString(e)+a};r.prototype.fromRadix=function(e,t){this.fromInt(0);null==t&&(t=10);for(var n=this.chunkSize(t),i=Math.pow(t,n),o=!1,s=0,c=0,u=0;u<e.length;++u){var l=a(e,u);if(l<0)"-"==e.charAt(u)&&0==this.signum()&&(o=!0);else{c=t*c+l;if(++s>=n){this.dMultiply(i);this.dAddOffset(c,0);s=0;c=0}}}if(s>0){this.dMultiply(Math.pow(t,s));this.dAddOffset(c,0)}o&&r.ZERO.subTo(this,this)};r.prototype.fromNumber=function(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else{this.fromNumber(e,n);this.testBit(e-1)||this.bitwiseTo(r.ONE.shiftLeft(e-1),h,this);this.isEven()&&this.dAddOffset(1,0);for(;!this.isProbablePrime(t);){this.dAddOffset(2,0);this.bitLength()>e&&this.subTo(r.ONE.shiftLeft(e-1),this)}}else{var i=new Array,o=7&e;i.length=1+(e>>3);t.nextBytes(i);o>0?i[0]&=(1<<o)-1:i[0]=0;this.fromString(i,256)}};r.prototype.bitwiseTo=function(e,t,n){var r,i,o=Math.min(e.t,this.t);for(r=0;r<o;++r)n.data[r]=t(this.data[r],e.data[r]);if(e.t<this.t){i=e.s&this.DM;for(r=o;r<this.t;++r)n.data[r]=t(this.data[r],i);n.t=this.t}else{i=this.s&this.DM;for(r=o;r<e.t;++r)n.data[r]=t(i,e.data[r]);n.t=e.t}n.s=t(this.s,e.s);n.clamp()};r.prototype.changeBit=function(e,t){var n=r.ONE.shiftLeft(e);this.bitwiseTo(n,t,n);return n};r.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;){r+=this.data[n]+e.data[n];t.data[n++]=r&this.DM;r>>=this.DB}if(e.t<this.t){r+=e.s;for(;n<this.t;){r+=this.data[n];t.data[n++]=r&this.DM;r>>=this.DB}r+=this.s}else{r+=this.s;for(;n<e.t;){r+=e.data[n];t.data[n++]=r&this.DM;r>>=this.DB}r+=e.s}t.s=r<0?-1:0;r>0?t.data[n++]=r:r<-1&&(t.data[n++]=this.DV+r);t.t=n;t.clamp()};r.prototype.dMultiply=function(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t);++this.t;this.clamp()};r.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this.data[this.t++]=0;this.data[t]+=e;for(;this.data[t]>=this.DV;){this.data[t]-=this.DV;++t<this.t||(this.data[this.t++]=0);++this.data[t]}}};r.prototype.multiplyLowerTo=function(e,t,n){var r,i=Math.min(this.t+e.t,t);n.s=0;n.t=i;for(;i>0;)n.data[--i]=0;for(r=n.t-this.t;i<r;++i)n.data[i+this.t]=this.am(0,e.data[i],n,i,0,this.t);for(r=Math.min(e.t,t);i<r;++i)this.am(0,e.data[i],n,i,0,t-i);n.clamp()};r.prototype.multiplyUpperTo=function(e,t,n){--t;var r=n.t=this.t+e.t-t;n.s=0;for(;--r>=0;)n.data[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n.data[this.t+r-t]=this.am(t-r,e.data[r],n,0,0,this.t+r-t);n.clamp();n.drShiftTo(1,n)};r.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this.data[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this.data[r])%e;return n};r.prototype.millerRabin=function(e){var t=this.subtract(r.ONE),n=t.getLowestSetBit();if(n<=0)return!1;for(var i,o=t.shiftRight(n),s=function(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(256*Math.random())}}}(),a=0;a<e;++a){do{i=new r(this.bitLength(),s)}while(i.compareTo(r.ONE)<=0||i.compareTo(t)>=0);var c=i.modPow(o,this);if(0!=c.compareTo(r.ONE)&&0!=c.compareTo(t)){for(var u=1;u++<n&&0!=c.compareTo(t);)if(0==(c=c.modPowInt(2,this)).compareTo(r.ONE))return!1;if(0!=c.compareTo(t))return!1}}return!0};r.prototype.clone=function(){var e=i();this.copyTo(e);return e};r.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]};r.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24};r.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16};r.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1};r.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-- >0){r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);for(;e>=0;){if(r<8){n=(this.data[e]&(1<<r)-1)<<8-r;n|=this.data[--e]>>(r+=this.DB-8)}else{n=this.data[e]>>(r-=8)&255;if(r<=0){r+=this.DB;--e}}0!=(128&n)&&(n|=-256);0==i&&(128&this.s)!=(128&n)&&++i;(i>0||n!=this.s)&&(t[i++]=n)}}return t};r.prototype.equals=function(e){return 0==this.compareTo(e)};r.prototype.min=function(e){return this.compareTo(e)<0?this:e};r.prototype.max=function(e){return this.compareTo(e)>0?this:e};r.prototype.and=function(e){var t=i();this.bitwiseTo(e,d,t);return t};r.prototype.or=function(e){var t=i();this.bitwiseTo(e,h,t);return t};r.prototype.xor=function(e){var t=i();this.bitwiseTo(e,p,t);return t};r.prototype.andNot=function(e){var t=i();this.bitwiseTo(e,m,t);return t};r.prototype.not=function(){for(var e=i(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];e.t=this.t;e.s=~this.s;return e};r.prototype.shiftLeft=function(e){var t=i();e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t);return t};r.prototype.shiftRight=function(e){var t=i();e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t);return t};r.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this.data[e])return e*this.DB+g(this.data[e]);return this.s<0?this.t*this.DB:-1};r.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=y(this.data[n]^t);return e};r.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t<this.t?0!=(this.data[t]&1<<e%this.DB):0!=this.s};r.prototype.setBit=function(e){return this.changeBit(e,h)};r.prototype.clearBit=function(e){return this.changeBit(e,m)};r.prototype.flipBit=function(e){return this.changeBit(e,p)};r.prototype.add=function(e){var t=i();this.addTo(e,t);return t};r.prototype.subtract=function(e){var t=i();this.subTo(e,t);return t};r.prototype.multiply=function(e){var t=i();this.multiplyTo(e,t);return t};r.prototype.divide=function(e){var t=i();this.divRemTo(e,t,null);return t};r.prototype.remainder=function(e){var t=i();this.divRemTo(e,null,t);return t};r.prototype.divideAndRemainder=function(e){var t=i(),n=i();this.divRemTo(e,t,n);return new Array(t,n)};r.prototype.modPow=function(e,t){var n,r,o=e.bitLength(),s=c(1);if(o<=0)return s;n=o<18?1:o<48?3:o<144?4:o<768?5:6;r=o<8?new l(t):t.isEven()?new E(t):new f(t);var a=new Array,d=3,h=n-1,p=(1<<n)-1;a[1]=r.convert(this);if(n>1){var m=i();r.sqrTo(a[1],m);for(;d<=p;){a[d]=i();r.mulTo(m,a[d-2],a[d]);d+=2}}var g,y,_=e.t-1,v=!0,S=i();o=u(e.data[_])-1;for(;_>=0;){if(o<h){g=(e.data[_]&(1<<o+1)-1)<<h-o;_>0&&(g|=e.data[_-1]>>this.DB+o-h)}else g=e.data[_]>>o-h&p;d=n;for(;0==(1&g);){g>>=1;--d}if((o-=d)<0){o+=this.DB;--_}if(v){a[g].copyTo(s);v=!1}else{for(;d>1;){r.sqrTo(s,S);r.sqrTo(S,s);d-=2}if(d>0)r.sqrTo(s,S);else{y=s;s=S;S=y}r.mulTo(S,a[g],s)}for(;_>=0&&0==(e.data[_]&1<<o);){r.sqrTo(s,S);y=s;s=S;S=y;if(--o<0){o=this.DB-1;--_}}}return r.revert(s)};r.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return r.ZERO;for(var n=e.clone(),i=this.clone(),o=c(1),s=c(0),a=c(0),u=c(1);0!=n.signum();){for(;n.isEven();){n.rShiftTo(1,n);if(t){if(!o.isEven()||!s.isEven()){o.addTo(this,o);s.subTo(e,s)}o.rShiftTo(1,o)}else s.isEven()||s.subTo(e,s);s.rShiftTo(1,s)}for(;i.isEven();){i.rShiftTo(1,i);if(t){if(!a.isEven()||!u.isEven()){a.addTo(this,a);u.subTo(e,u)}a.rShiftTo(1,a)}else u.isEven()||u.subTo(e,u);u.rShiftTo(1,u)}if(n.compareTo(i)<0){i.subTo(n,i);t&&a.subTo(o,a);u.subTo(s,u)}else{n.subTo(i,n);t&&o.subTo(a,o);s.subTo(u,s)}}if(0!=i.compareTo(r.ONE))return r.ZERO;if(u.compareTo(e)>=0)return u.subtract(e);if(u.signum()>=0)return u;u.addTo(e,u);return u.signum()<0?u.add(e):u};r.prototype.pow=function(e){return this.exp(e,new _)};r.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n;n=r}var i=t.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return t;i<o&&(o=i);if(o>0){t.rShiftTo(o,t);n.rShiftTo(o,n)}for(;t.signum()>0;){(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t);(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n);if(t.compareTo(n)<0){n.subTo(t,n);n.rShiftTo(1,n)}else{t.subTo(n,t);t.rShiftTo(1,t)}}o>0&&n.lShiftTo(o,n);return n};r.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n.data[0]<=w[w.length-1]){for(t=0;t<w.length;++t)if(n.data[0]==w[t])return!0;return!1}if(n.isEven())return!1;t=1;for(;t<w.length;){for(var r=w[t],i=t+1;i<w.length&&r<N;)r*=w[i++];r=n.modInt(r);for(;t<i;)if(r%w[t++]==0)return!1}return n.millerRabin(e)}},3432:(e,t,n)=>{function r(e,t,n,r){e.generate=function(e,o){for(var s=new i.util.ByteBuffer,a=Math.ceil(o/r)+n,c=new i.util.ByteBuffer,u=n;u<a;++u){c.putInt32(u);t.start();t.update(e+c.getBytes());var l=t.digest();s.putBytes(l.getBytes(r))}s.truncate(s.length()-o);return s.getBytes()}}var i=n(276);n(7619);n(9356);n(3736);e.exports=i.kem=i.kem||{};var o=i.jsbn.BigInteger;i.kem.rsa={};i.kem.rsa.create=function(e,t){var n=(t=t||{}).prng||i.random;return{encrypt:function(t,r){var s,a=Math.ceil(t.n.bitLength()/8);do{s=new o(i.util.bytesToHex(n.getBytesSync(a)),16).mod(t.n)}while(s.compareTo(o.ONE)<=0);var c=a-(s=i.util.hexToBytes(s.toString(16))).length;c>0&&(s=i.util.fillString(String.fromCharCode(0),c)+s);return{encapsulation:t.encrypt(s,"NONE"),key:e.generate(s,r)}},decrypt:function(t,n,r){var i=t.decrypt(n,"NONE");return e.generate(i,r)}}};i.kem.kdf1=function(e,t){r(this,e,0,t||e.digestLength)};i.kem.kdf2=function(e,t){r(this,e,1,t||e.digestLength)}},2045:(e,t,n)=>{var r=n(276);n(7619);e.exports=r.log=r.log||{};r.log.levels=["none","error","warning","info","debug","verbose","max"];var i={},o=[],s=null;r.log.LEVEL_LOCKED=2;r.log.NO_LEVEL_CHECK=4;r.log.INTERPOLATE=8;for(var a=0;a<r.log.levels.length;++a){var c=r.log.levels[a];i[c]={index:a,name:c.toUpperCase()}}r.log.logMessage=function(e){for(var t=i[e.level].index,n=0;n<o.length;++n){var s=o[n];s.flags&r.log.NO_LEVEL_CHECK?s.f(e):t>i[s.level].index||s.f(s,e)}};r.log.prepareStandard=function(e){"standard"in e||(e.standard=i[e.level].name+" ["+e.category+"] "+e.message)};r.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]||0);e.full=r.util.format.apply(this,t)}};r.log.prepareStandardFull=function(e){if(!("standardFull"in e)){r.log.prepareStandard(e);e.standardFull=e.standard}};var u=["error","warning","info","debug","verbose"];for(a=0;a<u.length;++a)!function(e){r.log[e]=function(t,n){var i=Array.prototype.slice.call(arguments).slice(2),o={timestamp:new Date,level:e,category:t,message:n,arguments:i};r.log.logMessage(o)}}(u[a]);r.log.makeLogger=function(e){var t={flags:0,f:e};r.log.setLevel(t,"none");return t};r.log.setLevel=function(e,t){var n=!1;if(e&&!(e.flags&r.log.LEVEL_LOCKED))for(var i=0;i<r.log.levels.length;++i)if(t==r.log.levels[i]){e.level=t;n=!0;break}return n};r.log.lock=function(e,t){"undefined"===typeof t||t?e.flags|=r.log.LEVEL_LOCKED:e.flags&=~r.log.LEVEL_LOCKED};r.log.addLogger=function(e){o.push(e)};if("undefined"!==typeof console&&"log"in console){var l;if(console.error&&console.warn&&console.info&&console.debug){var f={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},d=function(e,t){r.log.prepareStandard(t);var n=f[t.level],i=[t.standard];i=i.concat(t["arguments"].slice());n.apply(console,i)};l=r.log.makeLogger(d)}else{d=function(e,t){r.log.prepareStandardFull(t)};l=r.log.makeLogger(d)}r.log.setLevel(l,"debug");r.log.addLogger(l);s=l}else console={log:function(){}};if(null!==s&&"undefined"!==typeof window&&window.location){var h=new URL(window.location.href).searchParams;h.has("console.level")&&r.log.setLevel(s,h.get("console.level").slice(-1)[0]);h.has("console.lock")&&"true"==h.get("console.lock").slice(-1)[0]&&r.log.lock(s)}r.log.consoleLogger=s},1355:(e,t,n)=>{e.exports=n(8106);n(1267);n(1598);n(172);n(2313)},8106:(e,t,n)=>{var r=n(276);e.exports=r.md=r.md||{};r.md.algorithms=r.md.algorithms||{}},1267:(e,t,n)=>{function r(e,t,n){for(var r,i,o,s,l,f,d,h=n.length();h>=64;){i=e.h0;o=e.h1;s=e.h2;l=e.h3;for(d=0;d<16;++d){t[d]=n.getInt32Le();r=i+(l^o&(s^l))+u[d]+t[d];i=l;l=s;s=o;o+=r<<(f=c[d])|r>>>32-f}for(;d<32;++d){r=i+(s^l&(o^s))+u[d]+t[a[d]];i=l;l=s;s=o;o+=r<<(f=c[d])|r>>>32-f}for(;d<48;++d){r=i+(o^s^l)+u[d]+t[a[d]];i=l;l=s;s=o;o+=r<<(f=c[d])|r>>>32-f}for(;d<64;++d){r=i+(s^(o|~l))+u[d]+t[a[d]];i=l;l=s;s=o;o+=r<<(f=c[d])|r>>>32-f}e.h0=e.h0+i|0;e.h1=e.h1+o|0;e.h2=e.h2+s|0;e.h3=e.h3+l|0;h-=64}}var i=n(276);n(8106);n(7619);var o=e.exports=i.md5=i.md5||{};i.md.md5=i.md.algorithms.md5=o;o.create=function(){l||function(){s=String.fromCharCode(128);s+=i.util.fillString(String.fromCharCode(0),64);a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9];c=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21];u=new Array(64);for(var e=0;e<64;++e)u[e]=Math.floor(4294967296*Math.abs(Math.sin(e+1)));l=!0}();var e=null,t=i.util.createBuffer(),n=new Array(16),o={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){o.messageLength=0;o.fullMessageLength=o.messageLength64=[];for(var n=o.messageLengthSize/4,r=0;r<n;++r)o.fullMessageLength.push(0);t=i.util.createBuffer();e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878};return o}};o.start();o.update=function(s,a){"utf8"===a&&(s=i.util.encodeUtf8(s));var c=s.length;o.messageLength+=c;c=[c/4294967296>>>0,c>>>0];for(var u=o.fullMessageLength.length-1;u>=0;--u){o.fullMessageLength[u]+=c[1];c[1]=c[0]+(o.fullMessageLength[u]/4294967296>>>0);o.fullMessageLength[u]=o.fullMessageLength[u]>>>0;c[0]=c[1]/4294967296>>>0}t.putBytes(s);r(e,n,t);(t.read>2048||0===t.length())&&t.compact();return o};o.digest=function(){var a=i.util.createBuffer();a.putBytes(t.bytes());var c=o.fullMessageLength[o.fullMessageLength.length-1]+o.messageLengthSize&o.blockLength-1;a.putBytes(s.substr(0,o.blockLength-c));for(var u,l=0,f=o.fullMessageLength.length-1;f>=0;--f){l=(u=8*o.fullMessageLength[f]+l)/4294967296>>>0;a.putInt32Le(u>>>0)}var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};r(d,n,a);var h=i.util.createBuffer();h.putInt32Le(d.h0);h.putInt32Le(d.h1);h.putInt32Le(d.h2);h.putInt32Le(d.h3);return h};return o};var s=null,a=null,c=null,u=null,l=!1},1373:(e,t,n)=>{var r=n(276);n(5250);e.exports=r.mgf=r.mgf||{};r.mgf.mgf1=r.mgf1},5250:(e,t,n)=>{var r=n(276);n(7619);r.mgf=r.mgf||{};(e.exports=r.mgf.mgf1=r.mgf1=r.mgf1||{}).create=function(e){return{generate:function(t,n){for(var i=new r.util.ByteBuffer,o=Math.ceil(n/e.digestLength),s=0;s<o;s++){var a=new r.util.ByteBuffer;a.putInt32(s);e.start();e.update(t+a.getBytes());i.putBuffer(e.digest())}i.truncate(i.length()-n);return i.getBytes()}}}},6418:(e,t,n)=>{function r(e,t){s[e]=t;s[t]=e}function i(e,t){s[e]=t}var o=n(276);o.pki=o.pki||{};var s=e.exports=o.pki.oids=o.oids=o.oids||{};r("1.2.840.113549.1.1.1","rsaEncryption");r("1.2.840.113549.1.1.4","md5WithRSAEncryption");r("1.2.840.113549.1.1.5","sha1WithRSAEncryption");r("1.2.840.113549.1.1.7","RSAES-OAEP");r("1.2.840.113549.1.1.8","mgf1");r("1.2.840.113549.1.1.9","pSpecified");r("1.2.840.113549.1.1.10","RSASSA-PSS");r("1.2.840.113549.1.1.11","sha256WithRSAEncryption");r("1.2.840.113549.1.1.12","sha384WithRSAEncryption");r("1.2.840.113549.1.1.13","sha512WithRSAEncryption");r("1.3.101.112","EdDSA25519");r("1.2.840.10040.4.3","dsa-with-sha1");r("1.3.14.3.2.7","desCBC");r("1.3.14.3.2.26","sha1");r("1.3.14.3.2.29","sha1WithRSASignature");r("2.16.840.1.101.3.4.2.1","sha256");r("2.16.840.1.101.3.4.2.2","sha384");r("2.16.840.1.101.3.4.2.3","sha512");r("2.16.840.1.101.3.4.2.4","sha224");r("2.16.840.1.101.3.4.2.5","sha512-224");r("2.16.840.1.101.3.4.2.6","sha512-256");r("1.2.840.113549.2.2","md2");r("1.2.840.113549.2.5","md5");r("1.2.840.113549.1.7.1","data");r("1.2.840.113549.1.7.2","signedData");r("1.2.840.113549.1.7.3","envelopedData");r("1.2.840.113549.1.7.4","signedAndEnvelopedData");r("1.2.840.113549.1.7.5","digestedData");r("1.2.840.113549.1.7.6","encryptedData");r("1.2.840.113549.1.9.1","emailAddress");r("1.2.840.113549.1.9.2","unstructuredName");r("1.2.840.113549.1.9.3","contentType");r("1.2.840.113549.1.9.4","messageDigest");r("1.2.840.113549.1.9.5","signingTime");r("1.2.840.113549.1.9.6","counterSignature");r("1.2.840.113549.1.9.7","challengePassword");r("1.2.840.113549.1.9.8","unstructuredAddress");r("1.2.840.113549.1.9.14","extensionRequest");r("1.2.840.113549.1.9.20","friendlyName");r("1.2.840.113549.1.9.21","localKeyId");r("1.2.840.113549.1.9.22.1","x509Certificate");r("1.2.840.113549.1.12.10.1.1","keyBag");r("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");r("1.2.840.113549.1.12.10.1.3","certBag");r("1.2.840.113549.1.12.10.1.4","crlBag");r("1.2.840.113549.1.12.10.1.5","secretBag");r("1.2.840.113549.1.12.10.1.6","safeContentsBag");r("1.2.840.113549.1.5.13","pkcs5PBES2");r("1.2.840.113549.1.5.12","pkcs5PBKDF2");r("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");r("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");r("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");r("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");r("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");r("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");r("1.2.840.113549.2.7","hmacWithSHA1");r("1.2.840.113549.2.8","hmacWithSHA224");r("1.2.840.113549.2.9","hmacWithSHA256");r("1.2.840.113549.2.10","hmacWithSHA384");r("1.2.840.113549.2.11","hmacWithSHA512");r("1.2.840.113549.3.7","des-EDE3-CBC");r("2.16.840.1.101.3.4.1.2","aes128-CBC");r("2.16.840.1.101.3.4.1.22","aes192-CBC");r("2.16.840.1.101.3.4.1.42","aes256-CBC");r("2.5.4.3","commonName");r("2.5.4.4","surname");r("2.5.4.5","serialNumber");r("2.5.4.6","countryName");r("2.5.4.7","localityName");r("2.5.4.8","stateOrProvinceName");r("2.5.4.9","streetAddress");r("2.5.4.10","organizationName");r("2.5.4.11","organizationalUnitName");r("2.5.4.12","title");r("2.5.4.13","description");r("2.5.4.15","businessCategory");r("2.5.4.17","postalCode");r("2.5.4.42","givenName");r("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");r("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");r("2.16.840.1.113730.1.1","nsCertType");r("2.16.840.1.113730.1.13","nsComment");i("2.5.29.1","authorityKeyIdentifier");i("2.5.29.2","keyAttributes");i("2.5.29.3","certificatePolicies");i("2.5.29.4","keyUsageRestriction");i("2.5.29.5","policyMapping");i("2.5.29.6","subtreesConstraint");i("2.5.29.7","subjectAltName");i("2.5.29.8","issuerAltName");i("2.5.29.9","subjectDirectoryAttributes");i("2.5.29.10","basicConstraints");i("2.5.29.11","nameConstraints");i("2.5.29.12","policyConstraints");i("2.5.29.13","basicConstraints");r("2.5.29.14","subjectKeyIdentifier");r("2.5.29.15","keyUsage");i("2.5.29.16","privateKeyUsagePeriod");r("2.5.29.17","subjectAltName");r("2.5.29.18","issuerAltName");r("2.5.29.19","basicConstraints");i("2.5.29.20","cRLNumber");i("2.5.29.21","cRLReason");i("2.5.29.22","expirationDate");i("2.5.29.23","instructionCode");i("2.5.29.24","invalidityDate");i("2.5.29.25","cRLDistributionPoints");i("2.5.29.26","issuingDistributionPoint");i("2.5.29.27","deltaCRLIndicator");i("2.5.29.28","issuingDistributionPoint");i("2.5.29.29","certificateIssuer");i("2.5.29.30","nameConstraints");r("2.5.29.31","cRLDistributionPoints");r("2.5.29.32","certificatePolicies");i("2.5.29.33","policyMappings");i("2.5.29.34","policyConstraints");r("2.5.29.35","authorityKeyIdentifier");i("2.5.29.36","policyConstraints");r("2.5.29.37","extKeyUsage");i("2.5.29.46","freshestCRL");i("2.5.29.54","inhibitAnyPolicy");r("1.3.6.1.4.1.11129.2.4.2","timestampList");r("1.3.6.1.5.5.7.1.1","authorityInfoAccess");r("1.3.6.1.5.5.7.3.1","serverAuth");r("1.3.6.1.5.5.7.3.2","clientAuth");r("1.3.6.1.5.5.7.3.3","codeSigning");r("1.3.6.1.5.5.7.3.4","emailProtection");r("1.3.6.1.5.5.7.3.8","timeStamping")},2698:(e,t,n)=>{function r(e,t){return e.start().update(t).digest().getBytes()}function i(e){var t;if(e){if(!(t=u.oids[c.derToOid(e)])){var n=new Error("Unsupported PRF OID.");n.oid=e;n.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"];throw n}}else t="hmacWithSHA1";return o(t)}function o(e){var t=s.md;switch(e){case"hmacWithSHA224":t=s.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var n=new Error("Unsupported PRF algorithm.");n.algorithm=e;n.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"];throw n}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}var s=n(276);n(9504);n(2746);n(1476);n(8106);n(6418);n(3254);n(2385);n(9356);n(5124);n(5805);n(7619);if("undefined"===typeof a)var a=s.jsbn.BigInteger;var c=s.asn1,u=s.pki=s.pki||{};e.exports=u.pbe=s.pbe=s.pbe||{};var l=u.oids,f={name:"EncryptedPrivateKeyInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},d={name:"PBES2Algorithms",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},h={name:"pkcs-12PbeParams",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"iterations"}]};u.encryptPrivateKeyInfo=function(e,t,n){(n=n||{}).saltSize=n.saltSize||8;n.count=n.count||2048;n.algorithm=n.algorithm||"aes128";n.prfAlgorithm=n.prfAlgorithm||"sha1";var r,i,a,f=s.random.getBytesSync(n.saltSize),d=n.count,h=c.integerToDer(d);if(0===n.algorithm.indexOf("aes")||"des"===n.algorithm){var p,m,g;switch(n.algorithm){case"aes128":r=16;p=16;m=l["aes128-CBC"];g=s.aes.createEncryptionCipher;break;case"aes192":r=24;p=16;m=l["aes192-CBC"];g=s.aes.createEncryptionCipher;break;case"aes256":r=32;p=16;m=l["aes256-CBC"];g=s.aes.createEncryptionCipher;break;case"des":r=8;p=8;m=l["desCBC"];g=s.des.createEncryptionCipher;break;default:(b=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=n.algorithm;throw b}var y="hmacWith"+n.prfAlgorithm.toUpperCase(),_=o(y),v=s.pkcs5.pbkdf2(t,f,d,r,_),E=s.random.getBytesSync(p);(T=g(v)).start(E);T.update(c.toDer(e));T.finish();a=T.output.getBytes();var S=function(e,t,n,r){var i=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,e),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,t.getBytes())]);"hmacWithSHA1"!==r&&i.value.push(c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,s.util.hexToBytes(n.toString(16))),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(u.oids[r]).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")]));return i}(f,h,r,y);i=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(l["pkcs5PBES2"]).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(l["pkcs5PBKDF2"]).getBytes()),S]),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(m).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,E)])])])}else{if("3des"!==n.algorithm){var b;(b=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=n.algorithm;throw b}r=24;var T,C=new s.util.ByteBuffer(f);v=u.pbe.generatePkcs12Key(t,C,1,d,r),E=u.pbe.generatePkcs12Key(t,C,2,d,r);(T=s.des.createEncryptionCipher(v)).start(E);T.update(c.toDer(e));T.finish();a=T.output.getBytes();i=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(l["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,f),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,h.getBytes())])])}return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[i,c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,a)])};u.decryptPrivateKeyInfo=function(e,t){var n=null,r={},i=[];if(!c.validate(e,f,r,i)){var o=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");o.errors=i;throw o}var a=c.derToOid(r.encryptionOid),l=u.pbe.getCipher(a,r.encryptionParams,t),d=s.util.createBuffer(r.encryptedData);l.update(d);l.finish()&&(n=c.fromDer(l.output));return n};u.encryptedPrivateKeyToPem=function(e,t){var n={type:"ENCRYPTED PRIVATE KEY",body:c.toDer(e).getBytes()};return s.pem.encode(n,{maxline:t})};u.encryptedPrivateKeyFromPem=function(e){var t=s.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==t.type){var n=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');n.headerType=t.type;throw n}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return c.fromDer(t.body)};u.encryptRsaPrivateKey=function(e,t,n){if(!(n=n||{}).legacy){var r=u.wrapRsaPrivateKey(u.privateKeyToAsn1(e));r=u.encryptPrivateKeyInfo(r,t,n);return u.encryptedPrivateKeyToPem(r)}var i,o,a,l;switch(n.algorithm){case"aes128":i="AES-128-CBC";a=16;o=s.random.getBytesSync(16);l=s.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC";a=24;o=s.random.getBytesSync(16);l=s.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC";a=32;o=s.random.getBytesSync(16);l=s.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC";a=24;o=s.random.getBytesSync(8);l=s.des.createEncryptionCipher;break;case"des":i="DES-CBC";a=8;o=s.random.getBytesSync(8);l=s.des.createEncryptionCipher;break;default:var f=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+n.algorithm+'".');f.algorithm=n.algorithm;throw f}var d=l(s.pbe.opensslDeriveBytes(t,o.substr(0,8),a));d.start(o);d.update(c.toDer(u.privateKeyToAsn1(e)));d.finish();var h={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:s.util.bytesToHex(o).toUpperCase()},body:d.output.getBytes()};return s.pem.encode(h)};u.decryptRsaPrivateKey=function(e,t){var n=null,r=s.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==r.type&&"PRIVATE KEY"!==r.type&&"RSA PRIVATE KEY"!==r.type){(a=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=a;throw a}if(r.procType&&"ENCRYPTED"===r.procType.type){var i,o;switch(r.dekInfo.algorithm){case"DES-CBC":i=8;o=s.des.createDecryptionCipher;break;case"DES-EDE3-CBC":i=24;o=s.des.createDecryptionCipher;break;case"AES-128-CBC":i=16;o=s.aes.createDecryptionCipher;break;case"AES-192-CBC":i=24;o=s.aes.createDecryptionCipher;break;case"AES-256-CBC":i=32;o=s.aes.createDecryptionCipher;break;case"RC2-40-CBC":i=5;o=function(e){return s.rc2.createDecryptionCipher(e,40)};break;case"RC2-64-CBC":i=8;o=function(e){return s.rc2.createDecryptionCipher(e,64)};break;case"RC2-128-CBC":i=16;o=function(e){return s.rc2.createDecryptionCipher(e,128)};break;default:var a;(a=new Error('Could not decrypt private key; unsupported encryption algorithm "'+r.dekInfo.algorithm+'".')).algorithm=r.dekInfo.algorithm;throw a}var l=s.util.hexToBytes(r.dekInfo.parameters),f=o(s.pbe.opensslDeriveBytes(t,l.substr(0,8),i));f.start(l);f.update(s.util.createBuffer(r.body));if(!f.finish())return n;n=f.output.getBytes()}else n=r.body;null!==(n="ENCRYPTED PRIVATE KEY"===r.type?u.decryptPrivateKeyInfo(c.fromDer(n),t):c.fromDer(n))&&(n=u.privateKeyFromAsn1(n));return n};u.pbe.generatePkcs12Key=function(e,t,n,r,i,o){var a,c;if("undefined"===typeof o||null===o){if(!("sha1"in s.md))throw new Error('"sha1" hash algorithm unavailable.');o=s.md.sha1.create()}var u=o.digestLength,l=o.blockLength,f=new s.util.ByteBuffer,d=new s.util.ByteBuffer;if(null!==e&&void 0!==e){for(c=0;c<e.length;c++)d.putInt16(e.charCodeAt(c));d.putInt16(0)}var h=d.length(),p=t.length(),m=new s.util.ByteBuffer;m.fillWithByte(n,l);var g=l*Math.ceil(p/l),y=new s.util.ByteBuffer;for(c=0;c<g;c++)y.putByte(t.at(c%p));var _=l*Math.ceil(h/l),v=new s.util.ByteBuffer;for(c=0;c<_;c++)v.putByte(d.at(c%h));var E=y;E.putBuffer(v);for(var S=Math.ceil(i/u),b=1;b<=S;b++){var T=new s.util.ByteBuffer;T.putBytes(m.bytes());T.putBytes(E.bytes());for(var C=0;C<r;C++){o.start();o.update(T.getBytes());T=o.digest()}var I=new s.util.ByteBuffer;for(c=0;c<l;c++)I.putByte(T.at(c%u));var w=Math.ceil(p/l)+Math.ceil(h/l),N=new s.util.ByteBuffer;for(a=0;a<w;a++){var A=new s.util.ByteBuffer(E.getBytes(l)),R=511;for(c=I.length()-1;c>=0;c--){R>>=8;R+=I.at(c)+A.at(c);A.setAt(c,255&R)}N.putBuffer(A)}E=N;f.putBuffer(T)}f.truncate(f.length()-i);return f};u.pbe.getCipher=function(e,t,n){switch(e){case u.oids["pkcs5PBES2"]:return u.pbe.getCipherForPBES2(e,t,n);case u.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case u.oids["pbewithSHAAnd40BitRC2-CBC"]:return u.pbe.getCipherForPKCS12PBE(e,t,n);default:var r=new Error("Cannot read encrypted PBE data block. Unsupported OID.");r.oid=e;r.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"];throw r}};u.pbe.getCipherForPBES2=function(e,t,n){var r={},o=[];if(!c.validate(t,d,r,o)){(a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=o;throw a}if((e=c.derToOid(r.kdfOid))!==u.oids["pkcs5PBKDF2"]){(a=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=e;a.supportedOids=["pkcs5PBKDF2"];throw a}if((e=c.derToOid(r.encOid))!==u.oids["aes128-CBC"]&&e!==u.oids["aes192-CBC"]&&e!==u.oids["aes256-CBC"]&&e!==u.oids["des-EDE3-CBC"]&&e!==u.oids["desCBC"]){var a;(a=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=e;a.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"];throw a}var l,f,h=r.kdfSalt,p=s.util.createBuffer(r.kdfIterationCount);p=p.getInt(p.length()<<3);switch(u.oids[e]){case"aes128-CBC":l=16;f=s.aes.createDecryptionCipher;break;case"aes192-CBC":l=24;f=s.aes.createDecryptionCipher;break;case"aes256-CBC":l=32;f=s.aes.createDecryptionCipher;break;case"des-EDE3-CBC":l=24;f=s.des.createDecryptionCipher;break;case"desCBC":l=8;f=s.des.createDecryptionCipher}var m=i(r.prfOid),g=s.pkcs5.pbkdf2(n,h,p,l,m),y=r.encIv,_=f(g);_.start(y);return _};u.pbe.getCipherForPKCS12PBE=function(e,t,n){var r={},o=[];if(!c.validate(t,h,r,o)){(m=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=o;throw m}var a,l,f,d=s.util.createBuffer(r.salt),p=s.util.createBuffer(r.iterations);p=p.getInt(p.length()<<3);switch(e){case u.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:a=24;l=8;f=s.des.startDecrypting;break;case u.oids["pbewithSHAAnd40BitRC2-CBC"]:a=5;l=8;f=function(e,t){var n=s.rc2.createDecryptionCipher(e,40);n.start(t,null);return n};break;default:var m;(m=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=e;throw m}var g=i(r.prfOid),y=u.pbe.generatePkcs12Key(n,d,1,p,a,g);g.start();return f(y,u.pbe.generatePkcs12Key(n,d,2,p,l,g))};u.pbe.opensslDeriveBytes=function(e,t,n,i){if("undefined"===typeof i||null===i){if(!("md5"in s.md))throw new Error('"md5" hash algorithm unavailable.');i=s.md.md5.create()}null===t&&(t="");for(var o=[r(i,e+t)],a=16,c=1;a<n;++c,a+=16)o.push(r(i,o[c-1]+e+t));return o.join("").substr(0,n)}},3254:(e,t,n)=>{var r=n(276);n(1696);n(8106);n(7619);var i,o=r.pkcs5=r.pkcs5||{};r.util.isNodejs&&!r.options.usePureJavaScript&&(i=n(5946));e.exports=r.pbkdf2=o.pbkdf2=function(e,t,n,o,s,a){function c(){if(v>d)return a(null,_);p.start(null,null);p.update(t);p.update(r.util.int32ToBytes(v));m=y=p.digest().getBytes();E=2;u()}function u(){if(E<=n){p.start(null,null);p.update(y);g=p.digest().getBytes();m=r.util.xorBytes(m,g,l);y=g;++E;return r.util.setImmediate(u)}_+=v<d?m:m.substr(0,h);++v;c()}if("function"===typeof s){a=s;s=null}if(r.util.isNodejs&&!r.options.usePureJavaScript&&i.pbkdf2&&(null===s||"object"!==typeof s)&&(i.pbkdf2Sync.length>4||!s||"sha1"===s)){"string"!==typeof s&&(s="sha1");e=Buffer.from(e,"binary");t=Buffer.from(t,"binary");return a?4===i.pbkdf2Sync.length?i.pbkdf2(e,t,n,o,(function(e,t){if(e)return a(e);a(null,t.toString("binary"))})):i.pbkdf2(e,t,n,o,s,(function(e,t){if(e)return a(e);a(null,t.toString("binary"))})):4===i.pbkdf2Sync.length?i.pbkdf2Sync(e,t,n,o).toString("binary"):i.pbkdf2Sync(e,t,n,o,s).toString("binary")}"undefined"!==typeof s&&null!==s||(s="sha1");if("string"===typeof s){if(!(s in r.md.algorithms))throw new Error("Unknown hash algorithm: "+s);s=r.md[s].create()}var l=s.digestLength;if(o>4294967295*l){var f=new Error("Derived key is too long.");if(a)return a(f);throw f}var d=Math.ceil(o/l),h=o-(d-1)*l,p=r.hmac.create();p.start(s,e);var m,g,y,_="";if(!a){for(var v=1;v<=d;++v){p.start(null,null);p.update(t);p.update(r.util.int32ToBytes(v));m=y=p.digest().getBytes();for(var E=2;E<=n;++E){p.start(null,null);p.update(y);g=p.digest().getBytes();m=r.util.xorBytes(m,g,l);y=g}_+=v<d?m:m.substr(0,h)}return _}v=1;c()}},2385:(e,t,n)=>{function r(e){for(var t=e.name+": ",n=[],r=function(e,t){return" "+t},i=0;i<e.values.length;++i)n.push(e.values[i].replace(/^(\S+\r\n)/,r));t+=n.join(",")+"\r\n";var o=0,s=-1;for(i=0;i<t.length;++i,++o)if(o>65&&-1!==s){var a=t[s];if(","===a){++s;t=t.substr(0,s)+"\r\n "+t.substr(s)}else t=t.substr(0,s)+"\r\n"+a+t.substr(s+1);o=i-s-1;s=-1;++i}else" "!==t[i]&&"\t"!==t[i]&&","!==t[i]||(s=i);return t}function i(e){return e.replace(/^\s+/,"")}var o=n(276);n(7619);var s=e.exports=o.pem=o.pem||{};s.encode=function(e,t){t=t||{};var n,i="-----BEGIN "+e.type+"-----\r\n";e.procType&&(i+=r(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]}));e.contentDomain&&(i+=r(n={name:"Content-Domain",values:[e.contentDomain]}));if(e.dekInfo){n={name:"DEK-Info",values:[e.dekInfo.algorithm]};e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters);i+=r(n)}if(e.headers)for(var s=0;s<e.headers.length;++s)i+=r(e.headers[s]);e.procType&&(i+="\r\n");return(i+=o.util.encode64(e.body,t.maxline||64)+"\r\n")+"-----END "+e.type+"-----\r\n"};s.decode=function(e){for(var t,n=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,s=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,a=/\r?\n/;t=r.exec(e);){var c=t[1];"NEW CERTIFICATE REQUEST"===c&&(c="CERTIFICATE REQUEST");var u={type:c,procType:null,contentDomain:null,dekInfo:null,headers:[],body:o.util.decode64(t[3])};n.push(u);if(t[2]){for(var l=t[2].split(a),f=0;t&&f<l.length;){for(var d=l[f].replace(/\s+$/,""),h=f+1;h<l.length;++h){var p=l[h];if(!/\s/.test(p[0]))break;d+=p;f=h}if(t=d.match(s)){for(var m={name:t[1],values:[]},g=t[2].split(","),y=0;y<g.length;++y)m.values.push(i(g[y]));if(u.procType)if(u.contentDomain||"Content-Domain"!==m.name)if(u.dekInfo||"DEK-Info"!==m.name)u.headers.push(m);else{if(0===m.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');u.dekInfo={algorithm:g[0],parameters:g[1]||null}}else u.contentDomain=g[0]||"";else{if("Proc-Type"!==m.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==m.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');u.procType={version:g[0],type:g[1]}}}++f}if("ENCRYPTED"===u.procType&&!u.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===n.length)throw new Error("Invalid PEM formatted message.");return n}},7501:(e,t,n)=>{function r(e,t,n){n||(n=i.md.sha1.create());for(var r="",o=Math.ceil(t/n.digestLength),s=0;s<o;++s){var a=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,255&s);n.start();n.update(e+a);r+=n.digest().getBytes()}return r.substring(0,t)}var i=n(276);n(7619);n(9356);n(1598);var o=e.exports=i.pkcs1=i.pkcs1||{};o.encode_rsa_oaep=function(e,t,n){var o,s,a,c;if("string"===typeof n){o=n;s=arguments[3]||void 0;a=arguments[4]||void 0}else if(n){o=n.label||void 0;s=n.seed||void 0;a=n.md||void 0;n.mgf1&&n.mgf1.md&&(c=n.mgf1.md)}a?a.start():a=i.md.sha1.create();c||(c=a);var u=Math.ceil(e.n.bitLength()/8),l=u-2*a.digestLength-2;if(t.length>l){(g=new Error("RSAES-OAEP input message length is too long.")).length=t.length;g.maxLength=l;throw g}o||(o="");a.update(o,"raw");for(var f=a.digest(),d="",h=l-t.length,p=0;p<h;p++)d+="\0";var m=f.getBytes()+d+""+t;if(s){if(s.length!==a.digestLength){var g;(g=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=s.length;g.digestLength=a.digestLength;throw g}}else s=i.random.getBytes(a.digestLength);var y=r(s,u-a.digestLength-1,c),_=i.util.xorBytes(m,y,m.length),v=r(_,a.digestLength,c);return"\0"+i.util.xorBytes(s,v,s.length)+_};o.decode_rsa_oaep=function(e,t,n){var o,s,a;if("string"===typeof n){o=n;s=arguments[3]||void 0}else if(n){o=n.label||void 0;s=n.md||void 0;n.mgf1&&n.mgf1.md&&(a=n.mgf1.md)}var c=Math.ceil(e.n.bitLength()/8);if(t.length!==c){(y=new Error("RSAES-OAEP encoded message length is invalid.")).length=t.length;y.expectedLength=c;throw y}void 0===s?s=i.md.sha1.create():s.start();a||(a=s);if(c<2*s.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");o||(o="");s.update(o,"raw");for(var u=s.digest().getBytes(),l=t.charAt(0),f=t.substring(1,s.digestLength+1),d=t.substring(1+s.digestLength),h=r(d,s.digestLength,a),p=r(i.util.xorBytes(f,h,f.length),c-s.digestLength-1,a),m=i.util.xorBytes(d,p,d.length),g=m.substring(0,s.digestLength),y="\0"!==l,_=0;_<s.digestLength;++_)y|=u.charAt(_)!==g.charAt(_);for(var v=1,E=s.digestLength,S=s.digestLength;S<m.length;S++){var b=m.charCodeAt(S);y|=b&(v?65534:0);E+=v&=1&b^1}if(y||1!==m.charCodeAt(E))throw new Error("Invalid RSAES-OAEP padding.");return m.substring(E+1)}},5071:(e,t,n)=>{function r(e,t,n,r){for(var i=[],o=0;o<e.length;o++)for(var s=0;s<e[o].safeBags.length;s++){var a=e[o].safeBags[s];void 0!==r&&a.type!==r||null!==t&&(void 0===a.attributes[t]||a.attributes[t].indexOf(n)<0)||i.push(a)}return i}function i(e){if(e.composed||e.constructed){for(var t=c.util.createBuffer(),n=0;n<e.value.length;++n)t.putBytes(e.value[n].value);e.composed=e.constructed=!1;e.value=t.getBytes()}return e}function o(e,t){var n={},r=[];if(!u.validate(e,c.pkcs7.asn1.encryptedDataValidator,n,r)){(s=new Error("Cannot read EncryptedContentInfo.")).errors=r;throw s}var o=u.derToOid(n.contentType);if(o!==l.oids.data){var s;(s=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=o;throw s}o=u.derToOid(n.encAlgorithm);var a=l.pbe.getCipher(o,n.encParameter,t),f=i(n.encryptedContentAsn1),d=c.util.createBuffer(f.value);a.update(d);if(!a.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return a.output.getBytes()}function s(e,t,n){if(!t&&0===e.length)return[];if((e=u.fromDer(e,t)).tagClass!==u.Class.UNIVERSAL||e.type!==u.Type.SEQUENCE||!0!==e.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var r=[],i=0;i<e.value.length;i++){var o=e.value[i],s={},c=[];if(!u.validate(o,p,s,c)){(y=new Error("Cannot read SafeBag.")).errors=c;throw y}var f,d,h={type:u.derToOid(s.bagId),attributes:a(s.bagAttributes)};r.push(h);var m=s.bagValue.value[0];switch(h.type){case l.oids.pkcs8ShroudedKeyBag:if(null===(m=l.decryptPrivateKeyInfo(m,n)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case l.oids.keyBag:try{h.key=l.privateKeyFromAsn1(m)}catch(e){h.key=null;h.asn1=m}continue;case l.oids.certBag:f=g;d=function(){if(u.derToOid(s.certId)!==l.oids.x509Certificate){var e=new Error("Unsupported certificate type, only X.509 supported.");e.oid=u.derToOid(s.certId);throw e}var n=u.fromDer(s.cert,t);try{h.cert=l.certificateFromAsn1(n,!0)}catch(e){h.cert=null;h.asn1=n}};break;default:(y=new Error("Unsupported PKCS#12 SafeBag type.")).oid=h.type;throw y}if(void 0!==f&&!u.validate(m,f,s,c)){var y;(y=new Error("Cannot read PKCS#12 "+f.name)).errors=c;throw y}d()}return r}function a(e){var t={};if(void 0!==e)for(var n=0;n<e.length;++n){var r={},i=[];if(!u.validate(e[n],m,r,i)){var o=new Error("Cannot read PKCS#12 BagAttribute.");o.errors=i;throw o}var s=u.derToOid(r.oid);if(void 0!==l.oids[s]){t[l.oids[s]]=[];for(var a=0;a<r.values.length;++a)t[l.oids[s]].push(r.values[a].value)}}return t}var c=n(276);n(2746);n(1696);n(6418);n(9954);n(2698);n(9356);n(5805);n(1598);n(7619);n(6011);var u=c.asn1,l=c.pki,f=e.exports=c.pkcs12=c.pkcs12||{},d={name:"ContentInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:u.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},h={name:"PFX",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"version"},d,{name:"PFX.macData",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:u.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:u.Class.UNIVERSAL,type:u.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:u.Class.UNIVERSAL,type:u.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},p={name:"SafeBag",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:u.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:u.Class.UNIVERSAL,type:u.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},m={name:"Attribute",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:u.Class.UNIVERSAL,type:u.Type.SET,constructed:!0,capture:"values"}]},g={name:"CertBag",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:u.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:u.Class.UNIVERSAL,type:u.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};f.pkcs12FromAsn1=function(e,t,n){if("string"===typeof t){n=t;t=!0}else void 0===t&&(t=!0);var a={};if(!u.validate(e,h,a,[])){(m=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=m;throw m}var p={version:a.version.charCodeAt(0),safeContents:[],getBags:function(e){var t,n={};"localKeyId"in e?t=e.localKeyId:"localKeyIdHex"in e&&(t=c.util.hexToBytes(e.localKeyIdHex));void 0===t&&!("friendlyName"in e)&&"bagType"in e&&(n[e.bagType]=r(p.safeContents,null,null,e.bagType));void 0!==t&&(n.localKeyId=r(p.safeContents,"localKeyId",t,e.bagType));"friendlyName"in e&&(n.friendlyName=r(p.safeContents,"friendlyName",e.friendlyName,e.bagType));return n},getBagsByFriendlyName:function(e,t){return r(p.safeContents,"friendlyName",e,t)},getBagsByLocalKeyId:function(e,t){return r(p.safeContents,"localKeyId",e,t)}};if(3!==a.version.charCodeAt(0)){(m=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=a.version.charCodeAt(0);throw m}if(u.derToOid(a.contentType)!==l.oids.data){var m;(m=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=u.derToOid(a.contentType);throw m}var g=a.content.value[0];if(g.tagClass!==u.Class.UNIVERSAL||g.type!==u.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");g=i(g);if(a.mac){var y=null,_=0,v=u.derToOid(a.macAlgorithm);switch(v){case l.oids.sha1:y=c.md.sha1.create();_=20;break;case l.oids.sha256:y=c.md.sha256.create();_=32;break;case l.oids.sha384:y=c.md.sha384.create();_=48;break;case l.oids.sha512:y=c.md.sha512.create();_=64;break;case l.oids.md5:y=c.md.md5.create();_=16}if(null===y)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+v);var E=new c.util.ByteBuffer(a.macSalt),S="macIterations"in a?parseInt(c.util.bytesToHex(a.macIterations),16):1,b=f.generateKey(n,E,3,S,_,y),T=c.hmac.create();T.start(y,b);T.update(g.value);if(T.getMac().getBytes()!==a.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}!function(e,t,n,r){if((t=u.fromDer(t,n)).tagClass!==u.Class.UNIVERSAL||t.type!==u.Type.SEQUENCE||!0!==t.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var a=0;a<t.value.length;a++){var c=t.value[a],f={},h=[];if(!u.validate(c,d,f,h)){(y=new Error("Cannot read ContentInfo.")).errors=h;throw y}var p={encrypted:!1},m=null,g=f.content.value[0];switch(u.derToOid(f.contentType)){case l.oids.data:if(g.tagClass!==u.Class.UNIVERSAL||g.type!==u.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");m=i(g).value;break;case l.oids.encryptedData:m=o(g,r);p.encrypted=!0;break;default:var y;(y=new Error("Unsupported PKCS#12 contentType.")).contentType=u.derToOid(f.contentType);throw y}p.safeBags=s(m,n,r);e.safeContents.push(p)}}(p,g.value,t,n);return p};f.toPkcs12Asn1=function(e,t,n,r){(r=r||{}).saltSize=r.saltSize||8;r.count=r.count||2048;r.algorithm=r.algorithm||r.encAlgorithm||"aes128";"useMac"in r||(r.useMac=!0);"localKeyId"in r||(r.localKeyId=null);"generateLocalKeyId"in r||(r.generateLocalKeyId=!0);var i,o=r.localKeyId;if(null!==o)o=c.util.hexToBytes(o);else if(r.generateLocalKeyId)if(t){var s=c.util.isArray(t)?t[0]:t;"string"===typeof s&&(s=l.certificateFromPem(s));(N=c.md.sha1.create()).update(u.toDer(l.certificateToAsn1(s)).getBytes());o=N.digest().getBytes()}else o=c.random.getBytes(20);var a=[];null!==o&&a.push(u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(l.oids.localKeyId).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SET,!0,[u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,o)])]));"friendlyName"in r&&a.push(u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(l.oids.friendlyName).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SET,!0,[u.create(u.Class.UNIVERSAL,u.Type.BMPSTRING,!1,r.friendlyName)])]));a.length>0&&(i=u.create(u.Class.UNIVERSAL,u.Type.SET,!0,a));var d=[],h=[];null!==t&&(h=c.util.isArray(t)?t:[t]);for(var p=[],m=0;m<h.length;++m){"string"===typeof(t=h[m])&&(t=l.certificateFromPem(t));var g=0===m?i:void 0,y=l.certificateToAsn1(t),_=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(l.oids.certBag).getBytes()),u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(l.oids.x509Certificate).getBytes()),u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,u.toDer(y).getBytes())])])]),g]);p.push(_)}if(p.length>0){var v=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,p),E=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(l.oids.data).getBytes()),u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,u.toDer(v).getBytes())])]);d.push(E)}var S=null;if(null!==e){var b=l.wrapRsaPrivateKey(l.privateKeyToAsn1(e));S=null===n?u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(l.oids.keyBag).getBytes()),u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[b]),i]):u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(l.oids.pkcs8ShroudedKeyBag).getBytes()),u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[l.encryptPrivateKeyInfo(b,n,r)]),i]);var T=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[S]),C=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(l.oids.data).getBytes()),u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,u.toDer(T).getBytes())])]);d.push(C)}var I,w=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,d);if(r.useMac){var N=c.md.sha1.create(),A=new c.util.ByteBuffer(c.random.getBytes(r.saltSize)),R=r.count,O=(e=f.generateKey(n,A,3,R,20),c.hmac.create());O.start(N,e);O.update(u.toDer(w).getBytes());var L=O.getMac();I=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(l.oids.sha1).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,"")]),u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,L.getBytes())]),u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,A.getBytes()),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(R).getBytes())])}return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(3).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(l.oids.data).getBytes()),u.create(u.Class.CONTEXT_SPECIFIC,0,!0,[u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,u.toDer(w).getBytes())])]),I])};f.generateKey=c.pbe.generatePkcs12Key},9343:(e,t,n)=>{function r(e){var t={},n=[];if(!d.validate(e,h.asn1.recipientInfoValidator,t,n)){var r=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");r.errors=n;throw r}return{version:t.version.charCodeAt(0),issuer:f.pki.RDNAttributesAsArray(t.issuer),serialNumber:f.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:d.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}function i(e){return d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,d.integerToDer(e.version).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[f.pki.distinguishedNameToAsn1({attributes:e.issuer}),d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,f.util.hexToBytes(e.serialNumber))]),d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(e.encryptedContent.algorithm).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.NULL,!1,"")]),d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,e.encryptedContent.content)])}function o(e){for(var t=[],n=0;n<e.length;++n)t.push(i(e[n]));return t}function s(e){var t=d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,d.integerToDer(e.version).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[f.pki.distinguishedNameToAsn1({attributes:e.issuer}),d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,f.util.hexToBytes(e.serialNumber))]),d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(e.digestAlgorithm).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.NULL,!1,"")])]);e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1);t.value.push(d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(e.signatureAlgorithm).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.NULL,!1,"")]));t.value.push(d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,e.signature));if(e.unauthenticatedAttributes.length>0){for(var n=d.create(d.Class.CONTEXT_SPECIFIC,1,!0,[]),r=0;r<e.unauthenticatedAttributes.length;++r){var i=e.unauthenticatedAttributes[r];n.values.push(a(i))}t.value.push(n)}return t}function a(e){var t;if(e.type===f.pki.oids.contentType)t=d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(e.value).getBytes());else if(e.type===f.pki.oids.messageDigest)t=d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===f.pki.oids.signingTime){var n=new Date("1950-01-01T00:00:00Z"),r=new Date("2050-01-01T00:00:00Z"),i=e.value;if("string"===typeof i){var o=Date.parse(i);i=isNaN(o)?13===i.length?d.utcTimeToDate(i):d.generalizedTimeToDate(i):new Date(o)}t=i>=n&&i<r?d.create(d.Class.UNIVERSAL,d.Type.UTCTIME,!1,d.dateToUtcTime(i)):d.create(d.Class.UNIVERSAL,d.Type.GENERALIZEDTIME,!1,d.dateToGeneralizedTime(i))}return d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(e.type).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.SET,!0,[t])])}function c(e){return[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(f.pki.oids.data).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(e.algorithm).getBytes()),e.parameter?d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),d.create(d.Class.CONTEXT_SPECIFIC,0,!0,[d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,e.content.getBytes())])]}function u(e,t,n){var r={};if(!d.validate(t,n,r,[])){var i=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");i.errors=i;throw i}if(d.derToOid(r.contentType)!==f.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(r.encryptedContent){var o="";if(f.util.isArray(r.encryptedContent))for(var s=0;s<r.encryptedContent.length;++s){if(r.encryptedContent[s].type!==d.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");o+=r.encryptedContent[s].value}else o=r.encryptedContent;e.encryptedContent={algorithm:d.derToOid(r.encAlgorithm),parameter:f.util.createBuffer(r.encParameter.value),content:f.util.createBuffer(o)}}if(r.content){o="";if(f.util.isArray(r.content))for(s=0;s<r.content.length;++s){if(r.content[s].type!==d.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");o+=r.content[s].value}else o=r.content;e.content=f.util.createBuffer(o)}e.version=r.version.charCodeAt(0);e.rawCapture=r;return r}function l(e){if(void 0===e.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===e.content){var t;switch(e.encryptedContent.algorithm){case f.pki.oids["aes128-CBC"]:case f.pki.oids["aes192-CBC"]:case f.pki.oids["aes256-CBC"]:t=f.aes.createDecryptionCipher(e.encryptedContent.key);break;case f.pki.oids["desCBC"]:case f.pki.oids["des-EDE3-CBC"]:t=f.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}t.start(e.encryptedContent.parameter);t.update(e.encryptedContent.content);if(!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}var f=n(276);n(9504);n(2746);n(1476);n(6418);n(2385);n(9954);n(9356);n(7619);n(6011);var d=f.asn1,h=e.exports=f.pkcs7=f.pkcs7||{};h.messageFromPem=function(e){var t=f.pem.decode(e)[0];if("PKCS7"!==t.type){var n=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');n.headerType=t.type;throw n}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var r=d.fromDer(t.body);return h.messageFromAsn1(r)};h.messageToPem=function(e,t){var n={type:"PKCS7",body:d.toDer(e.toAsn1()).getBytes()};return f.pem.encode(n,{maxline:t})};h.messageFromAsn1=function(e){var t={},n=[];if(!d.validate(e,h.asn1.contentInfoValidator,t,n)){var r=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");r.errors=n;throw r}var i,o=d.derToOid(t.contentType);switch(o){case f.pki.oids.envelopedData:i=h.createEnvelopedData();break;case f.pki.oids.encryptedData:i=h.createEncryptedData();break;case f.pki.oids.signedData:i=h.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+o+" is not (yet) supported.")}i.fromAsn1(t.content.value[0]);return i};h.createSignedData=function(){var e=null;return e={type:f.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(t){u(e,t,h.asn1.signedDataValidator);e.certificates=[];e.crls=[];e.digestAlgorithmIdentifiers=[];e.contentInfo=null;e.signerInfos=[];if(e.rawCapture.certificates)for(var n=e.rawCapture.certificates.value,r=0;r<n.length;++r)e.certificates.push(f.pki.certificateFromAsn1(n[r]))},toAsn1:function(){e.contentInfo||e.sign();for(var t=[],n=0;n<e.certificates.length;++n)t.push(f.pki.certificateToAsn1(e.certificates[n]));var r=[],i=d.create(d.Class.CONTEXT_SPECIFIC,0,!0,[d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,d.integerToDer(e.version).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);t.length>0&&i.value[0].value.push(d.create(d.Class.CONTEXT_SPECIFIC,0,!0,t));r.length>0&&i.value[0].value.push(d.create(d.Class.CONTEXT_SPECIFIC,1,!0,r));i.value[0].value.push(d.create(d.Class.UNIVERSAL,d.Type.SET,!0,e.signerInfos));return d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(e.type).getBytes()),i])},addSigner:function(t){var n=t.issuer,r=t.serialNumber;if(t.certificate){var i=t.certificate;"string"===typeof i&&(i=f.pki.certificateFromPem(i));n=i.issuer.attributes;r=i.serialNumber}var o=t.key;if(!o)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"===typeof o&&(o=f.pki.privateKeyFromPem(o));var s=t.digestAlgorithm||f.pki.oids.sha1;switch(s){case f.pki.oids.sha1:case f.pki.oids.sha256:case f.pki.oids.sha384:case f.pki.oids.sha512:case f.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+s)}var a=t.authenticatedAttributes||[];if(a.length>0){for(var c=!1,u=!1,l=0;l<a.length;++l){var d=a[l];if(c||d.type!==f.pki.oids.contentType)if(u||d.type!==f.pki.oids.messageDigest);else{u=!0;if(c)break}else{c=!0;if(u)break}}if(!c||!u)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:o,version:1,issuer:n,serialNumber:r,digestAlgorithm:s,signatureAlgorithm:f.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:a,unauthenticatedAttributes:[]})},sign:function(t){t=t||{};if("object"!==typeof e.content||null===e.contentInfo){e.contentInfo=d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(f.pki.oids.data).getBytes())]);if("content"in e){var n;e.content instanceof f.util.ByteBuffer?n=e.content.bytes():"string"===typeof e.content&&(n=f.util.encodeUtf8(e.content));t.detached?e.detachedContent=d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,n):e.contentInfo.value.push(d.create(d.Class.CONTEXT_SPECIFIC,0,!0,[d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,n)]))}}0!==e.signers.length&&function(t){var n;if(!(n=e.detachedContent?e.detachedContent:(n=e.contentInfo.value[1]).value[0]))throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var r=d.derToOid(e.contentInfo.value[0].value),i=d.toDer(n);i.getByte();d.getBerValueLength(i);i=i.getBytes();for(var o in t)t[o].start().update(i);for(var c=new Date,u=0;u<e.signers.length;++u){var l=e.signers[u];if(0===l.authenticatedAttributes.length){if(r!==f.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{l.authenticatedAttributesAsn1=d.create(d.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var h=d.create(d.Class.UNIVERSAL,d.Type.SET,!0,[]),p=0;p<l.authenticatedAttributes.length;++p){var m=l.authenticatedAttributes[p];m.type===f.pki.oids.messageDigest?m.value=t[l.digestAlgorithm].digest():m.type===f.pki.oids.signingTime&&(m.value||(m.value=c));h.value.push(a(m));l.authenticatedAttributesAsn1.value.push(a(m))}i=d.toDer(h).getBytes();l.md.start().update(i)}l.signature=l.key.sign(l.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=function(e){for(var t=[],n=0;n<e.length;++n)t.push(s(e[n]));return t}(e.signers)}(function(){for(var t={},n=0;n<e.signers.length;++n){var r=e.signers[n];(i=r.digestAlgorithm)in t||(t[i]=f.md[f.pki.oids[i]].create());0===r.authenticatedAttributes.length?r.md=t[i]:r.md=f.md[f.pki.oids[i]].create()}e.digestAlgorithmIdentifiers=[];for(var i in t)e.digestAlgorithmIdentifiers.push(d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(i).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.NULL,!1,"")]));return t}())},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(t){"string"===typeof t&&(t=f.pki.certificateFromPem(t));e.certificates.push(t)},addCertificateRevokationList:function(){throw new Error("PKCS#7 CRL support not yet implemented.")}}};h.createEncryptedData=function(){var e=null;return e={type:f.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:f.pki.oids["aes256-CBC"]},fromAsn1:function(t){u(e,t,h.asn1.encryptedDataValidator)},decrypt:function(t){void 0!==t&&(e.encryptedContent.key=t);l(e)}}};h.createEnvelopedData=function(){var e=null;return e={type:f.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:f.pki.oids["aes256-CBC"]},fromAsn1:function(t){var n=u(e,t,h.asn1.envelopedDataValidator);e.recipients=function(e){for(var t=[],n=0;n<e.length;++n)t.push(r(e[n]));return t}(n.recipientInfos.value)},toAsn1:function(){return d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(e.type).getBytes()),d.create(d.Class.CONTEXT_SPECIFIC,0,!0,[d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,d.integerToDer(e.version).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.SET,!0,o(e.recipients)),d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,c(e.encryptedContent))])])])},findRecipient:function(t){for(var n=t.issuer.attributes,r=0;r<e.recipients.length;++r){var i=e.recipients[r],o=i.issuer;if(i.serialNumber===t.serialNumber&&o.length===n.length){for(var s=!0,a=0;a<n.length;++a)if(o[a].type!==n[a].type||o[a].value!==n[a].value){s=!1;break}if(s)return i}}return null},decrypt:function(t,n){if(void 0===e.encryptedContent.key&&void 0!==t&&void 0!==n)switch(t.encryptedContent.algorithm){case f.pki.oids.rsaEncryption:case f.pki.oids.desCBC:var r=n.decrypt(t.encryptedContent.content);e.encryptedContent.key=f.util.createBuffer(r);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}l(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:f.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,n){if(void 0===e.encryptedContent.content){n=n||e.encryptedContent.algorithm;t=t||e.encryptedContent.key;var r,i,o;switch(n){case f.pki.oids["aes128-CBC"]:r=16;i=16;o=f.aes.createEncryptionCipher;break;case f.pki.oids["aes192-CBC"]:r=24;i=16;o=f.aes.createEncryptionCipher;break;case f.pki.oids["aes256-CBC"]:r=32;i=16;o=f.aes.createEncryptionCipher;break;case f.pki.oids["des-EDE3-CBC"]:r=24;i=8;o=f.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+n)}if(void 0===t)t=f.util.createBuffer(f.random.getBytes(r));else if(t.length()!=r)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+r+".");e.encryptedContent.algorithm=n;e.encryptedContent.key=t;e.encryptedContent.parameter=f.util.createBuffer(f.random.getBytes(i));var s=o(t);s.start(e.encryptedContent.parameter.copy());s.update(e.content);if(!s.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=s.output}for(var a=0;a<e.recipients.length;++a){var c=e.recipients[a];if(void 0===c.encryptedContent.content){if(c.encryptedContent.algorithm!==f.pki.oids.rsaEncryption)throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm);c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data)}}}}}},9954:(e,t,n)=>{var r=n(276);n(2746);n(7619);var i=r.asn1,o=e.exports=r.pkcs7asn1=r.pkcs7asn1||{};r.pkcs7=r.pkcs7||{};r.pkcs7.asn1=o;var s={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};o.contentInfoValidator=s;var a={name:"EncryptedContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};o.envelopedDataValidator={name:"EnvelopedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(a)};o.encryptedDataValidator={name:"EncryptedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"}].concat(a)};var c={name:"SignerInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};o.signedDataValidator={name:"SignedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},s,{name:"SignedData.Certificates",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,capture:"signerInfos",optional:!0,value:[c]}]};o.recipientInfoValidator={name:"RecipientInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},9255:(e,t,n)=>{var r=n(276);n(2746);n(6418);n(2698);n(2385);n(3254);n(5071);n(1417);n(5805);n(7619);n(6011);var i=r.asn1,o=e.exports=r.pki=r.pki||{};o.pemToDer=function(e){var t=r.pem.decode(e)[0];if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return r.util.createBuffer(t.body)};o.privateKeyFromPem=function(e){var t=r.pem.decode(e)[0];if("PRIVATE KEY"!==t.type&&"RSA PRIVATE KEY"!==t.type){var n=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');n.headerType=t.type;throw n}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var s=i.fromDer(t.body);return o.privateKeyFromAsn1(s)};o.privateKeyToPem=function(e,t){var n={type:"RSA PRIVATE KEY",body:i.toDer(o.privateKeyToAsn1(e)).getBytes()};return r.pem.encode(n,{maxline:t})};o.privateKeyInfoToPem=function(e,t){var n={type:"PRIVATE KEY",body:i.toDer(e).getBytes()};return r.pem.encode(n,{maxline:t})}},268:(e,t,n)=>{var r=n(276);n(7619);n(3736);n(9356);!function(){function t(e,t,r,o){var s=i(e,t),a=function(e){return e>100?e>150?e>200?e>250?e>300?e>350?e>400?e>500?e>600?e>800?e>1250?2:3:4:5:6:7:8:9:12:15:18:27}(s.bitLength());"millerRabinTests"in r&&(a=r.millerRabinTests);var c=10;"maxBlockTime"in r&&(c=r.maxBlockTime);n(s,e,t,0,a,c,o)}function n(e,t,o,s,c,u,l){var f=+new Date;do{e.bitLength()>t&&(e=i(t,o));if(e.isProbablePrime(c))return l(null,e);e.dAddOffset(a[s++%8],0)}while(u<0||+new Date-f<u);r.util.setImmediate((function(){n(e,t,o,s,c,u,l)}))}function i(e,t){var n=new s(e,t),r=e-1;n.testBit(r)||n.bitwiseTo(s.ONE.shiftLeft(r),u,n);n.dAddOffset(31-n.mod(c).byteValue(),0);return n}if(r.prime)e.exports=r.prime;else{var o=e.exports=r.prime=r.prime||{},s=r.jsbn.BigInteger,a=[6,4,2,4,2,4,6,2],c=new s(null);c.fromInt(30);var u=function(e,t){return e|t};o.generateProbablePrime=function(e,n,o){if("function"===typeof n){o=n;n={}}var a=(n=n||{}).algorithm||"PRIMEINC";"string"===typeof a&&(a={name:a});a.options=a.options||{};var c=n.prng||r.random,u={nextBytes:function(e){for(var t=c.getBytesSync(e.length),n=0;n<e.length;++n)e[n]=t.charCodeAt(n)}};if("PRIMEINC"===a.name)return function(e,n,o,a){return"workers"in o?function(e,n,o,a){function c(){function t(t){if(!c){var o=t.data;if(o.found){for(var l=0;l<r.length;++l)r[l].terminate();c=!0;return a(null,new s(o.prime,16))}u.bitLength()>e&&(u=i(e,n));var h=u.toString(16);t.target.postMessage({hex:h,workLoad:f});u.dAddOffset(d,0)}}l=Math.max(1,l);for(var r=[],o=0;o<l;++o)r[o]=new Worker(h);for(o=0;o<l;++o)r[o].addEventListener("message",t);var c=!1}if("undefined"===typeof Worker)return t(e,n,o,a);var u=i(e,n),l=o.workers,f=o.workLoad||100,d=30*f/8,h=o.workerScript||"forge/prime.worker.js";if(-1===l)return r.util.estimateCores((function(e,t){e&&(t=2);l=t-1;c()}));c()}(e,n,o,a):t(e,n,o,a)}(e,u,a.options,o);throw new Error("Invalid prime generation algorithm: "+a.name)}}}()},3878:(e,t,n)=>{var r=n(276);n(7619);var i=null;!r.util.isNodejs||r.options.usePureJavaScript||process.versions["node-webkit"]||(i=n(5946));(e.exports=r.prng=r.prng||{}).create=function(e){function t(){if(s.pools[0].messageLength>=32)return n();var e=32-s.pools[0].messageLength<<5;s.collect(s.seedFileSync(e));n()}function n(){s.reseeds=4294967295===s.reseeds?0:s.reseeds+1;var e=s.plugin.md.create();e.update(s.keyBytes);for(var t=1,n=0;n<32;++n){if(s.reseeds%t===0){e.update(s.pools[n].digest().getBytes());s.pools[n].start()}t<<=1}s.keyBytes=e.digest().getBytes();e.start();e.update(s.keyBytes);var r=e.digest().getBytes();s.key=s.plugin.formatKey(s.keyBytes);s.seed=s.plugin.formatSeed(r);s.generated=0}function o(e){var t=null,n=r.util.globalScope,i=n.crypto||n.msCrypto;i&&i.getRandomValues&&(t=function(e){return i.getRandomValues(e)});var o=r.util.createBuffer();if(t)for(;o.length()<e;){var s=Math.max(1,Math.min(e-o.length(),65536)/4),a=new Uint32Array(Math.floor(s));try{t(a);for(var c=0;c<a.length;++c)o.putInt32(a[c])}catch(e){if(!("undefined"!==typeof QuotaExceededError&&e instanceof QuotaExceededError))throw e}}if(o.length()<e)for(var u,l,f,d=Math.floor(65536*Math.random());o.length()<e;){l=16807*(65535&d);l+=(32767&(u=16807*(d>>16)))<<16;d=4294967295&(l=(2147483647&(l+=u>>15))+(l>>31));for(c=0;c<3;++c){f=d>>>(c<<3);f^=Math.floor(256*Math.random());o.putByte(255&f)}}return o.getBytes(e)}for(var s={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},a=e.md,c=new Array(32),u=0;u<32;++u)c[u]=a.create();s.pools=c;s.pool=0;s.generate=function(e,t){if(!t)return s.generateSync(e);var i=s.plugin.cipher,o=s.plugin.increment,a=s.plugin.formatKey,c=s.plugin.formatSeed,u=r.util.createBuffer();s.key=null;!function l(f){if(f)return t(f);if(u.length()>=e)return t(null,u.getBytes(e));s.generated>1048575&&(s.key=null);if(null===s.key)return r.util.nextTick((function(){!function(e){if(s.pools[0].messageLength>=32){n();return e()}var t=32-s.pools[0].messageLength<<5;s.seedFile(t,(function(t,r){if(t)return e(t);s.collect(r);n();e()}))}(l)}));var d=i(s.key,s.seed);s.generated+=d.length;u.putBytes(d);s.key=a(i(s.key,o(s.seed)));s.seed=c(i(s.key,s.seed));r.util.setImmediate(l)}()};s.generateSync=function(e){var n=s.plugin.cipher,i=s.plugin.increment,o=s.plugin.formatKey,a=s.plugin.formatSeed;s.key=null;for(var c=r.util.createBuffer();c.length()<e;){s.generated>1048575&&(s.key=null);null===s.key&&t();var u=n(s.key,s.seed);s.generated+=u.length;c.putBytes(u);s.key=o(n(s.key,i(s.seed)));s.seed=a(n(s.key,s.seed))}return c.getBytes(e)};if(i){s.seedFile=function(e,t){i.randomBytes(e,(function(e,n){if(e)return t(e);t(null,n.toString())}))};s.seedFileSync=function(e){return i.randomBytes(e).toString()}}else{s.seedFile=function(e,t){try{t(null,o(e))}catch(e){t(e)}};s.seedFileSync=o}s.collect=function(e){for(var t=e.length,n=0;n<t;++n){s.pools[s.pool].update(e.substr(n,1));s.pool=31===s.pool?0:s.pool+1}};s.collectInt=function(e,t){for(var n="",r=0;r<t;r+=8)n+=String.fromCharCode(e>>r&255);s.collect(n)};s.registerWorker=function(e){e===self?s.seedFile=function(e,t){self.addEventListener("message",(function e(n){var r=n.data;if(r.forge&&r.forge.prng){self.removeEventListener("message",e);t(r.forge.prng.err,r.forge.prng.bytes)}}));self.postMessage({forge:{prng:{needed:e}}})}:e.addEventListener("message",(function(t){var n=t.data;n.forge&&n.forge.prng&&s.seedFile(n.forge.prng.needed,(function(t,n){e.postMessage({forge:{prng:{err:t,bytes:n}}})}))}))};return s}},1417:(e,t,n)=>{var r=n(276);n(9356);n(7619);(e.exports=r.pss=r.pss||{}).create=function(e){3===arguments.length&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t,n=e.md,i=e.mgf,o=n.digestLength,s=e.salt||null;"string"===typeof s&&(s=r.util.createBuffer(s));if("saltLength"in e)t=e.saltLength;else{if(null===s)throw new Error("Salt length not specified or specific salt not given.");t=s.length()}if(null!==s&&s.length()!==t)throw new Error("Given salt length does not match length of given salt.");var a=e.prng||r.random;return{encode:function(e,c){var u,l,f=c-1,d=Math.ceil(f/8),h=e.digest().getBytes();if(d<o+t+2)throw new Error("Message is too long to encrypt.");l=null===s?a.getBytesSync(t):s.bytes();var p=new r.util.ByteBuffer;p.fillWithByte(0,8);p.putBytes(h);p.putBytes(l);n.start();n.update(p.getBytes());var m=n.digest().getBytes(),g=new r.util.ByteBuffer;g.fillWithByte(0,d-t-o-2);g.putByte(1);g.putBytes(l);var y=g.getBytes(),_=d-o-1,v=i.generate(m,_),E="";for(u=0;u<_;u++)E+=String.fromCharCode(y.charCodeAt(u)^v.charCodeAt(u));var S=65280>>8*d-f&255;return(E=String.fromCharCode(E.charCodeAt(0)&~S)+E.substr(1))+m+String.fromCharCode(188)},verify:function(e,s,a){var c,u=a-1,l=Math.ceil(u/8);s=s.substr(-l);if(l<o+t+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==s.charCodeAt(l-1))throw new Error("Encoded message does not end in 0xBC.");var f=l-o-1,d=s.substr(0,f),h=s.substr(f,o),p=65280>>8*l-u&255;if(0!==(d.charCodeAt(0)&p))throw new Error("Bits beyond keysize not zero as expected.");var m=i.generate(h,f),g="";for(c=0;c<f;c++)g+=String.fromCharCode(d.charCodeAt(c)^m.charCodeAt(c));g=String.fromCharCode(g.charCodeAt(0)&~p)+g.substr(1);var y=l-o-t-2;for(c=0;c<y;c++)if(0!==g.charCodeAt(c))throw new Error("Leftmost octets not zero as expected");if(1!==g.charCodeAt(y))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var _=g.substr(-t),v=new r.util.ByteBuffer;v.fillWithByte(0,8);v.putBytes(e);v.putBytes(_);n.start();n.update(v.getBytes());return h===n.digest().getBytes()}}}},9356:(e,t,n)=>{var r=n(276);n(9504);n(172);n(3878);n(7619);!function(){r.random&&r.random.getBytes?e.exports=r.random:function(t){function n(){var e=r.prng.create(i);e.getBytes=function(t,n){return e.generate(t,n)};e.getBytesSync=function(t){return e.generate(t)};return e}var i={},o=new Array(4),s=r.util.createBuffer();i.formatKey=function(e){var t=r.util.createBuffer(e);(e=new Array(4))[0]=t.getInt32();e[1]=t.getInt32();e[2]=t.getInt32();e[3]=t.getInt32();return r.aes._expandKey(e,!1)};i.formatSeed=function(e){var t=r.util.createBuffer(e);(e=new Array(4))[0]=t.getInt32();e[1]=t.getInt32();e[2]=t.getInt32();e[3]=t.getInt32();return e};i.cipher=function(e,t){r.aes._updateBlock(e,t,o,!1);s.putInt32(o[0]);s.putInt32(o[1]);s.putInt32(o[2]);s.putInt32(o[3]);return s.getBytes()};i.increment=function(e){++e[3];return e};i.md=r.md.sha256;var a=n(),c=null,u=r.util.globalScope,l=u.crypto||u.msCrypto;l&&l.getRandomValues&&(c=function(e){return l.getRandomValues(e)});if(r.options.usePureJavaScript||!r.util.isNodejs&&!c){"undefined"===typeof window||window.document;a.collectInt(+new Date,32);if("undefined"!==typeof navigator){var f="";for(var d in navigator)try{"string"==typeof navigator[d]&&(f+=navigator[d])}catch(e){}a.collect(f);f=null}if(t){t().mousemove((function(e){a.collectInt(e.clientX,16);a.collectInt(e.clientY,16)}));t().keypress((function(e){a.collectInt(e.charCode,8)}))}}if(r.random)for(var d in a)r.random[d]=a[d];else r.random=a;r.random.createInstance=n;e.exports=r.random}("undefined"!==typeof jQuery?jQuery:null)}()},5124:(e,t,n)=>{var r=n(276);n(7619);var i=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],o=[1,2,3,5],s=function(e,t){return e<<t&65535|(65535&e)>>16-t},a=function(e,t){return(65535&e)>>t|e<<16-t&65535};e.exports=r.rc2=r.rc2||{};r.rc2.expandKey=function(e,t){"string"===typeof e&&(e=r.util.createBuffer(e));t=t||128;var n,o=e,s=e.length(),a=t,c=Math.ceil(a/8),u=255>>(7&a);for(n=s;n<128;n++)o.putByte(i[o.at(n-1)+o.at(n-s)&255]);o.setAt(128-c,i[o.at(128-c)&u]);for(n=127-c;n>=0;n--)o.setAt(n,i[o.at(n+1)^o.at(n+c)]);return o};var c=function(e,t,n){var i,c,u,l,f=!1,d=null,h=null,p=null,m=[];e=r.rc2.expandKey(e,t);for(u=0;u<64;u++)m.push(e.getInt16Le());if(n){i=function(e){for(u=0;u<4;u++){e[u]+=m[l]+(e[(u+3)%4]&e[(u+2)%4])+(~e[(u+3)%4]&e[(u+1)%4]);e[u]=s(e[u],o[u]);l++}};c=function(e){for(u=0;u<4;u++)e[u]+=m[63&e[(u+3)%4]]}}else{i=function(e){for(u=3;u>=0;u--){e[u]=a(e[u],o[u]);e[u]-=m[l]+(e[(u+3)%4]&e[(u+2)%4])+(~e[(u+3)%4]&e[(u+1)%4]);l--}};c=function(e){for(u=3;u>=0;u--)e[u]-=m[63&e[(u+3)%4]]}}var g=function(e){var t=[];for(u=0;u<4;u++){var r=d.getInt16Le();null!==p&&(n?r^=p.getInt16Le():p.putInt16Le(r));t.push(65535&r)}l=n?0:63;for(var i=0;i<e.length;i++)for(var o=0;o<e[i][0];o++)e[i][1](t);for(u=0;u<4;u++){null!==p&&(n?p.putInt16Le(t[u]):t[u]^=p.getInt16Le());h.putInt16Le(t[u])}},y=null;return y={start:function(e,t){e&&"string"===typeof e&&(e=r.util.createBuffer(e));f=!1;d=r.util.createBuffer();h=t||new r.util.createBuffer;p=e;y.output=h},update:function(e){f||d.putBuffer(e);for(;d.length()>=8;)g([[5,i],[1,c],[6,i],[1,c],[5,i]])},finish:function(e){var t=!0;if(n)if(e)t=e(8,d,!n);else{var r=8===d.length()?8:8-d.length();d.fillWithByte(r,r)}if(t){f=!0;y.update()}if(!n&&(t=0===d.length()))if(e)t=e(8,h,!n);else{var i=h.length(),o=h.at(i-1);o>i?t=!1:h.truncate(o)}return t}}};r.rc2.startEncrypting=function(e,t,n){var i=r.rc2.createEncryptionCipher(e,128);i.start(t,n);return i};r.rc2.createEncryptionCipher=function(e,t){return c(e,t,!0)};r.rc2.startDecrypting=function(e,t,n){var i=r.rc2.createDecryptionCipher(e,128);i.start(t,n);return i};r.rc2.createDecryptionCipher=function(e,t){return c(e,t,!1)}},5805:(e,t,n)=>{function r(e,t,n){var r=f.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var o=new Error("Message is too long for PKCS#1 v1.5 padding.");o.length=e.length;o.max=i-11;throw o}r.putByte(0);r.putByte(n);var s,a=i-3-e.length;if(0===n||1===n){s=0===n?0:255;for(var c=0;c<a;++c)r.putByte(s)}else for(;a>0;){var u=0,l=f.random.getBytes(a);for(c=0;c<a;++c)0===(s=l.charCodeAt(c))?++u:r.putByte(s);a=u}r.putByte(0);r.putBytes(e);return r}function i(e,t,n,r){var i=Math.ceil(t.n.bitLength()/8),o=f.util.createBuffer(e),s=o.getByte(),a=o.getByte();if(0!==s||n&&0!==a&&1!==a||!n&&2!=a||n&&0===a&&"undefined"===typeof r)throw new Error("Encryption block is invalid.");var c=0;if(0===a){c=i-3-r;for(var u=0;u<c;++u)if(0!==o.getByte())throw new Error("Encryption block is invalid.")}else if(1===a){c=0;for(;o.length()>1;){if(255!==o.getByte()){--o.read;break}++c}}else if(2===a){c=0;for(;o.length()>1;){if(0===o.getByte()){--o.read;break}++c}}if(0!==o.getByte()||c!==i-3-o.length())throw new Error("Encryption block is invalid.");return o.getBytes()}function o(e){var t=e.toString(16);t[0]<"8"||(t="00"+t);var n=f.util.hexToBytes(t);return n.length>1&&(0===n.charCodeAt(0)&&0===(128&n.charCodeAt(1))||255===n.charCodeAt(0)&&128===(128&n.charCodeAt(1)))?n.substr(1):n}function s(e){return e>100?e>150?e>200?e>250?e>300?e>350?e>400?e>500?e>600?e>800?e>1250?2:3:4:5:6:7:8:9:12:15:18:27}function a(e){return f.util.isNodejs&&"function"===typeof h[e]}function c(e){return"undefined"!==typeof m.globalScope&&"object"===typeof m.globalScope.crypto&&"object"===typeof m.globalScope.crypto.subtle&&"function"===typeof m.globalScope.crypto.subtle[e]}function u(e){return"undefined"!==typeof m.globalScope&&"object"===typeof m.globalScope.msCrypto&&"object"===typeof m.globalScope.msCrypto.subtle&&"function"===typeof m.globalScope.msCrypto.subtle[e]}function l(e){for(var t=f.util.hexToBytes(e.toString(16)),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}var f=n(276);n(2746);n(3736);n(6418);n(7501);n(268);n(9356);n(7619);if("undefined"===typeof d)var d=f.jsbn.BigInteger;var h=f.util.isNodejs?n(5946):null,p=f.asn1,m=f.util;f.pki=f.pki||{};e.exports=f.pki.rsa=f.rsa=f.rsa||{};var g=f.pki,y=[6,4,2,4,2,4,6,2],_={name:"PrivateKeyInfo",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:p.Class.UNIVERSAL,type:p.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},v={name:"RSAPrivateKey",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},E={name:"RSAPublicKey",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},S=f.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:p.Class.UNIVERSAL,type:p.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},b={name:"DigestInfo",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:p.Class.UNIVERSAL,type:p.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:p.Class.UNIVERSAL,type:p.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},T=function(e){var t;if(!(e.algorithm in g.oids)){var n=new Error("Unknown message digest algorithm.");n.algorithm=e.algorithm;throw n}t=g.oids[e.algorithm];var r=p.oidToDer(t).getBytes(),i=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[]),o=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[]);o.value.push(p.create(p.Class.UNIVERSAL,p.Type.OID,!1,r));o.value.push(p.create(p.Class.UNIVERSAL,p.Type.NULL,!1,""));var s=p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,e.digest().getBytes());i.value.push(o);i.value.push(s);return p.toDer(i).getBytes()},C=function(e,t,n){if(n)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(d.ONE)));t.dQ||(t.dQ=t.d.mod(t.q.subtract(d.ONE)));t.qInv||(t.qInv=t.q.modInverse(t.p));var r;do{r=new d(f.util.bytesToHex(f.random.getBytes(t.n.bitLength()/8)),16)}while(r.compareTo(t.n)>=0||!r.gcd(t.n).equals(d.ONE));for(var i=(e=e.multiply(r.modPow(t.e,t.n)).mod(t.n)).mod(t.p).modPow(t.dP,t.p),o=e.mod(t.q).modPow(t.dQ,t.q);i.compareTo(o)<0;)i=i.add(t.p);var s=i.subtract(o).multiply(t.qInv).mod(t.p).multiply(t.q).add(o);return s.multiply(r.modInverse(t.n)).mod(t.n)};g.rsa.encrypt=function(e,t,n){var i,o=n,s=Math.ceil(t.n.bitLength()/8);if(!1!==n&&!0!==n){o=2===n;i=r(e,t,n)}else(i=f.util.createBuffer()).putBytes(e);for(var a=new d(i.toHex(),16),c=C(a,t,o).toString(16),u=f.util.createBuffer(),l=s-Math.ceil(c.length/2);l>0;){u.putByte(0);--l}u.putBytes(f.util.hexToBytes(c));return u.getBytes()};g.rsa.decrypt=function(e,t,n,r){var o=Math.ceil(t.n.bitLength()/8);if(e.length!==o){var s=new Error("Encrypted message length is invalid.");s.length=e.length;s.expected=o;throw s}var a=new d(f.util.createBuffer(e).toHex(),16);if(a.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var c=C(a,t,n).toString(16),u=f.util.createBuffer(),l=o-Math.ceil(c.length/2);l>0;){u.putByte(0);--l}u.putBytes(f.util.hexToBytes(c));return!1!==r?i(u.getBytes(),t,n):u.getBytes()};g.rsa.createKeyPairGenerationState=function(e,t,n){"string"===typeof e&&(e=parseInt(e,10));e=e||2048;var r,i=(n=n||{}).prng||f.random,o={nextBytes:function(e){for(var t=i.getBytesSync(e.length),n=0;n<e.length;++n)e[n]=t.charCodeAt(n)}},s=n.algorithm||"PRIMEINC";if("PRIMEINC"!==s)throw new Error("Invalid key generation algorithm: "+s);(r={algorithm:s,state:0,bits:e,rng:o,eInt:t||65537,e:new d(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null}).e.fromInt(r.eInt);return r};g.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var n=new d(null);n.fromInt(30);for(var r,i=0,o=function(e,t){return e|t},a=+new Date,c=0;null===e.keys&&(t<=0||c<t);){if(0===e.state){var u=null===e.p?e.pBits:e.qBits,l=u-1;if(0===e.pqState){e.num=new d(u,e.rng);e.num.testBit(l)||e.num.bitwiseTo(d.ONE.shiftLeft(l),o,e.num);e.num.dAddOffset(31-e.num.mod(n).byteValue(),0);i=0;++e.pqState}else if(1===e.pqState)e.num.bitLength()>u?e.pqState=0:e.num.isProbablePrime(s(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(y[i++%8],0);else if(2===e.pqState)e.pqState=0===e.num.subtract(d.ONE).gcd(e.e).compareTo(d.ONE)?3:0;else if(3===e.pqState){e.pqState=0;null===e.p?e.p=e.num:e.q=e.num;null!==e.p&&null!==e.q&&++e.state;e.num=null}}else if(1===e.state){if(e.p.compareTo(e.q)<0){e.num=e.p;e.p=e.q;e.q=e.num}++e.state}else if(2===e.state){e.p1=e.p.subtract(d.ONE);e.q1=e.q.subtract(d.ONE);e.phi=e.p1.multiply(e.q1);++e.state}else if(3===e.state)if(0===e.phi.gcd(e.e).compareTo(d.ONE))++e.state;else{e.p=null;e.q=null;e.state=0}else if(4===e.state){e.n=e.p.multiply(e.q);if(e.n.bitLength()===e.bits)++e.state;else{e.q=null;e.state=0}}else if(5===e.state){var f=e.e.modInverse(e.phi);e.keys={privateKey:g.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:g.rsa.setPublicKey(e.n,e.e)}}c+=(r=+new Date)-a;a=r}return null!==e.keys};g.rsa.generateKeyPair=function(e,t,n,r){if(1===arguments.length){if("object"===typeof e){n=e;e=void 0}else if("function"===typeof e){r=e;e=void 0}}else if(2===arguments.length)if("number"===typeof e){if("function"===typeof t){r=t;t=void 0}else if("number"!==typeof t){n=t;t=void 0}}else{n=e;r=t;e=void 0;t=void 0}else if(3===arguments.length)if("number"===typeof t){if("function"===typeof n){r=n;n=void 0}}else{r=n;n=t;t=void 0}n=n||{};void 0===e&&(e=n.bits||2048);void 0===t&&(t=n.e||65537);if(!f.options.usePureJavaScript&&!n.prng&&e>=256&&e<=16384&&(65537===t||3===t))if(r){if(a("generateKeyPair"))return h.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},(function(e,t,n){if(e)return r(e);r(null,{privateKey:g.privateKeyFromPem(n),publicKey:g.publicKeyFromPem(t)})}));if(c("generateKey")&&c("exportKey"))return m.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:l(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then((function(e){return m.globalScope.crypto.subtle.exportKey("pkcs8",e.privateKey)})).then(void 0,(function(e){r(e)})).then((function(e){if(e){var t=g.privateKeyFromAsn1(p.fromDer(f.util.createBuffer(e)));r(null,{privateKey:t,publicKey:g.setRsaPublicKey(t.n,t.e)})}}));if(u("generateKey")&&u("exportKey")){var i=m.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:l(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(e){var t=e.target.result,n=m.globalScope.msCrypto.subtle.exportKey("pkcs8",t.privateKey);n.oncomplete=function(e){var t=e.target.result,n=g.privateKeyFromAsn1(p.fromDer(f.util.createBuffer(t)));r(null,{privateKey:n,publicKey:g.setRsaPublicKey(n.n,n.e)})};n.onerror=function(e){r(e)}};i.onerror=function(e){r(e)};return}}else if(a("generateKeyPairSync")){var o=h.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:g.privateKeyFromPem(o.privateKey),publicKey:g.publicKeyFromPem(o.publicKey)}}var s=g.rsa.createKeyPairGenerationState(e,t,n);if(!r){g.rsa.stepKeyPairGenerationState(s,0);return s.keys}!function(e,t,n){function r(){i(e.pBits,(function(t,r){if(t)return n(t);e.p=r;if(null!==e.q)return o(t,e.q);i(e.qBits,o)}))}function i(e,t){f.prime.generateProbablePrime(e,s,t)}function o(t,s){if(t)return n(t);e.q=s;if(e.p.compareTo(e.q)<0){var a=e.p;e.p=e.q;e.q=a}if(0===e.p.subtract(d.ONE).gcd(e.e).compareTo(d.ONE))if(0===e.q.subtract(d.ONE).gcd(e.e).compareTo(d.ONE)){e.p1=e.p.subtract(d.ONE);e.q1=e.q.subtract(d.ONE);e.phi=e.p1.multiply(e.q1);if(0===e.phi.gcd(e.e).compareTo(d.ONE)){e.n=e.p.multiply(e.q);if(e.n.bitLength()===e.bits){var c=e.e.modInverse(e.phi);e.keys={privateKey:g.rsa.setPrivateKey(e.n,e.e,c,e.p,e.q,c.mod(e.p1),c.mod(e.q1),e.q.modInverse(e.p)),publicKey:g.rsa.setPublicKey(e.n,e.e)};n(null,e.keys)}else{e.q=null;i(e.qBits,o)}}else{e.p=e.q=null;r()}}else{e.q=null;i(e.qBits,o)}else{e.p=null;r()}}if("function"===typeof t){n=t;t={}}var s={algorithm:{name:(t=t||{}).algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(s.prng=t.prng);r()}(s,n,r)};g.setRsaPublicKey=g.rsa.setPublicKey=function(e,t){var n={n:e,e:t,encrypt:function(e,t,i){"string"===typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5");if("RSAES-PKCS1-V1_5"===t)t={encode:function(e,t){return r(e,t,2).getBytes()}};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={encode:function(e,t){return f.pkcs1.encode_rsa_oaep(t,e,i)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(t))t={encode:function(e){return e}};else if("string"===typeof t)throw new Error('Unsupported encryption scheme: "'+t+'".');var o=t.encode(e,n,!0);return g.rsa.encrypt(o,n,!0)},verify:function(e,t,r,o){"string"===typeof r?r=r.toUpperCase():void 0===r&&(r="RSASSA-PKCS1-V1_5");void 0===o&&(o={_parseAllDigestBytes:!0});"_parseAllDigestBytes"in o||(o._parseAllDigestBytes=!0);"RSASSA-PKCS1-V1_5"===r?r={verify:function(e,t){t=i(t,n,!0);var r=p.fromDer(t,{parseAllBytes:o._parseAllDigestBytes}),s={},a=[];if(!p.validate(r,b,s,a)){(u=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.")).errors=a;throw u}var c=p.derToOid(s.algorithmIdentifier);if(c!==f.oids.md2&&c!==f.oids.md5&&c!==f.oids.sha1&&c!==f.oids.sha224&&c!==f.oids.sha256&&c!==f.oids.sha384&&c!==f.oids.sha512&&c!==f.oids["sha512-224"]&&c!==f.oids["sha512-256"]){var u;(u=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.")).oid=c;throw u}if((c===f.oids.md2||c===f.oids.md5)&&!("parameters"in s))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return e===s.digest}}:"NONE"!==r&&"NULL"!==r&&null!==r||(r={verify:function(e,t){return e===i(t,n,!0)}});var s=g.rsa.decrypt(t,n,!0,!1);return r.verify(e,s,n.n.bitLength())}};return n};g.setRsaPrivateKey=g.rsa.setPrivateKey=function(e,t,n,r,o,s,a,c){var u={n:e,e:t,d:n,p:r,q:o,dP:s,dQ:a,qInv:c,decrypt:function(e,t,n){"string"===typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5");var r=g.rsa.decrypt(e,u,!1,!1);if("RSAES-PKCS1-V1_5"===t)t={decode:i};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={decode:function(e,t){return f.pkcs1.decode_rsa_oaep(t,e,n)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(t))throw new Error('Unsupported encryption scheme: "'+t+'".');t={decode:function(e){return e}}}return t.decode(r,u,!1)},sign:function(e,t){var n=!1;"string"===typeof t&&(t=t.toUpperCase());if(void 0===t||"RSASSA-PKCS1-V1_5"===t){t={encode:T};n=1}else if("NONE"===t||"NULL"===t||null===t){t={encode:function(){return e}};n=1}var r=t.encode(e,u.n.bitLength());return g.rsa.encrypt(r,u,n)}};return u};g.wrapRsaPrivateKey=function(e){return p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,p.integerToDer(0).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(g.oids.rsaEncryption).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.NULL,!1,"")]),p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,p.toDer(e).getBytes())])};g.privateKeyFromAsn1=function(e){var t,n,r,i,o,s,a,c,u={},l=[];p.validate(e,_,u,l)&&(e=p.fromDer(f.util.createBuffer(u.privateKey)));u={};l=[];if(!p.validate(e,v,u,l)){var h=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");h.errors=l;throw h}t=f.util.createBuffer(u.privateKeyModulus).toHex();n=f.util.createBuffer(u.privateKeyPublicExponent).toHex();r=f.util.createBuffer(u.privateKeyPrivateExponent).toHex();i=f.util.createBuffer(u.privateKeyPrime1).toHex();o=f.util.createBuffer(u.privateKeyPrime2).toHex();s=f.util.createBuffer(u.privateKeyExponent1).toHex();a=f.util.createBuffer(u.privateKeyExponent2).toHex();c=f.util.createBuffer(u.privateKeyCoefficient).toHex();return g.setRsaPrivateKey(new d(t,16),new d(n,16),new d(r,16),new d(i,16),new d(o,16),new d(s,16),new d(a,16),new d(c,16))};g.privateKeyToAsn1=g.privateKeyToRSAPrivateKey=function(e){return p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,p.integerToDer(0).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,o(e.n)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,o(e.e)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,o(e.d)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,o(e.p)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,o(e.q)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,o(e.dP)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,o(e.dQ)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,o(e.qInv))])};g.publicKeyFromAsn1=function(e){var t={},n=[];if(p.validate(e,S,t,n)){var r=p.derToOid(t.publicKeyOid);if(r!==g.oids.rsaEncryption){(i=new Error("Cannot read public key. Unknown OID.")).oid=r;throw i}e=t.rsaPublicKey}n=[];if(!p.validate(e,E,t,n)){var i;(i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=n;throw i}var o=f.util.createBuffer(t.publicKeyModulus).toHex(),s=f.util.createBuffer(t.publicKeyExponent).toHex();return g.setRsaPublicKey(new d(o,16),new d(s,16))};g.publicKeyToAsn1=g.publicKeyToSubjectPublicKeyInfo=function(e){return p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(g.oids.rsaEncryption).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.NULL,!1,"")]),p.create(p.Class.UNIVERSAL,p.Type.BITSTRING,!1,[g.publicKeyToRSAPublicKey(e)])])};g.publicKeyToRSAPublicKey=function(e){return p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,o(e.n)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,o(e.e))])}},1598:(e,t,n)=>{function r(e,t,n){for(var r,i,o,s,a,c,u,l=n.length();l>=64;){i=e.h0;o=e.h1;s=e.h2;a=e.h3;c=e.h4;for(u=0;u<16;++u){r=n.getInt32();t[u]=r;r=(i<<5|i>>>27)+(a^o&(s^a))+c+1518500249+r;c=a;a=s;s=(o<<30|o>>>2)>>>0;o=i;i=r}for(;u<20;++u){r=(r=t[u-3]^t[u-8]^t[u-14]^t[u-16])<<1|r>>>31;t[u]=r;r=(i<<5|i>>>27)+(a^o&(s^a))+c+1518500249+r;c=a;a=s;s=(o<<30|o>>>2)>>>0;o=i;i=r}for(;u<32;++u){r=(r=t[u-3]^t[u-8]^t[u-14]^t[u-16])<<1|r>>>31;t[u]=r;r=(i<<5|i>>>27)+(o^s^a)+c+1859775393+r;c=a;a=s;s=(o<<30|o>>>2)>>>0;o=i;i=r}for(;u<40;++u){r=(r=t[u-6]^t[u-16]^t[u-28]^t[u-32])<<2|r>>>30;t[u]=r;r=(i<<5|i>>>27)+(o^s^a)+c+1859775393+r;c=a;a=s;s=(o<<30|o>>>2)>>>0;o=i;i=r}for(;u<60;++u){r=(r=t[u-6]^t[u-16]^t[u-28]^t[u-32])<<2|r>>>30;t[u]=r;r=(i<<5|i>>>27)+(o&s|a&(o^s))+c+2400959708+r;c=a;a=s;s=(o<<30|o>>>2)>>>0;o=i;i=r}for(;u<80;++u){r=(r=t[u-6]^t[u-16]^t[u-28]^t[u-32])<<2|r>>>30;t[u]=r;r=(i<<5|i>>>27)+(o^s^a)+c+3395469782+r;c=a;a=s;s=(o<<30|o>>>2)>>>0;o=i;i=r}e.h0=e.h0+i|0;e.h1=e.h1+o|0;e.h2=e.h2+s|0;e.h3=e.h3+a|0;e.h4=e.h4+c|0;l-=64}}var i=n(276);n(8106);n(7619);var o=e.exports=i.sha1=i.sha1||{};i.md.sha1=i.md.algorithms.sha1=o;o.create=function(){a||function(){s=String.fromCharCode(128);s+=i.util.fillString(String.fromCharCode(0),64);a=!0}();var e=null,t=i.util.createBuffer(),n=new Array(80),o={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){o.messageLength=0;o.fullMessageLength=o.messageLength64=[];for(var n=o.messageLengthSize/4,r=0;r<n;++r)o.fullMessageLength.push(0);t=i.util.createBuffer();e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520};return o}};o.start();o.update=function(s,a){"utf8"===a&&(s=i.util.encodeUtf8(s));var c=s.length;o.messageLength+=c;c=[c/4294967296>>>0,c>>>0];for(var u=o.fullMessageLength.length-1;u>=0;--u){o.fullMessageLength[u]+=c[1];c[1]=c[0]+(o.fullMessageLength[u]/4294967296>>>0);o.fullMessageLength[u]=o.fullMessageLength[u]>>>0;c[0]=c[1]/4294967296>>>0}t.putBytes(s);r(e,n,t);(t.read>2048||0===t.length())&&t.compact();return o};o.digest=function(){var a=i.util.createBuffer();a.putBytes(t.bytes());var c,u=o.fullMessageLength[o.fullMessageLength.length-1]+o.messageLengthSize&o.blockLength-1;a.putBytes(s.substr(0,o.blockLength-u));for(var l=8*o.fullMessageLength[0],f=0;f<o.fullMessageLength.length-1;++f){l+=(c=8*o.fullMessageLength[f+1])/4294967296>>>0;a.putInt32(l>>>0);l=c>>>0}a.putInt32(l);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};r(d,n,a);var h=i.util.createBuffer();h.putInt32(d.h0);h.putInt32(d.h1);h.putInt32(d.h2);h.putInt32(d.h3);h.putInt32(d.h4);return h};return o};var s=null,a=!1},172:(e,t,n)=>{function r(e,t,n){for(var r,i,o,s,a,u,l,f,d,h,p,m,g,y=n.length();y>=64;){for(a=0;a<16;++a)t[a]=n.getInt32();for(;a<64;++a){r=((r=t[a-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10;i=((i=t[a-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3;t[a]=r+t[a-7]+i+t[a-16]|0}u=e.h0;l=e.h1;f=e.h2;d=e.h3;h=e.h4;p=e.h5;m=e.h6;g=e.h7;for(a=0;a<64;++a){o=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10);s=u&l|f&(u^l);r=g+((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(m^h&(p^m))+c[a]+t[a];g=m;m=p;p=h;h=d+r>>>0;d=f;f=l;l=u;u=r+(i=o+s)>>>0}e.h0=e.h0+u|0;e.h1=e.h1+l|0;e.h2=e.h2+f|0;e.h3=e.h3+d|0;e.h4=e.h4+h|0;e.h5=e.h5+p|0;e.h6=e.h6+m|0;e.h7=e.h7+g|0;y-=64}}var i=n(276);n(8106);n(7619);var o=e.exports=i.sha256=i.sha256||{};i.md.sha256=i.md.algorithms.sha256=o;o.create=function(){a||function(){s=String.fromCharCode(128);s+=i.util.fillString(String.fromCharCode(0),64);c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];a=!0}();var e=null,t=i.util.createBuffer(),n=new Array(64),o={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){o.messageLength=0;o.fullMessageLength=o.messageLength64=[];for(var n=o.messageLengthSize/4,r=0;r<n;++r)o.fullMessageLength.push(0);t=i.util.createBuffer();e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225};return o}};o.start();o.update=function(s,a){"utf8"===a&&(s=i.util.encodeUtf8(s));var c=s.length;o.messageLength+=c;c=[c/4294967296>>>0,c>>>0];for(var u=o.fullMessageLength.length-1;u>=0;--u){o.fullMessageLength[u]+=c[1];c[1]=c[0]+(o.fullMessageLength[u]/4294967296>>>0);o.fullMessageLength[u]=o.fullMessageLength[u]>>>0;c[0]=c[1]/4294967296>>>0}t.putBytes(s);r(e,n,t);(t.read>2048||0===t.length())&&t.compact();return o};o.digest=function(){var a=i.util.createBuffer();a.putBytes(t.bytes());var c,u=o.fullMessageLength[o.fullMessageLength.length-1]+o.messageLengthSize&o.blockLength-1;a.putBytes(s.substr(0,o.blockLength-u));for(var l=8*o.fullMessageLength[0],f=0;f<o.fullMessageLength.length-1;++f){l+=(c=8*o.fullMessageLength[f+1])/4294967296>>>0;a.putInt32(l>>>0);l=c>>>0}a.putInt32(l);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};r(d,n,a);var h=i.util.createBuffer();h.putInt32(d.h0);h.putInt32(d.h1);h.putInt32(d.h2);h.putInt32(d.h3);h.putInt32(d.h4);h.putInt32(d.h5);h.putInt32(d.h6);h.putInt32(d.h7);return h};return o};var s=null,a=!1,c=null},2313:(e,t,n)=>{function r(e,t,n){for(var r,i,o,s,a,c,l,f,d,h,p,m,g,y,_,v,E,S,b,T,C,I,w,N,A,R,O,L,D,x,P,k,B,M=n.length();M>=128;){for(O=0;O<16;++O){t[O][0]=n.getInt32()>>>0;t[O][1]=n.getInt32()>>>0}for(;O<80;++O){r=(((L=(x=t[O-2])[0])>>>19|(D=x[1])<<13)^(D>>>29|L<<3)^L>>>6)>>>0;i=((L<<13|D>>>19)^(D<<3|L>>>29)^(L<<26|D>>>6))>>>0;o=(((L=(k=t[O-15])[0])>>>1|(D=k[1])<<31)^(L>>>8|D<<24)^L>>>7)>>>0;s=((L<<31|D>>>1)^(L<<24|D>>>8)^(L<<25|D>>>7))>>>0;P=t[O-7];B=t[O-16];D=i+P[1]+s+B[1];t[O][0]=r+P[0]+o+B[0]+(D/4294967296>>>0)>>>0;t[O][1]=D>>>0}p=e[0][0];m=e[0][1];g=e[1][0];y=e[1][1];_=e[2][0];v=e[2][1];E=e[3][0];S=e[3][1];b=e[4][0];T=e[4][1];C=e[5][0];I=e[5][1];w=e[6][0];N=e[6][1];A=e[7][0];R=e[7][1];for(O=0;O<80;++O){l=((b>>>14|T<<18)^(b>>>18|T<<14)^(T>>>9|b<<23))>>>0;f=(w^b&(C^w))>>>0;a=((p>>>28|m<<4)^(m>>>2|p<<30)^(m>>>7|p<<25))>>>0;c=((p<<4|m>>>28)^(m<<30|p>>>2)^(m<<25|p>>>7))>>>0;d=(p&g|_&(p^g))>>>0;h=(m&y|v&(m^y))>>>0;D=R+(((b<<18|T>>>14)^(b<<14|T>>>18)^(T<<23|b>>>9))>>>0)+((N^T&(I^N))>>>0)+u[O][1]+t[O][1];r=A+l+f+u[O][0]+t[O][0]+(D/4294967296>>>0)>>>0;i=D>>>0;o=a+d+((D=c+h)/4294967296>>>0)>>>0;s=D>>>0;A=w;R=N;w=C;N=I;C=b;I=T;b=E+r+((D=S+i)/4294967296>>>0)>>>0;T=D>>>0;E=_;S=v;_=g;v=y;g=p;y=m;p=r+o+((D=i+s)/4294967296>>>0)>>>0;m=D>>>0}D=e[0][1]+m;e[0][0]=e[0][0]+p+(D/4294967296>>>0)>>>0;e[0][1]=D>>>0;D=e[1][1]+y;e[1][0]=e[1][0]+g+(D/4294967296>>>0)>>>0;e[1][1]=D>>>0;D=e[2][1]+v;e[2][0]=e[2][0]+_+(D/4294967296>>>0)>>>0;e[2][1]=D>>>0;D=e[3][1]+S;e[3][0]=e[3][0]+E+(D/4294967296>>>0)>>>0;e[3][1]=D>>>0;D=e[4][1]+T;e[4][0]=e[4][0]+b+(D/4294967296>>>0)>>>0;e[4][1]=D>>>0;D=e[5][1]+I;e[5][0]=e[5][0]+C+(D/4294967296>>>0)>>>0;e[5][1]=D>>>0;D=e[6][1]+N;e[6][0]=e[6][0]+w+(D/4294967296>>>0)>>>0;e[6][1]=D>>>0;D=e[7][1]+R;e[7][0]=e[7][0]+A+(D/4294967296>>>0)>>>0;e[7][1]=D>>>0;M-=128}}var i=n(276);n(8106);n(7619);var o=e.exports=i.sha512=i.sha512||{};i.md.sha512=i.md.algorithms.sha512=o;var s=i.sha384=i.sha512.sha384=i.sha512.sha384||{};s.create=function(){return o.create("SHA-384")};i.md.sha384=i.md.algorithms.sha384=s;i.sha512.sha256=i.sha512.sha256||{create:function(){return o.create("SHA-512/256")}};i.md["sha512/256"]=i.md.algorithms["sha512/256"]=i.sha512.sha256;i.sha512.sha224=i.sha512.sha224||{create:function(){return o.create("SHA-512/224")}};i.md["sha512/224"]=i.md.algorithms["sha512/224"]=i.sha512.sha224;o.create=function(e){c||function(){a=String.fromCharCode(128);a+=i.util.fillString(String.fromCharCode(0),128);u=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]];(l={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]];l["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]];l["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]];l["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]];c=!0}();"undefined"===typeof e&&(e="SHA-512");if(!(e in l))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=l[e],n=null,o=i.util.createBuffer(),s=new Array(80),f=0;f<80;++f)s[f]=new Array(2);var d=64;switch(e){case"SHA-384":d=48;break;case"SHA-512/256":d=32;break;case"SHA-512/224":d=28}var h={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:d,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){h.messageLength=0;h.fullMessageLength=h.messageLength128=[];for(var e=h.messageLengthSize/4,r=0;r<e;++r)h.fullMessageLength.push(0);o=i.util.createBuffer();n=new Array(t.length);for(r=0;r<t.length;++r)n[r]=t[r].slice(0);return h}};h.start();h.update=function(e,t){"utf8"===t&&(e=i.util.encodeUtf8(e));var a=e.length;h.messageLength+=a;a=[a/4294967296>>>0,a>>>0];for(var c=h.fullMessageLength.length-1;c>=0;--c){h.fullMessageLength[c]+=a[1];a[1]=a[0]+(h.fullMessageLength[c]/4294967296>>>0);h.fullMessageLength[c]=h.fullMessageLength[c]>>>0;a[0]=a[1]/4294967296>>>0}o.putBytes(e);r(n,s,o);(o.read>2048||0===o.length())&&o.compact();return h};h.digest=function(){var t=i.util.createBuffer();t.putBytes(o.bytes());var c,u=h.fullMessageLength[h.fullMessageLength.length-1]+h.messageLengthSize&h.blockLength-1;t.putBytes(a.substr(0,h.blockLength-u));for(var l=8*h.fullMessageLength[0],f=0;f<h.fullMessageLength.length-1;++f){l+=(c=8*h.fullMessageLength[f+1])/4294967296>>>0;t.putInt32(l>>>0);l=c>>>0}t.putInt32(l);var d=new Array(n.length);for(f=0;f<n.length;++f)d[f]=n[f].slice(0);r(d,s,t);var p,m=i.util.createBuffer();p="SHA-512"===e?d.length:"SHA-384"===e?d.length-2:d.length-4;for(f=0;f<p;++f){m.putInt32(d[f][0]);f===p-1&&"SHA-512/224"===e||m.putInt32(d[f][1])}return m};return h};var a=null,c=!1,u=null,l=null},149:(e,t,n)=>{function r(e,t){var n=t.toString(16);n[0]<"8"||(n="00"+n);var r=s.util.hexToBytes(n);e.putInt32(r.length);e.putBytes(r)}function i(e,t){e.putInt32(t.length);e.putString(t)}function o(){for(var e=s.md.sha1.create(),t=arguments.length,n=0;n<t;++n)e.update(arguments[n]);return e.digest()}var s=n(276);n(9504);n(1696);n(1267);n(1598);n(7619);var a=e.exports=s.ssh=s.ssh||{};a.privateKeyToPutty=function(e,t,n){var a="ssh-rsa",c=""===(t=t||"")?"none":"aes256-cbc",u="PuTTY-User-Key-File-2: "+a+"\r\n";u+="Encryption: "+c+"\r\n";u+="Comment: "+(n=n||"")+"\r\n";var l=s.util.createBuffer();i(l,a);r(l,e.e);r(l,e.n);var f=s.util.encode64(l.bytes(),64),d=Math.floor(f.length/66)+1;u+="Public-Lines: "+d+"\r\n";u+=f;var h,p=s.util.createBuffer();r(p,e.d);r(p,e.p);r(p,e.q);r(p,e.qInv);if(t){var m=p.length()+16-1;m-=m%16;var g=o(p.bytes());g.truncate(g.length()-m+p.length());p.putBuffer(g);var y=s.util.createBuffer();y.putBuffer(o("\0\0\0\0",t));y.putBuffer(o("\0\0\0",t));var _=s.aes.createEncryptionCipher(y.truncate(8),"CBC");_.start(s.util.createBuffer().fillWithByte(0,16));_.update(p.copy());_.finish();var v=_.output;v.truncate(16);h=s.util.encode64(v.bytes(),64)}else h=s.util.encode64(p.bytes(),64);u+="\r\nPrivate-Lines: "+(d=Math.floor(h.length/66)+1)+"\r\n";u+=h;var E=o("putty-private-key-file-mac-key",t),S=s.util.createBuffer();i(S,a);i(S,c);i(S,n);S.putInt32(l.length());S.putBuffer(l);S.putInt32(p.length());S.putBuffer(p);var b=s.hmac.create();b.start("sha1",E);b.update(S.bytes());return u+"\r\nPrivate-MAC: "+b.digest().toHex()+"\r\n"};a.publicKeyToOpenSSH=function(e,t){var n="ssh-rsa";t=t||"";var o=s.util.createBuffer();i(o,n);r(o,e.e);r(o,e.n);return n+" "+s.util.encode64(o.bytes())+" "+t};a.privateKeyToOpenSSH=function(e,t){return t?s.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):s.pki.privateKeyToPem(e)};a.getPublicKeyFingerprint=function(e,t){var n=(t=t||{}).md||s.md.md5.create(),o=s.util.createBuffer();i(o,"ssh-rsa");r(o,e.e);r(o,e.n);n.start();n.update(o.getBytes());var a=n.digest();if("hex"===t.encoding){var c=a.toHex();return t.delimiter?c.match(/.{2}/g).join(t.delimiter):c}if("binary"===t.encoding)return a.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return a}},3986:(e,t,n)=>{var r=n(276);n(2746);n(1696);n(1267);n(2385);n(9255);n(9356);n(1598);n(7619);var i=function(e,t,n,i){var o=r.util.createBuffer(),s=e.length>>1,a=s+(1&e.length),c=e.substr(0,a),u=e.substr(s,a),l=r.util.createBuffer(),f=r.hmac.create();n=t+n;var d=Math.ceil(i/16),h=Math.ceil(i/20);f.start("MD5",c);var p=r.util.createBuffer();l.putBytes(n);for(var m=0;m<d;++m){f.start(null,null);f.update(l.getBytes());l.putBuffer(f.digest());f.start(null,null);f.update(l.bytes()+n);p.putBuffer(f.digest())}f.start("SHA1",u);var g=r.util.createBuffer();l.clear();l.putBytes(n);for(m=0;m<h;++m){f.start(null,null);f.update(l.getBytes());l.putBuffer(f.digest());f.start(null,null);f.update(l.bytes()+n);g.putBuffer(f.digest())}o.putBytes(r.util.xorBytes(p.getBytes(),g.getBytes(),i));return o},o=function(e,t){var n=!1;try{var i=e.deflate(t.fragment.getBytes());t.fragment=r.util.createBuffer(i);t.length=i.length;n=!0}catch(e){}return n},s=function(e,t){var n=!1;try{var i=e.inflate(t.fragment.getBytes());t.fragment=r.util.createBuffer(i);t.length=i.length;n=!0}catch(e){}return n},a=function(e,t){var n=0;switch(t){case 1:n=e.getByte();break;case 2:n=e.getInt16();break;case 3:n=e.getInt24();break;case 4:n=e.getInt32()}return r.util.createBuffer(e.getBytes(n))},c=function(e,t,n){e.putInt(n.length(),t<<3);e.putBuffer(n)},u={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};u.SupportedVersions=[u.Versions.TLS_1_1,u.Versions.TLS_1_0];u.Version=u.SupportedVersions[0];u.MaxFragment=15360;u.ConnectionEnd={server:0,client:1};u.PRFAlgorithm={tls_prf_sha256:0};u.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};u.CipherType={stream:0,block:1,aead:2};u.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};u.CompressionMethod={none:0,deflate:1};u.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};u.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};u.Alert={};u.Alert.Level={warning:1,fatal:2};u.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};u.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};u.CipherSuites={};u.getCipherSuite=function(e){var t=null;for(var n in u.CipherSuites){var r=u.CipherSuites[n];if(r.id[0]===e.charCodeAt(0)&&r.id[1]===e.charCodeAt(1)){t=r;break}}return t};u.handleUnexpected=function(e){!e.open&&e.entity===u.ConnectionEnd.client||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.unexpected_message}})};u.handleHelloRequest=function(e){if(!e.handshaking&&e.handshakes>0){u.queue(e,u.createAlert(e,{level:u.Alert.Level.warning,description:u.Alert.Description.no_renegotiation}));u.flush(e)}e.process()};u.parseHelloMessage=function(e,t,n){var i=null,o=e.entity===u.ConnectionEnd.client;if(n<38)e.error(e,{message:o?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});else{var s=t.fragment,c=s.length();i={version:{major:s.getByte(),minor:s.getByte()},random:r.util.createBuffer(s.getBytes(32)),session_id:a(s,1),extensions:[]};if(o){i.cipher_suite=s.getBytes(2);i.compression_method=s.getByte()}else{i.cipher_suites=a(s,2);i.compression_methods=a(s,1)}if((c=n-(c-s.length()))>0){for(var l=a(s,2);l.length()>0;)i.extensions.push({type:[l.getByte(),l.getByte()],data:a(l,2)});if(!o)for(var f=0;f<i.extensions.length;++f){var d=i.extensions[f];if(0===d.type[0]&&0===d.type[1])for(var h=a(d.data,2);h.length()>0&&0===h.getByte();)e.session.extensions.server_name.serverNameList.push(a(h,2).getBytes())}}if(e.session.version&&(i.version.major!==e.session.version.major||i.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.protocol_version}});if(o)e.session.cipherSuite=u.getCipherSuite(i.cipher_suite);else for(var p=r.util.createBuffer(i.cipher_suites.bytes());p.length()>0;){e.session.cipherSuite=u.getCipherSuite(p.getBytes(2));if(null!==e.session.cipherSuite)break}if(null===e.session.cipherSuite)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.handshake_failure},cipherSuite:r.util.bytesToHex(i.cipher_suite)});e.session.compressionMethod=o?i.compression_method:u.CompressionMethod.none}return i};u.createSecurityParameters=function(e,t){var n=e.entity===u.ConnectionEnd.client,r=t.random.bytes(),i=n?e.session.sp.client_random:r,o=n?r:u.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:u.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:o}};u.handleServerHello=function(e,t,n){var r=u.parseHelloMessage(e,t,n);if(!e.fail){if(r.version.minor>e.version.minor)return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.protocol_version}});e.version.minor=r.version.minor;e.session.version=e.version;var i=r.session_id.bytes();if(i.length>0&&i===e.session.id){e.expect=p;e.session.resuming=!0;e.session.sp.server_random=r.random.bytes()}else{e.expect=l;e.session.resuming=!1;u.createSecurityParameters(e,r)}e.session.id=i;e.process()}};u.handleClientHello=function(e,t,n){var i=u.parseHelloMessage(e,t,n);if(!e.fail){var o=i.session_id.bytes(),s=null;if(e.sessionCache)if(null===(s=e.sessionCache.getSession(o)))o="";else if(s.version.major!==i.version.major||s.version.minor>i.version.minor){s=null;o=""}0===o.length&&(o=r.random.getBytes(32));e.session.id=o;e.session.clientHelloVersion=i.version;e.session.sp={};if(s){e.version=e.session.version=s.version;e.session.sp=s.sp}else{for(var a,c=1;c<u.SupportedVersions.length&&(a=u.SupportedVersions[c]).minor>i.version.minor;++c);e.version={major:a.major,minor:a.minor};e.session.version=e.version}if(null!==s){e.expect=S;e.session.resuming=!0;e.session.sp.client_random=i.random.bytes()}else{e.expect=!1!==e.verifyClient?_:v;e.session.resuming=!1;u.createSecurityParameters(e,i)}e.open=!0;u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createServerHello(e)}));if(e.session.resuming){u.queue(e,u.createRecord(e,{type:u.ContentType.change_cipher_spec,data:u.createChangeCipherSpec()}));e.state.pending=u.createConnectionState(e);e.state.current.write=e.state.pending.write;u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createFinished(e)}))}else{u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createCertificate(e)}));if(!e.fail){u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createServerKeyExchange(e)}));!1!==e.verifyClient&&u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createCertificateRequest(e)}));u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createServerHelloDone(e)}))}}u.flush(e);e.process()}};u.handleCertificate=function(e,t,n){if(n<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});var i,o,s=t.fragment,c={certificate_list:a(s,3)},l=[];try{for(;c.certificate_list.length()>0;){i=a(c.certificate_list,3);o=r.asn1.fromDer(i);i=r.pki.certificateFromAsn1(o,!0);l.push(i)}}catch(t){return e.error(e,{message:"Could not parse certificate list.",cause:t,send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.bad_certificate}})}var d=e.entity===u.ConnectionEnd.client;if(!d&&!0!==e.verifyClient||0!==l.length)if(0===l.length)e.expect=d?f:v;else{d?e.session.serverCertificate=l[0]:e.session.clientCertificate=l[0];u.verifyCertificateChain(e,l)&&(e.expect=d?f:v)}else e.error(e,{message:d?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});e.process()};u.handleServerKeyExchange=function(e,t,n){if(n>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.unsupported_certificate}});e.expect=d;e.process()};u.handleClientKeyExchange=function(e,t,n){if(n<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.unsupported_certificate}});var i=t.fragment,o={enc_pre_master_secret:a(i,2).getBytes()},s=null;if(e.getPrivateKey)try{s=e.getPrivateKey(e,e.session.serverCertificate);s=r.pki.privateKeyFromPem(s)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}})}if(null===s)return e.error(e,{message:"No private key set.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}});try{var c=e.session.sp;c.pre_master_secret=s.decrypt(o.enc_pre_master_secret);var l=e.session.clientHelloVersion;if(l.major!==c.pre_master_secret.charCodeAt(0)||l.minor!==c.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch(e){c.pre_master_secret=r.random.getBytes(48)}e.expect=S;null!==e.session.clientCertificate&&(e.expect=E);e.process()};u.handleCertificateRequest=function(e,t,n){if(n<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});var r=t.fragment,i={certificate_types:a(r,1),certificate_authorities:a(r,2)};e.session.certificateRequest=i;e.expect=h;e.process()};u.handleCertificateVerify=function(e,t,n){if(n<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});var i=t.fragment;i.read-=4;var o=i.bytes();i.read+=4;var s={signature:a(i,2).getBytes()},c=r.util.createBuffer();c.putBuffer(e.session.md5.digest());c.putBuffer(e.session.sha1.digest());c=c.getBytes();try{if(!e.session.clientCertificate.publicKey.verify(c,s.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(o);e.session.sha1.update(o)}catch(t){return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.handshake_failure}})}e.expect=S;e.process()};u.handleServerHelloDone=function(e,t,n){if(n>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.record_overflow}});if(null===e.serverCertificate){var i={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.insufficient_security}},o=e.verify(e,i.alert.description,0,[]);if(!0!==o){if(o||0===o)if("object"!==typeof o||r.util.isArray(o))"number"===typeof o&&(i.alert.description=o);else{o.message&&(i.message=o.message);o.alert&&(i.alert.description=o.alert)}return e.error(e,i)}}if(null!==e.session.certificateRequest){t=u.createRecord(e,{type:u.ContentType.handshake,data:u.createCertificate(e)});u.queue(e,t)}t=u.createRecord(e,{type:u.ContentType.handshake,data:u.createClientKeyExchange(e)});u.queue(e,t);e.expect=y;var s=function(e,t){null!==e.session.certificateRequest&&null!==e.session.clientCertificate&&u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createCertificateVerify(e,t)}));u.queue(e,u.createRecord(e,{type:u.ContentType.change_cipher_spec,data:u.createChangeCipherSpec()}));e.state.pending=u.createConnectionState(e);e.state.current.write=e.state.pending.write;u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createFinished(e)}));e.expect=p;u.flush(e);e.process()};if(null===e.session.certificateRequest||null===e.session.clientCertificate)return s(e,null);u.getClientSignature(e,s)};u.handleChangeCipherSpec=function(e,t){if(1!==t.fragment.getByte())return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});var n=e.entity===u.ConnectionEnd.client;(e.session.resuming&&n||!e.session.resuming&&!n)&&(e.state.pending=u.createConnectionState(e));e.state.current.read=e.state.pending.read;(!e.session.resuming&&n||e.session.resuming&&!n)&&(e.state.pending=null);e.expect=n?m:b;e.process()};u.handleFinished=function(e,t){var n=t.fragment;n.read-=4;var o=n.bytes();n.read+=4;var s=t.fragment.getBytes();(n=r.util.createBuffer()).putBuffer(e.session.md5.digest());n.putBuffer(e.session.sha1.digest());var a=e.entity===u.ConnectionEnd.client,c=a?"server finished":"client finished",l=e.session.sp;if((n=i(l.master_secret,c,n.getBytes(),12)).getBytes()!==s)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.decrypt_error}});e.session.md5.update(o);e.session.sha1.update(o);if(e.session.resuming&&a||!e.session.resuming&&!a){u.queue(e,u.createRecord(e,{type:u.ContentType.change_cipher_spec,data:u.createChangeCipherSpec()}));e.state.current.write=e.state.pending.write;e.state.pending=null;u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createFinished(e)}))}e.expect=a?g:T;e.handshaking=!1;++e.handshakes;e.peerCertificate=a?e.session.serverCertificate:e.session.clientCertificate;u.flush(e);e.isConnected=!0;e.connected(e);e.process()};u.handleAlert=function(e,t){var n,r=t.fragment,i={level:r.getByte(),description:r.getByte()};switch(i.description){case u.Alert.Description.close_notify:n="Connection closed.";break;case u.Alert.Description.unexpected_message:n="Unexpected message.";break;case u.Alert.Description.bad_record_mac:n="Bad record MAC.";break;case u.Alert.Description.decryption_failed:n="Decryption failed.";break;case u.Alert.Description.record_overflow:n="Record overflow.";break;case u.Alert.Description.decompression_failure:n="Decompression failed.";break;case u.Alert.Description.handshake_failure:n="Handshake failure.";break;case u.Alert.Description.bad_certificate:n="Bad certificate.";break;case u.Alert.Description.unsupported_certificate:n="Unsupported certificate.";break;case u.Alert.Description.certificate_revoked:n="Certificate revoked.";break;case u.Alert.Description.certificate_expired:n="Certificate expired.";break;case u.Alert.Description.certificate_unknown:n="Certificate unknown.";break;case u.Alert.Description.illegal_parameter:n="Illegal parameter.";break;case u.Alert.Description.unknown_ca:n="Unknown certificate authority.";break;case u.Alert.Description.access_denied:n="Access denied.";break;case u.Alert.Description.decode_error:n="Decode error.";break;case u.Alert.Description.decrypt_error:n="Decrypt error.";break;case u.Alert.Description.export_restriction:n="Export restriction.";break;case u.Alert.Description.protocol_version:n="Unsupported protocol version.";break;case u.Alert.Description.insufficient_security:n="Insufficient security.";break;case u.Alert.Description.internal_error:n="Internal error.";break;case u.Alert.Description.user_canceled:n="User canceled.";break;case u.Alert.Description.no_renegotiation:n="Renegotiation not supported.";break;default:n="Unknown error."}if(i.description===u.Alert.Description.close_notify)return e.close();e.error(e,{message:n,send:!1,origin:e.entity===u.ConnectionEnd.client?"server":"client",alert:i});e.process()};u.handleHandshake=function(e,t){var n=t.fragment,i=n.getByte(),o=n.getInt24();if(o>n.length()){e.fragmented=t;t.fragment=r.util.createBuffer();n.read-=4;return e.process()}e.fragmented=null;n.read-=4;var s=n.bytes(o+4);n.read+=4;if(i in U[e.entity][e.expect]){if(e.entity===u.ConnectionEnd.server&&!e.open&&!e.fail){e.handshaking=!0;e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:r.md.md5.create(),sha1:r.md.sha1.create()}}if(i!==u.HandshakeType.hello_request&&i!==u.HandshakeType.certificate_verify&&i!==u.HandshakeType.finished){e.session.md5.update(s);e.session.sha1.update(s)}U[e.entity][e.expect][i](e,t,o)}else u.handleUnexpected(e,t)};u.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment);e.dataReady(e);e.process()};u.handleHeartbeat=function(e,t){var n=t.fragment,i=n.getByte(),o=n.getInt16(),s=n.getBytes(o);if(i===u.HeartbeatMessageType.heartbeat_request){if(e.handshaking||o>s.length)return e.process();u.queue(e,u.createRecord(e,{type:u.ContentType.heartbeat,data:u.createHeartbeat(u.HeartbeatMessageType.heartbeat_response,s)}));u.flush(e)}else if(i===u.HeartbeatMessageType.heartbeat_response){if(s!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,r.util.createBuffer(s))}e.process()};var l=1,f=2,d=3,h=4,p=5,m=6,g=7,y=8,_=1,v=2,E=3,S=4,b=5,T=6,C=u.handleUnexpected,I=u.handleChangeCipherSpec,w=u.handleAlert,N=u.handleHandshake,A=u.handleApplicationData,R=u.handleHeartbeat,O=[];O[u.ConnectionEnd.client]=[[C,w,N,C,R],[C,w,N,C,R],[C,w,N,C,R],[C,w,N,C,R],[C,w,N,C,R],[I,w,C,C,R],[C,w,N,C,R],[C,w,N,A,R],[C,w,N,C,R]];O[u.ConnectionEnd.server]=[[C,w,N,C,R],[C,w,N,C,R],[C,w,N,C,R],[C,w,N,C,R],[I,w,C,C,R],[C,w,N,C,R],[C,w,N,A,R],[C,w,N,C,R]];var L=u.handleHelloRequest,D=u.handleServerHello,x=u.handleCertificate,P=u.handleServerKeyExchange,k=u.handleCertificateRequest,B=u.handleServerHelloDone,M=u.handleFinished,U=[];U[u.ConnectionEnd.client]=[[C,C,D,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[L,C,C,C,C,C,C,C,C,C,C,x,P,k,B,C,C,C,C,C,C],[L,C,C,C,C,C,C,C,C,C,C,C,P,k,B,C,C,C,C,C,C],[L,C,C,C,C,C,C,C,C,C,C,C,C,k,B,C,C,C,C,C,C],[L,C,C,C,C,C,C,C,C,C,C,C,C,C,B,C,C,C,C,C,C],[L,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[L,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,M],[L,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[L,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C]];var F=u.handleClientHello,j=u.handleClientKeyExchange,G=u.handleCertificateVerify;U[u.ConnectionEnd.server]=[[C,F,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,x,C,C,C,C,C,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,j,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,G,C,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,M],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C]];u.generateKeys=function(e,t){var n=i,r=t.client_random+t.server_random;if(!e.session.resuming){t.master_secret=n(t.pre_master_secret,"master secret",r,48).bytes();t.pre_master_secret=null}r=t.server_random+t.client_random;var o=2*t.mac_key_length+2*t.enc_key_length,s=e.version.major===u.Versions.TLS_1_0.major&&e.version.minor===u.Versions.TLS_1_0.minor;s&&(o+=2*t.fixed_iv_length);var a=n(t.master_secret,"key expansion",r,o),c={client_write_MAC_key:a.getBytes(t.mac_key_length),server_write_MAC_key:a.getBytes(t.mac_key_length),client_write_key:a.getBytes(t.enc_key_length),server_write_key:a.getBytes(t.enc_key_length)};if(s){c.client_write_IV=a.getBytes(t.fixed_iv_length);c.server_write_IV=a.getBytes(t.fixed_iv_length)}return c};u.createConnectionState=function(e){var t=e.entity===u.ConnectionEnd.client,n=function(){var e={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(){return!0},compressionState:null,compressFunction:function(){return!0},updateSequenceNumber:function(){if(4294967295===e.sequenceNumber[1]){e.sequenceNumber[1]=0;++e.sequenceNumber[0]}else++e.sequenceNumber[1]}};return e},r={read:n(),write:n()};r.read.update=function(e,t){r.read.cipherFunction(t,r.read)?r.read.compressFunction(e,t,r.read)||e.error(e,{message:"Could not decompress record.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.decompression_failure}}):e.error(e,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.bad_record_mac}});return!e.fail};r.write.update=function(e,t){r.write.compressFunction(e,t,r.write)?r.write.cipherFunction(t,r.write)||e.error(e,{message:"Could not encrypt record.",send:!1,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}}):e.error(e,{message:"Could not compress record.",send:!1,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}});return!e.fail};if(e.session){var i=e.session.sp;e.session.cipherSuite.initSecurityParameters(i);i.keys=u.generateKeys(e,i);r.read.macKey=t?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key;r.write.macKey=t?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key;e.session.cipherSuite.initConnectionState(r,e,i);switch(i.compression_algorithm){case u.CompressionMethod.none:break;case u.CompressionMethod.deflate:r.read.compressFunction=s;r.write.compressFunction=o;break;default:throw new Error("Unsupported compression algorithm.")}}return r};u.createRandom=function(){var e=new Date,t=+e+6e4*e.getTimezoneOffset(),n=r.util.createBuffer();n.putInt32(t);n.putBytes(r.random.getBytes(28));return n};u.createRecord=function(e,t){return t.data?{type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data}:null};u.createAlert=function(e,t){var n=r.util.createBuffer();n.putByte(t.level);n.putByte(t.description);return u.createRecord(e,{type:u.ContentType.alert,data:n})};u.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=r.util.createBuffer(),n=0;n<e.cipherSuites.length;++n){var i=e.cipherSuites[n];t.putByte(i.id[0]);t.putByte(i.id[1])}var o=t.length(),s=r.util.createBuffer();s.putByte(u.CompressionMethod.none);var a=s.length(),l=r.util.createBuffer();if(e.virtualHost){var f=r.util.createBuffer();f.putByte(0);f.putByte(0);var d=r.util.createBuffer();d.putByte(0);c(d,2,r.util.createBuffer(e.virtualHost));var h=r.util.createBuffer();c(h,2,d);c(f,2,h);l.putBuffer(f)}var p=l.length();p>0&&(p+=2);var m=e.session.id,g=m.length+1+2+4+28+2+o+1+a+p,y=r.util.createBuffer();y.putByte(u.HandshakeType.client_hello);y.putInt24(g);y.putByte(e.version.major);y.putByte(e.version.minor);y.putBytes(e.session.sp.client_random);c(y,1,r.util.createBuffer(m));c(y,2,t);c(y,1,s);p>0&&c(y,2,l);return y};u.createServerHello=function(e){var t=e.session.id,n=t.length+1+2+4+28+2+1,i=r.util.createBuffer();i.putByte(u.HandshakeType.server_hello);i.putInt24(n);i.putByte(e.version.major);i.putByte(e.version.minor);i.putBytes(e.session.sp.server_random);c(i,1,r.util.createBuffer(t));i.putByte(e.session.cipherSuite.id[0]);i.putByte(e.session.cipherSuite.id[1]);i.putByte(e.session.compressionMethod);return i};u.createCertificate=function(e){var t=e.entity===u.ConnectionEnd.client,n=null;if(e.getCertificate){var i;i=t?e.session.certificateRequest:e.session.extensions.server_name.serverNameList;n=e.getCertificate(e,i)}var o=r.util.createBuffer();if(null!==n)try{r.util.isArray(n)||(n=[n]);for(var s=null,a=0;a<n.length;++a){var l=r.pem.decode(n[a])[0];if("CERTIFICATE"!==l.type&&"X509 CERTIFICATE"!==l.type&&"TRUSTED CERTIFICATE"!==l.type){var f=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');f.headerType=l.type;throw f}if(l.procType&&"ENCRYPTED"===l.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var d=r.util.createBuffer(l.body);null===s&&(s=r.asn1.fromDer(d.bytes(),!1));var h=r.util.createBuffer();c(h,3,d);o.putBuffer(h)}n=r.pki.certificateFromAsn1(s);t?e.session.clientCertificate=n:e.session.serverCertificate=n}catch(t){return e.error(e,{message:"Could not send certificate list.",cause:t,send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.bad_certificate}})}var p=3+o.length(),m=r.util.createBuffer();m.putByte(u.HandshakeType.certificate);m.putInt24(p);c(m,3,o);return m};u.createClientKeyExchange=function(e){var t=r.util.createBuffer();t.putByte(e.session.clientHelloVersion.major);t.putByte(e.session.clientHelloVersion.minor);t.putBytes(r.random.getBytes(46));var n=e.session.sp;n.pre_master_secret=t.getBytes();var i=(t=e.session.serverCertificate.publicKey.encrypt(n.pre_master_secret)).length+2,o=r.util.createBuffer();o.putByte(u.HandshakeType.client_key_exchange);o.putInt24(i);o.putInt16(t.length);o.putBytes(t);return o};u.createServerKeyExchange=function(){return r.util.createBuffer()};u.getClientSignature=function(e,t){var n=r.util.createBuffer();n.putBuffer(e.session.md5.digest());n.putBuffer(e.session.sha1.digest());n=n.getBytes();e.getSignature=e.getSignature||function(e,t,n){var i=null;if(e.getPrivateKey)try{i=e.getPrivateKey(e,e.session.clientCertificate);i=r.pki.privateKeyFromPem(i)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}})}null===i?e.error(e,{message:"No private key set.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}}):t=i.sign(t,null);n(e,t)};e.getSignature(e,n,t)};u.createCertificateVerify=function(e,t){var n=t.length+2,i=r.util.createBuffer();i.putByte(u.HandshakeType.certificate_verify);i.putInt24(n);i.putInt16(t.length);i.putBytes(t);return i};u.createCertificateRequest=function(e){var t=r.util.createBuffer();t.putByte(1);var n=r.util.createBuffer();for(var i in e.caStore.certs){var o=e.caStore.certs[i],s=r.pki.distinguishedNameToAsn1(o.subject),a=r.asn1.toDer(s);n.putInt16(a.length());n.putBuffer(a)}var l=1+t.length()+2+n.length(),f=r.util.createBuffer();f.putByte(u.HandshakeType.certificate_request);f.putInt24(l);c(f,1,t);c(f,2,n);return f};u.createServerHelloDone=function(){var e=r.util.createBuffer();e.putByte(u.HandshakeType.server_hello_done);e.putInt24(0);return e};u.createChangeCipherSpec=function(){var e=r.util.createBuffer();e.putByte(1);return e};u.createFinished=function(e){var t=r.util.createBuffer();t.putBuffer(e.session.md5.digest());t.putBuffer(e.session.sha1.digest());var n=e.entity===u.ConnectionEnd.client,o=e.session.sp,s=n?"client finished":"server finished";t=i(o.master_secret,s,t.getBytes(),12);var a=r.util.createBuffer();a.putByte(u.HandshakeType.finished);a.putInt24(t.length());a.putBuffer(t);return a};u.createHeartbeat=function(e,t,n){"undefined"===typeof n&&(n=t.length);var i=r.util.createBuffer();i.putByte(e);i.putInt16(n);i.putBytes(t);var o=i.length(),s=Math.max(16,o-n-3);i.putBytes(r.random.getBytes(s));return i};u.queue=function(e,t){if(t&&(0!==t.fragment.length()||t.type!==u.ContentType.handshake&&t.type!==u.ContentType.alert&&t.type!==u.ContentType.change_cipher_spec)){if(t.type===u.ContentType.handshake){var n=t.fragment.bytes();e.session.md5.update(n);e.session.sha1.update(n);n=null}var i;if(t.fragment.length()>u.MaxFragment){i=[];for(var o=t.fragment.bytes();o.length>u.MaxFragment;){i.push(u.createRecord(e,{type:t.type,data:r.util.createBuffer(o.slice(0,u.MaxFragment))}));o=o.slice(u.MaxFragment)}o.length>0&&i.push(u.createRecord(e,{type:t.type,data:r.util.createBuffer(o)}))}else i=[t];for(var s=0;s<i.length&&!e.fail;++s){var a=i[s];e.state.current.write.update(e,a)&&e.records.push(a)}}};u.flush=function(e){for(var t=0;t<e.records.length;++t){var n=e.records[t];e.tlsData.putByte(n.type);e.tlsData.putByte(n.version.major);e.tlsData.putByte(n.version.minor);e.tlsData.putInt16(n.fragment.length());e.tlsData.putBuffer(e.records[t].fragment)}e.records=[];return e.tlsDataReady(e)};var H=function(e){switch(e){case!0:return!0;case r.pki.certificateError.bad_certificate:return u.Alert.Description.bad_certificate;case r.pki.certificateError.unsupported_certificate:return u.Alert.Description.unsupported_certificate;case r.pki.certificateError.certificate_revoked:return u.Alert.Description.certificate_revoked;case r.pki.certificateError.certificate_expired:return u.Alert.Description.certificate_expired;case r.pki.certificateError.certificate_unknown:return u.Alert.Description.certificate_unknown;case r.pki.certificateError.unknown_ca:return u.Alert.Description.unknown_ca;default:return u.Alert.Description.bad_certificate}};u.verifyCertificateChain=function(e,t){try{var n={};for(var i in e.verifyOptions)n[i]=e.verifyOptions[i];n.verify=function(t,n,i){H(t);var o=e.verify(e,t,n,i);if(!0!==o){if("object"===typeof o&&!r.util.isArray(o)){var s=new Error("The application rejected the certificate.");s.send=!0;s.alert={level:u.Alert.Level.fatal,description:u.Alert.Description.bad_certificate};o.message&&(s.message=o.message);o.alert&&(s.alert.description=o.alert);throw s}o!==t&&(o=function(e){switch(e){case!0:return!0;case u.Alert.Description.bad_certificate:return r.pki.certificateError.bad_certificate;case u.Alert.Description.unsupported_certificate:return r.pki.certificateError.unsupported_certificate;case u.Alert.Description.certificate_revoked:return r.pki.certificateError.certificate_revoked;case u.Alert.Description.certificate_expired:return r.pki.certificateError.certificate_expired;case u.Alert.Description.certificate_unknown:return r.pki.certificateError.certificate_unknown;case u.Alert.Description.unknown_ca:return r.pki.certificateError.unknown_ca;default:return r.pki.certificateError.bad_certificate}}(o))}return o};r.pki.verifyCertificateChain(e.caStore,t,n)}catch(t){var o=t;("object"!==typeof o||r.util.isArray(o))&&(o={send:!0,alert:{level:u.Alert.Level.fatal,description:H(t)}});"send"in o||(o.send=!0);"alert"in o||(o.alert={level:u.Alert.Level.fatal,description:H(o.error)});e.error(e,o)}return!e.fail};u.createSessionCache=function(e,t){var n=null;if(e&&e.getSession&&e.setSession&&e.order)n=e;else{(n={}).cache=e||{};n.capacity=Math.max(t||100,1);n.order=[];for(var i in e)n.order.length>t?delete e[i]:n.order.push(i);n.getSession=function(e){var t=null,i=null;e?i=r.util.bytesToHex(e):n.order.length>0&&(i=n.order[0]);if(null!==i&&i in n.cache){t=n.cache[i];delete n.cache[i];for(var o in n.order)if(n.order[o]===i){n.order.splice(o,1);break}}return t};n.setSession=function(e,t){if(n.order.length===n.capacity){var i=n.order.shift();delete n.cache[i]}i=r.util.bytesToHex(e);n.order.push(i);n.cache[i]=t}}return n};u.createConnection=function(e){var t;t=e.caStore?r.util.isArray(e.caStore)?r.pki.createCaStore(e.caStore):e.caStore:r.pki.createCaStore();var n=e.cipherSuites||null;if(null===n){n=[];for(var i in u.CipherSuites)n.push(u.CipherSuites[i])}var o=e.server?u.ConnectionEnd.server:u.ConnectionEnd.client,s=e.sessionCache?u.createSessionCache(e.sessionCache):null,a={version:{major:u.Version.major,minor:u.Version.minor},entity:o,sessionId:e.sessionId,caStore:t,sessionCache:s,cipherSuites:n,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(e,t){return t},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:r.util.createBuffer(),tlsData:r.util.createBuffer(),data:r.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(t,n){n.origin=n.origin||(t.entity===u.ConnectionEnd.client?"client":"server");if(n.send){u.queue(t,u.createAlert(t,n.alert));u.flush(t)}var r=!1!==n.fatal;r&&(t.fail=!0);e.error(t,n);r&&t.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null,reset:function(e){a.version={major:u.Version.major,minor:u.Version.minor};a.record=null;a.session=null;a.peerCertificate=null;a.state={pending:null,current:null};a.expect=(a.entity,u.ConnectionEnd.client,0);a.fragmented=null;a.records=[];a.open=!1;a.handshakes=0;a.handshaking=!1;a.isConnected=!1;a.fail=!(e||"undefined"===typeof e);a.input.clear();a.tlsData.clear();a.data.clear();a.state.current=u.createConnectionState(a)}};a.reset();a.handshake=function(e){if(a.entity!==u.ConnectionEnd.client)a.error(a,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(a.handshaking)a.error(a,{message:"Handshake already in progress.",fatal:!1});else{a.fail&&!a.open&&0===a.handshakes&&(a.fail=!1);a.handshaking=!0;var t=null;if((e=e||"").length>0){a.sessionCache&&(t=a.sessionCache.getSession(e));null===t&&(e="")}0===e.length&&a.sessionCache&&null!==(t=a.sessionCache.getSession())&&(e=t.id);a.session={id:e,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:r.md.md5.create(),sha1:r.md.sha1.create()};if(t){a.version=t.version;a.session.sp=t.sp}a.session.sp.client_random=u.createRandom().getBytes();a.open=!0;u.queue(a,u.createRecord(a,{type:u.ContentType.handshake,data:u.createClientHello(a)}));u.flush(a)}};a.process=function(e){var t=0;e&&a.input.putBytes(e);if(!a.fail){null!==a.record&&a.record.ready&&a.record.fragment.isEmpty()&&(a.record=null);null===a.record&&(t=function(e){var t=0,n=e.input,i=n.length();if(i<5)t=5-i;else{e.record={type:n.getByte(),version:{major:n.getByte(),minor:n.getByte()},length:n.getInt16(),fragment:r.util.createBuffer(),ready:!1};var o=e.record.version.major===e.version.major;o&&e.session&&e.session.version&&(o=e.record.version.minor===e.version.minor);o||e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.protocol_version}})}return t}(a));a.fail||null===a.record||a.record.ready||(t=function(e){var t=0,n=e.input,r=n.length();if(r<e.record.length)t=e.record.length-r;else{e.record.fragment.putBytes(n.getBytes(e.record.length));n.compact();if(e.state.current.read.update(e,e.record)){if(null!==e.fragmented)if(e.fragmented.type===e.record.type){e.fragmented.fragment.putBuffer(e.record.fragment);e.record=e.fragmented}else e.error(e,{message:"Invalid fragmented record.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.unexpected_message}});e.record.ready=!0}}return t}(a));!a.fail&&null!==a.record&&a.record.ready&&function(e,t){var n=t.type-u.ContentType.change_cipher_spec,r=O[e.entity][e.expect];n in r?r[n](e,t):u.handleUnexpected(e,t)}(a,a.record)}return t};a.prepare=function(e){u.queue(a,u.createRecord(a,{type:u.ContentType.application_data,data:r.util.createBuffer(e)}));return u.flush(a)};a.prepareHeartbeatRequest=function(e,t){e instanceof r.util.ByteBuffer&&(e=e.bytes());"undefined"===typeof t&&(t=e.length);a.expectedHeartbeatPayload=e;u.queue(a,u.createRecord(a,{type:u.ContentType.heartbeat,data:u.createHeartbeat(u.HeartbeatMessageType.heartbeat_request,e,t)}));return u.flush(a)};a.close=function(e){if(!a.fail&&a.sessionCache&&a.session){var t={id:a.session.id,version:a.session.version,sp:a.session.sp};t.sp.keys=null;a.sessionCache.setSession(t.id,t)}if(a.open){a.open=!1;a.input.clear();if(a.isConnected||a.handshaking){a.isConnected=a.handshaking=!1;u.queue(a,u.createAlert(a,{level:u.Alert.Level.warning,description:u.Alert.Description.close_notify}));u.flush(a)}a.closed(a)}a.reset(e)};return a};e.exports=r.tls=r.tls||{};for(var V in u)"function"!==typeof u[V]&&(r.tls[V]=u[V]);r.tls.prf_tls1=i;r.tls.hmac_sha1=function(e,t,n){var i=r.hmac.create();i.start("SHA1",e);var o=r.util.createBuffer();o.putInt32(t[0]);o.putInt32(t[1]);o.putByte(n.type);o.putByte(n.version.major);o.putByte(n.version.minor);o.putInt16(n.length);o.putBytes(n.fragment.bytes());i.update(o.getBytes());return i.digest().getBytes()};r.tls.createSessionCache=u.createSessionCache;r.tls.createConnection=u.createConnection},7619:(e,t,n)=>{function r(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function i(e){this.data="";this.read=0;if("string"===typeof e)this.data=e;else if(a.isArrayBuffer(e)||a.isArrayBufferView(e))if("undefined"!==typeof Buffer&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(e){for(var n=0;n<t.length;++n)this.putByte(t[n])}}else if(e instanceof i||"object"===typeof e&&"string"===typeof e.data&&"number"===typeof e.read){this.data=e.data;this.read=e.read}this._constructedStringLength=0}var o=n(276),s=n(4058),a=e.exports=o.util=o.util||{};!function(){if("undefined"===typeof process||!process.nextTick||process.browser)if("function"!==typeof setImmediate){a.setImmediate=function(e){setTimeout(e,0)};if("undefined"!==typeof window&&"function"===typeof window.postMessage){var e="forge.setImmediate",t=[];a.setImmediate=function(n){t.push(n);1===t.length&&window.postMessage(e,"*")};window.addEventListener("message",(function(n){if(n.source===window&&n.data===e){n.stopPropagation();var r=t.slice();t.length=0;r.forEach((function(e){e()}))}}),!0)}if("undefined"!==typeof MutationObserver){var n=Date.now(),r=!0,i=document.createElement("div");t=[];new MutationObserver((function(){var e=t.slice();t.length=0;e.forEach((function(e){e()}))})).observe(i,{attributes:!0});var o=a.setImmediate;a.setImmediate=function(e){if(Date.now()-n>15){n=Date.now();o(e)}else{t.push(e);1===t.length&&i.setAttribute("a",r=!r)}}}a.nextTick=a.setImmediate}else{a.setImmediate=function(){return setImmediate.apply(void 0,arguments)};a.nextTick=function(e){return setImmediate(e)}}else{a.nextTick=process.nextTick;"function"===typeof setImmediate?a.setImmediate=setImmediate:a.setImmediate=a.nextTick}}();a.isNodejs="undefined"!==typeof process&&process.versions&&process.versions.node;a.globalScope=function(){return a.isNodejs?n.g:"undefined"===typeof self?window:self}();a.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};a.isArrayBuffer=function(e){return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer};a.isArrayBufferView=function(e){return e&&a.isArrayBuffer(e.buffer)&&void 0!==e.byteLength};a.ByteBuffer=i;a.ByteStringBuffer=i;a.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e;if(this._constructedStringLength>4096){this.data.substr(0,1);this._constructedStringLength=0}};a.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};a.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};a.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};a.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var n=this.data;t>0;){1&t&&(n+=e);(t>>>=1)>0&&(e+=e)}this.data=n;this._optimizeConstructedString(t);return this};a.ByteStringBuffer.prototype.putBytes=function(e){this.data+=e;this._optimizeConstructedString(e.length);return this};a.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(a.encodeUtf8(e))};a.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))};a.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))};a.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))};a.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))};a.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};a.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};a.ByteStringBuffer.prototype.putInt=function(e,t){r(t);var n="";do{t-=8;n+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(n)};a.ByteStringBuffer.prototype.putSignedInt=function(e,t){e<0&&(e+=2<<t-1);return this.putInt(e,t)};a.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};a.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};a.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);this.read+=2;return e};a.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);this.read+=3;return e};a.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);this.read+=4;return e};a.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;this.read+=2;return e};a.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;this.read+=3;return e};a.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;this.read+=4;return e};a.ByteStringBuffer.prototype.getInt=function(e){r(e);var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++);e-=8}while(e>0);return t};a.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),n=2<<e-2;t<n||(t-=n<<1);return t};a.ByteStringBuffer.prototype.getBytes=function(e){var t;if(e){e=Math.min(this.length(),e);t=this.data.slice(this.read,this.read+e);this.read+=e}else if(0===e)t="";else{t=0===this.read?this.data:this.data.slice(this.read);this.clear()}return t};a.ByteStringBuffer.prototype.bytes=function(e){return"undefined"===typeof e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};a.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};a.ByteStringBuffer.prototype.setAt=function(e,t){this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1);return this};a.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};a.ByteStringBuffer.prototype.copy=function(){var e=a.createBuffer(this.data);e.read=this.read;return e};a.ByteStringBuffer.prototype.compact=function(){if(this.read>0){this.data=this.data.slice(this.read);this.read=0}return this};a.ByteStringBuffer.prototype.clear=function(){this.data="";this.read=0;return this};a.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);this.data=this.data.substr(this.read,t);this.read=0;return this};a.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var n=this.data.charCodeAt(t);n<16&&(e+="0");e+=n.toString(16)}return e};a.ByteStringBuffer.prototype.toString=function(){return a.decodeUtf8(this.bytes())};a.DataBuffer=function(e,t){t=t||{};this.read=t.readOffset||0;this.growSize=t.growSize||1024;var n=a.isArrayBuffer(e),r=a.isArrayBufferView(e);if(n||r){this.data=n?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength);this.write="writeOffset"in t?t.writeOffset:this.data.byteLength}else{this.data=new DataView(new ArrayBuffer(0));this.write=0;null!==e&&void 0!==e&&this.putBytes(e);"writeOffset"in t&&(this.write=t.writeOffset)}};a.DataBuffer.prototype.length=function(){return this.write-this.read};a.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};a.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var n=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),r=new Uint8Array(this.length()+t);r.set(n);this.data=new DataView(r.buffer);return this};a.DataBuffer.prototype.putByte=function(e){this.accommodate(1);this.data.setUint8(this.write++,e);return this};a.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var n=0;n<t;++n)this.data.setUint8(e);return this};a.DataBuffer.prototype.putBytes=function(e,t){if(a.isArrayBufferView(e)){var n=(r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).byteLength-r.byteOffset;this.accommodate(n);new Uint8Array(this.data.buffer,this.write).set(r);this.write+=n;return this}if(a.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);new Uint8Array(this.data.buffer).set(r,this.write);this.write+=r.byteLength;return this}if(e instanceof a.DataBuffer||"object"===typeof e&&"number"===typeof e.read&&"number"===typeof e.write&&a.isArrayBufferView(e.data)){r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);new Uint8Array(e.data.byteLength,this.write).set(r);this.write+=r.byteLength;return this}if(e instanceof a.ByteStringBuffer){e=e.data;t="binary"}t=t||"binary";if("string"===typeof e){var i;if("hex"===t){this.accommodate(Math.ceil(e.length/2));i=new Uint8Array(this.data.buffer,this.write);this.write+=a.binary.hex.decode(e,i,this.write);return this}if("base64"===t){this.accommodate(3*Math.ceil(e.length/4));i=new Uint8Array(this.data.buffer,this.write);this.write+=a.binary.base64.decode(e,i,this.write);return this}if("utf8"===t){e=a.encodeUtf8(e);t="binary"}if("binary"===t||"raw"===t){this.accommodate(e.length);i=new Uint8Array(this.data.buffer,this.write);this.write+=a.binary.raw.decode(i);return this}if("utf16"===t){this.accommodate(2*e.length);i=new Uint16Array(this.data.buffer,this.write);this.write+=a.text.utf16.encode(i);return this}throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};a.DataBuffer.prototype.putBuffer=function(e){this.putBytes(e);e.clear();return this};a.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};a.DataBuffer.prototype.putInt16=function(e){this.accommodate(2);this.data.setInt16(this.write,e);this.write+=2;return this};a.DataBuffer.prototype.putInt24=function(e){this.accommodate(3);this.data.setInt16(this.write,e>>8&65535);this.data.setInt8(this.write,e>>16&255);this.write+=3;return this};a.DataBuffer.prototype.putInt32=function(e){this.accommodate(4);this.data.setInt32(this.write,e);this.write+=4;return this};a.DataBuffer.prototype.putInt16Le=function(e){this.accommodate(2);this.data.setInt16(this.write,e,!0);this.write+=2;return this};a.DataBuffer.prototype.putInt24Le=function(e){this.accommodate(3);this.data.setInt8(this.write,e>>16&255);this.data.setInt16(this.write,e>>8&65535,!0);this.write+=3;return this};a.DataBuffer.prototype.putInt32Le=function(e){this.accommodate(4);this.data.setInt32(this.write,e,!0);this.write+=4;return this};a.DataBuffer.prototype.putInt=function(e,t){r(t);this.accommodate(t/8);do{t-=8;this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this};a.DataBuffer.prototype.putSignedInt=function(e,t){r(t);this.accommodate(t/8);e<0&&(e+=2<<t-1);return this.putInt(e,t)};a.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};a.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);this.read+=2;return e};a.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);this.read+=3;return e};a.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);this.read+=4;return e};a.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);this.read+=2;return e};a.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;this.read+=3;return e};a.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);this.read+=4;return e};a.DataBuffer.prototype.getInt=function(e){r(e);var t=0;do{t=(t<<8)+this.data.getInt8(this.read++);e-=8}while(e>0);return t};a.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),n=2<<e-2;t<n||(t-=n<<1);return t};a.DataBuffer.prototype.getBytes=function(e){var t;if(e){e=Math.min(this.length(),e);t=this.data.slice(this.read,this.read+e);this.read+=e}else if(0===e)t="";else{t=0===this.read?this.data:this.data.slice(this.read);this.clear()}return t};a.DataBuffer.prototype.bytes=function(e){return"undefined"===typeof e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};a.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};a.DataBuffer.prototype.setAt=function(e,t){this.data.setUint8(e,t);return this};a.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};a.DataBuffer.prototype.copy=function(){return new a.DataBuffer(this)};a.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e);this.data=new DataView(t);this.write-=this.read;this.read=0}return this};a.DataBuffer.prototype.clear=function(){this.data=new DataView(new ArrayBuffer(0));this.read=this.write=0;return this};a.DataBuffer.prototype.truncate=function(e){this.write=Math.max(0,this.length()-e);this.read=Math.min(this.read,this.write);return this};a.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var n=this.data.getUint8(t);n<16&&(e+="0");e+=n.toString(16)}return e};a.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if("binary"===(e=e||"utf8")||"raw"===e)return a.binary.raw.encode(t);if("hex"===e)return a.binary.hex.encode(t);if("base64"===e)return a.binary.base64.encode(t);if("utf8"===e)return a.text.utf8.decode(t);if("utf16"===e)return a.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};a.createBuffer=function(e,t){t=t||"raw";void 0!==e&&"utf8"===t&&(e=a.encodeUtf8(e));return new a.ByteBuffer(e)};a.fillString=function(e,t){for(var n="";t>0;){1&t&&(n+=e);(t>>>=1)>0&&(e+=e)}return n};a.xorBytes=function(e,t,n){for(var r="",i="",o="",s=0,a=0;n>0;--n,++s){i=e.charCodeAt(s)^t.charCodeAt(s);if(a>=10){r+=o;o="";a=0}o+=String.fromCharCode(i);++a}return r+o};a.hexToBytes=function(e){var t="",n=0;if(!0&e.length){n=1;t+=String.fromCharCode(parseInt(e[0],16))}for(;n<e.length;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t};a.bytesToHex=function(e){return a.createBuffer(e).toHex()};a.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],l="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";a.encode64=function(e,t){for(var n,r,i,o="",s="",a=0;a<e.length;){n=e.charCodeAt(a++);r=e.charCodeAt(a++);i=e.charCodeAt(a++);o+=c.charAt(n>>2);o+=c.charAt((3&n)<<4|r>>4);if(isNaN(r))o+="==";else{o+=c.charAt((15&r)<<2|i>>6);o+=isNaN(i)?"=":c.charAt(63&i)}if(t&&o.length>t){s+=o.substr(0,t)+"\r\n";o=o.substr(t)}}return s+o};a.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,n,r,i,o="",s=0;s<e.length;){t=u[e.charCodeAt(s++)-43];n=u[e.charCodeAt(s++)-43];r=u[e.charCodeAt(s++)-43];i=u[e.charCodeAt(s++)-43];o+=String.fromCharCode(t<<2|n>>4);if(64!==r){o+=String.fromCharCode((15&n)<<4|r>>2);64!==i&&(o+=String.fromCharCode((3&r)<<6|i))}}return o};a.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};a.decodeUtf8=function(e){return decodeURIComponent(escape(e))};a.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:s.encode,decode:s.decode}};a.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};a.binary.raw.decode=function(e,t,n){var r=t;r||(r=new Uint8Array(e.length));for(var i=n=n||0,o=0;o<e.length;++o)r[i++]=e.charCodeAt(o);return t?i-n:r};a.binary.hex.encode=a.bytesToHex;a.binary.hex.decode=function(e,t,n){var r=t;r||(r=new Uint8Array(Math.ceil(e.length/2)));var i=0,o=n=n||0;if(1&e.length){i=1;r[o++]=parseInt(e[0],16)}for(;i<e.length;i+=2)r[o++]=parseInt(e.substr(i,2),16);return t?o-n:r};a.binary.base64.encode=function(e,t){for(var n,r,i,o="",s="",a=0;a<e.byteLength;){n=e[a++];r=e[a++];i=e[a++];o+=c.charAt(n>>2);o+=c.charAt((3&n)<<4|r>>4);if(isNaN(r))o+="==";else{o+=c.charAt((15&r)<<2|i>>6);o+=isNaN(i)?"=":c.charAt(63&i)}if(t&&o.length>t){s+=o.substr(0,t)+"\r\n";o=o.substr(t)}}return s+o};a.binary.base64.decode=function(e,t,n){var r,i,o,s,a=t;a||(a=new Uint8Array(3*Math.ceil(e.length/4)));e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var c=0,l=n=n||0;c<e.length;){r=u[e.charCodeAt(c++)-43];i=u[e.charCodeAt(c++)-43];o=u[e.charCodeAt(c++)-43];s=u[e.charCodeAt(c++)-43];a[l++]=r<<2|i>>4;if(64!==o){a[l++]=(15&i)<<4|o>>2;64!==s&&(a[l++]=(3&o)<<6|s)}}return t?l-n:a.subarray(0,l)};a.binary.base58.encode=function(e,t){return a.binary.baseN.encode(e,l,t)};a.binary.base58.decode=function(e,t){return a.binary.baseN.decode(e,l,t)};a.text={utf8:{},utf16:{}};a.text.utf8.encode=function(e,t,n){e=a.encodeUtf8(e);var r=t;r||(r=new Uint8Array(e.length));for(var i=n=n||0,o=0;o<e.length;++o)r[i++]=e.charCodeAt(o);return t?i-n:r};a.text.utf8.decode=function(e){return a.decodeUtf8(String.fromCharCode.apply(null,e))};a.text.utf16.encode=function(e,t,n){var r=t;r||(r=new Uint8Array(2*e.length));for(var i=new Uint16Array(r.buffer),o=n=n||0,s=n,a=0;a<e.length;++a){i[s++]=e.charCodeAt(a);o+=2}return t?o-n:r};a.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};a.deflate=function(e,t,n){t=a.decode64(e.deflate(a.encode64(t)).rval);if(n){var r=2;32&t.charCodeAt(1)&&(r=6);t=t.substring(r,t.length-4)}return t};a.inflate=function(e,t){var n=e.inflate(a.encode64(t)).rval;return null===n?null:a.decode64(n)};var f=function(e,t,n){if(!e)throw new Error("WebStorage not available.");var r;if(null===n)r=e.removeItem(t);else{n=a.encode64(JSON.stringify(n));r=e.setItem(t,n)}if("undefined"!==typeof r&&!0!==r.rval){var i=new Error(r.error.message);i.id=r.error.id;i.name=r.error.name;throw i}},d=function(e,t){if(!e)throw new Error("WebStorage not available.");var n=e.getItem(t);if(e.init)if(null===n.rval){if(n.error){var r=new Error(n.error.message);r.id=n.error.id;r.name=n.error.name;throw r}n=null}else n=n.rval;null!==n&&(n=JSON.parse(a.decode64(n)));return n},h=function(e,t,n,r){var i=d(e,t);null===i&&(i={});i[n]=r;f(e,t,i)},p=function(e,t,n){var r=d(e,t);null!==r&&(r=n in r?r[n]:null);return r},m=function(e,t,n){var r=d(e,t);if(null!==r&&n in r){delete r[n];var i=!0;for(var o in r){i=!1;break}i&&(r=null);f(e,t,r)}},g=function(e,t){f(e,t,null)},y=function(e,t,n){var r,i=null;"undefined"===typeof n&&(n=["web","flash"]);var o=!1,s=null;for(var a in n){r=n[a];try{if("flash"===r||"both"===r){if(null===t[0])throw new Error("Flash local storage not available.");i=e.apply(this,t);o="flash"===r}if("web"===r||"both"===r){t[0]=localStorage;i=e.apply(this,t);o=!0}}catch(e){s=e}if(o)break}if(!o)throw s;return i};a.setItem=function(e,t,n,r,i){y(h,arguments,i)};a.getItem=function(e,t,n,r){return y(p,arguments,r)};a.removeItem=function(e,t,n,r){y(m,arguments,r)};a.clearItems=function(e,t,n){y(g,arguments,n)};a.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};a.format=function(e){for(var t,n,r=/%./g,i=0,o=[],s=0;t=r.exec(e);){(n=e.substring(s,r.lastIndex-2)).length>0&&o.push(n);s=r.lastIndex;var a=t[0][1];switch(a){case"s":case"o":i<arguments.length?o.push(arguments[1+i++]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+a+"?>")}}o.push(e.substring(s));return o.join("")};a.formatNumber=function(e,t,n,r){var i=e,o=isNaN(t=Math.abs(t))?2:t,s=void 0===n?",":n,a=void 0===r?".":r,c=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",l=u.length>3?u.length%3:0;return c+(l?u.substr(0,l)+a:"")+u.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+a)+(o?s+Math.abs(i-u).toFixed(o).slice(2):"")};a.formatSize=function(e){return e<1073741824?e<1048576?e<1024?a.formatNumber(e,0)+" bytes":a.formatNumber(e/1024,0)+" KiB":a.formatNumber(e/1048576,2,".","")+" MiB":a.formatNumber(e/1073741824,2,".","")+" GiB"};a.bytesFromIP=function(e){return-1!==e.indexOf(".")?a.bytesFromIPv4(e):-1!==e.indexOf(":")?a.bytesFromIPv6(e):null};a.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var t=a.createBuffer(),n=0;n<e.length;++n){var r=parseInt(e[n],10);if(isNaN(r))return null;t.putByte(r)}return t.getBytes()};a.bytesFromIPv6=function(e){for(var t=0,n=2*(8-(e=e.split(":").filter((function(e){0===e.length&&++t;return!0}))).length+t),r=a.createBuffer(),i=0;i<8;++i)if(e[i]&&0!==e[i].length){var o=a.hexToBytes(e[i]);o.length<2&&r.putByte(0);r.putBytes(o)}else{r.fillWithByte(0,n);n=0}return r.getBytes()};a.bytesToIP=function(e){return 4===e.length?a.bytesToIPv4(e):16===e.length?a.bytesToIPv6(e):null};a.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t.join(".")};a.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],n=[],r=0,i=0;i<e.length;i+=2){for(var o=a.bytesToHex(e[i]+e[i+1]);"0"===o[0]&&"0"!==o;)o=o.substr(1);if("0"===o){var s=n[n.length-1],c=t.length;if(s&&c===s.end+1){s.end=c;s.end-s.start>n[r].end-n[r].start&&(r=n.length-1)}else n.push({start:c,end:c})}t.push(o)}if(n.length>0){var u=n[r];if(u.end-u.start>0){t.splice(u.start,u.end-u.start+1,"");0===u.start&&t.unshift("");7===u.end&&t.push("")}}return t.join(":")};a.estimateCores=function(e,t){if("function"===typeof e){t=e;e={}}e=e||{};if("cores"in a&&!e.update)return t(null,a.cores);if("undefined"!==typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0){a.cores=navigator.hardwareConcurrency;return t(null,a.cores)}if("undefined"===typeof Worker){a.cores=1;return t(null,a.cores)}if("undefined"===typeof Blob){a.cores=2;return t(null,a.cores)}var n=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",(function(){for(var e=Date.now(),t=e+4;Date.now()<t;);self.postMessage({st:e,et:t})}))}.toString(),")()"],{type:"application/javascript"}));!function e(r,i,o){if(0===i){var s=Math.floor(r.reduce((function(e,t){return e+t}),0)/r.length);a.cores=Math.max(1,s);URL.revokeObjectURL(n);return t(null,a.cores)}!function(e,t){for(var r=[],i=[],o=0;o<e;++o){var s=new Worker(n);s.addEventListener("message",(function(n){i.push(n.data);if(i.length===e){for(var o=0;o<e;++o)r[o].terminate();t(0,i)}}));r.push(s)}for(o=0;o<e;++o)r[o].postMessage(o)}(o,(function(t,n){r.push(function(e,t){for(var n=[],r=0;r<e;++r)for(var i=t[r],o=n[r]=[],s=0;s<e;++s)if(r!==s){var a=t[s];(i.st>a.st&&i.st<a.et||a.st>i.st&&a.st<i.et)&&o.push(s)}return n.reduce((function(e,t){return Math.max(e,t.length)}),0)}(o,n));e(r,i-1,o)}))}([],5,16)}},6011:(e,t,n)=>{function r(e,t){"string"===typeof t&&(t={shortName:t});for(var n,r=null,i=0;null===r&&i<e.attributes.length;++i){n=e.attributes[i];(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n)}return r}function i(e){for(var t,n,r=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]),i=e.attributes,o=0;o<i.length;++o){var s=(t=i[o]).value,a=f.Type.PRINTABLESTRING;"valueTagClass"in t&&(a=t.valueTagClass)===f.Type.UTF8&&(s=l.util.encodeUtf8(s));n=f.create(f.Class.UNIVERSAL,f.Type.SET,!0,[f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(t.type).getBytes()),f.create(f.Class.UNIVERSAL,a,!1,s)])]);r.value.push(n)}return r}function o(e){for(var t,n=0;n<e.length;++n){"undefined"===typeof(t=e[n]).name&&(t.type&&t.type in d.oids?t.name=d.oids[t.type]:t.shortName&&t.shortName in p&&(t.name=d.oids[p[t.shortName]]));if("undefined"===typeof t.type){if(!t.name||!(t.name in d.oids)){(i=new Error("Attribute type not specified.")).attribute=t;throw i}t.type=d.oids[t.name]}"undefined"===typeof t.shortName&&t.name&&t.name in p&&(t.shortName=p[t.name]);if(t.type===h.extensionRequest){t.valueConstructed=!0;t.valueTagClass=f.Type.SEQUENCE;if(!t.value&&t.extensions){t.value=[];for(var r=0;r<t.extensions.length;++r)t.value.push(d.certificateExtensionToAsn1(s(t.extensions[r])))}}if("undefined"===typeof t.value){var i;(i=new Error("Attribute value not specified.")).attribute=t;throw i}}}function s(e,t){t=t||{};"undefined"===typeof e.name&&e.id&&e.id in d.oids&&(e.name=d.oids[e.id]);if("undefined"===typeof e.id){if(!e.name||!(e.name in d.oids)){(S=new Error("Extension ID not specified.")).extension=e;throw S}e.id=d.oids[e.name]}if("undefined"!==typeof e.value)return e;if("keyUsage"===e.name){var n=0,r=0,o=0;if(e.digitalSignature){r|=128;n=7}if(e.nonRepudiation){r|=64;n=6}if(e.keyEncipherment){r|=32;n=5}if(e.dataEncipherment){r|=16;n=4}if(e.keyAgreement){r|=8;n=3}if(e.keyCertSign){r|=4;n=2}if(e.cRLSign){r|=2;n=1}if(e.encipherOnly){r|=1;n=0}if(e.decipherOnly){o|=128;n=7}var s=String.fromCharCode(n);0!==o?s+=String.fromCharCode(r)+String.fromCharCode(o):0!==r&&(s+=String.fromCharCode(r));e.value=f.create(f.Class.UNIVERSAL,f.Type.BITSTRING,!1,s)}else if("basicConstraints"===e.name){e.value=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]);e.cA&&e.value.value.push(f.create(f.Class.UNIVERSAL,f.Type.BOOLEAN,!1,String.fromCharCode(255)));"pathLenConstraint"in e&&e.value.value.push(f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(e.pathLenConstraint).getBytes()))}else if("extKeyUsage"===e.name){e.value=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]);var a=e.value.value;for(var c in e)!0===e[c]&&(c in h?a.push(f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(h[c]).getBytes())):-1!==c.indexOf(".")&&a.push(f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(c).getBytes())))}else if("nsCertType"===e.name){n=0,r=0;if(e.client){r|=128;n=7}if(e.server){r|=64;n=6}if(e.email){r|=32;n=5}if(e.objsign){r|=16;n=4}if(e.reserved){r|=8;n=3}if(e.sslCA){r|=4;n=2}if(e.emailCA){r|=2;n=1}if(e.objCA){r|=1;n=0}s=String.fromCharCode(n);0!==r&&(s+=String.fromCharCode(r));e.value=f.create(f.Class.UNIVERSAL,f.Type.BITSTRING,!1,s)}else if("subjectAltName"===e.name||"issuerAltName"===e.name){e.value=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]);for(var u=0;u<e.altNames.length;++u){s=(_=e.altNames[u]).value;if(7===_.type&&_.ip){if(null===(s=l.util.bytesFromIP(_.ip))){(S=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e;throw S}}else 8===_.type&&(s=_.oid?f.oidToDer(f.oidToDer(_.oid)):f.oidToDer(s));e.value.value.push(f.create(f.Class.CONTEXT_SPECIFIC,_.type,!1,s))}}else if("nsComment"===e.name&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=f.create(f.Class.UNIVERSAL,f.Type.IA5STRING,!1,e.comment)}else if("subjectKeyIdentifier"===e.name&&t.cert){var p=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=p.toHex();e.value=f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,p.getBytes())}else if("authorityKeyIdentifier"===e.name&&t.cert){e.value=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]);a=e.value.value;if(e.keyIdentifier){var m=!0===e.keyIdentifier?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;a.push(f.create(f.Class.CONTEXT_SPECIFIC,0,!1,m))}if(e.authorityCertIssuer){var g=[f.create(f.Class.CONTEXT_SPECIFIC,4,!0,[i(!0===e.authorityCertIssuer?t.cert.issuer:e.authorityCertIssuer)])];a.push(f.create(f.Class.CONTEXT_SPECIFIC,1,!0,g))}if(e.serialNumber){var y=l.util.hexToBytes(!0===e.serialNumber?t.cert.serialNumber:e.serialNumber);a.push(f.create(f.Class.CONTEXT_SPECIFIC,2,!1,y))}}else if("cRLDistributionPoints"===e.name){e.value=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]);a=e.value.value;var _,v=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]),E=f.create(f.Class.CONTEXT_SPECIFIC,0,!0,[]);for(u=0;u<e.altNames.length;++u){s=(_=e.altNames[u]).value;if(7===_.type&&_.ip){if(null===(s=l.util.bytesFromIP(_.ip))){(S=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e;throw S}}else 8===_.type&&(s=_.oid?f.oidToDer(f.oidToDer(_.oid)):f.oidToDer(s));E.value.push(f.create(f.Class.CONTEXT_SPECIFIC,_.type,!1,s))}v.value.push(f.create(f.Class.CONTEXT_SPECIFIC,0,!0,[E]));a.push(v)}if("undefined"===typeof e.value){var S;(S=new Error("Extension value not specified.")).extension=e;throw S}return e}function a(e,t){if(e===h["RSASSA-PSS"]){var n=[];void 0!==t.hash.algorithmOid&&n.push(f.create(f.Class.CONTEXT_SPECIFIC,0,!0,[f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(t.hash.algorithmOid).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,"")])]));void 0!==t.mgf.algorithmOid&&n.push(f.create(f.Class.CONTEXT_SPECIFIC,1,!0,[f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(t.mgf.algorithmOid).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(t.mgf.hash.algorithmOid).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,"")])])]));void 0!==t.saltLength&&n.push(f.create(f.Class.CONTEXT_SPECIFIC,2,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(t.saltLength).getBytes())]));return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,n)}return f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,"")}function c(e){var t=f.create(f.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===e.attributes.length)return t;for(var n=e.attributes,r=0;r<n.length;++r){var i=n[r],o=i.value,s=f.Type.UTF8;"valueTagClass"in i&&(s=i.valueTagClass);s===f.Type.UTF8&&(o=l.util.encodeUtf8(o));var a=!1;"valueConstructed"in i&&(a=i.valueConstructed);var c=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(i.type).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.SET,!0,[f.create(f.Class.UNIVERSAL,s,a,o)])]);t.value.push(c)}return t}function u(e){return e>=T&&e<C?f.create(f.Class.UNIVERSAL,f.Type.UTCTIME,!1,f.dateToUtcTime(e)):f.create(f.Class.UNIVERSAL,f.Type.GENERALIZEDTIME,!1,f.dateToGeneralizedTime(e))}var l=n(276);n(9504);n(2746);n(1476);n(8106);n(1373);n(6418);n(2385);n(1417);n(5805);n(7619);var f=l.asn1,d=e.exports=l.pki=l.pki||{},h=d.oids,p={};p["CN"]=h["commonName"];p["commonName"]="CN";p["C"]=h["countryName"];p["countryName"]="C";p["L"]=h["localityName"];p["localityName"]="L";p["ST"]=h["stateOrProvinceName"];p["stateOrProvinceName"]="ST";p["O"]=h["organizationName"];p["organizationName"]="O";p["OU"]=h["organizationalUnitName"];p["organizationalUnitName"]="OU";p["E"]=h["emailAddress"];p["emailAddress"]="E";var m=l.pki.rsa.publicKeyValidator,g={name:"Certificate",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:f.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:f.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:f.Class.UNIVERSAL,type:f.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:f.Class.UNIVERSAL,type:f.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:f.Class.UNIVERSAL,type:f.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:f.Class.UNIVERSAL,type:f.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},m,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:f.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:f.Class.UNIVERSAL,type:f.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:f.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:f.Class.UNIVERSAL,type:f.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:f.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:f.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:f.Class.UNIVERSAL,type:f.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},y={name:"rsapss",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:f.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:f.Class.UNIVERSAL,type:f.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:f.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:f.Class.UNIVERSAL,type:f.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:f.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:f.Class.UNIVERSAL,type:f.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:f.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:f.Class.UNIVERSAL,type:f.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},_={name:"CertificationRequestInfo",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},m,{name:"CertificationRequestInfo.attributes",tagClass:f.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:f.Class.UNIVERSAL,type:f.Type.SET,constructed:!0}]}]}]},v={name:"CertificationRequest",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[_,{name:"CertificationRequest.signatureAlgorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:f.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:f.Class.UNIVERSAL,type:f.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};d.RDNAttributesAsArray=function(e,t){for(var n,r,i,o=[],s=0;s<e.value.length;++s){n=e.value[s];for(var a=0;a<n.value.length;++a){i={};r=n.value[a];i.type=f.derToOid(r.value[0].value);i.value=r.value[1].value;i.valueTagClass=r.value[1].type;if(i.type in h){i.name=h[i.type];i.name in p&&(i.shortName=p[i.name])}if(t){t.update(i.type);t.update(i.value)}o.push(i)}}return o};d.CRIAttributesAsArray=function(e){for(var t=[],n=0;n<e.length;++n)for(var r=e[n],i=f.derToOid(r.value[0].value),o=r.value[1].value,s=0;s<o.length;++s){var a={};a.type=i;a.value=o[s].value;a.valueTagClass=o[s].type;if(a.type in h){a.name=h[a.type];a.name in p&&(a.shortName=p[a.name])}if(a.type===h.extensionRequest){a.extensions=[];for(var c=0;c<a.value.length;++c)a.extensions.push(d.certificateExtensionFromAsn1(a.value[c]))}t.push(a)}return t};var E=function(e,t,n){var r={};if(e!==h["RSASSA-PSS"])return r;n&&(r={hash:{algorithmOid:h["sha1"]},mgf:{algorithmOid:h["mgf1"],hash:{algorithmOid:h["sha1"]}},saltLength:20});var i={},o=[];if(!f.validate(t,y,i,o)){var s=new Error("Cannot read RSASSA-PSS parameter block.");s.errors=o;throw s}if(void 0!==i.hashOid){r.hash=r.hash||{};r.hash.algorithmOid=f.derToOid(i.hashOid)}if(void 0!==i.maskGenOid){r.mgf=r.mgf||{};r.mgf.algorithmOid=f.derToOid(i.maskGenOid);r.mgf.hash=r.mgf.hash||{};r.mgf.hash.algorithmOid=f.derToOid(i.maskGenHashOid)}void 0!==i.saltLength&&(r.saltLength=i.saltLength.charCodeAt(0));return r},S=function(e){switch(h[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return l.md.sha1.create();case"md5WithRSAEncryption":return l.md.md5.create();case"sha256WithRSAEncryption":case"RSASSA-PSS":return l.md.sha256.create();case"sha384WithRSAEncryption":return l.md.sha384.create();case"sha512WithRSAEncryption":return l.md.sha512.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");t.signatureOid=e.signatureOid;throw t}},b=function(e){var t,n=e.certificate;switch(n.signatureOid){case h.sha1WithRSAEncryption:case h.sha1WithRSASignature:break;case h["RSASSA-PSS"]:var r,i;if(void 0===(r=h[n.signatureParameters.mgf.hash.algorithmOid])||void 0===l.md[r]){(o=new Error("Unsupported MGF hash function.")).oid=n.signatureParameters.mgf.hash.algorithmOid;o.name=r;throw o}if(void 0===(i=h[n.signatureParameters.mgf.algorithmOid])||void 0===l.mgf[i]){(o=new Error("Unsupported MGF function.")).oid=n.signatureParameters.mgf.algorithmOid;o.name=i;throw o}i=l.mgf[i].create(l.md[r].create());if(void 0===(r=h[n.signatureParameters.hash.algorithmOid])||void 0===l.md[r]){var o;(o=new Error("Unsupported RSASSA-PSS hash function.")).oid=n.signatureParameters.hash.algorithmOid;o.name=r;throw o}t=l.pss.create(l.md[r].create(),i,n.signatureParameters.saltLength)}return n.publicKey.verify(e.md.digest().getBytes(),e.signature,t)};d.certificateFromPem=function(e,t,n){var r=l.pem.decode(e)[0];if("CERTIFICATE"!==r.type&&"X509 CERTIFICATE"!==r.type&&"TRUSTED CERTIFICATE"!==r.type){var i=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');i.headerType=r.type;throw i}if(r.procType&&"ENCRYPTED"===r.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var o=f.fromDer(r.body,n);return d.certificateFromAsn1(o,t)};d.certificateToPem=function(e,t){var n={type:"CERTIFICATE",body:f.toDer(d.certificateToAsn1(e)).getBytes()};return l.pem.encode(n,{maxline:t})};d.publicKeyFromPem=function(e){var t=l.pem.decode(e)[0];if("PUBLIC KEY"!==t.type&&"RSA PUBLIC KEY"!==t.type){var n=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');n.headerType=t.type;throw n}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var r=f.fromDer(t.body);return d.publicKeyFromAsn1(r)};d.publicKeyToPem=function(e,t){var n={type:"PUBLIC KEY",body:f.toDer(d.publicKeyToAsn1(e)).getBytes()};return l.pem.encode(n,{maxline:t})};d.publicKeyToRSAPublicKeyPem=function(e,t){var n={type:"RSA PUBLIC KEY",body:f.toDer(d.publicKeyToRSAPublicKey(e)).getBytes()};return l.pem.encode(n,{maxline:t})};d.getPublicKeyFingerprint=function(e,t){var n,r=(t=t||{}).md||l.md.sha1.create();switch(t.type||"RSAPublicKey"){case"RSAPublicKey":n=f.toDer(d.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":n=f.toDer(d.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}r.start();r.update(n);var i=r.digest();if("hex"===t.encoding){var o=i.toHex();return t.delimiter?o.match(/.{2}/g).join(t.delimiter):o}if("binary"===t.encoding)return i.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return i};d.certificationRequestFromPem=function(e,t,n){var r=l.pem.decode(e)[0];if("CERTIFICATE REQUEST"!==r.type){var i=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');i.headerType=r.type;throw i}if(r.procType&&"ENCRYPTED"===r.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var o=f.fromDer(r.body,n);return d.certificationRequestFromAsn1(o,t)};d.certificationRequestToPem=function(e,t){var n={type:"CERTIFICATE REQUEST",body:f.toDer(d.certificationRequestToAsn1(e)).getBytes()};return l.pem.encode(n,{maxline:t})};d.createCertificate=function(){var e={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};e.siginfo.algorithmOid=null;e.validity={};e.validity.notBefore=new Date;e.validity.notAfter=new Date;e.issuer={};e.issuer.getField=function(t){return r(e.issuer,t)};e.issuer.addField=function(t){o([t]);e.issuer.attributes.push(t)};e.issuer.attributes=[];e.issuer.hash=null;e.subject={};e.subject.getField=function(t){return r(e.subject,t)};e.subject.addField=function(t){o([t]);e.subject.attributes.push(t)};e.subject.attributes=[];e.subject.hash=null;e.extensions=[];e.publicKey=null;e.md=null;e.setSubject=function(t,n){o(t);e.subject.attributes=t;delete e.subject.uniqueId;n&&(e.subject.uniqueId=n);e.subject.hash=null};e.setIssuer=function(t,n){o(t);e.issuer.attributes=t;delete e.issuer.uniqueId;n&&(e.issuer.uniqueId=n);e.issuer.hash=null};e.setExtensions=function(t){for(var n=0;n<t.length;++n)s(t[n],{cert:e});e.extensions=t};e.getExtension=function(t){"string"===typeof t&&(t={name:t});for(var n,r=null,i=0;null===r&&i<e.extensions.length;++i){n=e.extensions[i];(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n)}return r};e.sign=function(t,n){e.md=n||l.md.sha1.create();var r=h[e.md.algorithm+"WithRSAEncryption"];if(!r){var i=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");i.algorithm=e.md.algorithm;throw i}e.signatureOid=e.siginfo.algorithmOid=r;e.tbsCertificate=d.getTBSCertificate(e);var o=f.toDer(e.tbsCertificate);e.md.update(o.getBytes());e.signature=t.sign(e.md)};e.verify=function(t){var n=!1;if(!e.issued(t)){var r=t.issuer,i=e.subject,o=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");o.expectedIssuer=i.attributes;o.actualIssuer=r.attributes;throw o}var s=t.md;if(null===s){s=S({signatureOid:t.signatureOid,type:"certificate"});var a=t.tbsCertificate||d.getTBSCertificate(t),c=f.toDer(a);s.update(c.getBytes())}null!==s&&(n=b({certificate:e,md:s,signature:t.signature}));return n};e.isIssuer=function(t){var n=!1,r=e.issuer,i=t.subject;if(r.hash&&i.hash)n=r.hash===i.hash;else if(r.attributes.length===i.attributes.length){n=!0;for(var o,s,a=0;n&&a<r.attributes.length;++a){o=r.attributes[a];s=i.attributes[a];o.type===s.type&&o.value===s.value||(n=!1)}}return n};e.issued=function(t){return t.isIssuer(e)};e.generateSubjectKeyIdentifier=function(){return d.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})};e.verifySubjectKeyIdentifier=function(){for(var t=h["subjectKeyIdentifier"],n=0;n<e.extensions.length;++n){var r=e.extensions[n];if(r.id===t){var i=e.generateSubjectKeyIdentifier().getBytes();return l.util.hexToBytes(r.subjectKeyIdentifier)===i}}return!1};return e};d.certificateFromAsn1=function(e,t){var n={},i=[];if(!f.validate(e,g,n,i)){var s=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");s.errors=i;throw s}if(f.derToOid(n.publicKeyOid)!==d.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=d.createCertificate();a.version=n.certVersion?n.certVersion.charCodeAt(0):0;var c=l.util.createBuffer(n.certSerialNumber);a.serialNumber=c.toHex();a.signatureOid=l.asn1.derToOid(n.certSignatureOid);a.signatureParameters=E(a.signatureOid,n.certSignatureParams,!0);a.siginfo.algorithmOid=l.asn1.derToOid(n.certinfoSignatureOid);a.siginfo.parameters=E(a.siginfo.algorithmOid,n.certinfoSignatureParams,!1);a.signature=n.certSignature;var u=[];void 0!==n.certValidity1UTCTime&&u.push(f.utcTimeToDate(n.certValidity1UTCTime));void 0!==n.certValidity2GeneralizedTime&&u.push(f.generalizedTimeToDate(n.certValidity2GeneralizedTime));void 0!==n.certValidity3UTCTime&&u.push(f.utcTimeToDate(n.certValidity3UTCTime));void 0!==n.certValidity4GeneralizedTime&&u.push(f.generalizedTimeToDate(n.certValidity4GeneralizedTime));if(u.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(u.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");a.validity.notBefore=u[0];a.validity.notAfter=u[1];a.tbsCertificate=n.tbsCertificate;if(t){a.md=S({signatureOid:a.signatureOid,type:"certificate"});var h=f.toDer(a.tbsCertificate);a.md.update(h.getBytes())}var p=l.md.sha1.create(),m=f.toDer(n.certIssuer);p.update(m.getBytes());a.issuer.getField=function(e){return r(a.issuer,e)};a.issuer.addField=function(e){o([e]);a.issuer.attributes.push(e)};a.issuer.attributes=d.RDNAttributesAsArray(n.certIssuer);n.certIssuerUniqueId&&(a.issuer.uniqueId=n.certIssuerUniqueId);a.issuer.hash=p.digest().toHex();var y=l.md.sha1.create(),_=f.toDer(n.certSubject);y.update(_.getBytes());a.subject.getField=function(e){return r(a.subject,e)};a.subject.addField=function(e){o([e]);a.subject.attributes.push(e)};a.subject.attributes=d.RDNAttributesAsArray(n.certSubject);n.certSubjectUniqueId&&(a.subject.uniqueId=n.certSubjectUniqueId);a.subject.hash=y.digest().toHex();n.certExtensions?a.extensions=d.certificateExtensionsFromAsn1(n.certExtensions):a.extensions=[];a.publicKey=d.publicKeyFromAsn1(n.subjectPublicKeyInfo);return a};d.certificateExtensionsFromAsn1=function(e){for(var t=[],n=0;n<e.value.length;++n)for(var r=e.value[n],i=0;i<r.value.length;++i)t.push(d.certificateExtensionFromAsn1(r.value[i]));return t};d.certificateExtensionFromAsn1=function(e){var t={};t.id=f.derToOid(e.value[0].value);t.critical=!1;if(e.value[1].type===f.Type.BOOLEAN){t.critical=0!==e.value[1].value.charCodeAt(0);t.value=e.value[2].value}else t.value=e.value[1].value;if(t.id in h){t.name=h[t.id];if("keyUsage"===t.name){var n=0,r=0;if((o=f.fromDer(t.value)).value.length>1){n=o.value.charCodeAt(1);r=o.value.length>2?o.value.charCodeAt(2):0}t.digitalSignature=128===(128&n);t.nonRepudiation=64===(64&n);t.keyEncipherment=32===(32&n);t.dataEncipherment=16===(16&n);t.keyAgreement=8===(8&n);t.keyCertSign=4===(4&n);t.cRLSign=2===(2&n);t.encipherOnly=1===(1&n);t.decipherOnly=128===(128&r)}else if("basicConstraints"===t.name){(o=f.fromDer(t.value)).value.length>0&&o.value[0].type===f.Type.BOOLEAN?t.cA=0!==o.value[0].value.charCodeAt(0):t.cA=!1;var i=null;o.value.length>0&&o.value[0].type===f.Type.INTEGER?i=o.value[0].value:o.value.length>1&&(i=o.value[1].value);null!==i&&(t.pathLenConstraint=f.derToInteger(i))}else if("extKeyUsage"===t.name)for(var o=f.fromDer(t.value),s=0;s<o.value.length;++s){var a=f.derToOid(o.value[s].value);a in h?t[h[a]]=!0:t[a]=!0}else if("nsCertType"===t.name){n=0;(o=f.fromDer(t.value)).value.length>1&&(n=o.value.charCodeAt(1));t.client=128===(128&n);t.server=64===(64&n);t.email=32===(32&n);t.objsign=16===(16&n);t.reserved=8===(8&n);t.sslCA=4===(4&n);t.emailCA=2===(2&n);t.objCA=1===(1&n)}else if("subjectAltName"===t.name||"issuerAltName"===t.name){t.altNames=[];o=f.fromDer(t.value);for(var c,u=0;u<o.value.length;++u){var d={type:(c=o.value[u]).type,value:c.value};t.altNames.push(d);switch(c.type){case 1:case 2:case 6:break;case 7:d.ip=l.util.bytesToIP(c.value);break;case 8:d.oid=f.derToOid(c.value)}}}else if("subjectKeyIdentifier"===t.name){o=f.fromDer(t.value);t.subjectKeyIdentifier=l.util.bytesToHex(o.value)}}return t};d.certificationRequestFromAsn1=function(e,t){var n={},i=[];if(!f.validate(e,v,n,i)){var s=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");s.errors=i;throw s}if(f.derToOid(n.publicKeyOid)!==d.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=d.createCertificationRequest();a.version=n.csrVersion?n.csrVersion.charCodeAt(0):0;a.signatureOid=l.asn1.derToOid(n.csrSignatureOid);a.signatureParameters=E(a.signatureOid,n.csrSignatureParams,!0);a.siginfo.algorithmOid=l.asn1.derToOid(n.csrSignatureOid);a.siginfo.parameters=E(a.siginfo.algorithmOid,n.csrSignatureParams,!1);a.signature=n.csrSignature;a.certificationRequestInfo=n.certificationRequestInfo;if(t){a.md=S({signatureOid:a.signatureOid,type:"certification request"});var c=f.toDer(a.certificationRequestInfo);a.md.update(c.getBytes())}var u=l.md.sha1.create();a.subject.getField=function(e){return r(a.subject,e)};a.subject.addField=function(e){o([e]);a.subject.attributes.push(e)};a.subject.attributes=d.RDNAttributesAsArray(n.certificationRequestInfoSubject,u);a.subject.hash=u.digest().toHex();a.publicKey=d.publicKeyFromAsn1(n.subjectPublicKeyInfo);a.getAttribute=function(e){return r(a,e)};a.addAttribute=function(e){o([e]);a.attributes.push(e)};a.attributes=d.CRIAttributesAsArray(n.certificationRequestInfoAttributes||[]);return a};d.createCertificationRequest=function(){var e={version:0,signatureOid:null,signature:null,siginfo:{}};e.siginfo.algorithmOid=null;e.subject={};e.subject.getField=function(t){return r(e.subject,t)};e.subject.addField=function(t){o([t]);e.subject.attributes.push(t)};e.subject.attributes=[];e.subject.hash=null;e.publicKey=null;e.attributes=[];e.getAttribute=function(t){return r(e,t)};e.addAttribute=function(t){o([t]);e.attributes.push(t)};e.md=null;e.setSubject=function(t){o(t);e.subject.attributes=t;e.subject.hash=null};e.setAttributes=function(t){o(t);e.attributes=t};e.sign=function(t,n){e.md=n||l.md.sha1.create();var r=h[e.md.algorithm+"WithRSAEncryption"];if(!r){var i=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");i.algorithm=e.md.algorithm;throw i}e.signatureOid=e.siginfo.algorithmOid=r;e.certificationRequestInfo=d.getCertificationRequestInfo(e);var o=f.toDer(e.certificationRequestInfo);e.md.update(o.getBytes());e.signature=t.sign(e.md)};e.verify=function(){var t=!1,n=e.md;if(null===n){n=S({signatureOid:e.signatureOid,type:"certification request"});var r=e.certificationRequestInfo||d.getCertificationRequestInfo(e),i=f.toDer(r);n.update(i.getBytes())}null!==n&&(t=b({certificate:e,md:n,signature:e.signature}));return t};return e};var T=new Date("1950-01-01T00:00:00Z"),C=new Date("2050-01-01T00:00:00Z");d.getTBSCertificate=function(e){var t=u(e.validity.notBefore),n=u(e.validity.notAfter),r=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.CONTEXT_SPECIFIC,0,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(e.version).getBytes())]),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,l.util.hexToBytes(e.serialNumber)),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(e.siginfo.algorithmOid).getBytes()),a(e.siginfo.algorithmOid,e.siginfo.parameters)]),i(e.issuer),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[t,n]),i(e.subject),d.publicKeyToAsn1(e.publicKey)]);e.issuer.uniqueId&&r.value.push(f.create(f.Class.CONTEXT_SPECIFIC,1,!0,[f.create(f.Class.UNIVERSAL,f.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)]));e.subject.uniqueId&&r.value.push(f.create(f.Class.CONTEXT_SPECIFIC,2,!0,[f.create(f.Class.UNIVERSAL,f.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)]));e.extensions.length>0&&r.value.push(d.certificateExtensionsToAsn1(e.extensions));return r};d.getCertificationRequestInfo=function(e){return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(e.version).getBytes()),i(e.subject),d.publicKeyToAsn1(e.publicKey),c(e)])};d.distinguishedNameToAsn1=function(e){return i(e)};d.certificateToAsn1=function(e){var t=e.tbsCertificate||d.getTBSCertificate(e);return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[t,f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(e.signatureOid).getBytes()),a(e.signatureOid,e.signatureParameters)]),f.create(f.Class.UNIVERSAL,f.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])};d.certificateExtensionsToAsn1=function(e){var t=f.create(f.Class.CONTEXT_SPECIFIC,3,!0,[]),n=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]);t.value.push(n);for(var r=0;r<e.length;++r)n.value.push(d.certificateExtensionToAsn1(e[r]));return t};d.certificateExtensionToAsn1=function(e){var t=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]);t.value.push(f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(e.id).getBytes()));e.critical&&t.value.push(f.create(f.Class.UNIVERSAL,f.Type.BOOLEAN,!1,String.fromCharCode(255)));var n=e.value;"string"!==typeof e.value&&(n=f.toDer(n).getBytes());t.value.push(f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,n));return t};d.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||d.getCertificationRequestInfo(e);return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[t,f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(e.signatureOid).getBytes()),a(e.signatureOid,e.signatureParameters)]),f.create(f.Class.UNIVERSAL,f.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])};d.createCaStore=function(e){function t(e){n(e);return r.certs[e.hash]||null}function n(e){if(!e.hash){var t=l.md.sha1.create();e.attributes=d.RDNAttributesAsArray(i(e),t);e.hash=t.digest().toHex()}}var r={certs:{},getIssuer:function(e){return t(e.issuer)},addCertificate:function(e){"string"===typeof e&&(e=l.pki.certificateFromPem(e));n(e.subject);if(!r.hasCertificate(e))if(e.subject.hash in r.certs){var t=r.certs[e.subject.hash];l.util.isArray(t)||(t=[t]);t.push(e);r.certs[e.subject.hash]=t}else r.certs[e.subject.hash]=e},hasCertificate:function(e){"string"===typeof e&&(e=l.pki.certificateFromPem(e));var n=t(e.subject);if(!n)return!1;l.util.isArray(n)||(n=[n]);for(var r=f.toDer(d.certificateToAsn1(e)).getBytes(),i=0;i<n.length;++i)if(r===f.toDer(d.certificateToAsn1(n[i])).getBytes())return!0;return!1},listAllCertificates:function(){var e=[];for(var t in r.certs)if(r.certs.hasOwnProperty(t)){var n=r.certs[t];if(l.util.isArray(n))for(var i=0;i<n.length;++i)e.push(n[i]);else e.push(n)}return e},removeCertificate:function(e){var i;"string"===typeof e&&(e=l.pki.certificateFromPem(e));n(e.subject);if(!r.hasCertificate(e))return null;var o=t(e.subject);if(!l.util.isArray(o)){i=r.certs[e.subject.hash];delete r.certs[e.subject.hash];return i}for(var s=f.toDer(d.certificateToAsn1(e)).getBytes(),a=0;a<o.length;++a)if(s===f.toDer(d.certificateToAsn1(o[a])).getBytes()){i=o[a];o.splice(a,1)}0===o.length&&delete r.certs[e.subject.hash];return i}};if(e)for(var o=0;o<e.length;++o){var s=e[o];r.addCertificate(s)}return r};d.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};d.verifyCertificateChain=function(e,t,n){"function"===typeof n&&(n={verify:n});n=n||{};var r=(t=t.slice(0)).slice(0),i=n.validityCheckDate;"undefined"===typeof i&&(i=new Date);var o=!0,s=null,a=0;do{var c=t.shift(),u=null,f=!1;i&&(i<c.validity.notBefore||i>c.validity.notAfter)&&(s={message:"Certificate is not valid yet or has expired.",error:d.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:i});if(null===s){if(null===(u=t[0]||e.getIssuer(c))&&c.isIssuer(c)){f=!0;u=c}if(u){var h=u;l.util.isArray(h)||(h=[h]);for(var p=!1;!p&&h.length>0;){u=h.shift();try{p=u.verify(c)}catch(e){}}p||(s={message:"Certificate signature is invalid.",error:d.certificateError.bad_certificate})}null!==s||u&&!f||e.hasCertificate(c)||(s={message:"Certificate is not trusted.",error:d.certificateError.unknown_ca})}null===s&&u&&!c.isIssuer(u)&&(s={message:"Certificate issuer is invalid.",error:d.certificateError.bad_certificate});if(null===s)for(var m={keyUsage:!0,basicConstraints:!0},g=0;null===s&&g<c.extensions.length;++g){var y=c.extensions[g];y.critical&&!(y.name in m)&&(s={message:"Certificate has an unsupported critical extension.",error:d.certificateError.unsupported_certificate})}if(null===s&&(!o||0===t.length&&(!u||f))){var _=c.getExtension("basicConstraints"),v=c.getExtension("keyUsage");null!==v&&(v.keyCertSign&&null!==_||(s={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:d.certificateError.bad_certificate}));null!==s||null===_||_.cA||(s={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:d.certificateError.bad_certificate});null===s&&null!==v&&"pathLenConstraint"in _&&a-1>_.pathLenConstraint&&(s={message:"Certificate basicConstraints pathLenConstraint violated.",error:d.certificateError.bad_certificate})}var E=null===s||s.error,S=n.verify?n.verify(E,a,r):E;if(!0!==S){!0===E&&(s={message:"The application rejected the certificate.",error:d.certificateError.bad_certificate});if(S||0===S)if("object"!==typeof S||l.util.isArray(S))"string"===typeof S&&(s.error=S);else{S.message&&(s.message=S.message);S.error&&(s.error=S.error)}throw s}s=null;o=!1;++a}while(t.length>0);return!0}},8023:e=>{var t=function(e){return e.replace(/^\s+|\s+$/g,"")},n=function(e){return"[object Array]"===Object.prototype.toString.call(e)};e.exports=function(e){if(!e)return{};for(var r={},i=t(e).split("\n"),o=0;o<i.length;o++){var s=i[o],a=s.indexOf(":"),c=t(s.slice(0,a)).toLowerCase(),u=t(s.slice(a+1));"undefined"===typeof r[c]?r[c]=u:n(r[c])?r[c].push(u):r[c]=[r[c],u]}return r}},2147:(e,t,n)=>{"use strict";function r(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}function i(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach((function(e){var n=t[e];n.data=y.base64StringToBlobOrBuffer(n.data,n.content_type)}))}function o(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function s(e){return e._attachments&&Object.keys(e._attachments)?h.all(Object.keys(e._attachments).map((function(t){var n=e._attachments[t];if(n.data&&"string"!==typeof n.data)return new h((function(e){y.blobOrBufferToBase64(n.data,e)})).then((function(e){n.data=e}))}))):h.resolve()}function a(e){var t=g.parseUri(e);(t.user||t.password)&&(t.auth={username:t.user,password:t.password});var n=t.path.replace(/(^\/|\/$)/g,"").split("/");t.db=n.pop();-1===t.db.indexOf("%")&&(t.db=encodeURIComponent(t.db));t.path=n.join("/");return t}function c(e,t){return u(e,e.db+"/"+t)}function u(e,t){var n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function l(e){return"?"+Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}function f(e,t){function n(e,t,n){var r=e.ajax||{},i=d.extend(g.clone(R),r,t);b(i.method+" "+i.url);return C._ajax(i,n)}function r(e,t){return new h((function(r,i){n(e,t,(function(e,t){if(e)return i(e);r(t)}))}))}function f(e,t){return g.adapterFun(e,m((function(e){E().then((function(){return t.apply(this,e)})).catch((function(t){e.pop()(t)}))})))}function E(){if(e.skipSetup||e.skip_setup)return h.resolve();if(w)return w;(w=r({},{method:"GET",url:A}).catch((function(e){if(e&&e.status&&404===e.status){g.explainError(404,"PouchDB is just detecting if the remote exists.");return r({},{method:"PUT",url:A})}return h.reject(e)})).catch((function(e){return!(!e||!e.status||412!==e.status)||h.reject(e)}))).catch((function(){w=null}));return w}function T(e){return e.split("/").map(encodeURIComponent).join("/")}var C=this,I=a;e.getHost&&(I=e.getHost);var w,N=I(e.name,e),A=c(N,""),R=(e=g.clone(e)).ajax||{};C.getUrl=function(){return A};C.getHeaders=function(){return R.headers||{}};if(e.auth||N.auth){var O=e.auth||N.auth,L=O.username+":"+O.password,D=y.btoa(unescape(encodeURIComponent(L)));R.headers=R.headers||{};R.headers.Authorization="Basic "+D}C._ajax=p;setTimeout((function(){t(null,C)}));C.type=function(){return"http"};C.id=f("id",(function(e){n({},{method:"GET",url:u(N,"")},(function(t,n){var r=n&&n.uuid?n.uuid+N.db:c(N,"");e(null,r)}))}));C.request=f("request",(function(e,t){e.url=c(N,e.url);n({},e,t)}));C.compact=f("compact",(function(e,t){if("function"===typeof e){t=e;e={}}n(e=g.clone(e),{url:c(N,"_compact"),method:"POST"},(function(){!function n(){C.info((function(r,i){i&&!i.compact_running?t(null,{ok:!0}):setTimeout(n,e.interval||200)}))}()}))}));C.bulkGet=g.adapterFun("bulkGet",(function(e,t){function r(t){var r={};e.revs&&(r.revs=!0);e.attachments&&(r.attachments=!0);n({},{url:c(N,"_bulk_get"+l(r)),method:"POST",body:{docs:e.docs}},t)}function i(){function n(e){return function(n,o){s[e]=o.results;++i===r&&t(null,{results:g.flatten(s)})}}for(var r=Math.ceil(e.docs.length/50),i=0,s=new Array(r),a=0;a<r;a++){var c=g.pick(e,["revs","attachments"]);c.ajax=R;c.docs=e.docs.slice(50*a,Math.min(e.docs.length,50*(a+1)));g.bulkGetShim(o,c,n(a))}}var o=this,s=u(N,""),a=S[s];"boolean"!==typeof a?r((function(e,n){if(e){var r=Math.floor(e.status/100);if(4===r||5===r){S[s]=!1;g.explainError(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API.");i()}else t(e)}else{S[s]=!0;t(null,n)}})):a?r(t):i()}));C._info=function(e){E().then((function(){n({},{method:"GET",url:c(N,"")},(function(t,n){if(t)return e(t);n.host=c(N,"");e(null,n)}))})).catch(e)};C.get=f("get",(function(e,t,n){function i(e){var n=e._attachments,i=n&&Object.keys(n);if(n&&i.length)return new _((function(){if(!i.length)return null;var s=i.pop(),a=n[s],u=o(e._id)+"/"+T(s)+"?rev="+e._rev;return r(t,{method:"GET",url:c(N,u),binary:!0}).then((function(e){return t.binary?e:new h((function(t){y.blobOrBufferToBase64(e,t)}))})).then((function(e){delete a.stub;delete a.length;a.data=e}))}),5,{promise:h}).start()}if("function"===typeof t){n=t;t={}}var s={};(t=g.clone(t)).revs&&(s.revs=!0);t.revs_info&&(s.revs_info=!0);if(t.open_revs){"all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs));s.open_revs=t.open_revs}t.rev&&(s.rev=t.rev);t.conflicts&&(s.conflicts=t.conflicts);e=o(e);var a={method:"GET",url:c(N,e+l(s))};r(t,a).then((function(e){return h.resolve().then((function(){if(t.attachments)return function(e){return Array.isArray(e)?h.all(e.map((function(e){if(e.ok)return i(e.ok)}))):i(e)}(e)})).then((function(){n(null,e)}))})).catch(n)}));C.remove=f("remove",(function(e,t,r,i){var s;if("string"===typeof t){s={_id:e,_rev:t};if("function"===typeof r){i=r;r={}}}else{s=e;if("function"===typeof t){i=t;r={}}else{i=r;r=t}}var a=s._rev||r.rev;n(r,{method:"DELETE",url:c(N,o(s._id))+"?rev="+a},i)}));C.getAttachment=f("getAttachment",(function(e,t,r,i){if("function"===typeof r){i=r;r={}}var s=r.rev?"?rev="+r.rev:"";n(r,{method:"GET",url:c(N,o(e))+"/"+T(t)+s,binary:!0},i)}));C.removeAttachment=f("removeAttachment",(function(e,t,r,i){n({},{method:"DELETE",url:c(N,o(e)+"/"+T(t))+"?rev="+r},i)}));C.putAttachment=f("putAttachment",(function(e,t,r,i,s,a){if("function"===typeof s){a=s;s=i;i=r;r=null}var u=o(e)+"/"+T(t),l=c(N,u);r&&(l+="?rev="+r);if("string"===typeof i){var f;try{f=y.atob(i)}catch(e){return a(v.createError(v.BAD_ARG,"Attachment is not a valid base64 string"))}i=f?y.binaryStringToBlobOrBuffer(f,s):""}n({},{headers:{"Content-Type":s},method:"PUT",url:l,processData:!1,body:i,timeout:R.timeout||6e4},a)}));C._bulkDocs=function(e,t,r){e.new_edits=t.new_edits;E().then((function(){return h.all(e.docs.map(s))})).then((function(){n(t,{method:"POST",url:c(N,"_bulk_docs"),body:e},(function(e,t){if(e)return r(e);t.forEach((function(e){e.ok=!0}));r(null,t)}))})).catch(r)};C.allDocs=f("allDocs",(function(e,t){if("function"===typeof e){t=e;e={}}var n,o={},s="GET";(e=g.clone(e)).conflicts&&(o.conflicts=!0);e.descending&&(o.descending=!0);e.include_docs&&(o.include_docs=!0);e.attachments&&(o.attachments=!0);e.key&&(o.key=JSON.stringify(e.key));e.start_key&&(e.startkey=e.start_key);e.startkey&&(o.startkey=JSON.stringify(e.startkey));e.end_key&&(e.endkey=e.end_key);e.endkey&&(o.endkey=JSON.stringify(e.endkey));"undefined"!==typeof e.inclusive_end&&(o.inclusive_end=!!e.inclusive_end);"undefined"!==typeof e.limit&&(o.limit=e.limit);"undefined"!==typeof e.skip&&(o.skip=e.skip);var a=l(o);if("undefined"!==typeof e.keys){var u="keys="+encodeURIComponent(JSON.stringify(e.keys));if(u.length+a.length+1>1800){s="POST";n={keys:e.keys}}else a+="&"+u}r(e,{method:s,url:c(N,"_all_docs"+a),body:n}).then((function(n){e.include_docs&&e.attachments&&e.binary&&n.rows.forEach(i);t(null,n)})).catch(t)}));C._changes=function(e){var t="batch_size"in e?e.batch_size:25;(e=g.clone(e)).timeout="timeout"in e?e.timeout:"timeout"in R?R.timeout:3e4;var r,o=e.timeout?{timeout:e.timeout-5e3}:{},s="undefined"!==typeof e.limit&&e.limit;r="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var a=s;e.style&&(o.style=e.style);(e.include_docs||e.filter&&"function"===typeof e.filter)&&(o.include_docs=!0);e.attachments&&(o.attachments=!0);e.continuous&&(o.feed="longpoll");e.conflicts&&(o.conflicts=!0);e.descending&&(o.descending=!0);"heartbeat"in e?e.heartbeat&&(o.heartbeat=e.heartbeat):o.heartbeat=1e4;e.filter&&"string"===typeof e.filter&&(o.filter=e.filter);if(e.view&&"string"===typeof e.view){o.filter="_view";o.view=e.view}if(e.query_params&&"object"===typeof e.query_params)for(var u in e.query_params)e.query_params.hasOwnProperty(u)&&(o[u]=e.query_params[u]);var f,d,h,p="GET";if(e.doc_ids){o.filter="_doc_ids";var m=JSON.stringify(e.doc_ids);if(m.length<1800)o.doc_ids=m;else{p="POST";f={doc_ids:e.doc_ids}}}var y=function(r,i){if(!e.aborted){o.since=r;"object"===typeof o.since&&(o.since=JSON.stringify(o.since));e.descending?s&&(o.limit=a):o.limit=!s||a>t?t:a;var u={method:p,url:c(N,"_changes"+l(o)),timeout:e.timeout,body:f};h=r;e.aborted||E().then((function(){d=n(e,u,i)})).catch(i)}},_={results:[]},v=function(n,o){if(!e.aborted){var c=0;if(o&&o.results){c=o.results.length;_.last_seq=o.last_seq;({}).query=e.query_params;o.results=o.results.filter((function(t){a--;var n=g.filterChange(e)(t);if(n){e.include_docs&&e.attachments&&e.binary&&i(t);r&&_.results.push(t);e.onChange(t)}return n}))}else if(n){e.aborted=!0;e.complete(n);return}o&&o.last_seq&&(h=o.last_seq);var u=s&&a<=0||o&&c<t||e.descending;e.continuous&&(!s||a>0)||!u?setTimeout((function(){y(h,v)}),0):e.complete(null,_)}};y(e.since||0,v);return{cancel:function(){e.aborted=!0;d&&d.abort()}}};C.revsDiff=f("revsDiff",(function(e,t,r){if("function"===typeof t){r=t;t={}}n(t,{method:"POST",url:c(N,"_revs_diff"),body:e},r)}));C._close=function(e){e()};C._destroy=function(e,t){n(e,{url:c(N,""),method:"DELETE"},(function(e,n){if(e&&e.status&&404!==e.status)return t(e);t(null,n)}))}}var d=n(9537),h=r(n(1646)),p=r(n(1354)),m=r(n(6737)),g=n(3515),y=n(2325),_=r(n(1711)),v=n(2154),E=r(n(3006)),S={},b=E("pouchdb:http");f.valid=function(){return!0};e.exports=function(e){e.adapter("http",f,!1);e.adapter("https",f,!1)}},3006:(e,t,n)=>{function r(){var e;try{e=t.storage.debug}catch(e){}return e}(t=e.exports=n(2041)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)};t.formatArgs=function(){var e=arguments,n=this.useColors;e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff);if(!n)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;e[0].replace(/%[a-z%]/g,(function(e){if("%%"!==e){i++;"%c"===e&&(o=i)}}));e.splice(o,0,r);return e};t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}};t.load=r;t.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31};t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}();t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];t.formatters.j=function(e){return JSON.stringify(e)};t.enable(r())},2041:(e,t,n)=>{(t=e.exports=function(e){function n(){}function o(){var e=o,n=+new Date,s=n-(r||n);e.diff=s;e.prev=r;e.curr=n;r=n;null==e.useColors&&(e.useColors=t.useColors());null==e.color&&e.useColors&&(e.color=function(){return t.colors[i++%t.colors.length]}());var a=Array.prototype.slice.call(arguments);a[0]=t.coerce(a[0]);"string"!==typeof a[0]&&(a=["%o"].concat(a));var c=0;a[0]=a[0].replace(/%([a-z%])/g,(function(n,r){if("%%"===n)return n;c++;var i=t.formatters[r];if("function"===typeof i){var o=a[c];n=i.call(e,o);a.splice(c,1);c--}return n}));"function"===typeof t.formatArgs&&(a=t.formatArgs.apply(e,a));(o.log||t.log||function(){}.bind()).apply(e,a)}n.enabled=!1;o.enabled=!0;var s=t.enabled(e)?o:n;s.namespace=e;return s}).coerce=function(e){return e instanceof Error?e.stack||e.message:e};t.disable=function(){t.enable("")};t.enable=function(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))};t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1};t.humanize=n(2255);t.names=[];t.skips=[];t.formatters={};var r,i=0},2255:e=>{function t(e,t,n){if(e>=t)return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var n=1e3,r=60*n,i=60*r,o=24*i;e.exports=function(e,s){s=s||{};return"string"==typeof e?function(e){if((e=""+e).length<=1e4){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s}}}}(e):s.long?function(e){return t(e,o,"day")||t(e,i,"hour")||t(e,r,"minute")||t(e,n,"second")||e+" ms"}(e):function(e){return e<o?e<i?e<r?e<n?e+"ms":Math.round(e/n)+"s":Math.round(e/r)+"m":Math.round(e/i)+"h":Math.round(e/o)+"d"}(e)}},5252:(e,t,n)=>{"use strict";function r(e){if(!x.running&&x.queue.length){x.running=!0;var t=x.queue.shift();t.action((function(n,i){!function(e,t,n,r){try{e.apply(t,n)}catch(e){r.emit("error",e)}}(t.callback,this,[n,i],e);x.running=!1;process.nextTick((function(){r(e)}))}))}}function i(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message);e(E.createError(E.IDB_ERROR,n,t.type))}}function o(e,t,n){return{data:C.safeJsonStringify(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function s(e){if(!e)return null;var t=C.safeJsonParse(e.data);t.winningRev=e.winningRev;t.deleted="1"===e.deletedOrLocal;t.seq=e.seq;return t}function a(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");e._id=e._doc_id_rev.substring(0,t-1);e._rev=e._doc_id_rev.substring(t+1);delete e._doc_id_rev;return e}function c(e,t,n,r){n?r(e?"string"!==typeof e?e:I.base64StringToBlobOrBuffer(e,t):I.blob([""],{type:t})):e?"string"!==typeof e?I.readAsBinaryString(e,(function(e){r(I.btoa(e))})):r(e):r("")}function u(e,t,n,r){function i(){++s===o.length&&r&&r()}var o=Object.keys(e._attachments||{});if(!o.length)return r&&r();var s=0;o.forEach((function(r){if(t.attachments&&t.include_docs)!function(e,t){var r=e._attachments[t],o=r.digest;n.objectStore(A).get(o).onsuccess=function(e){r.body=e.target.result.body;i()}}(e,r);else{e._attachments[r].stub=!0;i()}}))}function l(e,t){return T.all(e.map((function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return T.all(n.map((function(n){var r=e.doc._attachments[n];if("body"in r){var i=r.body,o=r.content_type;return new T((function(s){c(i,o,t,(function(t){e.doc._attachments[n]=b.extend(y.pick(r,["digest","content_type"]),{data:t});s()}))}))}})))}})))}function f(e,t,n){function r(){--c||function(){i.length&&i.forEach((function(e){a.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::",!1,!1)).onsuccess=function(t){t.target.result||s.delete(e)}}))}()}var i=[],o=n.objectStore(N),s=n.objectStore(A),a=n.objectStore(R),c=e.length;e.forEach((function(e){var n=o.index("_doc_id_rev"),s=t+"::"+e;n.getKey(s).onsuccess=function(e){var t=e.target.result;if("number"!==typeof t)return r();o.delete(t);a.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];i.push(n);a.delete(t.primaryKey);t.continue()}else r()}}}))}function d(e,t,n){try{return{txn:e.transaction(t,n)}}catch(e){return{error:e}}}function h(e,t,n,r,a,c,u){function l(){var t=d(a,[w,N,A,L,R],"readwrite");if(t.error)return u(t.error);(g=t.txn).onabort=i(u);g.ontimeout=i(u);g.oncomplete=h;y=g.objectStore(w);b=g.objectStore(N);T=g.objectStore(A);C=g.objectStore(R);!function(e){var t=[];O.forEach((function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach((function(n){var r=e.data._attachments[n];r.stub&&t.push(r.digest)}))}));if(!t.length)return e();var n,r=0;t.forEach((function(i){!function(e,t){T.get(e).onsuccess=function(n){if(n.target.result)t();else{var r=E.createError(E.MISSING_STUB,"unknown stub attachment with digest "+e);r.status=412;t(r)}}}(i,(function(i){i&&!n&&(n=i);!function(){++r===t.length&&e(n)}()}))}))}((function(t){if(t){U=!0;return u(t)}!function(){function t(){++o===O.length&&function(){S.processDocs(e.revs_limit,O,r,M,g,B,p,n)}()}function i(e){var n=s(e.target.result);n&&M.set(n.id,n);t()}if(O.length)for(var o=0,a=0,c=O.length;a<c;a++){var u=O[a];u._id&&S.isLocalId(u._id)?t():y.get(u.metadata.id).onsuccess=i}}()}))}function h(){if(!U){c.notify(r._meta.name);r._meta.docCount+=D;u(null,B)}}function p(e,t,n,r,i,o,s,a){D+=o;e.metadata.winningRev=t;e.metadata.deleted=n;var c=e.data;c._id=e.metadata.id;c._rev=e.metadata.rev;r&&(c._deleted=!0);if(c._attachments&&Object.keys(c._attachments).length)return function(e,t,n,r,i,o){function s(){u===l.length&&m(e,t,n,r,i,o)}function a(){u++;s()}var c=e.data,u=0,l=Object.keys(c._attachments);l.forEach((function(n){var r=e.data._attachments[n];if(r.stub){u++;s()}else{var i=r.data;delete r.data;r.revpos=parseInt(t,10);!function(e,t,n){T.count(e).onsuccess=function(r){if(r.target.result)return n();var i={digest:e,body:t};T.put(i).onsuccess=n}}(r.digest,i,a)}}))}(e,t,n,i,s,a);m(e,t,n,i,s,a)}function m(e,t,n,i,s,a){function c(s){var a=e.stemmedRevs||[];i&&r.auto_compaction&&(a=a.concat(_.compactTree(e.metadata)));a&&a.length&&f(a,e.metadata.id,g);d.seq=s.target.result;delete d.rev;var c=o(d,t,n);y.put(c).onsuccess=u}function u(){B[s]={ok:!0,id:d.id,rev:t};M.set(e.metadata.id,e.metadata);!function(e,t,n){function r(){++o===s.length&&n()}function i(n){var i=e.data._attachments[n].digest,o=C.put({seq:t,digestSeq:i+"::"+t});o.onsuccess=r;o.onerror=function(e){e.preventDefault();e.stopPropagation();r()}}var o=0,s=Object.keys(e.data._attachments||{});if(!s.length)return n();for(var a=0;a<s.length;a++)i(s[a])}(e,d.seq,a)}var l=e.data,d=e.metadata;l._doc_id_rev=d.id+"::"+d.rev;delete l._id;delete l._rev;var h=b.put(l);h.onsuccess=c;h.onerror=function(e){e.preventDefault();e.stopPropagation();b.index("_doc_id_rev").getKey(l._doc_id_rev).onsuccess=function(e){b.put(l,e.target.result).onsuccess=c}}}for(var g,y,b,T,C,I,O=t.docs,D=0,x=0,P=O.length;x<P;x++){var k=O[x];k._id&&S.isLocalId(k._id)||(k=O[x]=S.parseDoc(k,n.new_edits)).error&&!I&&(I=k)}if(I)return u(I);var B=new Array(O.length),M=new v.Map,U=!1,F=r._meta.blobSupport?"blob":"base64";S.preprocessAttachments(O,F,(function(e){if(e)return u(e);l()}))}function p(e,t,n,r){!function(e,r){if(0===e.limit)return r(null,{total_rows:t._meta.docCount,offset:e.skip,rows:[]});!function(e,r){function i(t,n,r){var i=t.id+"::"+r;O.get(i).onsuccess=function(r){n.doc=a(r.target.result);e.conflicts&&(n.doc._conflicts=_.collectConflicts(t));u(n.doc,e,T)}}function o(){r(null,{total_rows:D,offset:e.skip,rows:L})}var c="startkey"in e&&e.startkey,f="endkey"in e&&e.endkey,h="key"in e&&e.key,p=e.skip||0,m="number"===typeof e.limit?e.limit:-1,g=!1!==e.inclusive_end,y="descending"in e&&e.descending?"prev":null,v=function(e,t,n,r,i){try{if(e&&t)return i?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return i?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return i?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(r)return IDBKeyRange.only(r)}catch(e){return{error:e}}return null}(c,f,g,h,y);if(v&&v.error)return function(e,t,n,r){if("DataError"===n.name&&0===n.code)return r(null,{total_rows:e._meta.docCount,offset:t.skip,rows:[]});r(E.createError(E.IDB_ERROR,n.name,n.message))}(t,e,v.error,r);var S=[w,N];e.attachments&&S.push(A);var b=d(n,S,"readonly");if(b.error)return r(b.error);var T=b.txn,C=T.objectStore(w),I=T.objectStore(N),R=y?C.openCursor(v,y):C.openCursor(v),O=I.index("_doc_id_rev"),L=[],D=0;T.oncomplete=function(){e.attachments?l(L,e.binary).then(o):o()};R.onsuccess=function(n){D=t._meta.docCount;var r=n.target.result;if(r){var o=s(r.value);!function(t,n,r){var o={id:r.id,key:r.id,value:{rev:n}},s=r.deleted;if("ok"===e.deleted){L.push(o);if(s){o.value.deleted=!0;o.doc=null}else e.include_docs&&i(r,o,n)}else if(!s&&p--<=0){L.push(o);e.include_docs&&i(r,o,n);if(0===--m)return}t.continue()}(r,o.winningRev,o)}}}(e,r)}(e,r)}function m(e,t){var n=this;x.queue.push({action:function(t){!function(e,t,n){function r(e,t){var n=e.objectStore(w);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1});n.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var i=r.value,o=_.isDeleted(i);i.deletedOrLocal=o?"1":"0";n.put(i);r.continue()}else t()}}function m(e,t){var n=e.objectStore(L),r=e.objectStore(w),i=e.objectStore(N);r.openCursor().onsuccess=function(e){var o=e.target.result;if(o){var s=o.value,a=s.id,c=_.isLocalId(a),u=_.winningRev(s);if(c){var l=a+"::"+u,f=a+"::",d=a+"::~",h=i.index("_doc_id_rev"),p=IDBKeyRange.bound(f,d,!1,!1),m=h.openCursor(p);m.onsuccess=function(e){if(m=e.target.result){var t=m.value;t._doc_id_rev===l&&n.put(t);i.delete(m.primaryKey);m.continue()}else{r.delete(o.primaryKey);o.continue()}}}else o.continue()}else t&&t()}}function S(e,t){var n=e.objectStore(N),r=e.objectStore(A),i=e.objectStore(R);r.count().onsuccess=function(e){if(!e.target.result)return t();n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var r=n.value,o=n.primaryKey,s=Object.keys(r._attachments||{}),a={},c=0;c<s.length;c++)a[r._attachments[s[c]].digest]=!0;var u=Object.keys(a);for(c=0;c<u.length;c++){var l=u[c];i.put({seq:o,digestSeq:l+"::"+o})}n.continue()}}}function b(e){var t=e.objectStore(N),n=e.objectStore(w);n.openCursor().onsuccess=function(e){function r(){var e=o(a,a.winningRev,a.deleted);n.put(e).onsuccess=function(){i.continue()}}var i=e.target.result;if(i){var a=function(e){if(!e.data){e.deleted="1"===e.deletedOrLocal;return e}return s(e)}(i.value);a.winningRev=a.winningRev||_.winningRev(a);if(a.seq)return r();!function(){var e=a.id+"::",n=a.id+"::",i=t.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,n)),o=0;i.onsuccess=function(e){var t=e.target.result;if(!t){a.seq=o;return r()}var n=t.primaryKey;n>o&&(o=n);t.continue()}}()}}}var C=t.name,x=null;e._meta=null;e.type=function(){return"idb"};e._id=y.toPromise((function(t){t(null,e._meta.instanceId)}));e._bulkDocs=function(n,r,i){h(t,n,r,e,x,k,i)};e._get=function(e,t,n){function r(){n(c,{doc:i,metadata:o,ctx:u})}var i,o,c,u=t.ctx;if(!u){var l=d(x,[w,N,A],"readonly");if(l.error)return n(l.error);u=l.txn}u.objectStore(w).get(e).onsuccess=function(e){if(!(o=s(e.target.result))){c=E.createError(E.MISSING_DOC,"missing");return r()}if(_.isDeleted(o)&&!t.rev){c=E.createError(E.MISSING_DOC,"deleted");return r()}var n=u.objectStore(N),l=t.rev||o.winningRev,f=o.id+"::"+l;n.index("_doc_id_rev").get(f).onsuccess=function(e){(i=e.target.result)&&(i=a(i));if(!i){c=E.createError(E.MISSING_DOC,"missing");return r()}r()}}};e._getAttachment=function(e,t,n,r,i){var o;if(r.ctx)o=r.ctx;else{var s=d(x,[w,N,A],"readonly");if(s.error)return i(s.error);o=s.txn}var a=n.digest,u=n.content_type;o.objectStore(A).get(a).onsuccess=function(e){c(e.target.result.body,u,r.binary,(function(e){i(null,e)}))}};e._info=function(t){if(null===x||!P.has(C)){var n=new Error("db isn't open");n.id="idbNull";return t(n)}var r,i,o=d(x,[N],"readonly");if(o.error)return t(o.error);var s=o.txn;s.objectStore(N).openCursor(null,"prev").onsuccess=function(t){var n=t.target.result;r=n?n.key:0;i=e._meta.docCount};s.oncomplete=function(){t(null,{doc_count:i,update_seq:r,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}};e._allDocs=function(t,n){p(t,e,x,n)};e._changes=function(t){function n(e){function n(){if(i.seq!==c)return e.continue();p=c;if(i.winningRev===o._rev)return r(o);!function(){var e=o._id+"::"+i.winningRev;S.get(e).onsuccess=function(e){r(a(e.target.result))}}()}function r(n){var r=t.processChange(n,i,t);r.seq=i.seq;var o=I(r);if("object"===typeof o)return t.complete(o);if(o){T++;h&&b.push(r);t.attachments&&t.include_docs?u(n,t,g,(function(){l([r],t.binary).then((function(){t.onChange(r)}))})):t.onChange(r)}T!==m&&e.continue()}var i,o=a(e.value),c=e.key;if(f&&!f.has(o._id))return e.continue();if(i=R.get(o._id))return n();E.get(o._id).onsuccess=function(e){i=s(e.target.result);R.set(o._id,i);n()}}function r(e){var t=e.target.result;t&&n(t)}function o(){function e(){t.complete(null,{results:b,last_seq:p})}!t.continuous&&t.attachments?l(b).then(e):e()}if((t=y.clone(t)).continuous){var c=C+":"+y.uuid();k.addListener(C,c,e,t);k.notify(C);return{cancel:function(){k.removeListener(C,c)}}}var f=t.doc_ids&&new v.Set(t.doc_ids);t.since=t.since||0;var h,p=t.since,m="limit"in t?t.limit:-1;0===m&&(m=1);h="return_docs"in t?t.return_docs:!("returnDocs"in t)||t.returnDocs;var g,_,E,S,b=[],T=0,I=y.filterChange(t),R=new v.Map;!function(){var e=[w,N];t.attachments&&e.push(A);var n=d(x,e,"readonly");if(n.error)return t.complete(n.error);(g=n.txn).onabort=i(t.complete);g.oncomplete=o;_=g.objectStore(N);E=g.objectStore(w);S=_.index("_doc_id_rev");(t.descending?_.openCursor(null,"prev"):_.openCursor(IDBKeyRange.lowerBound(t.since,!0))).onsuccess=r}()};e._close=function(e){if(null===x)return e(E.createError(E.NOT_OPEN));x.close();P.delete(C);x=null;e()};e._getRevisionTree=function(e,t){var n=d(x,[w],"readonly");if(n.error)return t(n.error);n.txn.objectStore(w).get(e).onsuccess=function(e){var n=s(e.target.result);n?t(null,n.rev_tree):t(E.createError(E.MISSING_DOC))}};e._doCompaction=function(e,t,n){var r=d(x,[w,N,A,R],"readwrite");if(r.error)return n(r.error);var a=r.txn;a.objectStore(w).get(e).onsuccess=function(n){var r=s(n.target.result);_.traverseRevTree(r.rev_tree,(function(e,n,r,i,o){var s=n+"-"+r;-1!==t.indexOf(s)&&(o.status="missing")}));f(t,e,a);var i=r.winningRev,c=r.deleted;a.objectStore(w).put(o(r,i,c))};a.onabort=i(n);a.oncomplete=function(){n()}};e._getLocal=function(e,t){var n=d(x,[L],"readonly");if(n.error)return t(n.error);var r=n.txn.objectStore(L).get(e);r.onerror=i(t);r.onsuccess=function(e){var n=e.target.result;if(n){delete n["_doc_id_rev"];t(null,n)}else t(E.createError(E.MISSING_DOC))}};e._putLocal=function(e,t,n){if("function"===typeof t){n=t;t={}}delete e._revisions;var r=e._rev,o=e._id;e._rev=r?"0-"+(parseInt(r.split("-")[1],10)+1):"0-1";var s,a=t.ctx;if(!a){var c=d(x,[L],"readwrite");if(c.error)return n(c.error);(a=c.txn).onerror=i(n);a.oncomplete=function(){s&&n(null,s)}}var u,l=a.objectStore(L);if(r)(u=l.get(o)).onsuccess=function(i){var o=i.target.result;o&&o._rev===r?l.put(e).onsuccess=function(){s={ok:!0,id:e._id,rev:e._rev};t.ctx&&n(null,s)}:n(E.createError(E.REV_CONFLICT))};else{(u=l.add(e)).onerror=function(e){n(E.createError(E.REV_CONFLICT));e.preventDefault();e.stopPropagation()};u.onsuccess=function(){s={ok:!0,id:e._id,rev:e._rev};t.ctx&&n(null,s)}}};e._removeLocal=function(e,t,n){if("function"===typeof t){n=t;t={}}var r,o=t.ctx;if(!o){var s=d(x,[L],"readwrite");if(s.error)return n(s.error);(o=s.txn).oncomplete=function(){r&&n(null,r)}}var a=e._id,c=o.objectStore(L),u=c.get(a);u.onerror=i(n);u.onsuccess=function(i){var o=i.target.result;if(o&&o._rev===e._rev){c.delete(a);r={ok:!0,id:a,rev:"0-0"};t.ctx&&n(null,r)}else n(E.createError(E.MISSING_DOC))}};e._destroy=function(e,t){k.removeAllListeners(C);var n=B.get(C);if(n&&n.result){n.result.close();P.delete(C)}var r=indexedDB.deleteDatabase(C);r.onsuccess=function(){B.delete(C);y.hasLocalStorage()&&C in localStorage&&delete localStorage[C];t(null,{ok:!0})};r.onerror=i(t)};var M,U=P.get(C);if(U){x=U.idb;e._meta=U.global;process.nextTick((function(){n(null,e)}))}else{M=t.storage?function(e,t){try{return indexedDB.open(e,{version:5,storage:t})}catch(t){return indexedDB.open(e,5)}}(C,t.storage):indexedDB.open(C,5);B.set(C,M);M.onupgradeneeded=function(e){var t=e.target.result;if(e.oldVersion<1)return function(e){var t=e.createObjectStore(w,{keyPath:"id"});e.createObjectStore(N,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0});e.createObjectStore(A,{keyPath:"digest"});e.createObjectStore(O,{keyPath:"id",autoIncrement:!1});e.createObjectStore(D);t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1});e.createObjectStore(L,{keyPath:"_id"});var n=e.createObjectStore(R,{autoIncrement:!0});n.createIndex("seq","seq");n.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var n=e.currentTarget.transaction;e.oldVersion<3&&function(e){e.createObjectStore(L,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(t);e.oldVersion<4&&function(e){var t=e.createObjectStore(R,{autoIncrement:!0});t.createIndex("seq","seq");t.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var i=[r,m,S,b],o=e.oldVersion;!function e(){var t=i[o-1];o++;t&&t(n,e)}()};M.onsuccess=function(t){(x=t.target.result).onversionchange=function(){x.close();P.delete(C)};x.onabort=function(e){y.guardedConsole("error","Database has a global failure",e.target.error);x.close();P.delete(C)};var r=x.transaction([O,D,w],"readwrite"),i=r.objectStore(O).get(O),o=null,s=null,a=null;i.onsuccess=function(t){var i=function(){if(null!==o&&null!==s&&null!==a){e._meta={name:C,instanceId:a,blobSupport:o,docCount:s};P.set(C,{idb:x,global:e._meta});n(null,e)}},c=t.target.result||{id:O};if(C+"_id"in c){a=c[C+"_id"];i()}else{a=y.uuid();c[C+"_id"]=a;r.objectStore(O).put(c).onsuccess=function(){i()}}g||(g=function(e){return new T((function(t){var n=I.blob([""]);e.objectStore(D).put(n,"key");e.onabort=function(e){e.preventDefault();e.stopPropagation();t(!1)};e.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(r));g.then((function(e){o=e;i()}));r.objectStore(w).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){s=e.target.result;i()}}};M.onerror=function(){var e="Failed to open indexedDB, are you in private browsing mode?";y.guardedConsole("error",e);n(E.createError(E.IDB_ERROR,e))}}}(n,e,t)},callback:t});r(n.constructor)}var g,y=n(3515),_=n(5895),v=n(1830),E=n(2154),S=n(7340),b=n(9537),T=function(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}(n(1646)),C=n(8779),I=n(2325),w="document-store",N="by-sequence",A="attach-store",R="attach-seq-store",O="meta-store",L="local-store",D="detect-blob-support",x={running:!1,queue:[]},P=new v.Map,k=new y.changesHandler,B=new v.Map;m.valid=function(){return!("undefined"!==typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform))&&"undefined"!==typeof indexedDB&&"undefined"!==typeof IDBKeyRange};e.exports=function(e){e.adapter("idb",m,!0)}},7340:(e,t,n)=>{"use strict";function r(e){return e.reduce((function(e,t){e[t]=!0;return e}),{})}function i(e){if(!/^\d+\-./.test(e))return u.createError(u.INVALID_REV);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function o(e,t){var n,r,o,s={status:"available"};e._deleted&&(s.deleted=!0);if(t){e._id||(e._id=c.uuid());r=c.uuid(32,16).toLowerCase();if(e._rev){if((o=i(e._rev)).error)return o;e._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[r,s,[]]]]}];n=o.prefix+1}else{e._rev_tree=[{pos:1,ids:[r,s,[]]}];n=1}}else{if(e._revisions){e._rev_tree=function(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,i=[r[0],t,[]],o=1,s=r.length;o<s;o++)i=[r[o],{status:"missing"},[i]];return[{pos:n,ids:i}]}(e._revisions,s);n=e._revisions.start;r=e._revisions.ids[0]}if(!e._rev_tree){if((o=i(e._rev)).error)return o;n=o.prefix;r=o.id;e._rev_tree=[{pos:n,ids:[r,s,[]]}]}}c.invalidIdError(e._id);e._rev=n+"-"+r;var a={metadata:{},data:{}};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var f="_"===l[0];if(f&&!p[l]){var d=u.createError(u.DOC_VALIDATION,l);d.message=u.DOC_VALIDATION.message+": "+l;throw d}f&&!m[l]?a.metadata[l.slice(1)]=e[l]:a.data[l]=e[l]}return a}function s(e,t,n){if(e.stub)return n();"string"===typeof e.data?function(e,t,n){var r=function(e){try{return f.atob(e)}catch(e){return{error:u.createError(u.BAD_ARG,"Attachment is not a valid base64 string")}}}(e.data);if(r.error)return n(r.error);e.length=r.length;e.data="blob"===t?f.binaryStringToBlobOrBuffer(r,e.content_type):"base64"===t?f.btoa(r):r;d.binaryMd5(r,(function(t){e.digest="md5-"+t;n()}))}(e,t,n):function(e,t,n){d.binaryMd5(e.data,(function(r){e.digest="md5-"+r;e.length=e.data.size||e.data.length||0;"binary"===t?f.blobOrBufferToBinaryString(e.data,(function(t){e.data=t;n()})):"base64"===t?f.blobOrBufferToBase64(e.data,(function(t){e.data=t;n()})):n()}))}(e,t,n)}function a(e,t,n,r,i,s,a,c){if(l.revExists(t.rev_tree,n.metadata.rev)){r[i]=n;return s()}var f=t.winningRev||l.winningRev(t),d="deleted"in t?t.deleted:l.isDeleted(t,f),h="deleted"in n.metadata?n.metadata.deleted:l.isDeleted(n.metadata),p=/^1-/.test(n.metadata.rev);if(d&&!h&&c&&p){var m=n.data;m._rev=f;m._id=n.metadata.id;n=o(m,c)}var g=l.merge(t.rev_tree,n.metadata.rev_tree[0],e);if(c&&(d&&h||!d&&"new_leaf"!==g.conflicts||d&&!h&&"new_branch"===g.conflicts)){var y=u.createError(u.REV_CONFLICT);r[i]=y;return s()}var _=n.metadata.rev;n.metadata.rev_tree=g.tree;n.stemmedRevs=g.stemmedRevs||[];t.rev_map&&(n.metadata.rev_map=t.rev_map);var v=l.winningRev(n.metadata),E=l.isDeleted(n.metadata,v),S=d===E?0:d<E?-1:1;a(n,v,E,_===v?E:l.isDeleted(n.metadata,_),!0,S,i,s)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(3515),u=n(2154),l=n(5895),f=n(2325),d=n(3642),h=n(1830),p=r(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),m=r(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);t.invalidIdError=c.invalidIdError;t.isDeleted=l.isDeleted;t.isLocalId=l.isLocalId;t.normalizeDdocFunctionName=c.normalizeDdocFunctionName;t.parseDdocFunctionName=c.parseDdocFunctionName;t.parseDoc=o;t.preprocessAttachments=function(e,t,n){function r(){o++;e.length===o&&(i?n(i):n())}if(!e.length)return n();var i,o=0;e.forEach((function(e){function n(e){i=e;++a===o.length&&r()}var o=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],a=0;if(!o.length)return r();for(var c in e.data._attachments)e.data._attachments.hasOwnProperty(c)&&s(e.data._attachments[c],t,n)}))};t.processDocs=function(e,t,n,r,i,o,s,c,f){function d(){++g===y&&f&&f()}e=e||1e3;var p=c.new_edits,m=new h.Map,g=0,y=t.length;t.forEach((function(e,t){if(e._id&&l.isLocalId(e._id)){var r=e._deleted?"_removeLocal":"_putLocal";n[r](e,{ctx:i},(function(e,n){o[t]=e||n;d()}))}else{var s=e.metadata.id;if(m.has(s)){y--;m.get(s).push([e,t])}else m.set(s,[[e,t]])}}));m.forEach((function(t,n){function i(){++h<t.length?f():d()}function f(){var f=t[h],d=f[0],m=f[1];if(r.has(n))a(e,r.get(n),d,o,m,i,s,p);else{var g=l.merge([],d.metadata.rev_tree[0],e);d.metadata.rev_tree=g.tree;d.stemmedRevs=g.stemmedRevs||[];!function(e,t,n){var r=l.winningRev(e.metadata),i=l.isDeleted(e.metadata,r);if("was_delete"in c&&i){o[t]=u.createError(u.MISSING_DOC,"deleted");return n()}if(p&&function(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}(e)){var a=u.createError(u.REV_CONFLICT);o[t]=a;return n()}s(e,r,i,i,!1,i?0:1,t,n)}(d,m,i)}}var h=0;f()}))};t.updateDoc=a},9919:(e,t,n)=>{"use strict";function r(e){return e<65?e-48:e-55}function i(e,t){return"UTF-8"===t?function(e){return decodeURIComponent(escape(e))}(function(e,t,n){for(var i="";t<n;)i+=String.fromCharCode(r(e.charCodeAt(t++))<<4|r(e.charCodeAt(t++)));return i}(e,0,e.length)):function(e,t,n){for(var i="";t<n;){i+=String.fromCharCode(r(e.charCodeAt(t+2))<<12|r(e.charCodeAt(t+3))<<8|r(e.charCodeAt(t))<<4|r(e.charCodeAt(t+1)));t+=4}return i}(e,0,e.length)}function o(e){return"'"+e+"'"}function s(e){return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"")}function a(e){delete e._id;delete e._rev;return JSON.stringify(e)}function c(e,t,n){(e=JSON.parse(e))._id=t;e._rev=n;return e}function u(e){for(var t="(";e--;){t+="?";e&&(t+=",")}return t+")"}function l(e,t,n,r,i){return"SELECT "+e+" FROM "+("string"===typeof t?t:t.join(" JOIN "))+(n?" ON "+n:"")+(r?" WHERE "+("string"===typeof r?r:r.join(" AND ")):"")+(i?" ORDER BY "+i:"")}function f(e,t,n){function r(){++i===e.length&&function(){if(o.length){var e="SELECT DISTINCT digest AS digest FROM "+R+" WHERE seq IN "+u(o.length);n.executeSql(e,o,(function(e,t){for(var n=[],r=0;r<t.rows.length;r++)n.push(t.rows.item(r).digest);if(n.length){var i="DELETE FROM "+R+" WHERE seq IN ("+o.map((function(){return"?"})).join(",")+")";e.executeSql(i,o,(function(e){var t="SELECT digest FROM "+R+" WHERE digest IN ("+n.map((function(){return"?"})).join(",")+")";e.executeSql(t,n,(function(e,t){for(var r=new b.Set,i=0;i<t.rows.length;i++)r.add(t.rows.item(i).digest);n.forEach((function(t){if(!r.has(t)){e.executeSql("DELETE FROM "+R+" WHERE digest=?",[t]);e.executeSql("DELETE FROM "+w+" WHERE digest=?",[t])}}))}))}))}}))}}()}if(e.length){var i=0,o=[];e.forEach((function(e){var i="SELECT seq FROM "+I+" WHERE doc_id=? AND rev=?";n.executeSql(i,[t,e],(function(e,t){if(!t.rows.length)return r();var n=t.rows.item(0).seq;o.push(n);e.executeSql("DELETE FROM "+I+" WHERE seq=?",[n],r)}))}))}}function d(e){return function(t){y.guardedConsole("error","WebSQL threw an error",t);var n=t&&t.constructor.toString().match(/function ([^\(]+)/),r=n&&n[1]||t.type,i=t.target||t.message;e(T.createError(T.WSQ_ERROR,i,r))}}function h(e,t,n,r,i,o,c){function u(){if(N)return c(N);o.notify(r._name);r._docCount=-1;c(null,A)}function h(e,t,n,i,o,c,u,d){function h(){function t(e,t){function r(){++o===s.length&&t();return!1}function i(t){var i="INSERT INTO "+R+" (digest, seq) VALUES (?,?)",o=[n._attachments[t].digest,e];m.executeSql(i,o,r,r)}var o=0,s=Object.keys(n._attachments||{});if(!s.length)return t();for(var a=0;a<s.length;a++)i(s[a])}var n=e.data,r=i?1:0,o=n._id,s=n._rev,c=a(n),u="INSERT INTO "+I+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",f=[o,s,c,r];m.executeSql(u,f,(function(e,n){var r=n.insertId;t(r,(function(){y(e,r)}))}),(function(){var e=l("seq",I,null,"doc_id=? AND rev=?");m.executeSql(e,[o,s],(function(e,n){var i=n.rows.item(0).seq,a="UPDATE "+I+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",u=[c,r,o,s];e.executeSql(a,u,(function(e){t(i,(function(){y(e,i)}))}))}));return!1}))}function p(e){_||(e?d(_=e):S===b.length&&h())}function g(e){S++;p(e)}function y(n,i){var s=e.metadata.id,a=e.stemmedRevs||[];o&&r.auto_compaction&&(a=v.compactTree(e.metadata).concat(a));a.length&&f(a,s,n);e.metadata.seq=i;delete e.metadata.rev;var c=o?"UPDATE "+C+" SET json=?, max_seq=?, winningseq=(SELECT seq FROM "+I+" WHERE doc_id="+C+".id AND rev=?) WHERE id=?":"INSERT INTO "+C+" (id, winningseq, max_seq, json) VALUES (?,?,?,?);",l=E.safeJsonStringify(e.metadata),h=o?[l,i,t,s]:[s,i,i,l];n.executeSql(c,h,(function(){A[u]={ok:!0,id:e.metadata.id,rev:t};O.set(s,e.metadata);d()}))}var _=null,S=0;e.data._id=e.metadata.id;e.data._rev=e.metadata.rev;var b=Object.keys(e.data._attachments||{});i&&(e.data._deleted=!0);b.forEach((function(n){var r=e.data._attachments[n];if(r.stub){S++;p()}else{var i=r.data;delete r.data;r.revpos=parseInt(t,10);!function(e,t,n){var r="SELECT digest FROM "+w+" WHERE digest=?";m.executeSql(r,[e],(function(i,o){if(o.rows.length)return n();r="INSERT INTO "+w+" (digest, body, escaped) VALUES (?,?,1)";i.executeSql(r,[e,s(t)],(function(){n()}),(function(){n();return!1}))}))}(r.digest,i,g)}}));b.length||h()}function p(){_.processDocs(e.revs_limit,y,r,O,m,A,h,n)}var m,g=n.new_edits,y=t.docs.map((function(e){return e._id&&_.isLocalId(e._id)?e:_.parseDoc(e,g)})),S=y.filter((function(e){return e.error}));if(S.length)return c(S[0]);var N,A=new Array(y.length),O=new b.Map;_.preprocessAttachments(y,"binary",(function(e){if(e)return c(e);i.transaction((function(e){m=e;!function(e){var t=[];y.forEach((function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach((function(n){var r=e.data._attachments[n];r.stub&&t.push(r.digest)}))}));if(!t.length)return e();var n,r=0;t.forEach((function(i){!function(e,t){var n="SELECT count(*) as cnt FROM "+w+" WHERE digest=?";m.executeSql(n,[e],(function(n,r){if(0===r.rows.item(0).cnt){var i=T.createError(T.MISSING_STUB,"unknown stub attachment with digest "+e);t(i)}else t()}))}(i,(function(i){i&&!n&&(n=i);!function(){++r===t.length&&e(n)}()}))}))}((function(e){e?N=e:function(e){function t(){++n===y.length&&e()}if(!y.length)return e();var n=0;y.forEach((function(e){if(e._id&&_.isLocalId(e._id))return t();var n=e.metadata.id;m.executeSql("SELECT json FROM "+C+" WHERE id = ?",[n],(function(e,r){if(r.rows.length){var i=E.safeJsonParse(r.rows.item(0).json);O.set(n,i)}t()}))}))}(p)}))}),d(c),u)}))}function p(e){return e.websql(e.name,e.version,e.description,e.size)}function m(e,t,n,r,i){function o(){++a===s.length&&i&&i()}var s=Object.keys(e._attachments||{});if(!s.length)return i&&i();var a=0;s.forEach((function(i){if(t.attachments&&t.include_docs)!function(e,i){var s=e._attachments[i],a={binary:t.binary,ctx:r};n._getAttachment(e._id,i,s,a,(function(t,n){e._attachments[i]=g.extend(y.pick(s,["digest","content_type"]),{data:n});o()}))}(e,i);else{e._attachments[i].stub=!0;o()}}))}var g=n(9537),y=n(3515),_=n(7340),v=n(5895),E=n(8779),S=n(2325),b=n(1830),T=n(2154),C=o("document-store"),I=o("by-sequence"),w=o("attach-store"),N=o("local-store"),A=o("metadata-store"),R=o("attach-seq-store"),O=new b.Map,L=new y.changesHandler,D="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+I+" (seq, deleted)",x="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+I+" (doc_id, rev)",P="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+C+" (winningseq)",k="CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON "+R+" (seq)",B="CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON "+R+" (digest, seq)",M=I+".seq = "+C+".winningseq",U=I+".seq AS seq, "+I+".deleted AS deleted, "+I+".json AS data, "+I+".rev AS rev, "+C+".json AS metadata";e.exports=function(e,t){function n(){y.hasLocalStorage()&&(window.localStorage["_pouch__websqldb_"+W._name]=!0);t(null,W)}function r(e,t){e.executeSql(P);e.executeSql("ALTER TABLE "+I+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],(function(){e.executeSql(D);e.executeSql("ALTER TABLE "+C+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],(function(){e.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+C+" (local, id)");var n="SELECT "+C+".winningseq AS seq, "+C+".json AS metadata FROM "+I+" JOIN "+C+" ON "+I+".seq = "+C+".winningseq";e.executeSql(n,[],(function(e,n){for(var r=[],i=[],o=0;o<n.rows.length;o++){var s=n.rows.item(o),a=s.seq,c=JSON.parse(s.metadata);_.isDeleted(c)&&r.push(a);_.isLocalId(c.id)&&i.push(c.id)}e.executeSql("UPDATE "+C+"SET local = 1 WHERE id IN "+u(i.length),i,(function(){e.executeSql("UPDATE "+I+" SET deleted = 1 WHERE seq IN "+u(r.length),r,t)}))}))}))}))}function o(e,t){var n="CREATE TABLE IF NOT EXISTS "+N+" (id UNIQUE, rev, json)";e.executeSql(n,[],(function(){var n="SELECT "+C+".id AS id, "+I+".json AS data FROM "+I+" JOIN "+C+" ON "+I+".seq = "+C+".winningseq WHERE local = 1";e.executeSql(n,[],(function(e,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i));!function n(){if(!r.length)return t(e);var i=r.shift(),o=JSON.parse(i.data)._rev;e.executeSql("INSERT INTO "+N+" (id, rev, json) VALUES (?,?,?)",[i.id,o,i.data],(function(e){e.executeSql("DELETE FROM "+C+" WHERE id=?",[i.id],(function(e){e.executeSql("DELETE FROM "+I+" WHERE seq=?",[i.seq],(function(){n()}))}))}))}()}))}))}function s(e,t){function n(n){!function r(){if(!n.length)return t(e);var o=i(n.shift().hex,q),s=o.lastIndexOf("::"),a=o.substring(0,s),c=o.substring(s+2),u="UPDATE "+I+" SET doc_id=?, rev=? WHERE doc_id_rev=?";e.executeSql(u,[a,c,o],(function(){r()}))}()}var r="ALTER TABLE "+I+" ADD COLUMN doc_id";e.executeSql(r,[],(function(e){var t="ALTER TABLE "+I+" ADD COLUMN rev";e.executeSql(t,[],(function(e){e.executeSql(x,[],(function(e){var t="SELECT hex(doc_id_rev) as hex FROM "+I;e.executeSql(t,[],(function(e,t){for(var r=[],i=0;i<t.rows.length;i++)r.push(t.rows.item(i));n(r)}))}))}))}))}function b(e,t){function n(e){var n="SELECT COUNT(*) AS cnt FROM "+w;e.executeSql(n,[],(function(e,n){if(!n.rows.item(0).cnt)return t(e);var r=0;!function n(){var i=l(U+", "+C+".id AS id",[C,I],M,null,C+".id ");i+=" LIMIT 10 OFFSET "+r;r+=10;e.executeSql(i,[],(function(e,r){function i(e,t){var n=o[e]=o[e]||[];-1===n.indexOf(t)&&n.push(t)}if(!r.rows.length)return t(e);for(var o={},s=0;s<r.rows.length;s++)for(var a=r.rows.item(s),u=c(a.data,a.id,a.rev),l=Object.keys(u._attachments||{}),f=0;f<l.length;f++)i(u._attachments[l[f]].digest,a.seq);var d=[];Object.keys(o).forEach((function(e){o[e].forEach((function(t){d.push([e,t])}))}));if(!d.length)return n();var h=0;d.forEach((function(t){var r="INSERT INTO "+R+" (digest, seq) VALUES (?,?)";e.executeSql(r,t,(function(){++h===d.length&&n()}))}))}))}()}))}var r="CREATE TABLE IF NOT EXISTS "+R+" (digest, seq INTEGER)";e.executeSql(r,[],(function(e){e.executeSql(B,[],(function(e){e.executeSql(k,[],n)}))}))}function F(e,t){var n="ALTER TABLE "+w+" ADD COLUMN escaped TINYINT(1) DEFAULT 0";e.executeSql(n,[],t)}function j(e,t){var n="ALTER TABLE "+C+" ADD COLUMN max_seq INTEGER";e.executeSql(n,[],(function(e){var n="UPDATE "+C+" SET max_seq=(SELECT MAX(seq) FROM "+I+" WHERE doc_id=id)";e.executeSql(n,[],(function(e){var n="CREATE UNIQUE INDEX IF NOT EXISTS 'doc-max-seq-idx' ON "+C+" (max_seq)";e.executeSql(n,[],t)}))}))}function G(){for(;Y.length>0;)Y.pop()(null,K)}function H(e,t){if(0===t){var n="CREATE TABLE IF NOT EXISTS "+A+" (dbid, db_version INTEGER)",i="CREATE TABLE IF NOT EXISTS "+w+" (digest UNIQUE, escaped TINYINT(1), body BLOB)",a="CREATE TABLE IF NOT EXISTS "+R+" (digest, seq INTEGER)",c="CREATE TABLE IF NOT EXISTS "+C+" (id unique, json, winningseq, max_seq INTEGER UNIQUE)",u="CREATE TABLE IF NOT EXISTS "+I+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",l="CREATE TABLE IF NOT EXISTS "+N+" (id UNIQUE, rev, json)";e.executeSql(i);e.executeSql(l);e.executeSql(a,[],(function(){e.executeSql(k);e.executeSql(B)}));e.executeSql(c,[],(function(){e.executeSql(P);e.executeSql(u,[],(function(){e.executeSql(D);e.executeSql(x);e.executeSql(n,[],(function(){var t="INSERT INTO "+A+" (db_version, dbid) VALUES (?,?)",n=[7,K=y.uuid()];e.executeSql(t,n,(function(){G()}))}))}))}))}else{var f=[r,o,s,b,F,j,function(){t<7&&e.executeSql("UPDATE "+A+" SET db_version = 7");var n="SELECT dbid FROM "+A;e.executeSql(n,[],(function(e,t){K=t.rows.item(0).dbid;G()}))}],d=t,h=function(e){f[d-1](e,h);d++};h(e)}}function V(e,t){if(-1!==W._docCount)return t(W._docCount);var n=l("COUNT("+C+".id) AS 'num'",[C,I],M,I+".deleted=0");e.executeSql(n,[],(function(e,n){W._docCount=n.rows.item(0).num;t(W._docCount)}))}var q,W=this,K=null,z=function(e){return"size"in e?1e6*e.size:"undefined"!==typeof navigator&&/Android/.test(navigator.userAgent)?5e6:1}(e),Y=[];W._docCount=-1;W._name=e.name;var $=function(e){var t=O.get(e.name);if(!t){t=function(e){try{return{db:p(e)}}catch(e){return{error:e}}}(e);O.set(e.name,t);t.db&&(t.db._sqlitePlugin="undefined"!==typeof sqlitePlugin)}return t}(g.extend({},e,{version:1,description:e.name,size:z}));if($.error)return d(t)($.error);var Q=$.db;"function"!==typeof Q.readTransaction&&(Q.readTransaction=Q.transaction);!function(){Q.transaction((function(e){!function(e,t){e.executeSql('SELECT HEX("a") AS hex',[],(function(e,n){var r=n.rows.item(0).hex;q=2===r.length?"UTF-8":"UTF-16";t()}))}(e,(function(){!function(e){var t="SELECT sql FROM sqlite_master WHERE tbl_name = "+A;e.executeSql(t,[],(function(e,t){t.rows.length?/db_version/.test(t.rows.item(0).sql)?e.executeSql("SELECT db_version FROM "+A,[],(function(e,t){H(e,t.rows.item(0).db_version)})):e.executeSql("ALTER TABLE "+A+" ADD COLUMN db_version INTEGER",[],(function(){H(e,1)})):H(e,0)}))}(e)}))}),d(t),n)}();W.type=function(){return"websql"};W._id=y.toPromise((function(e){e(null,K)}));W._info=function(e){Q.readTransaction((function(t){V(t,(function(n){var r="SELECT MAX(seq) AS seq FROM "+I;t.executeSql(r,[],(function(t,r){var i=r.rows.item(0).seq||0;e(null,{doc_count:n,update_seq:i,sqlite_plugin:Q._sqlitePlugin,websql_encoding:q})}))}))}),d(e))};W._bulkDocs=function(t,n,r){h(e,t,n,W,Q,L,r)};W._get=function(e,t,n){function r(){n(s,{doc:i,metadata:o,ctx:f})}var i,o,s,a,u,f=t.ctx;if(!f)return Q.readTransaction((function(r){W._get(e,g.extend({ctx:r},t),n)}));if(t.rev){a=l(U,[C,I],C+".id="+I+".doc_id",[I+".doc_id=?",I+".rev=?"]);u=[e,t.rev]}else{a=l(U,[C,I],M,C+".id=?");u=[e]}f.executeSql(a,u,(function(e,n){if(!n.rows.length){s=T.createError(T.MISSING_DOC,"missing");return r()}var a=n.rows.item(0);o=E.safeJsonParse(a.metadata);if(a.deleted&&!t.rev){s=T.createError(T.MISSING_DOC,"deleted");return r()}i=c(a.data,o.id,a.rev);r()}))};W._allDocs=function(e,t){var n,r=[],i="startkey"in e&&e.startkey,o="endkey"in e&&e.endkey,s="key"in e&&e.key,a="descending"in e&&e.descending,u="limit"in e?e.limit:-1,f="skip"in e?e.skip:0,h=!1!==e.inclusive_end,p=[],g=[];if(!1!==s){g.push(C+".id = ?");p.push(s)}else if(!1!==i||!1!==o){if(!1!==i){g.push(C+".id "+(a?"<=":">=")+" ?");p.push(i)}if(!1!==o){var y=a?">":"<";h&&(y+="=");g.push(C+".id "+y+" ?");p.push(o)}if(!1!==s){g.push(C+".id = ?");p.push(s)}}"ok"!==e.deleted&&g.push(I+".deleted = 0");Q.readTransaction((function(t){V(t,(function(i){n=i;if(0!==u){var o=l(U,[C,I],M,g,C+".id "+(a?"DESC":"ASC"));o+=" LIMIT "+u+" OFFSET "+f;t.executeSql(o,p,(function(t,n){for(var i=0,o=n.rows.length;i<o;i++){var s=n.rows.item(i),a=E.safeJsonParse(s.metadata),u=a.id,l=c(s.data,u,s.rev),f=l._rev,d={id:u,key:u,value:{rev:f}};if(e.include_docs){d.doc=l;d.doc._rev=f;e.conflicts&&(d.doc._conflicts=v.collectConflicts(a));m(d.doc,e,W,t)}if(s.deleted){if("ok"!==e.deleted)continue;d.value.deleted=!0;d.doc=null}r.push(d)}}))}}))}),d(t),(function(){t(null,{total_rows:n,offset:e.skip,rows:r})}))};W._changes=function(e){if((e=y.clone(e)).continuous){var t=W._name+":"+y.uuid();L.addListener(W._name,t,W,e);L.notify(W._name);return{cancel:function(){L.removeListener(W._name,t)}}}var n=e.descending;e.since=e.since&&!n?e.since:0;var r,i="limit"in e?e.limit:-1;0===i&&(i=1);r="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var o=[],s=0;!function(){var t=C+".json AS metadata, "+C+".max_seq AS maxSeq, "+I+".json AS winningDoc, "+I+".rev AS winningRev ",a=C+" JOIN "+I,f=C+".id="+I+".doc_id AND "+C+".winningseq="+I+".seq",h=["maxSeq > ?"],p=[e.since];if(e.doc_ids){h.push(C+".id IN "+u(e.doc_ids.length));p=p.concat(e.doc_ids)}var g=l(t,a,f,h,"maxSeq "+(n?"DESC":"ASC")),_=y.filterChange(e);e.view||e.filter||(g+=" LIMIT "+i);var v=e.since||0;Q.readTransaction((function(t){t.executeSql(g,p,(function(t,n){function a(t){return function(){e.onChange(t)}}for(var u=0,l=n.rows.length;u<l;u++){var f=n.rows.item(u),d=E.safeJsonParse(f.metadata);v=f.maxSeq;var h=c(f.winningDoc,d.id,f.winningRev),p=e.processChange(h,d,e);p.seq=f.maxSeq;var g=_(p);if("object"===typeof g)return e.complete(g);if(g){s++;r&&o.push(p);e.attachments&&e.include_docs?m(h,e,W,t,a(p)):a(p)()}if(s===i)break}}))}),d(e.complete),(function(){e.continuous||e.complete(null,{results:o,last_seq:v})}))}()};W._close=function(e){e()};W._getAttachment=function(e,t,n,r,o){var s,a=r.ctx,c=n.digest,u=n.content_type,l="SELECT escaped, CASE WHEN escaped = 1 THEN body ELSE HEX(body) END AS body FROM "+w+" WHERE digest=?";a.executeSql(l,[c],(function(e,t){var n=t.rows.item(0),a=n.escaped?function(e){return e.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,"")}(n.body):i(n.body,q);s=r.binary?S.binaryStringToBlobOrBuffer(a,u):S.btoa(a);o(null,s)}))};W._getRevisionTree=function(e,t){Q.readTransaction((function(n){var r="SELECT json AS metadata FROM "+C+" WHERE id = ?";n.executeSql(r,[e],(function(e,n){if(n.rows.length){var r=E.safeJsonParse(n.rows.item(0).metadata);t(null,r.rev_tree)}else t(T.createError(T.MISSING_DOC))}))}))};W._doCompaction=function(e,t,n){if(!t.length)return n();Q.transaction((function(n){var r="SELECT json AS metadata FROM "+C+" WHERE id = ?";n.executeSql(r,[e],(function(n,r){var i=E.safeJsonParse(r.rows.item(0).metadata);v.traverseRevTree(i.rev_tree,(function(e,n,r,i,o){var s=n+"-"+r;-1!==t.indexOf(s)&&(o.status="missing")}));var o="UPDATE "+C+" SET json = ? WHERE id = ?";n.executeSql(o,[E.safeJsonStringify(i),e])}));f(t,e,n)}),d(n),(function(){n()}))};W._getLocal=function(e,t){Q.readTransaction((function(n){var r="SELECT json, rev FROM "+N+" WHERE id=?";n.executeSql(r,[e],(function(n,r){if(r.rows.length){var i=r.rows.item(0),o=c(i.json,e,i.rev);t(null,o)}else t(T.createError(T.MISSING_DOC))}))}))};W._putLocal=function(e,t,n){function r(e){var r,a;if(o){r="UPDATE "+N+" SET rev=?, json=? WHERE id=? AND rev=?";a=[i,u,s,o]}else{r="INSERT INTO "+N+" (id, rev, json) VALUES (?,?,?)";a=[s,i,u]}e.executeSql(r,a,(function(e,r){if(r.rowsAffected){c={ok:!0,id:s,rev:i};t.ctx&&n(null,c)}else n(T.createError(T.REV_CONFLICT))}),(function(){n(T.createError(T.REV_CONFLICT));return!1}))}if("function"===typeof t){n=t;t={}}delete e._revisions;var i,o=e._rev,s=e._id;i=e._rev=o?"0-"+(parseInt(o.split("-")[1],10)+1):"0-1";var c,u=a(e);t.ctx?r(t.ctx):Q.transaction(r,d(n),(function(){c&&n(null,c)}))};W._removeLocal=function(e,t,n){function r(r){var o="DELETE FROM "+N+" WHERE id=? AND rev=?",s=[e._id,e._rev];r.executeSql(o,s,(function(r,o){if(!o.rowsAffected)return n(T.createError(T.MISSING_DOC));i={ok:!0,id:e._id,rev:"0-0"};t.ctx&&n(null,i)}))}if("function"===typeof t){n=t;t={}}var i;t.ctx?r(t.ctx):Q.transaction(r,d(n),(function(){i&&n(null,i)}))};W._destroy=function(e,t){L.removeAllListeners(W._name);Q.transaction((function(e){[C,I,w,A,N,R].forEach((function(t){e.executeSql("DROP TABLE IF EXISTS "+t,[])}))}),d(t),(function(){if(y.hasLocalStorage()){delete window.localStorage["_pouch__websqldb_"+W._name];delete window.localStorage[W._name]}t(null,{ok:!0})}))}}},3153:(e,t,n)=>{"use strict";function r(){return"undefined"!==typeof openDatabase&&("undefined"!==typeof sqlitePlugin||function(){if("undefined"===typeof indexedDB||null===indexedDB||!/iP(hone|od|ad)/.test(navigator.userAgent))return!0;var e=a.hasLocalStorage(),t="_pouch__websqldb_valid_"+navigator.userAgent;if(e&&localStorage[t])return"1"===localStorage[t];var n=function(){try{openDatabase("_pouch_validate_websql",1,"",1);return!0}catch(e){return!1}}();e&&(localStorage[t]=n?"1":"0");return n}())}function i(e,t){var n=function(e){return function(t,n,r,i){if("undefined"!==typeof sqlitePlugin){var o=s.extend({},e,{name:t,version:n,description:r,size:i});return sqlitePlugin.openDatabase(o)}return openDatabase(t,n,r,i)}}(e),i=s.extend({websql:n},e);"undefined"===typeof cordova||r()||a.guardedConsole("error","PouchDB error: you must install a SQLite plugin in order for PouchDB to work on this platform. Options:\n - https://github.com/nolanlawson/cordova-plugin-sqlite-2\n - https://github.com/litehelpers/Cordova-sqlite-storage\n - https://github.com/Microsoft/cordova-plugin-websql");o.call(this,i,t)}var o=function(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}(n(9919)),s=n(9537),a=n(3515);i.valid=function(){return"undefined"!==typeof cordova||r()};i.use_prefix=!0;e.exports=function(e){e.adapter("websql",i,!0)}},1354:(e,t,n)=>{"use strict";function r(e,t){return u||e.xhr?function(e,t){var n,r,o=!1,s=function(){o=!0;n.abort()};n=e.xhr?new e.xhr:new XMLHttpRequest;try{n.open(e.method,e.url)}catch(e){return t(new Error(e.name||"Url is invalid"))}n.withCredentials=!("withCredentials"in e)||e.withCredentials;if("GET"===e.method)delete e.headers["Content-Type"];else if(e.json){e.headers.Accept="application/json";e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json";e.body&&e.processData&&"string"!==typeof e.body&&(e.body=JSON.stringify(e.body))}e.binary&&(n.responseType="arraybuffer");"body"in e||(e.body=null);for(var a in e.headers)e.headers.hasOwnProperty(a)&&n.setRequestHeader(a,e.headers[a]);if(e.timeout>0){r=setTimeout(s,e.timeout);n.onprogress=function(){clearTimeout(r);4!==n.readyState&&(r=setTimeout(s,e.timeout))};"undefined"!==typeof n.upload&&(n.upload.onprogress=n.onprogress)}n.onreadystatechange=function(){if(4===n.readyState){var r={statusCode:n.status};if(n.status>=200&&n.status<300){var s;s=e.binary?i.blob([n.response||""],{type:n.getResponseHeader("Content-Type")}):n.responseText;t(null,r,s)}else{var a={};if(o)(a=new Error("ETIMEDOUT")).code="ETIMEDOUT";else try{a=JSON.parse(n.response)}catch(e){}a.status=n.status;t(a)}}};e.body&&e.body instanceof Blob?i.readAsArrayBuffer(e.body,(function(e){n.send(e)})):n.send(e.body);return{abort:function(){n.abort()}}}(e,t):function(e,t){var n,r,s,a=new Headers,c={method:e.method,credentials:"include",headers:a};if(e.json){a.set("Accept","application/json");a.set("Content-Type",e.headers["Content-Type"]||"application/json")}e.body&&e.body instanceof Blob?i.readAsArrayBuffer(e.body,(function(e){c.body=e})):e.body&&e.processData&&"string"!==typeof e.body?c.body=JSON.stringify(e.body):c.body="body"in e?e.body:null;Object.keys(e.headers).forEach((function(t){e.headers.hasOwnProperty(t)&&a.set(t,e.headers[t])}));n=function(){for(var e={},t=new o((function(t,n){e.resolve=t;e.reject=n})),n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];e.promise=t;o.resolve().then((function(){return fetch.apply(null,n)})).then((function(t){e.resolve(t)})).catch((function(t){e.reject(t)}));return e}(e.url,c);e.timeout>0&&(r=setTimeout((function(){n.reject(new Error("Load timeout for resource: "+e.url))}),e.timeout));n.promise.then((function(t){s={statusCode:t.status};e.timeout>0&&clearTimeout(r);return s.statusCode>=200&&s.statusCode<300?e.binary?t.blob():t.text():t.json()})).then((function(e){s.statusCode>=200&&s.statusCode<300?t(null,s,e):t(e,s)})).catch((function(e){t(e,s)}));return{abort:n.reject}}(e,t)}var i=n(2325),o=function(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}(n(1646)),s=n(9537),a=n(2154),c=n(3515),u=function(){try{new XMLHttpRequest;return!0}catch(e){return!1}}();e.exports=function(e,t){var n=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",i=-1!==n.indexOf("safari")&&-1===n.indexOf("chrome"),o=-1!==n.indexOf("msie"),u=-1!==n.indexOf("edge"),l=i||(o||u)&&"GET"===e.method,f=!("cache"in e)||e.cache;if(!/^blob:/.test(e.url)&&(l||!f)){var d=-1!==e.url.indexOf("?");e.url+=(d?"&":"?")+"_nonce="+Date.now()}return function(e,t){e=c.clone(e);if((e=s.extend({method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1},e)).json){e.binary||(e.headers.Accept="application/json");e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json"}if(e.binary){e.encoding=null;e.json=!1}e.processData||(e.json=!1);return r(e,(function(n,r,i){if(n)return t(a.generateErrorFromResponse(n));var o,s=r.headers&&r.headers["content-type"],c=i||function(){return""}();if(!e.binary&&(e.json||!e.processData)&&"object"!==typeof c&&(/json/.test(s)||/^[\s]*\{/.test(c)&&/\}[\s]*$/.test(c)))try{c=JSON.parse(c.toString())}catch(e){}if(r.statusCode>=200&&r.statusCode<300)!function(t,n,r){if(!e.binary&&e.json&&"string"===typeof t)try{t=JSON.parse(t)}catch(e){return r(e)}Array.isArray(t)&&(t=t.map((function(e){return e.error||e.missing?a.generateErrorFromResponse(e):e})));e.binary;r(null,t,n)}(c,r,t);else{(o=a.generateErrorFromResponse(c)).status=r.statusCode;t(o)}}))}(e,t)}},2325:(e,t)=>{"use strict";function n(e,t){e=e||[];t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}function r(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}function i(e,t){return n([r(e)],{type:t})}function o(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return t}function s(e,t){if("undefined"===typeof FileReader)return t(o((new FileReaderSync).readAsArrayBuffer(e)));var n=new FileReader,r="function"===typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";if(r)return t(n);t(o(n))};r?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function a(e,t){s(e,(function(e){t(e)}))}Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){return atob(e)},u=function(e){return btoa(e)};t.atob=c;t.btoa=u;t.base64StringToBlobOrBuffer=function(e,t){return i(c(e),t)};t.binaryStringToArrayBuffer=r;t.binaryStringToBlobOrBuffer=i;t.blob=n;t.blobOrBufferToBase64=function(e,t){a(e,(function(e){t(u(e))}))};t.blobOrBufferToBinaryString=a;t.readAsArrayBuffer=function(e,t){if("undefined"===typeof FileReader)return t((new FileReaderSync).readAsArrayBuffer(e));var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)};n.readAsArrayBuffer(e)};t.readAsBinaryString=s;t.typedBuffer=function(){}},7919:(e,t,n)=>{"use strict";function r(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}var i=r(n(1707)),o=r(n(5252)),s=r(n(3153)),a=r(n(2147)),c=r(n(2426)),u=r(n(6261));i.plugin(o).plugin(s).plugin(a).plugin(c).plugin(u);e.exports=i},2140:(e,t,n)=>{"use strict";function r(e,t,n,i,o){return e.get(t).catch((function(n){if(404===n.status){"http"===e.type()&&l.explainError(404,"PouchDB is just checking if a remote checkpoint exists.");return{session_id:i,_id:t,history:[],replicator:d,version:1}}throw n})).then((function(s){if(!o.cancelled){s.history=(s.history||[]).filter((function(e){return e.session_id!==i}));s.history.unshift({last_seq:n,session_id:i});s.history=s.history.slice(0,5);s.version=1;s.replicator=d;s.session_id=i;s.last_seq=n;return e.put(s).catch((function(s){if(409===s.status)return r(e,t,n,i,o);throw s}))}}))}function i(e,t,n,r){this.src=e;this.target=t;this.id=n;this.returnValue=r}function o(e,t){return e.session_id===t.session_id?{last_seq:e.last_seq,history:e.history}:s(e.history,t.history)}function s(e,t){var n=e[0],r=e.slice(1),i=t[0],o=t.slice(1);return n&&0!==t.length?a(n.session_id,t)?{last_seq:n.last_seq,history:e}:a(i.session_id,r)?{last_seq:i.last_seq,history:o}:s(r,o):{last_seq:0,history:[]}}function a(e,t){var n=t[0],r=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||a(e,r))}function c(e){return"number"===typeof e.status&&4===Math.floor(e.status/100)}var u=function(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}(n(1646)),l=n(3515),f=n(5241),d="pouchdb";i.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then((function(){return n.updateSource(e,t)}))};i.prototype.updateTarget=function(e,t){return r(this.target,this.id,e,t,this.returnValue)};i.prototype.updateSource=function(e,t){var n=this;return this.readOnlySource?u.resolve(!0):r(this.src,this.id,e,t,this.returnValue).catch((function(e){if(c(e)){n.readOnlySource=!0;return!0}throw e}))};var h={undefined:function(e,t){return 0===f.collate(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return o(t,e).last_seq}};i.prototype.getCheckpoint=function(){var e=this;return e.target.get(e.id).then((function(t){return e.readOnlySource?u.resolve(t.last_seq):e.src.get(e.id).then((function(e){return t.version!==e.version?0:(n=t.version?t.version.toString():"undefined")in h?h[n](t,e):0;var n}),(function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:0}).then((function(){return 0}),(function(n){if(c(n)){e.readOnlySource=!0;return t.last_seq}return 0}));throw n}))})).catch((function(e){if(404!==e.status)throw e;return 0}))};e.exports=i},5241:(e,t,n)=>{"use strict";function r(e,t){var n,r=t;if("1"===e[t]){n=0;t++}else{var i="0"===e[t];t++;var o="",a=e.substring(t,t+3),c=parseInt(a,10)+s;i&&(c=-c);t+=3;for(;;){var u=e[t];if("\0"===u)break;o+=u;t++}n=1===(o=o.split(".")).length?parseInt(o,10):parseFloat(o[0]+"."+o[1]);i&&(n-=10);0!==c&&(n=parseFloat(n+"e"+c))}return{num:n,length:t-r}}function i(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];if(n===r.element){t.pop();r=t[t.length-1]}var i=r.element,o=r.index;Array.isArray(i)?i.push(n):o===e.length-2?i[e.pop()]=n:e.push(n)}}function o(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}var s=-324,a=n(3604);t.collate=function(e,n){if(e===n)return 0;e=t.normalizeKey(e);n=t.normalizeKey(n);var r=o(e),i=o(n);if(r-i!==0)return r-i;if(null===e)return 0;switch(typeof e){case"number":return e-n;case"boolean":return e===n?0:e<n?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,n)}return Array.isArray(e)?function(e,n){for(var r=Math.min(e.length,n.length),i=0;i<r;i++){var o=t.collate(e[i],n[i]);if(0!==o)return o}return e.length===n.length?0:e.length>n.length?1:-1}(e,n):function(e,n){for(var r=Object.keys(e),i=Object.keys(n),o=Math.min(r.length,i.length),s=0;s<o;s++){var a=t.collate(r[s],i[s]);if(0!==a)return a;if(0!==(a=t.collate(e[r[s]],n[i[s]])))return a}return r.length===i.length?0:r.length>i.length?1:-1}(e,n)};t.normalizeKey=function(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var n=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var i=0;i<r;i++)e[i]=t.normalizeKey(n[i])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var o in n)if(n.hasOwnProperty(o)){var s=n[o];"undefined"!==typeof s&&(e[o]=t.normalizeKey(s))}}}}return e};t.toIndexableString=function(e){return o(e=t.normalizeKey(e))+""+function(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=e<0,i=r?"0":"2",o=(r?-n:n)-s;i+=""+a.padLeft(o.toString(),"0",3);var c=Math.abs(parseFloat(t[0]));r&&(c=10-c);var u=c.toFixed(20);return i+""+u.replace(/\.?0+$/,"")}(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var n=Array.isArray(e),r=n?e:Object.keys(e),i=-1,o=r.length,c="";if(n)for(;++i<o;)c+=t.toIndexableString(r[i]);else for(;++i<o;){var u=r[i];c+=t.toIndexableString(u)+t.toIndexableString(e[u])}return c}return""}(e)+"\0"};t.parseIndexableString=function(e){for(var t=[],n=[],o=0;;){var s=e[o++];if("\0"!==s)switch(s){case"1":t.push(null);break;case"2":t.push("1"===e[o]);o++;break;case"3":var a=r(e,o);t.push(a.num);o+=a.length;break;case"4":for(var c="";;){var u=e[o];if("\0"===u)break;c+=u;o++}c=c.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,"");t.push(c);break;case"5":var l={element:[],index:t.length};t.push(l.element);n.push(l);break;case"6":var f={element:{},index:t.length};t.push(f.element);n.push(f);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+s)}else{if(1===t.length)return t.pop();i(t,n)}}}},3604:(e,t)=>{"use strict";function n(e,t,n){for(var r="",i=n-e.length;r.length<i;)r+=t;return r}t.padLeft=function(e,t,r){return n(e,t,r)+e};t.padRight=function(e,t,r){return e+n(e,t,r)};t.stringLexCompare=function(e,t){var n,r=e.length,i=t.length;for(n=0;n<r;n++){if(n===i)return 1;var o=e.charAt(n),s=t.charAt(n);if(o!==s)return o<s?-1:1}return r<i?-1:0};t.intToDecimalForm=function(e){var t=e<0,n="";do{n=(t?-Math.ceil(e%10):Math.floor(e%10))+n;e=t?Math.ceil(e/10):Math.floor(e/10)}while(e);t&&"0"!==n&&(n="-"+n);return n}},1830:(e,t)=>{"use strict";function n(){this.store={}}function r(e){this.store=new n;if(e&&Array.isArray(e))for(var t=0,r=e.length;t<r;t++)this.add(e[t])}t.Map=n;t.Set=r;n.prototype.mangle=function(e){if("string"!==typeof e)throw new TypeError("key must be a string but Got "+e);return"$"+e};n.prototype.unmangle=function(e){return e.substring(1)};n.prototype.get=function(e){var t=this.mangle(e);if(t in this.store)return this.store[t]};n.prototype.set=function(e,t){var n=this.mangle(e);this.store[n]=t;return!0};n.prototype.has=function(e){return this.mangle(e)in this.store};n.prototype.delete=function(e){var t=this.mangle(e);if(t in this.store){delete this.store[t];return!0}return!1};n.prototype.forEach=function(e){for(var t=Object.keys(this.store),n=0,r=t.length;n<r;n++){var i=t[n];e(this.store[i],i=this.unmangle(i))}};r.prototype.add=function(e){return this.store.set(e,!0)};r.prototype.has=function(e){return this.store.has(e)};r.prototype.delete=function(e){return this.store.delete(e)}},1707:(e,t,n)=>{"use strict";function r(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}function i(e,t,n){function r(){i.cancel()}E.EventEmitter.call(this);var i=this;this.db=e;var o=(t=t?S.clone(t):{}).complete=S.once((function(t,n){t?S.listenerCount(i,"error")>0&&i.emit("error",t):i.emit("complete",n);i.removeAllListeners();e.removeListener("destroyed",r)}));if(n){i.on("complete",(function(e){n(null,e)}));i.on("error",n)}e.once("destroyed",r);t.onChange=function(e){if(!t.isCancelled){!function(e,t){try{e.emit("change",t)}catch(e){S.guardedConsole("error",'Error in .on("change", function):',e)}}(i,e);i.startSeq&&i.startSeq<=e.seq&&(i.startSeq=!1)}};var s=new y((function(e,n){t.complete=function(t,r){t?n(t):e(r)}}));i.once("cancel",(function(){e.removeListener("destroyed",r);t.complete(null,{status:"cancelled"})}));this.then=s.then.bind(s);this["catch"]=s["catch"].bind(s);this.then((function(e){o(null,e)}),o);e.taskqueue.isReady?i.doChanges(t):e.taskqueue.addTask((function(){i.isCancelled?i.emit("cancel"):i.doChanges(t)}))}function o(e,t,n){var r=[{rev:e._rev}];"all_docs"===n.style&&(r=b.collectLeaves(t.rev_tree).map((function(e){return{rev:e.rev}})));var i={id:t.id,changes:r,doc:e};b.isDeleted(t,e._rev)&&(i.deleted=!0);if(n.conflicts){i.doc._conflicts=b.collectConflicts(t);i.doc._conflicts.length||delete i.doc._conflicts}return i}function s(e,t){return e<t?-1:e>t?1:0}function a(e){return function(t,n){t||n[0]&&n[0].error?e(t||n[0]):e(null,n.length?n[0]:n)}}function c(e,t){var n=s(e._id,t._id);return 0!==n?n:s(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function u(e){var t=e._compactionQueue[0],n=t.opts,r=t.callback;e.get("_local/compaction").catch((function(){return!1})).then((function(t){t&&t.last_seq&&(n.last_seq=t.last_seq);e._compact(n,(function(t,n){t?r(t):r(null,n);process.nextTick((function(){e._compactionQueue.shift();e._compactionQueue.length&&u(e)}))}))}))}function l(){E.EventEmitter.call(this)}function f(){this.isReady=!1;this.failed=!1;this.queue=[]}function d(e){e&&n.g.debug&&S.guardedConsole("error",e)}function h(e,t,n){if(!(this instanceof h))return new h(e,t,n);var r=this;if("function"===typeof t||"undefined"===typeof t){n=t;t={}}if(e&&"object"===typeof e){t=e;e=void 0}if("undefined"===typeof n)n=d;else{var i=n;n=function(){S.guardedConsole("warn","Using a callback for new PouchDB()is deprecated.");return i.apply(null,arguments)}}e=e||t.name;delete(t=S.clone(t)).name;this.__opts=t;var o=n;r.auto_compaction=t.auto_compaction;r.prefix=h.prefix;l.call(r);r.taskqueue=new f;var s=new y((function(i,o){n=function(e,t){if(e)return o(e);delete t.then;i(t)};t=S.clone(t);var s,a;!function(){try{if("string"!==typeof e){(a=new Error("Missing/invalid DB name")).code=400;throw a}var n=(t.prefix||"")+e;s=h.parseAdapter(n,t);t.originalName=e;t.name=s.name;t.adapter=t.adapter||s.adapter;r._adapter=t.adapter;m("pouchdb:adapter")("Picked adapter: "+t.adapter);r._db_name=e;if(!h.adapters[t.adapter]){(a=new Error("Adapter is missing")).code=404;throw a}if(!h.adapters[t.adapter].valid()){(a=new Error("Invalid Adapter")).code=404;throw a}}catch(e){r.taskqueue.fail(e)}}();if(a)return o(a);r.adapter=t.adapter;r.replicate={};r.replicate.from=function(e,t,n){return r.constructor.replicate(e,r,t,n)};r.replicate.to=function(e,t,n){return r.constructor.replicate(r,e,t,n)};r.sync=function(e,t,n){return r.constructor.sync(r,e,t,n)};r.replicate.sync=r.sync;h.adapters[t.adapter].call(r,t,(function(e){if(e){r.taskqueue.fail(e);n(e)}else{!function(e,t){function n(){i.emit("destroyed",r)}var r=t.originalName,i=e.constructor,o=i._destructionListeners;e.once("destroyed",n);o.has(r)||o.set(r,[]);o.get(r).push((function(){e.removeListener("destroyed",n);e.emit("destroyed",e)}))}(r,t);r.emit("created",r);h.emit("created",t.originalName);r.taskqueue.ready(r);n(null,r)}}))}));s.then((function(e){o(null,e)}),o);r.then=s.then.bind(s);r.catch=s.catch.bind(s)}var p=n(9537),m=r(n(5525)),g=r(n(6827)),y=r(n(1646)),_=n(1830),v=r(n(6737)),E=n(7007),S=n(3515),b=n(5895),T=r(n(2561)),C=n(2154);g(i,E.EventEmitter);i.prototype.cancel=function(){this.isCancelled=!0;this.db.taskqueue.isReady&&this.emit("cancel")};i.prototype.doChanges=function(e){var t=this,n=e.complete;"live"in(e=S.clone(e))&&!("continuous"in e)&&(e.continuous=e.live);e.processChange=o;"latest"===e.since&&(e.since="now");e.since||(e.since=0);if("now"!==e.since){e.continuous&&"now"!==e.since&&this.db.info().then((function(e){t.startSeq=e.update_seq}),(function(e){if("idbNull"!==e.id)throw e}));e.view&&!e.filter&&(e.filter="_view");if(e.filter&&"string"===typeof e.filter){"_view"===e.filter?e.view=S.normalizeDdocFunctionName(e.view):e.filter=S.normalizeDdocFunctionName(e.filter);if("http"!==this.db.type()&&!e.doc_ids)return this.filterChanges(e)}"descending"in e||(e.descending=!1);e.limit=0===e.limit?1:e.limit;e.complete=n;var r=this.db._changes(e);if(r&&"function"===typeof r.cancel){var i=t.cancel;t.cancel=v((function(e){r.cancel();i.apply(this,e)}))}}else this.db.info().then((function(r){if(t.isCancelled)n(null,{status:"cancelled"});else{e.since=r.update_seq;t.doChanges(e)}}),n)};i.prototype.filterChanges=function(e){var t=this,n=e.complete;if("_view"===e.filter){if(!e.view||"string"!==typeof e.view){var r=C.createError(C.BAD_REQUEST,"`view` filter parameter not found or invalid.");return n(r)}var i=S.parseDdocFunctionName(e.view);this.db.get("_design/"+i[0],(function(r,o){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n(C.generateErrorFromResponse(r));var s=o&&o.views&&o.views[i[1]]&&o.views[i[1]].map;if(!s)return n(C.createError(C.MISSING_DOC,o.views?"missing json key: "+i[1]:"missing json key: views"));e.filter=function(e){return new Function("doc",["var emitted = false;","var emit = function (a, b) {","  emitted = true;","};","var view = "+e+";","view(doc);","if (emitted) {","  return true;","}"].join("\n"))}(s);t.doChanges(e)}))}else{var o=S.parseDdocFunctionName(e.filter);if(!o)return t.doChanges(e);this.db.get("_design/"+o[0],(function(r,i){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n(C.generateErrorFromResponse(r));var s=i&&i.filters&&i.filters[o[1]];if(!s)return n(C.createError(C.MISSING_DOC,i&&i.filters?"missing json key: "+o[1]:"missing json key: filters"));e.filter=function(e){return T("return "+e+";",{})}(s);t.doChanges(e)}))}};g(l,E.EventEmitter);l.prototype.post=S.adapterFun("post",(function(e,t,n){if("function"===typeof t){n=t;t={}}if("object"!==typeof e||Array.isArray(e))return n(C.createError(C.NOT_AN_OBJECT));this.bulkDocs({docs:[e]},t,a(n))}));l.prototype.put=S.adapterFun("put",v((function(e){function t(){if(!s){S.guardedConsole("warn","db.put(doc, id, rev) has been deprecated and will be removed in a future release, please use db.put({_id: id, _rev: rev}) instead");s=!0}}var n,r,i,o,s=!1,c=e.shift(),u="_id"in c;if("object"!==typeof c||Array.isArray(c))return(o=e.pop())(C.createError(C.NOT_AN_OBJECT));for(;;){if("string"!==(r=typeof(n=e.shift()))||u)if("string"===r&&u&&!("_rev"in c)){t();c._rev=n}else"object"===r?i=n:"function"===r&&(o=n);else{t();c._id=n;u=!0}if(!e.length)break}i=i||{};S.invalidIdError(c._id);if(b.isLocalId(c._id)&&"function"===typeof this._putLocal)return c._deleted?this._removeLocal(c,o):this._putLocal(c,o);this.bulkDocs({docs:[c]},i,a(o))})));l.prototype.putAttachment=S.adapterFun("putAttachment",(function(e,t,n,r,i){function o(e){var n="_rev"in e?parseInt(e._rev,10):0;e._attachments=e._attachments||{};e._attachments[t]={content_type:i,data:r,revpos:++n};return s.put(e)}var s=this;if("function"===typeof i){i=r;r=n;n=null}if("undefined"===typeof i){i=r;r=n;n=null}return s.get(e).then((function(e){if(e._rev!==n)throw C.createError(C.REV_CONFLICT);return o(e)}),(function(t){if(t.reason===C.MISSING_DOC.message)return o({_id:e});throw t}))}));l.prototype.removeAttachment=S.adapterFun("removeAttachment",(function(e,t,n,r){var i=this;i.get(e,(function(e,o){if(e)r(e);else if(o._rev===n){if(!o._attachments)return r();delete o._attachments[t];0===Object.keys(o._attachments).length&&delete o._attachments;i.put(o,r)}else r(C.createError(C.REV_CONFLICT))}))}));l.prototype.remove=S.adapterFun("remove",(function(e,t,n,r){var i;if("string"===typeof t){i={_id:e,_rev:t};if("function"===typeof n){r=n;n={}}}else{i=e;if("function"===typeof t){r=t;n={}}else{r=n;n=t}}(n=n||{}).was_delete=!0;var o={_id:i._id,_rev:i._rev||n.rev,_deleted:!0};if(b.isLocalId(o._id)&&"function"===typeof this._removeLocal)return this._removeLocal(i,r);this.bulkDocs({docs:[o]},n,a(r))}));l.prototype.revsDiff=S.adapterFun("revsDiff",(function(e,t,n){function r(e,t){s.has(e)||s.set(e,{missing:[]});s.get(e).missing.push(t)}if("function"===typeof t){n=t;t={}}var i=Object.keys(e);if(!i.length)return n(null,{});var o=0,s=new _.Map;i.map((function(t){this._getRevisionTree(t,(function(a,c){if(a&&404===a.status&&"missing"===a.message)s.set(t,{missing:e[t]});else{if(a)return n(a);!function(t,n){var i=e[t].slice(0);b.traverseRevTree(n,(function(e,n,o,s,a){var c=n+"-"+o,u=i.indexOf(c);if(-1!==u){i.splice(u,1);"available"!==a.status&&r(t,c)}}));i.forEach((function(e){r(t,e)}))}(t,c)}if(++o===i.length){var u={};s.forEach((function(e,t){u[t]=e}));return n(null,u)}}))}),this)}));l.prototype.bulkGet=S.adapterFun("bulkGet",(function(e,t){S.bulkGetShim(this,e,t)}));l.prototype.compactDocument=S.adapterFun("compactDocument",(function(e,t,n){var r=this;this._getRevisionTree(e,(function(i,o){if(i)return n(i);var s=function(e){var t={},n=[];b.traverseRevTree(e,(function(e,r,i,o){var s=r+"-"+i;e&&(t[s]=0);void 0!==o&&n.push({from:o,to:s});return s}));n.reverse();n.forEach((function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])}));return t}(o),a=[],c=[];Object.keys(s).forEach((function(e){s[e]>t&&a.push(e)}));b.traverseRevTree(o,(function(e,t,n,r,i){var o=t+"-"+n;"available"===i.status&&-1!==a.indexOf(o)&&c.push(o)}));r._doCompaction(e,c,n)}))}));l.prototype.compact=S.adapterFun("compact",(function(e,t){if("function"===typeof e){t=e;e={}}var n=this;e=e||{};n._compactionQueue=n._compactionQueue||[];n._compactionQueue.push({opts:e,callback:t});1===n._compactionQueue.length&&u(n)}));l.prototype._compact=function(e,t){var n=this,r={return_docs:!1,last_seq:e.last_seq||0},i=[];n.changes(r).on("change",(function(e){i.push(n.compactDocument(e.id,0))})).on("complete",(function(e){var r=e.last_seq;y.all(i).then((function(){return S.upsert(n,"_local/compaction",(function(e){if(!e.last_seq||e.last_seq<r){e.last_seq=r;return e}return!1}))})).then((function(){t(null,{ok:!0})})).catch(t)})).on("error",t)};l.prototype.get=S.adapterFun("get",(function(e,t,n){function r(){var r=[],s=i.length;if(!s)return n(null,r);i.forEach((function(i){o.get(e,{rev:i,revs:t.revs,attachments:t.attachments},(function(e,t){e?r.push({missing:i}):r.push({ok:t});--s||n(null,r)}))}))}if("function"===typeof t){n=t;t={}}if("string"!==typeof e)return n(C.createError(C.INVALID_ID));if(b.isLocalId(e)&&"function"===typeof this._getLocal)return this._getLocal(e,n);var i=[],o=this;if(!t.open_revs)return this._get(e,t,(function(e,r){if(e)return n(e);var i=r.doc,s=r.metadata,a=r.ctx;if(t.conflicts){var c=b.collectConflicts(s);c.length&&(i._conflicts=c)}b.isDeleted(s,i._rev)&&(i._deleted=!0);if(t.revs||t.revs_info){var u=function(e,t){for(var n=0;n<e.length;n++)if(!0===t(e[n]))return e[n]}(b.rootToLeaf(s.rev_tree),(function(e){return-1!==e.ids.map((function(e){return e.id})).indexOf(i._rev.split("-")[1])})),l=u.ids.map((function(e){return e.id})).indexOf(i._rev.split("-")[1])+1,f=u.ids.length-l;u.ids.splice(l,f);u.ids.reverse();t.revs&&(i._revisions={start:u.pos+u.ids.length-1,ids:u.ids.map((function(e){return e.id}))});if(t.revs_info){var d=u.pos+u.ids.length;i._revs_info=u.ids.map((function(e){return{rev:--d+"-"+e.id,status:e.opts.status}}))}}if(t.attachments&&i._attachments){var h=i._attachments,p=Object.keys(h).length;if(0===p)return n(null,i);Object.keys(h).forEach((function(e){this._getAttachment(i._id,e,h[e],{rev:i._rev,binary:t.binary,ctx:a},(function(t,r){var o=i._attachments[e];o.data=r;delete o.stub;delete o.length;--p||n(null,i)}))}),o)}else{if(i._attachments)for(var m in i._attachments)i._attachments.hasOwnProperty(m)&&(i._attachments[m].stub=!0);n(null,i)}}));if("all"===t.open_revs)this._getRevisionTree(e,(function(e,t){if(e)return n(e);i=b.collectLeaves(t).map((function(e){return e.rev}));r()}));else{if(!Array.isArray(t.open_revs))return n(C.createError(C.UNKNOWN_ERROR,"function_clause"));i=t.open_revs;for(var s=0;s<i.length;s++){var a=i[s];if("string"!==typeof a||!/^\d+-/.test(a))return n(C.createError(C.INVALID_REV))}r()}}));l.prototype.getAttachment=S.adapterFun("getAttachment",(function(e,t,n,r){var i=this;if(n instanceof Function){r=n;n={}}this._get(e,n,(function(o,s){if(o)return r(o);if(!s.doc._attachments||!s.doc._attachments[t])return r(C.createError(C.MISSING_DOC));n.ctx=s.ctx;n.binary=!0;i._getAttachment(e,t,s.doc._attachments[t],n,r)}))}));l.prototype.allDocs=S.adapterFun("allDocs",(function(e,t){if("function"===typeof e){t=e;e={}}e.skip="undefined"!==typeof e.skip?e.skip:0;e.start_key&&(e.startkey=e.start_key);e.end_key&&(e.endkey=e.end_key);if("keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter((function(t){return t in e}))[0];if(n){t(C.createError(C.QUERY_PARSE_ERROR,"Query parameter `"+n+"` is not compatible with multi-get"));return}if("http"!==this.type())return function(e,t,n){var r="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;t.descending&&r.reverse();if(!r.length)return e._allDocs({limit:0},n);var i={offset:t.skip};return y.all(r.map((function(n){var r=p.extend({key:n,deleted:"ok"},t);["limit","skip","keys"].forEach((function(e){delete r[e]}));return new y((function(t,o){e._allDocs(r,(function(e,r){if(e)return o(e);i.total_rows=r.total_rows;t(r.rows[0]||{key:n,error:"not_found"})}))}))}))).then((function(e){i.rows=e;return i}))}(this,e,t)}return this._allDocs(e,t)}));l.prototype.changes=function(e,t){if("function"===typeof e){t=e;e={}}return new i(this,e,t)};l.prototype.close=S.adapterFun("close",(function(e){this._closed=!0;return this._close(e)}));l.prototype.info=S.adapterFun("info",(function(e){var t=this;this._info((function(n,r){if(n)return e(n);r.db_name=r.db_name||t._db_name;r.auto_compaction=!(!t.auto_compaction||"http"===t.type());r.adapter=t.type();e(null,r)}))}));l.prototype.id=S.adapterFun("id",(function(e){return this._id(e)}));l.prototype.type=function(){return"function"===typeof this._type?this._type():this.adapter};l.prototype.bulkDocs=S.adapterFun("bulkDocs",(function(e,t,n){if("function"===typeof t){n=t;t={}}t=t||{};Array.isArray(e)&&(e={docs:e});if(!e||!e.docs||!Array.isArray(e.docs))return n(C.createError(C.MISSING_BULK_DOCS));for(var r=0;r<e.docs.length;++r)if("object"!==typeof e.docs[r]||Array.isArray(e.docs[r]))return n(C.createError(C.NOT_AN_OBJECT));var i;e.docs.forEach((function(e){e._attachments&&Object.keys(e._attachments).forEach((function(e){i=i||function(e){return"_"===e.charAt(0)&&e+"is not a valid attachment name, attachment names cannot start with '_'"}(e)}))}));if(i)return n(C.createError(C.BAD_REQUEST,i));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);t.new_edits||"http"===this.type()||e.docs.sort(c);!function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),i=0;i<r.length;i++){var o=r[i];n._attachments[o]=S.pick(n._attachments[o],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);return this._bulkDocs(e,t,(function(e,r){if(e)return n(e);t.new_edits||(r=r.filter((function(e){return e.error})));n(null,r)}))}));l.prototype.registerDependentDatabase=S.adapterFun("registerDependentDatabase",(function(e,t){var n=new this.constructor(e,this.__opts);S.upsert(this,"_local/_pouch_dependentDbs",(function(t){t.dependentDbs=t.dependentDbs||{};if(t.dependentDbs[e])return!1;t.dependentDbs[e]=!0;return t})).then((function(){t(null,{db:n})})).catch(t)}));l.prototype.destroy=S.adapterFun("destroy",(function(e,t){function n(){r._destroy(e,(function(e,n){if(e)return t(e);r._destroyed=!0;r.emit("destroyed");t(null,n||{ok:!0})}))}if("function"===typeof e){t=e;e={}}var r=this,i=!("use_prefix"in r)||r.use_prefix;if("http"===r.type())return n();r.get("_local/_pouch_dependentDbs",(function(e,o){if(e)return 404!==e.status?t(e):n();var s=o.dependentDbs,a=r.constructor,c=Object.keys(s).map((function(e){var t=i?e.replace(new RegExp("^"+a.prefix),""):e;return new a(t,r.__opts).destroy()}));y.all(c).then(n,t)}))}));f.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()};f.prototype.fail=function(e){this.failed=e;this.execute()};f.prototype.ready=function(e){this.isReady=!0;this.db=e;this.execute()};f.prototype.addTask=function(e){this.queue.push(e);this.failed&&this.execute()};g(h,l);h.debug=m;h.adapters={};h.preferredAdapters=[];h.prefix="_pouch_";var I=new E.EventEmitter;!function(e){Object.keys(E.EventEmitter.prototype).forEach((function(t){"function"===typeof E.EventEmitter.prototype[t]&&(e[t]=I[t].bind(I))}));var t=e._destructionListeners=new _.Map;e.on("destroyed",(function(e){t.get(e).forEach((function(e){e()}));t.delete(e)}))}(h);h.parseAdapter=function(e,t){var n,r,i=e.match(/([a-z\-]*):\/\/(.*)/);if(i){e=/http(s?)/.test(i[1])?i[1]+"://"+i[2]:i[2];n=i[1];if(!h.adapters[n].valid())throw"Invalid adapter";return{name:e,adapter:i[1]}}var o="idb"in h.adapters&&"websql"in h.adapters&&S.hasLocalStorage()&&localStorage["_pouch__websqldb_"+h.prefix+e];if(t.adapter)r=t.adapter;else if("undefined"!==typeof t&&t.db)r="leveldb";else for(var s=0;s<h.preferredAdapters.length;++s)if((r=h.preferredAdapters[s])in h.adapters){if(o&&"idb"===r){S.guardedConsole("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');continue}break}return{name:(n=h.adapters[r])&&"use_prefix"in n&&!n.use_prefix?e:h.prefix+e,adapter:r}};h.adapter=function(e,t,n){if(t.valid()){h.adapters[e]=t;n&&h.preferredAdapters.push(e)}};h.plugin=function(e){"function"===typeof e?e(h):Object.keys(e).forEach((function(t){h.prototype[t]=e[t]}));return h};h.defaults=function(e){function t(n,r,i){if(!(this instanceof t))return new t(n,r,i);if("function"===typeof r||"undefined"===typeof r){i=r;r={}}if(n&&"object"===typeof n){r=n;n=void 0}r=p.extend({},e,r);h.call(this,n,r,i)}g(t,h);t.preferredAdapters=h.preferredAdapters.slice();Object.keys(h).forEach((function(e){e in t||(t[e]=h[e])}));return t};h.version="5.4.5";e.exports=h},5525:(e,t,n)=>{function r(){var e;try{e=t.storage.debug}catch(e){}return e}(t=e.exports=n(7594)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)};t.formatArgs=function(){var e=arguments,n=this.useColors;e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff);if(!n)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;e[0].replace(/%[a-z%]/g,(function(e){if("%%"!==e){i++;"%c"===e&&(o=i)}}));e.splice(o,0,r);return e};t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}};t.load=r;t.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31};t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}();t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];t.formatters.j=function(e){return JSON.stringify(e)};t.enable(r())},7594:(e,t,n)=>{(t=e.exports=function(e){function n(){}function o(){var e=o,n=+new Date,s=n-(r||n);e.diff=s;e.prev=r;e.curr=n;r=n;null==e.useColors&&(e.useColors=t.useColors());null==e.color&&e.useColors&&(e.color=function(){return t.colors[i++%t.colors.length]}());var a=Array.prototype.slice.call(arguments);a[0]=t.coerce(a[0]);"string"!==typeof a[0]&&(a=["%o"].concat(a));var c=0;a[0]=a[0].replace(/%([a-z%])/g,(function(n,r){if("%%"===n)return n;c++;var i=t.formatters[r];if("function"===typeof i){var o=a[c];n=i.call(e,o);a.splice(c,1);c--}return n}));"function"===typeof t.formatArgs&&(a=t.formatArgs.apply(e,a));(o.log||t.log||function(){}.bind()).apply(e,a)}n.enabled=!1;o.enabled=!0;var s=t.enabled(e)?o:n;s.namespace=e;return s}).coerce=function(e){return e instanceof Error?e.stack||e.message:e};t.disable=function(){t.enable("")};t.enable=function(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))};t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1};t.humanize=n(3094);t.names=[];t.skips=[];t.formatters={};var r,i=0},6827:e=>{"function"===typeof Object.create?e.exports=function(e,t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype;e.prototype=new n;e.prototype.constructor=e}},3094:e=>{function t(e,t,n){if(e>=t)return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var n=1e3,r=60*n,i=60*r,o=24*i;e.exports=function(e,s){s=s||{};return"string"==typeof e?function(e){if((e=""+e).length<=1e4){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s}}}}(e):s.long?function(e){return t(e,o,"day")||t(e,i,"hour")||t(e,r,"minute")||t(e,n,"second")||e+" ms"}(e):function(e){return e<o?e<i?e<r?e<n?e+"ms":Math.round(e/n)+"s":Math.round(e/r)+"m":Math.round(e/i)+"h":Math.round(e/o)+"d"}(e)}},2154:(e,t,n)=>{"use strict";function r(e){Error.call(this,e.reason);this.status=e.status;this.name=e.error;this.message=e.reason;this.error=!0}Object.defineProperty(t,"__esModule",{value:!0});!function(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}(n(4595))(r,Error);r.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var i=new r({status:401,error:"unauthorized",reason:"Name or password is incorrect."}),o=new r({status:400,error:"bad_request",reason:"Missing JSON list of 'docs'"}),s=new r({status:404,error:"not_found",reason:"missing"}),a=new r({status:409,error:"conflict",reason:"Document update conflict"}),c=new r({status:400,error:"bad_request",reason:"_id field must contain a string"}),u=new r({status:412,error:"missing_id",reason:"_id is required for puts"}),l=new r({status:400,error:"bad_request",reason:"Only reserved document ids may start with underscore."}),f=new r({status:412,error:"precondition_failed",reason:"Database not open"}),d=new r({status:500,error:"unknown_error",reason:"Database encountered an unknown error"}),h=new r({status:500,error:"badarg",reason:"Some query argument is invalid"}),p=new r({status:400,error:"invalid_request",reason:"Request was invalid"}),m=new r({status:400,error:"query_parse_error",reason:"Some query parameter is invalid"}),g=new r({status:500,error:"doc_validation",reason:"Bad special document member"}),y=new r({status:400,error:"bad_request",reason:"Something wrong with the request"}),_=new r({status:400,error:"bad_request",reason:"Document must be a JSON object"}),v=new r({status:404,error:"not_found",reason:"Database not found"}),E=new r({status:500,error:"indexed_db_went_bad",reason:"unknown"}),S=new r({status:500,error:"web_sql_went_bad",reason:"unknown"}),b=new r({status:500,error:"levelDB_went_went_bad",reason:"unknown"}),T=new r({status:403,error:"forbidden",reason:"Forbidden by design doc validate_doc_update function"}),C=new r({status:400,error:"bad_request",reason:"Invalid rev format"}),I=new r({status:412,error:"file_exists",reason:"The database could not be created, the file already exists."}),w=new r({status:412,error:"missing_stub"}),N=new r({status:413,error:"invalid_url",reason:"Provided URL is invalid"});t.UNAUTHORIZED=i;t.MISSING_BULK_DOCS=o;t.MISSING_DOC=s;t.REV_CONFLICT=a;t.INVALID_ID=c;t.MISSING_ID=u;t.RESERVED_ID=l;t.NOT_OPEN=f;t.UNKNOWN_ERROR=d;t.BAD_ARG=h;t.INVALID_REQUEST=p;t.QUERY_PARSE_ERROR=m;t.DOC_VALIDATION=g;t.BAD_REQUEST=y;t.NOT_AN_OBJECT=_;t.DB_MISSING=v;t.WSQ_ERROR=S;t.LDB_ERROR=b;t.FORBIDDEN=T;t.INVALID_REV=C;t.FILE_EXISTS=I;t.MISSING_STUB=w;t.IDB_ERROR=E;t.INVALID_URL=N;t.createError=function(e,t){function n(t){for(var n in e)"function"!==typeof e[n]&&(this[n]=e[n]);void 0!==t&&(this.reason=t)}n.prototype=r.prototype;return new n(t)};t.generateErrorFromResponse=function(e){if("object"!==typeof e){var t=e;(e=d).data=t}if("error"in e&&"conflict"===e.error){e.name="conflict";e.status=409}"name"in e||(e.name=e.error||"unknown");"status"in e||(e.status=500);"message"in e||(e.message=e.message||e.reason);return e}},4595:e=>{"function"===typeof Object.create?e.exports=function(e,t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype;e.prototype=new n;e.prototype.constructor=e}},6245:(e,t,n)=>{"use strict";var r=function(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}(n(1646)),i=n(3642),o=n(5241);e.exports=function(e,t,n){var s=n.doc_ids?n.doc_ids.sort(o.collate):"",a=n.filter?n.filter.toString():"",c="",u="";n.filter&&n.query_params&&(c=JSON.stringify(function(e){return Object.keys(e).sort(o.collate).reduce((function(t,n){t[n]=e[n];return t}),{})}(n.query_params)));n.filter&&"_view"===n.filter&&(u=n.view.toString());return r.all([e.id(),t.id()]).then((function(e){var t=e[0]+e[1]+a+u+c+s;return new r((function(e){i.binaryMd5(t,e)}))})).then((function(e){return"_local/"+e.replace(/\//g,".").replace(/\+/g,"_")}))}},8779:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}(n(4655));t.safeJsonParse=function(e){return e.length<5e4?JSON.parse(e):function(e){try{return JSON.parse(e)}catch(t){return r.parse(e)}}(e)};t.safeJsonStringify=function(e){try{return JSON.stringify(e)}catch(t){return r.stringify(e)}}},935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}(n(6737)),i=function(e,t){t&&e.then((function(e){process.nextTick((function(){t(null,e)}))}),(function(e){process.nextTick((function(){t(e)}))}));return e};t.uniq=function(e){for(var t={},n=0,r=e.length;n<r;n++)t["$"+e[n]]=!0;var i=Object.keys(t),o=new Array(i.length);for(n=0,r=i.length;n<r;n++)o[n]=i[n].substring(1);return o};t.sequentialize=function(e,t){return function(){var n=arguments,r=this;return e.add((function(){return t.apply(r,n)}))}};t.fin=function(e,t){return e.then((function(e){return t().then((function(){return e}))}),(function(e){return t().then((function(){throw e}))}))};t.callbackify=function(e){return r((function(t){var n=t.pop(),r=e.apply(this,t);"function"===typeof n&&i(r,n);return r}))};t.promisedCallback=i},2426:(e,t,n)=>{"use strict";function r(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}function i(){this.promise=new A((function(e){e()}))}function o(e){var t,n=e.db,r=e.viewName,i=e.map,o=e.reduce,s=e.temporary,a=i.toString()+(o&&o.toString())+"undefined";if(!s&&(t=n._cachedViews=n._cachedViews||{})[a])return t[a];var c=n.info().then((function(e){var c=e.db_name+"-mrview-"+(s?"temp":R.stringMd5(a));return I.upsert(n,"_local/mrviews",(function(e){e.views=e.views||{};var t=r;-1===t.indexOf("/")&&(t=r+"/"+r);var n=e.views[t]=e.views[t]||{};if(!n[c]){n[c]=!0;return e}})).then((function(){return n.registerDependentDatabase(c).then((function(e){var r=e.db;r.auto_compaction=!0;var s={name:c,db:r,sourceDB:n,adapter:n.adapter,mapFun:i,reduceFun:o};return s.db.get("_local/lastSeq").catch((function(e){if(404!==e.status)throw e})).then((function(e){s.seq=e?e.seq:0;t&&s.db.once("destroyed",(function(){delete t[a]}));return s}))}))}))}));t&&(t[a]=c);return c}function s(e,t,n,r,i,o){return O("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:n,log:r,isArray:i,toJSON:o})}function a(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function c(e,t,n){try{return{output:t.apply(null,n)}}catch(t){!function(e,t){try{e.emit("error",t)}catch(e){I.guardedConsole("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function.");I.guardedConsole("error",t)}}(e,t);return{error:t}}}function u(e,t){var n=N.collate(e.key,t.key);return 0!==n?n:N.collate(e.value,t.value)}function l(e,t,n){n=n||0;return"number"===typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function f(e){var t=e.value;return t&&"object"===typeof t&&t._id||e.id}function d(e){return function(t){e.include_docs&&e.attachments&&e.binary&&function(e){e.rows.forEach((function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach((function(e){var n=t[e];t[e].data=w.base64StringToBlobOrBuffer(n.data,n.content_type)}))}))}(t);return t}}function h(e){return new C("builtin "+e+" function requires map values to be numbers or number arrays")}function p(e){for(var t=0,n=0,r=e.length;n<r;n++){var i=e[n];if("number"!==typeof i){if(!Array.isArray(i))throw h("_sum");t="number"===typeof t?[t]:t;for(var o=0,s=i.length;o<s;o++){var a=i[o];if("number"!==typeof a)throw h("_sum");"undefined"===typeof t[o]?t.push(a):t[o]+=a}}else"number"===typeof t?t+=i:t[0]+=i}return t}function m(e,t,n,r){var i=t[e];if("undefined"!==typeof i){r&&(i=encodeURIComponent(JSON.stringify(i)));n.push(e+"="+i)}}function g(e){if("undefined"!==typeof e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function y(e,t){var n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if("undefined"!==typeof e[n]&&"undefined"!==typeof e[r]&&N.collate(e[n],e[r])>0)throw new b("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new b("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new b("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach((function(t){var n=function(e){if(e){if("number"!==typeof e)return new b('Invalid value for integer: "'+e+'"');if(e<0)return new b('Invalid value for positive integer: "'+e+'"')}}(e[t]);if(n)throw n}))}function _(e){return function(t){if(404===t.status)return e;throw t}}function v(e){var t="string"===typeof e?e:e.name,n=x[t];n||(n=x[t]=new i);return n}function E(e){return L.sequentialize(v(e),(function(){return function(e){function t(e,t){var n={id:o._id,key:N.normalizeKey(e)};"undefined"!==typeof t&&null!==t&&(n.value=N.normalizeKey(t));r.push(n)}function n(t,n){return function(){return function(e,t,n){var r="_local/lastSeq";return e.db.get(r).catch(_({_id:r,seq:0})).then((function(r){var i=Object.keys(t);return A.all(i.map((function(n){return function(e,t,n){var r="_local/doc_"+e,i={_id:r,keys:[]},o=n[e],s=o.indexableKeysToKeyValues,a=o.changes;return function(){return function(e){return 1===e.length&&/^1-/.test(e[0].rev)}(a)?A.resolve(i):t.db.get(r).catch(_(i))}().then((function(e){return function(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):A.resolve({rows:[]})}(e).then((function(t){return function(e,t){for(var n=[],r={},i=0,o=t.rows.length;i<o;i++){var a=t.rows[i].doc;if(a){n.push(a);r[a._id]=!0;a._deleted=!s[a._id];if(!a._deleted){var c=s[a._id];"value"in c&&(a.value=c.value)}}}var u=Object.keys(s);u.forEach((function(e){if(!r[e]){var t={_id:e},i=s[e];"value"in i&&(t.value=i.value);n.push(t)}}));e.keys=L.uniq(u.concat(e.keys));n.push(e);return n}(e,t)}))}))}(n,e,t)}))).then((function(t){var i=I.flatten(t);r.seq=n;i.push(r);return e.db.bulkDocs({docs:i})}))}))}(e,t,n)}}var r,o,a;if("function"===typeof e.mapFun&&2===e.mapFun.length){var l=e.mapFun;a=function(e){return l(e,t)}}else a=s(e.mapFun.toString(),t,p,k,Array.isArray,JSON.parse);var f=e.seq||0,d=new i;return new A((function(t,i){function s(){d.finish().then((function(){e.seq=f;t()}))}!function t(){e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:f,limit:50}).on("complete",(function(i){var l=i.results;if(!l.length)return s();for(var h={},p=0,m=l.length;p<m;p++){var g=l[p];if("_"!==g.doc._id[0]){r=[];(o=g.doc)._deleted||c(e.sourceDB,a,[o]);r.sort(u);for(var y,_={},v=0,E=r.length;v<E;v++){var S=r[v],b=[S.key,S.id];0===N.collate(S.key,y)&&b.push(v);_[N.toIndexableString(b)]=S;y=S.key}h[g.doc._id]={indexableKeysToKeyValues:_,changes:g.changes}}f=g.seq}d.add(n(h,f));return l.length<50?s():t()})).on("error",(function(e){i(e)}))}()}))}(e)}))()}function S(e,t){return L.sequentialize(v(e),(function(){return function(e,t){function n(t){t.include_docs=!0;return e.db.allDocs(t).then((function(e){i=e.total_rows;return e.rows.map((function(e){if("value"in e.doc&&"object"===typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(t>=n&&t<=n)return e.doc.value}var r=N.parseIndexableString(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}}))}))}function r(n){var r;r=o?function(e,t,n){0===n.group_level&&delete n.group_level;var r,i=n.group||n.group_level;r=B[e.reduceFun]?B[e.reduceFun]:s(e.reduceFun.toString(),null,p,k,Array.isArray,JSON.parse);var o=[],a=isNaN(n.group_level)?Number.POSITIVE_INFINITY:n.group_level;t.forEach((function(e){var t=o[o.length-1],n=i?e.key:null;i&&Array.isArray(n)&&(n=n.slice(0,a));if(t&&0===N.collate(t.groupKey,n)){t.keys.push([e.key,e.id]);t.values.push(e.value)}else o.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})}));t=[];for(var u=0,f=o.length;u<f;u++){var d=o[u],h=c(e.sourceDB,r,[d.keys,d.values,!1]);if(h.error&&h.error instanceof C)throw h.error;t.push({value:h.error?null:h.output,key:d.groupKey})}return{rows:l(t,n.limit,n.skip)}}(e,n,t):{total_rows:i,offset:a,rows:n};if(t.include_docs){var u=L.uniq(n.map(f));return e.sourceDB.allDocs({keys:u,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then((function(e){var t={};e.rows.forEach((function(e){e.doc&&(t["$"+e.id]=e.doc)}));n.forEach((function(e){var n=f(e),r=t["$"+n];r&&(e.doc=r)}));return r}))}return r}var i,o=e.reduceFun&&!1!==t.reduce,a=t.skip||0;if("undefined"!==typeof t.keys&&!t.keys.length){t.limit=0;delete t.keys}if("undefined"!==typeof t.keys){var u=t.keys.map((function(e){return n({startkey:N.toIndexableString([e]),endkey:N.toIndexableString([e,{}])})}));return A.all(u).then(I.flatten).then(r)}var d={descending:t.descending};t.start_key&&(t.startkey=t.start_key);t.end_key&&(t.endkey=t.end_key);"undefined"!==typeof t.startkey&&(d.startkey=t.descending?N.toIndexableString([t.startkey,{}]):N.toIndexableString([t.startkey]));if("undefined"!==typeof t.endkey){var h=!1!==t.inclusive_end;t.descending&&(h=!h);d.endkey=N.toIndexableString(h?[t.endkey,{}]:[t.endkey])}if("undefined"!==typeof t.key){var m=N.toIndexableString([t.key]),g=N.toIndexableString([t.key,{}]);if(d.descending){d.endkey=m;d.startkey=g}else{d.startkey=m;d.endkey=g}}if(!o){"number"===typeof t.limit&&(d.limit=t.limit);d.skip=a}return n(d).then(r)}(e,t)}))()}function b(e){this.status=400;this.name="query_parse_error";this.message=e;this.error=!0;try{Error.captureStackTrace(this,b)}catch(e){}}function T(e){this.status=404;this.name="not_found";this.message=e;this.error=!0;try{Error.captureStackTrace(this,T)}catch(e){}}function C(e){this.status=500;this.name="invalid_value";this.message=e;this.error=!0;try{Error.captureStackTrace(this,C)}catch(e){}}var I=n(3515),w=n(2325),N=n(5241),A=r(n(1646)),R=n(3642),O=r(n(2561)),L=n(935),D=r(n(5704));i.prototype.add=function(e){this.promise=this.promise.catch((function(){})).then((function(){return e()}));return this.promise};i.prototype.finish=function(){return this.promise};var x={},P=new i,k=I.guardedConsole.bind(null,"log"),B={_sum:function(e,t){return p(t)},_count:function(e,t){return t.length},_stats:function(e,t){return{sum:p(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,n=0,r=e.length;n<r;n++){var i=e[n];t+=i*i}return t}(t)}}},M=L.callbackify((function(){var e=this;return"http"===e.type()?function(e){return e.request({method:"POST",url:"_view_cleanup"})}(e):"function"===typeof e._viewCleanup?function(e){return new A((function(t,n){e._viewCleanup((function(e,r){if(e)return n(e);t(r)}))}))}(e):function(e){return e.get("_local/mrviews").then((function(t){var n={};Object.keys(t.views).forEach((function(e){var t=a(e),r="_design/"+t[0],i=t[1];n[r]=n[r]||{};n[r][i]=!0}));var r={keys:Object.keys(n),include_docs:!0};return e.allDocs(r).then((function(r){var i={};r.rows.forEach((function(e){var r=e.key.substring(8);Object.keys(n[e.key]).forEach((function(n){var o=r+"/"+n;t.views[o]||(o=n);var s=Object.keys(t.views[o]),a=e.doc&&e.doc.views&&e.doc.views[n];s.forEach((function(e){i[e]=i[e]||a}))}))}));var o=Object.keys(i).filter((function(e){return!i[e]})).map((function(t){return L.sequentialize(v(t),(function(){return new e.constructor(t,e.__opts).destroy()}))()}));return A.all(o).then((function(){return{ok:!0}}))}))}),_({ok:!0}))}(e)}));D(b,Error);D(T,Error);D(C,Error);var U={query:function(e,t,n){if("function"===typeof t){n=t;t={}}t=t?function(e){e.group_level=g(e.group_level);e.limit=g(e.limit);e.skip=g(e.skip);return e}(t):{};"function"===typeof e&&(e={map:e});var r=this,i=A.resolve().then((function(){return function(e,t,n){if("http"===e.type())return function(e,t,n){var r,i=[],o="GET";m("reduce",n,i);m("include_docs",n,i);m("attachments",n,i);m("limit",n,i);m("descending",n,i);m("group",n,i);m("group_level",n,i);m("skip",n,i);m("stale",n,i);m("conflicts",n,i);m("startkey",n,i,!0);m("start_key",n,i,!0);m("endkey",n,i,!0);m("end_key",n,i,!0);m("inclusive_end",n,i);m("key",n,i,!0);i=""===(i=i.join("&"))?"":"?"+i;if("undefined"!==typeof n.keys){var s="keys="+encodeURIComponent(JSON.stringify(n.keys));if(s.length+i.length+1>2e3){o="POST";"string"===typeof t?r={keys:n.keys}:t.keys=n.keys}else i+=("?"===i[0]?"&":"?")+s}if("string"===typeof t){var c=a(t);return e.request({method:o,url:"_design/"+c[0]+"/_view/"+c[1]+i,body:r}).then(d(n))}r=r||{};Object.keys(t).forEach((function(e){Array.isArray(t[e])?r[e]=t[e]:r[e]=t[e].toString()}));return e.request({method:"POST",url:"_temp_view"+i,body:r}).then(d(n))}(e,t,n);if("function"===typeof e._query)return function(e,t,n){return new A((function(r,i){e._query(t,n,(function(e,t){if(e)return i(e);r(t)}))}))}(e,t,n);if("string"!==typeof t){y(n,t);var r={db:e,viewName:"temp_view/temp_view",map:t.map,reduce:t.reduce,temporary:!0};P.add((function(){return o(r).then((function(e){return L.fin(E(e).then((function(){return S(e,n)})),(function(){return e.db.destroy()}))}))}));return P.finish()}var i=t,s=a(i),c=s[0],u=s[1];return e.get("_design/"+c).then((function(t){var r=t.views&&t.views[u];if(!r||"string"!==typeof r.map)throw new T("ddoc "+c+" has no view named "+u);y(n,r);return o({db:e,viewName:i,map:r.map,reduce:r.reduce}).then((function(e){if("ok"===n.stale||"update_after"===n.stale){"update_after"===n.stale&&process.nextTick((function(){E(e)}));return S(e,n)}return E(e).then((function(){return S(e,n)}))}))}))}(r,e,t)}));L.promisedCallback(i,n);return i},viewCleanup:M};e.exports=U},5704:e=>{"function"===typeof Object.create?e.exports=function(e,t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype;e.prototype=new n;e.prototype.constructor=e}},3642:(e,t,n)=>{"use strict";function r(e,t,n,r,i){(n>0||r<t.size)&&(t=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}(t,n,r));o.readAsArrayBuffer(t,(function(t){e.append(t);i()}))}function i(e,t,n,r,i){(n>0||r<t.length)&&(t=t.substring(n,r));e.appendBinary(t);i()}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2325),s=function(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}(n(6561)),a=n.g.setImmediate||n.g.setTimeout;t.binaryMd5=function(e,t){function n(){a(u)}function c(){var e=function(e){return o.btoa(e)}(m.end(!0));t(e);m.destroy()}function u(){var t=p*d;p++;g(m,e,t,t+d,p<h?n:c)}var l="string"===typeof e,f=l?e.length:e.size,d=Math.min(32768,f),h=Math.ceil(f/d),p=0,m=l?new s:new s.ArrayBuffer,g=l?i:r;u()};t.stringMd5=function(e){return s.hash(e)}},6561:e=>{!function(){e.exports=function(){"use strict";function e(e,t,n,r,i,o){t=p(p(t,e),p(r,o));return p(t<<i|t>>>32-i,n)}function t(t,n,r,i,o,s,a){return e(n&r|~n&i,t,n,o,s,a)}function n(t,n,r,i,o,s,a){return e(n&i|r&~i,t,n,o,s,a)}function r(t,n,r,i,o,s,a){return e(n^r^i,t,n,o,s,a)}function i(t,n,r,i,o,s,a){return e(r^(n|~i),t,n,o,s,a)}function o(e,o){var s=e[0],a=e[1],c=e[2],u=e[3];s=t(s,a,c,u,o[0],7,-680876936);u=t(u,s,a,c,o[1],12,-389564586);c=t(c,u,s,a,o[2],17,606105819);a=t(a,c,u,s,o[3],22,-1044525330);s=t(s,a,c,u,o[4],7,-176418897);u=t(u,s,a,c,o[5],12,1200080426);c=t(c,u,s,a,o[6],17,-1473231341);a=t(a,c,u,s,o[7],22,-45705983);s=t(s,a,c,u,o[8],7,1770035416);u=t(u,s,a,c,o[9],12,-1958414417);c=t(c,u,s,a,o[10],17,-42063);a=t(a,c,u,s,o[11],22,-1990404162);s=t(s,a,c,u,o[12],7,1804603682);u=t(u,s,a,c,o[13],12,-40341101);c=t(c,u,s,a,o[14],17,-1502002290);s=n(s,a=t(a,c,u,s,o[15],22,1236535329),c,u,o[1],5,-165796510);u=n(u,s,a,c,o[6],9,-1069501632);c=n(c,u,s,a,o[11],14,643717713);a=n(a,c,u,s,o[0],20,-373897302);s=n(s,a,c,u,o[5],5,-701558691);u=n(u,s,a,c,o[10],9,38016083);c=n(c,u,s,a,o[15],14,-660478335);a=n(a,c,u,s,o[4],20,-405537848);s=n(s,a,c,u,o[9],5,568446438);u=n(u,s,a,c,o[14],9,-1019803690);c=n(c,u,s,a,o[3],14,-187363961);a=n(a,c,u,s,o[8],20,1163531501);s=n(s,a,c,u,o[13],5,-1444681467);u=n(u,s,a,c,o[2],9,-51403784);c=n(c,u,s,a,o[7],14,1735328473);s=r(s,a=n(a,c,u,s,o[12],20,-1926607734),c,u,o[5],4,-378558);u=r(u,s,a,c,o[8],11,-2022574463);c=r(c,u,s,a,o[11],16,1839030562);a=r(a,c,u,s,o[14],23,-35309556);s=r(s,a,c,u,o[1],4,-1530992060);u=r(u,s,a,c,o[4],11,1272893353);c=r(c,u,s,a,o[7],16,-155497632);a=r(a,c,u,s,o[10],23,-1094730640);s=r(s,a,c,u,o[13],4,681279174);u=r(u,s,a,c,o[0],11,-358537222);c=r(c,u,s,a,o[3],16,-722521979);a=r(a,c,u,s,o[6],23,76029189);s=r(s,a,c,u,o[9],4,-640364487);u=r(u,s,a,c,o[12],11,-421815835);c=r(c,u,s,a,o[15],16,530742520);s=i(s,a=r(a,c,u,s,o[2],23,-995338651),c,u,o[0],6,-198630844);u=i(u,s,a,c,o[7],10,1126891415);c=i(c,u,s,a,o[14],15,-1416354905);a=i(a,c,u,s,o[5],21,-57434055);s=i(s,a,c,u,o[12],6,1700485571);u=i(u,s,a,c,o[3],10,-1894986606);c=i(c,u,s,a,o[10],15,-1051523);a=i(a,c,u,s,o[1],21,-2054922799);s=i(s,a,c,u,o[8],6,1873313359);u=i(u,s,a,c,o[15],10,-30611744);c=i(c,u,s,a,o[6],15,-1560198380);a=i(a,c,u,s,o[13],21,1309151649);s=i(s,a,c,u,o[4],6,-145523070);u=i(u,s,a,c,o[11],10,-1120210379);c=i(c,u,s,a,o[2],15,718787259);a=i(a,c,u,s,o[9],21,-343485551);e[0]=p(s,e[0]);e[1]=p(a,e[1]);e[2]=p(c,e[2]);e[3]=p(u,e[3])}function s(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function a(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function c(e){var t,n,r,i,a,c,u=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)o(l,s(e.substring(t-64,t)));n=(e=e.substring(t-64)).length;r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n;t+=1)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);r[t>>2]|=128<<(t%4<<3);if(t>55){o(l,r);for(t=0;t<16;t+=1)r[t]=0}i=(i=8*u).toString(16).match(/(.*?)(.{0,8})$/);a=parseInt(i[2],16);c=parseInt(i[1],16)||0;r[14]=a;r[15]=c;o(l,r);return l}function u(e){var t,n="";for(t=0;t<4;t+=1)n+=m[e>>8*t+4&15]+m[e>>8*t&15];return n}function l(e){var t;for(t=0;t<e.length;t+=1)e[t]=u(e[t]);return e.join("")}function f(e){/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e)));return e}function d(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function h(){this.reset()}var p=function(e,t){return e+t&4294967295},m=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];"5d41402abc4b2a76b9719d911017c592"!==l(c("hello"))&&(p=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n});"undefined"===typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(t,n){var r,i,o,s,a=this.byteLength,c=e(t,a),u=a;undefined!==n&&(u=e(n,a));if(c>u)return new ArrayBuffer(0);r=u-c;i=new ArrayBuffer(r);o=new Uint8Array(i);s=new Uint8Array(this,c,r);o.set(s);return i}}();h.prototype.append=function(e){this.appendBinary(f(e));return this};h.prototype.appendBinary=function(e){this._buff+=e;this._length+=e.length;var t,n=this._buff.length;for(t=64;t<=n;t+=64)o(this._hash,s(this._buff.substring(t-64,t)));this._buff=this._buff.substring(t-64);return this};h.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r.charCodeAt(t)<<(t%4<<3);this._finish(o,i);n=l(this._hash);e&&(n=d(n));this.reset();return n};h.prototype.reset=function(){this._buff="";this._length=0;this._hash=[1732584193,-271733879,-1732584194,271733878];return this};h.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}};h.prototype.setState=function(e){this._buff=e.buff;this._length=e.length;this._hash=e.hash;return this};h.prototype.destroy=function(){delete this._hash;delete this._buff;delete this._length};h.prototype._finish=function(e,t){var n,r,i,s=t;e[s>>2]|=128<<(s%4<<3);if(s>55){o(this._hash,e);for(s=0;s<16;s+=1)e[s]=0}n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/);r=parseInt(n[2],16);i=parseInt(n[1],16)||0;e[14]=r;e[15]=i;o(this._hash,e)};h.hash=function(e,t){return h.hashBinary(f(e),t)};h.hashBinary=function(e,t){var n=l(c(e));return t?d(n):n};h.ArrayBuffer=function(){this.reset()};h.ArrayBuffer.prototype.append=function(e){var t,n=function(e,t,n){var r=new Uint8Array(e.byteLength+t.byteLength);r.set(new Uint8Array(e));r.set(new Uint8Array(t),e.byteLength);return n?r:r.buffer}(this._buff.buffer,e,!0),r=n.length;this._length+=e.byteLength;for(t=64;t<=r;t+=64)o(this._hash,a(n.subarray(t-64,t)));this._buff=t-64<r?new Uint8Array(n.buffer.slice(t-64)):new Uint8Array(0);return this};h.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r[t]<<(t%4<<3);this._finish(o,i);n=l(this._hash);e&&(n=d(n));this.reset();return n};h.ArrayBuffer.prototype.reset=function(){this._buff=new Uint8Array(0);this._length=0;this._hash=[1732584193,-271733879,-1732584194,271733878];return this};h.ArrayBuffer.prototype.getState=function(){var e=h.prototype.getState.call(this);e.buff=function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}(e.buff);return e};h.ArrayBuffer.prototype.setState=function(e){e.buff=function(e,t){var n,r=e.length,i=new ArrayBuffer(r),o=new Uint8Array(i);for(n=0;n<r;n+=1)o[n]=e.charCodeAt(n);return t?o:i}(e.buff,!0);return h.prototype.setState.call(this,e)};h.ArrayBuffer.prototype.destroy=h.prototype.destroy;h.ArrayBuffer.prototype._finish=h.prototype._finish;h.ArrayBuffer.hash=function(e,t){var n=l(function(e){var t,n,r,i,s,c,u=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)o(l,a(e.subarray(t-64,t)));n=(e=t-64<u?e.subarray(t-64):new Uint8Array(0)).length;r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n;t+=1)r[t>>2]|=e[t]<<(t%4<<3);r[t>>2]|=128<<(t%4<<3);if(t>55){o(l,r);for(t=0;t<16;t+=1)r[t]=0}i=(i=8*u).toString(16).match(/(.*?)(.{0,8})$/);s=parseInt(i[2],16);c=parseInt(i[1],16)||0;r[14]=s;r[15]=c;o(l,r);return l}(new Uint8Array(e)));return t?d(n):n};return h}()}()},5895:(e,t)=>{"use strict";function n(e){for(var t,n,r,i,o=e.rev_tree.slice();i=o.pop();){var s=i.ids,a=s[2],c=i.pos;if(a.length)for(var u=0,l=a.length;u<l;u++)o.push({pos:c+1,ids:a[u]});else{var f=!!s[1].deleted,d=s[0];if(!t||(r!==f?r:n!==c?n<c:t<d)){t=d;n=c;r=f}}}return n+"-"+t}function r(e,t){for(var n,r=e.slice();n=r.pop();)for(var i=n.pos,o=n.ids,s=o[2],a=t(0===s.length,i,o[0],n.ctx,o[1]),c=0,u=s.length;c<u;c++)r.push({pos:i+1,ids:s[c],ctx:a})}function i(e,t){return e.pos-t.pos}function o(e){var t=[];r(e,(function(e,n,r,i,o){e&&t.push({rev:n+"-"+r,pos:n,opts:o})}));t.sort(i).reverse();for(var n=0,o=t.length;n<o;n++)delete t[n].pos;return t}function s(e){for(var t,n=[],r=e.slice();t=r.pop();){var i=t.pos,o=t.ids,s=o[0],a=o[1],c=o[2],u=0===c.length,l=t.history?t.history.slice():[];l.push({id:s,opts:a});u&&n.push({pos:i+1-l.length,ids:l});for(var f=0,d=c.length;f<d;f++)r.push({pos:i+1,ids:c[f],history:l})}return n.reverse()}function a(e,t){return e.pos-t.pos}function c(e,t,n){var r=function(e,t,n){for(var r,i=0,o=e.length;i<o;)n(e[r=i+o>>>1],t)<0?i=r+1:o=r;return i}(e,t,n);e.splice(r,0,t)}function u(e,t){for(var n,r,i=t,o=e.length;i<o;i++){var s=e[i],a=[s.id,s.opts,[]];if(r){r[2].push(a);r=a}else n=r=a}return n}function l(e,t){return e[0]<t[0]?-1:1}function f(e,t){for(var n=[{tree1:e,tree2:t}],r=!1;n.length>0;){var i=n.pop(),o=i.tree1,s=i.tree2;(o[1].status||s[1].status)&&(o[1].status="available"===o[1].status||"available"===s[1].status?"available":"missing");for(var a=0;a<s[2].length;a++)if(o[2][0]){for(var u=!1,f=0;f<o[2].length;f++)if(o[2][f][0]===s[2][a][0]){n.push({tree1:o[2][f],tree2:s[2][a]});u=!0}if(!u){r="new_branch";c(o[2],s[2][a],l)}}else{r="new_leaf";o[2][0]=s[2][a]}}return{conflicts:r,tree:e}}function d(e,t,n){var r,i=[],o=!1,s=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var c=0,u=e.length;c<u;c++){var l=e[c];if(l.pos===t.pos&&l.ids[0]===t.ids[0]){r=f(l.ids,t.ids);i.push({pos:l.pos,ids:r.tree});o=o||r.conflicts;s=!0}else if(!0!==n){var d=l.pos<t.pos?l:t,h=l.pos<t.pos?t:l,p=h.pos-d.pos,m=[],g=[];g.push({ids:d.ids,diff:p,parent:null,parentIdx:null});for(;g.length>0;){var y=g.pop();if(0!==y.diff)for(var _=y.ids[2],v=0,E=_.length;v<E;v++)g.push({ids:_[v],diff:y.diff-1,parent:y.ids,parentIdx:v});else y.ids[0]===h.ids[0]&&m.push(y)}var S=m[0];if(S){r=f(S.ids,h.ids);S.parent[2][S.parentIdx]=r.tree;i.push({pos:d.pos,ids:d.ids});o=o||r.conflicts;s=!0}else i.push(l)}else i.push(l)}s||i.push(t);i.sort(a);return{tree:i,conflicts:o||"internal_node"}}function h(e){return e.ids}Object.defineProperty(t,"__esModule",{value:!0});t.collectConflicts=function(e){for(var t=n(e),r=o(e.rev_tree),i=[],s=0,a=r.length;s<a;s++){var c=r[s];c.rev===t||c.opts.deleted||i.push(c.rev)}return i};t.collectLeaves=o;t.compactTree=function(e){var t=[];r(e.rev_tree,(function(e,n,r,i,o){if("available"===o.status&&!e){t.push(n+"-"+r);o.status="missing"}}));return t};t.isDeleted=function(e,t){t||(t=n(e));for(var r,i=t.substring(t.indexOf("-")+1),o=e.rev_tree.map(h);r=o.pop();){if(r[0]===i)return!!r[1].deleted;o=o.concat(r[2])}};t.isLocalId=function(e){return/^_local/.test(e)};t.merge=function(e,t,n){var i=d(e,t),o=function(e,t){for(var n,i=s(e),o={},a=0,c=i.length;a<c;a++){for(var l=i[a],f=l.ids,h=Math.max(0,f.length-t),p={pos:l.pos+h,ids:u(f,h)},m=0;m<h;m++){var g=l.pos+m+"-"+f[m].id;o[g]=!0}n=n?d(n,p,!0).tree:[p]}r(n,(function(e,t,n){delete o[t+"-"+n]}));return{tree:n,revs:Object.keys(o)}}(i.tree,n);return{tree:o.tree,stemmedRevs:o.revs,conflicts:i.conflicts}};t.revExists=function(e,t){for(var n,r=e.slice(),i=t.split("-"),o=parseInt(i[0],10),s=i[1];n=r.pop();){if(n.pos===o&&n.ids[0]===s)return!0;for(var a=n.ids[2],c=0,u=a.length;c<u;c++)r.push({pos:n.pos+1,ids:a[c]})}return!1};t.rootToLeaf=s;t.traverseRevTree=r;t.winningRev=n},1646:(e,t,n)=>{"use strict";var r=function(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}(n(9977)),i="function"===typeof Promise?Promise:r;e.exports=i},6261:(e,t,n)=>{"use strict";function r(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}function i(e){return/^1-/.test(e)}function o(e,t){var n=Object.keys(t._attachments);return p.all(n.map((function(n){return e.getAttachment(t._id,n,{rev:t._rev})})))}function s(e,t,n,r){n=h.clone(n);var s=[],a=!0;return p.resolve().then((function(){var t=Object.keys(n).filter((function(e){var t=n[e].missing;return 1===t.length&&i(t[0])}));if(t.length>0)return function(t){return e.allDocs({keys:t,include_docs:!0}).then((function(e){if(r.cancelled)throw new Error("cancelled");e.rows.forEach((function(e){if(!e.deleted&&e.doc&&i(e.value.rev)&&!function(e){return e._attachments&&Object.keys(e._attachments).length>0}(e.doc)){s.push(e.doc);delete n[e.id]}}))}))}(t)})).then((function(){var i=function(e){var t=[];Object.keys(e).forEach((function(n){e[n].missing.forEach((function(e){t.push({id:n,rev:e})}))}));return{docs:t,revs:!0}}(n);if(i.docs.length)return e.bulkGet(i).then((function(n){if(r.cancelled)throw new Error("cancelled");return p.all(n.results.map((function(n){return p.all(n.docs.map((function(n){var r=n.ok;n.error&&(a=!1);return r&&r._attachments?function(e,t,n){var r="http"===t.type()&&"http"!==e.type(),i=Object.keys(n._attachments);return r?e.get(n._id).then((function(r){return p.all(i.map((function(i){return function(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}(r,n,i)?t.getAttachment(n._id,i):e.getAttachment(r._id,i)})))})).catch((function(e){if(404!==e.status)throw e;return o(t,n)})):o(t,n)}(t,e,r).then((function(e){var t=Object.keys(r._attachments);e.forEach((function(e,n){var i=r._attachments[t[n]];delete i.stub;delete i.length;i.data=e}));return r})):r})))}))).then((function(e){s=s.concat(h.flatten(e).filter(Boolean))}))}))})).then((function(){return{ok:a,docs:s}}))}function a(e,t,n,r,i){function o(){return w?p.resolve():g(e,t,n).then((function(n){w=new m(e,t,n,r)}))}function c(){F=[];if(0!==I.docs.length){var e=I.docs;return t.bulkDocs({docs:e,new_edits:!1}).then((function(t){if(r.cancelled){_();throw new Error("cancelled")}var n=[],o={};t.forEach((function(e){if(e.error){i.doc_write_failures++;n.push(e);o[e.id]=e}}));U=U.concat(n);i.docs_written+=I.docs.length-n.length;var s=n.filter((function(e){return"unauthorized"!==e.name&&"forbidden"!==e.name}));e.forEach((function(e){var t=o[e._id];t?r.emit("denied",h.clone(t)):F.push(e)}));if(s.length>0){var a=new Error("bulkDocs error");a.other_errors=n;y("target.bulkDocs failed to write docs",a);throw new Error("bulkWrite partial failure")}}),(function(t){i.doc_write_failures+=e.length;throw t}))}}function u(){if(I.error)throw new Error("There was a problem getting docs.");i.last_seq=D=I.seq;var e=h.clone(i);if(F.length){e.docs=F;r.emit("change",e)}R=!0;return w.writeCheckpoint(I.seq,j).then((function(){R=!1;if(r.cancelled){_();throw new Error("cancelled")}I=void 0;b()})).catch(C)}function l(){return s(e,t,I.diffs,r).then((function(e){I.error=!e.ok;e.docs.forEach((function(e){delete I.diffs[e._id];i.docs_read++;I.docs.push(e)}))}))}function f(){if(!r.cancelled&&!I)if(0!==N.length){I=N.shift();(function(){var e={};I.changes.forEach((function(t){"_user/"!==t.id&&(e[t.id]=t.changes.map((function(e){return e.rev})))}));return t.revsDiff(e).then((function(e){if(r.cancelled){_();throw new Error("cancelled")}I.diffs=e}))})().then(l).then(c).then(u).then(f).catch((function(e){y("batch processing terminated with error",e)}))}else d(!0)}function d(e){if(0!==A.changes.length){if(e||O||A.changes.length>=P){N.push(A);A={seq:0,changes:[],docs:[]};if("pending"===r.state||"stopped"===r.state){r.state="active";r.emit("active")}f()}}else if(0===N.length&&!I){if(x&&G.live||O){r.state="pending";r.emit("paused")}O&&_()}}function y(e,t){if(!L){t.message||(t.message=e);i.ok=!1;i.status="aborting";i.errors.push(t);U=U.concat(t);N=[];A={seq:0,changes:[],docs:[]};_()}}function _(){if(!L){if(r.cancelled){i.status="cancelled";if(R)return}i.status=i.status||"complete";i.end_time=new Date;i.last_seq=D;L=!0;var o=U.filter((function(e){return"unauthorized"!==e.name&&"forbidden"!==e.name}));if(o.length>0){var s=U.pop();U.length>0&&(s.other_errors=U);s.result=i;!function(e,t,n,r){if(!1!==e.retry){"function"!==typeof e.back_off_function&&(e.back_off_function=h.defaultBackOff);t.emit("requestError",n);if("active"===t.state||"pending"===t.state){t.emit("paused",n);t.state="stopped";var i=function(){e.current_back_off=0};t.once("paused",(function(){t.removeListener("active",i)}));t.once("active",i)}e.current_back_off=e.current_back_off||0;e.current_back_off=e.back_off_function(e.current_back_off);setTimeout(r,e.current_back_off)}else{t.emit("error",n);t.removeAllListeners()}}(n,r,s,(function(){a(e,t,n,r)}))}else{i.errors=U;r.emit("complete",i);r.removeAllListeners()}}}function v(e){if(r.cancelled)return _();if(h.filterChange(n)(e)){A.seq=e.seq;A.changes.push(e);d(0===N.length&&G.live)}}function E(e){B=!1;if(r.cancelled)return _();if(e.results.length>0){G.since=e.last_seq;b();d(!0)}else{var t=function(){if(x){G.live=!0;b()}else O=!0;d(!0)};if(I||0!==e.results.length)t();else{R=!0;w.writeCheckpoint(e.last_seq,j).then((function(){R=!1;i.last_seq=D=e.last_seq;t()})).catch(C)}}}function S(e){B=!1;if(r.cancelled)return _();y("changes rejected",e)}function b(){function t(){o.cancel()}function i(){r.removeListener("cancel",t)}if(!B&&!O&&N.length<k){B=!0;if(r._changes){r.removeListener("cancel",r._abortChanges);r._changes.cancel()}r.once("cancel",t);var o=e.changes(G).on("change",v);o.then(i,i);o.then(E).catch(S);if(n.retry){r._changes=o;r._abortChanges=t}}}function T(){o().then((function(){if(!r.cancelled)return w.getCheckpoint().then((function(e){G={since:D=e,limit:P,batch_size:P,style:"all_docs",doc_ids:M,return_docs:!0};n.filter&&("string"!==typeof n.filter?G.include_docs=!0:G.filter=n.filter);"heartbeat"in n&&(G.heartbeat=n.heartbeat);"timeout"in n&&(G.timeout=n.timeout);n.query_params&&(G.query_params=n.query_params);n.view&&(G.view=n.view);b()}));_()})).catch((function(e){y("getCheckpoint rejected with ",e)}))}function C(e){R=!1;y("writeCheckpoint completed with error",e);throw e}var I,w,N=[],A={seq:0,changes:[],docs:[]},R=!1,O=!1,L=!1,D=0,x=n.continuous||n.live||!1,P=n.batch_size||100,k=n.batches_limit||10,B=!1,M=n.doc_ids,U=[],F=[],j=h.uuid();i=i||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var G={};r.ready(e,t);if(r.cancelled)_();else{if(!r._addedListeners){r.once("cancel",_);if("function"===typeof n.complete){r.once("error",n.complete);r.once("complete",(function(e){n.complete(null,e)}))}r._addedListeners=!0}"undefined"===typeof n.since?T():o().then((function(){R=!0;return w.writeCheckpoint(n.since,j)})).then((function(){R=!1;if(r.cancelled)_();else{D=n.since;T()}})).catch(C)}}function c(){y.EventEmitter.call(this);this.cancelled=!1;this.state="pending";var e=this,t=new p((function(t,n){e.once("complete",t);e.once("error",n)}));e.then=function(e,n){return t.then(e,n)};e.catch=function(e){return t.catch(e)};e.catch((function(){}))}function u(e,t){var n=t.PouchConstructor;return"string"===typeof e?new n(e,t):e}function l(e,t,n,r){if("function"===typeof n){r=n;n={}}"undefined"===typeof n&&(n={});if(n.doc_ids&&!Array.isArray(n.doc_ids))throw v.createError(v.BAD_REQUEST,"`doc_ids` filter parameter is not a list.");n.complete=r;(n=h.clone(n)).continuous=n.continuous||n.live;n.retry="retry"in n&&n.retry;n.PouchConstructor=n.PouchConstructor||this;var i=new c(n);a(u(e,n),u(t,n),n,i);return i}function f(e,t,n,r){if("function"===typeof n){r=n;n={}}"undefined"===typeof n&&(n={});(n=h.clone(n)).PouchConstructor=n.PouchConstructor||this;return new d(e=u(e,n),t=u(t,n),n,r)}function d(e,t,n,r){function i(e){m.emit("change",{direction:"pull",change:e})}function o(e){m.emit("change",{direction:"push",change:e})}function s(e){m.emit("denied",{direction:"push",doc:e})}function a(e){m.emit("denied",{direction:"pull",doc:e})}function c(){m.pushPaused=!0;m.pullPaused&&m.emit("paused")}function u(){m.pullPaused=!0;m.pushPaused&&m.emit("paused")}function f(){m.pushPaused=!1;m.pullPaused&&m.emit("active",{direction:"push"})}function d(){m.pullPaused=!1;m.pushPaused&&m.emit("active",{direction:"pull"})}function h(e){return function(t,n){if("change"===t&&(n===i||n===o)||"denied"===t&&(n===a||n===s)||"paused"===t&&(n===u||n===c)||"active"===t&&(n===d||n===f)){t in _||(_[t]={});_[t][e]=!0;2===Object.keys(_[t]).length&&m.removeAllListeners(t)}}}var m=this;this.canceled=!1;var g=n.push?E.extend({},n,n.push):n,y=n.pull?E.extend({},n,n.pull):n;this.push=l(e,t,g);this.pull=l(t,e,y);this.pushPaused=!0;this.pullPaused=!0;var _={};if(n.live){this.push.on("complete",m.pull.cancel.bind(m.pull));this.pull.on("complete",m.push.cancel.bind(m.push))}this.on("newListener",(function(e){if("change"===e){m.pull.on("change",i);m.push.on("change",o)}else if("denied"===e){m.pull.on("denied",a);m.push.on("denied",s)}else if("active"===e){m.pull.on("active",d);m.push.on("active",f)}else if("paused"===e){m.pull.on("paused",u);m.push.on("paused",c)}}));this.on("removeListener",(function(e){if("change"===e){m.pull.removeListener("change",i);m.push.removeListener("change",o)}else if("denied"===e){m.pull.removeListener("denied",a);m.push.removeListener("denied",s)}else if("active"===e){m.pull.removeListener("active",d);m.push.removeListener("active",f)}else if("paused"===e){m.pull.removeListener("paused",u);m.push.removeListener("paused",c)}}));this.pull.on("removeListener",h("pull"));this.push.on("removeListener",h("push"));var v=p.all([this.push,this.pull]).then((function(e){var t={push:e[0],pull:e[1]};m.emit("complete",t);r&&r(null,t);m.removeAllListeners();return t}),(function(e){m.cancel();r?r(e):m.emit("error",e);m.removeAllListeners();if(r)throw e}));this.then=function(e,t){return v.then(e,t)};this.catch=function(e){return v.catch(e)}}var h=n(3515),p=r(n(1646)),m=r(n(2140)),g=r(n(6245)),y=n(7007),_=r(n(962)),v=n(2154),E=n(9537);_(c,y.EventEmitter);c.prototype.cancel=function(){this.cancelled=!0;this.state="cancelled";this.emit("cancel")};c.prototype.ready=function(e,t){function n(){r.cancel()}var r=this;if(!r._readyCalled){r._readyCalled=!0;e.once("destroyed",n);t.once("destroyed",n);r.once("complete",(function(){e.removeListener("destroyed",n);t.removeListener("destroyed",n)}))}};_(d,y.EventEmitter);d.prototype.cancel=function(){if(!this.canceled){this.canceled=!0;this.push.cancel();this.pull.cancel()}};e.exports=function(e){e.replicate=l;e.sync=f}},962:e=>{"function"===typeof Object.create?e.exports=function(e,t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype;e.prototype=new n;e.prototype.constructor=e}},3515:(e,t,n)=>{"use strict";function r(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}function i(e){var t,n,r;if(!e||"object"!==typeof e)return e;if(Array.isArray(e)){t=[];for(n=0,r=e.length;n<r;n++)t[n]=i(e[n]);return t}if(e instanceof Date)return e.toISOString();if(function(e){return e instanceof ArrayBuffer||"undefined"!==typeof Blob&&e instanceof Blob}(e))return function(e){if(e instanceof ArrayBuffer)return function(e){if("function"===typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);n.set(r);return t}(e);var t=e.size,n=e.type;return"function"===typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&C.call(n)==I}(e))return e;t={};for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=i(e[n]);"undefined"!==typeof o&&(t[n]=o)}return t}function o(e){var t=!1;return v((function(n){if(t)throw new Error("once called more than once");t=!0;e.apply(this,n)}))}function s(e){return v((function(t){t=i(t);var n,r=this,s="function"===typeof t[t.length-1]&&t.pop();s&&(n=function(e,t){process.nextTick((function(){s(e,t)}))});var a=new _((function(n,i){var s;try{var a=o((function(e,t){e?i(e):n(t)}));t.push(a);(s=e.apply(r,t))&&"function"===typeof s.then&&n(s)}catch(e){i(e)}}));n&&a.then((function(e){n(null,e)}),n);return a}))}function a(e,t){for(var n={},r=0,i=t.length;r<i;r++){var o=t[r];o in e&&(n[o]=e[o])}return n}function c(e){return e}function u(e){return[{ok:e}]}function l(){return"undefined"!==typeof chrome&&"undefined"!==typeof chrome.storage&&"undefined"!==typeof chrome.storage.local}function f(){return y}function d(){S.EventEmitter.call(this);this._listeners={};!function(e){l()?chrome.storage.onChanged.addListener((function(t){null!=t.db_name&&e.emit(t.dbName.newValue)})):f()&&("undefined"!==typeof addEventListener?addEventListener("storage",(function(t){e.emit(t.key)})):window.attachEvent("storage",(function(t){e.emit(t.key)})))}(this)}function h(e){"undefined"!==console&&e in console&&Array.prototype.slice.call(arguments,1)}function p(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=i(t[n]);"undefined"!==typeof r&&(e[n]=r)}}function m(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function g(e){return 0|Math.random()*e}Object.defineProperty(t,"__esModule",{value:!0});var y,_=r(n(1646)),v=r(n(6737)),E=r(n(1621)),S=n(7007),b=r(n(8859)),T=n(2154),C=Function.prototype.toString,I=C.call(Object),w=E("pouchdb:api");if(l())y=!1;else try{localStorage.setItem("_pouch_check_localstorage",1);y=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){y=!1}b(d,S.EventEmitter);d.prototype.addListener=function(e,t,n,r){function i(){if(o._listeners[t])if(s)s="waiting";else{s=!0;var e=a(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);n.changes(e).on("change",(function(e){if(e.seq>r.since&&!r.cancelled){r.since=e.seq;r.onChange(e)}})).on("complete",(function(){"waiting"===s&&setTimeout((function(){i()}),0);s=!1})).on("error",(function(){s=!1}))}}if(!this._listeners[t]){var o=this,s=!1;this._listeners[t]=i;this.on(e,i)}};d.prototype.removeListener=function(e,t){t in this._listeners&&S.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t])};d.prototype.notifyLocalWindows=function(e){l()?chrome.storage.local.set({dbName:e}):f()&&(localStorage[e]="a"===localStorage[e]?"b":"a")};d.prototype.notify=function(e){this.emit(e);this.notifyLocalWindows(e)};var N=function(){}.name?function(e){return e.name}:function(e){return e.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]},A=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],R="queryKey",O=/(?:^|&)([^&=]*)=?([^&]*)/g,L=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,D="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");t.adapterFun=function(e,t){return s(v((function(n){if(this._closed)return _.reject(new Error("database is closed"));if(this._destroyed)return _.reject(new Error("database is destroyed"));var r=this;!function(e,t,n){if(w.enabled){for(var r=[e._db_name,t],i=0;i<n.length-1;i++)r.push(n[i]);w.apply(null,r);var o=n[n.length-1];n[n.length-1]=function(n,r){var i=[e._db_name,t];i=i.concat(n?["error",n]:["success",r]);w.apply(null,i);o(n,r)}}}(r,e,n);return this.taskqueue.isReady?t.apply(this,n):new _((function(t,i){r.taskqueue.addTask((function(o){o?i(o):t(r[e].apply(r,n))}))}))})))};t.bulkGetShim=function(e,t,n){var r=t.docs,i={};r.forEach((function(e){e.id in i?i[e.id].push(e):i[e.id]=[e]}));var o=Object.keys(i).length,s=0,l=new Array(o),f=Object.keys(i),d=0;!function r(){if(d<f.length){var h=Math.min(d+6,f.length),p=f.slice(d,h);!function(f,d){f.forEach((function(f,h){var p=d+h,m=i[f],g=a(m[0],["atts_since","attachments"]);g.open_revs=m.map((function(e){return e.rev}));g.open_revs=g.open_revs.filter(c);var y=c;if(0===g.open_revs.length){delete g.open_revs;y=u}["revs","attachments","binary","ajax"].forEach((function(e){e in t&&(g[e]=t[e])}));e.get(f,g,(function(e,t){var i;i=e?[{error:e}]:y(t);!function(e,t,r){l[e]={id:t,docs:r};!function(){++s===o&&function(){var e=[];l.forEach((function(t){t.docs.forEach((function(n){e.push({id:t.id,docs:[n]})}))}));n(null,{results:e})}()}()}(p,f,i);r()}))}))}(p,d);d+=p.length}}()};t.changesHandler=d;t.clone=i;t.defaultBackOff=function(e){var t=0;e||(t=2e3);return function(e,t){var n=6e5;e=parseInt(e,10)||0;(t=parseInt(t,10))===t&&t>e?t+=1:t=(e||1)<<1;if(t>n){e=3e5;t=n}return~~((t-e)*Math.random()+e)}(e,t)};t.explainError=function(e,t){h("info","The above "+e+" is totally normal. "+t)};t.extend=function(e,t,n){p(e,t);n&&p(e,n);return e};t.filterChange=function(e){var t={},n=e.filter&&"function"===typeof e.filter;t.query=e.query_params;return function(r){r.doc||(r.doc={});var i=n&&function(e,t,n){try{return!e(t,n)}catch(e){var r="Filter function threw: "+e.toString();return T.createError(T.BAD_REQUEST,r)}}(e.filter,r.doc,t);if("object"===typeof i)return i;if(i)return!1;if(e.include_docs){if(!e.attachments)for(var o in r.doc._attachments)r.doc._attachments.hasOwnProperty(o)&&(r.doc._attachments[o].stub=!0)}else delete r.doc;return!0}};t.flatten=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t};t.functionName=N;t.guardedConsole=h;t.hasLocalStorage=f;t.invalidIdError=function(e){var t;e?"string"!==typeof e?t=T.createError(T.INVALID_ID):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=T.createError(T.RESERVED_ID)):t=T.createError(T.MISSING_ID);if(t)throw t};t.isChromeApp=l;t.isCordova=function(){return"undefined"!==typeof cordova||"undefined"!==typeof PhoneGap||"undefined"!==typeof phonegap};t.listenerCount=function(e,t){return"listenerCount"in e?e.listenerCount(t):S.EventEmitter.listenerCount(e,t)};t.normalizeDdocFunctionName=function(e){var t=m(e);return t?t.join("/"):null};t.once=o;t.parseDdocFunctionName=m;t.parseUri=function(e){for(var t=L.exec(e),n={},r=14;r--;){var i=A[r],o=t[r]||"",s=-1!==["user","password"].indexOf(i);n[i]=s?decodeURIComponent(o):o}n[R]={};n[A[12]].replace(O,(function(e,t,r){t&&(n[R][t]=r)}));return n};t.pick=a;t.toPromise=s;t.upsert=function e(t,n,r){return new _((function(i,o){t.get(n,(function(s,a){if(s){if(404!==s.status)return o(s);a={}}var c=a._rev,u=r(a);if(!u)return i({updated:!1,rev:c});u._id=n;u._rev=c;i(function(t,n,r){return t.put(n).then((function(e){return{updated:!0,rev:e.rev}}),(function(i){if(409!==i.status)throw i;return e(t,n._id,r)}))}
/*!
Math.uuid.js (v1.4)
http://www.broofa.com
mailto:robert@broofa.com

Copyright (c) 2010 Robert Kieffer
Dual licensed under the MIT and GPL licenses.
*/(t,u,r))}))}))};t.uuid=function(e,t){t=t||D.length;var n="",r=-1;if(e){for(;++r<e;)n+=D[g(t)];return n}for(;++r<36;)switch(r){case 8:case 13:case 18:case 23:n+="-";break;case 19:n+=D[3&g(16)|8];break;default:n+=D[g(16)]}return n}},1621:(e,t,n)=>{function r(){var e;try{e=t.storage.debug}catch(e){}return e}(t=e.exports=n(7658)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)};t.formatArgs=function(){var e=arguments,n=this.useColors;e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff);if(!n)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;e[0].replace(/%[a-z%]/g,(function(e){if("%%"!==e){i++;"%c"===e&&(o=i)}}));e.splice(o,0,r);return e};t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}};t.load=r;t.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31};t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}();t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];t.formatters.j=function(e){return JSON.stringify(e)};t.enable(r())},7658:(e,t,n)=>{(t=e.exports=function(e){function n(){}function o(){var e=o,n=+new Date,s=n-(r||n);e.diff=s;e.prev=r;e.curr=n;r=n;null==e.useColors&&(e.useColors=t.useColors());null==e.color&&e.useColors&&(e.color=function(){return t.colors[i++%t.colors.length]}());var a=Array.prototype.slice.call(arguments);a[0]=t.coerce(a[0]);"string"!==typeof a[0]&&(a=["%o"].concat(a));var c=0;a[0]=a[0].replace(/%([a-z%])/g,(function(n,r){if("%%"===n)return n;c++;var i=t.formatters[r];if("function"===typeof i){var o=a[c];n=i.call(e,o);a.splice(c,1);c--}return n}));"function"===typeof t.formatArgs&&(a=t.formatArgs.apply(e,a));(o.log||t.log||function(){}.bind()).apply(e,a)}n.enabled=!1;o.enabled=!0;var s=t.enabled(e)?o:n;s.namespace=e;return s}).coerce=function(e){return e instanceof Error?e.stack||e.message:e};t.disable=function(){t.enable("")};t.enable=function(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))};t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1};t.humanize=n(9702);t.names=[];t.skips=[];t.formatters={};var r,i=0},8859:e=>{"function"===typeof Object.create?e.exports=function(e,t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype;e.prototype=new n;e.prototype.constructor=e}},9702:e=>{function t(e,t,n){if(e>=t)return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var n=1e3,r=60*n,i=60*r,o=24*i;e.exports=function(e,s){s=s||{};return"string"==typeof e?function(e){if((e=""+e).length<=1e4){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s}}}}(e):s.long?function(e){return t(e,o,"day")||t(e,i,"hour")||t(e,r,"minute")||t(e,n,"second")||e+" ms"}(e):function(e){return e<o?e<i?e<r?e<n?e+"ms":Math.round(e/n)+"s":Math.round(e/r)+"m":Math.round(e/i)+"h":Math.round(e/o)+"d"}(e)}},6946:(e,t,n)=>{"use strict";e.exports=n(4394)},4394:(e,t,n)=>{"use strict";function r(){i.util._configure();i.Writer._configure(i.BufferWriter);i.Reader._configure(i.BufferReader)}var i=t;i.build="minimal";i.Writer=n(3449);i.BufferWriter=n(818);i.Reader=n(6237);i.BufferReader=n(3158);i.util=n(3610);i.rpc=n(5047);i.roots=n(4529);i.configure=r;r()},6237:(e,t,n)=>{"use strict";function r(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function i(e){this.buf=e;this.pos=0;this.len=e.length}function o(){var e=new l(0,0),t=0;if(this.len-this.pos<=4){for(;t<3;++t){if(this.pos>=this.len)throw r(this);e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0;if(this.buf[this.pos++]<128)return e}e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0;return e}for(;t<4;++t){e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0;if(this.buf[this.pos++]<128)return e}e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0;e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0;if(this.buf[this.pos++]<128)return e;t=0;if(this.len-this.pos>4)for(;t<5;++t){e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0;if(this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw r(this);e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0;if(this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function s(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function a(){if(this.pos+8>this.len)throw r(this,8);return new l(s(this.buf,this.pos+=4),s(this.buf,this.pos+=4))}e.exports=i;var c,u=n(3610),l=u.LongBits,f=u.utf8,d="undefined"!==typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new i(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new i(e);throw Error("illegal buffer")},h=function(){return u.Buffer?function(e){return(i.create=function(e){return u.Buffer.isBuffer(e)?new c(e):d(e)})(e)}:d};i.create=h();i.prototype._slice=u.Array.prototype.subarray||u.Array.prototype.slice;i.prototype.uint32=function(){var e=4294967295;return function(){e=(127&this.buf[this.pos])>>>0;if(this.buf[this.pos++]<128)return e;e=(e|(127&this.buf[this.pos])<<7)>>>0;if(this.buf[this.pos++]<128)return e;e=(e|(127&this.buf[this.pos])<<14)>>>0;if(this.buf[this.pos++]<128)return e;e=(e|(127&this.buf[this.pos])<<21)>>>0;if(this.buf[this.pos++]<128)return e;e=(e|(15&this.buf[this.pos])<<28)>>>0;if(this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len){this.pos=this.len;throw r(this,10)}return e}}();i.prototype.int32=function(){return 0|this.uint32()};i.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)};i.prototype.bool=function(){return 0!==this.uint32()};i.prototype.fixed32=function(){if(this.pos+4>this.len)throw r(this,4);return s(this.buf,this.pos+=4)};i.prototype.sfixed32=function(){if(this.pos+4>this.len)throw r(this,4);return 0|s(this.buf,this.pos+=4)};i.prototype.float=function(){if(this.pos+4>this.len)throw r(this,4);var e=u.float.readFloatLE(this.buf,this.pos);this.pos+=4;return e};i.prototype.double=function(){if(this.pos+8>this.len)throw r(this,4);var e=u.float.readDoubleLE(this.buf,this.pos);this.pos+=8;return e};i.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw r(this,e);this.pos+=e;if(Array.isArray(this.buf))return this.buf.slice(t,n);if(t===n){var i=u.Buffer;return i?i.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,n)};i.prototype.string=function(){var e=this.bytes();return f.read(e,0,e.length)};i.prototype.skip=function(e){if("number"===typeof e){if(this.pos+e>this.len)throw r(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw r(this)}while(128&this.buf[this.pos++]);return this};i.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!==(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this};i._configure=function(e){c=e;i.create=h();c._configure();var t=u.Long?"toLong":"toNumber";u.merge(i.prototype,{int64:function(){return o.call(this)[t](!1)},uint64:function(){return o.call(this)[t](!0)},sint64:function(){return o.call(this).zzDecode()[t](!1)},fixed64:function(){return a.call(this)[t](!0)},sfixed64:function(){return a.call(this)[t](!1)}})}},3158:(e,t,n)=>{"use strict";function r(e){i.call(this,e)}e.exports=r;var i=n(6237);(r.prototype=Object.create(i.prototype)).constructor=r;var o=n(3610);r._configure=function(){o.Buffer&&(r.prototype._slice=o.Buffer.prototype.slice)};r.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};r._configure()},4529:e=>{"use strict";e.exports={}},5047:(e,t,n)=>{"use strict";t.Service=n(7595)},7595:(e,t,n)=>{"use strict";function r(e,t,n){if("function"!==typeof e)throw TypeError("rpcImpl must be a function");i.EventEmitter.call(this);this.rpcImpl=e;this.requestDelimited=Boolean(t);this.responseDelimited=Boolean(n)}e.exports=r;var i=n(3610);(r.prototype=Object.create(i.EventEmitter.prototype)).constructor=r;r.prototype.rpcCall=function e(t,n,r,o,s){if(!o)throw TypeError("request must be specified");var a=this;if(!s)return i.asPromise(e,a,t,n,r,o);if(a.rpcImpl)try{return a.rpcImpl(t,n[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,n){if(e){a.emit("error",e,t);return s(e)}if(null!==n){if(!(n instanceof r))try{n=r[a.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){a.emit("error",e,t);return s(e)}a.emit("data",n,t);return s(null,n)}a.end(!0)}))}catch(e){a.emit("error",e,t);setTimeout((function(){s(e)}),0);return}else setTimeout((function(){s(Error("already ended"))}),0)};r.prototype.end=function(e){if(this.rpcImpl){e||this.rpcImpl(null,null,null);this.rpcImpl=null;this.emit("end").off()}return this}},2239:(e,t,n)=>{"use strict";function r(e,t){this.lo=e>>>0;this.hi=t>>>0}e.exports=r;var i=n(3610),o=r.zero=new r(0,0);o.toNumber=function(){return 0};o.zzEncode=o.zzDecode=function(){return this};o.length=function(){return 1};var s=r.zeroHash="\0\0\0\0\0\0\0\0";r.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;if(t){i=~i>>>0;n=~n>>>0;if(++n>4294967295){n=0;++i>4294967295&&(i=0)}}return new r(n,i)};r.from=function(e){if("number"===typeof e)return r.fromNumber(e);if(i.isString(e)){if(!i.Long)return r.fromNumber(parseInt(e,10));e=i.Long.fromString(e)}return e.low||e.high?new r(e.low>>>0,e.high>>>0):o};r.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;t||(n=n+1>>>0);return-(t+4294967296*n)}return this.lo+4294967296*this.hi};r.prototype.toLong=function(e){return i.Long?new i.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;r.fromHash=function(e){return e===s?o:new r((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)};r.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};r.prototype.zzEncode=function(){var e=this.hi>>31;this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0;this.lo=(this.lo<<1^e)>>>0;return this};r.prototype.zzDecode=function(){var e=-(1&this.lo);this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0;this.hi=(this.hi>>>1^e)>>>0;return this};r.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},3610:function(e,t,n){"use strict";function r(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function i(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}});Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""});n&&r(this,n)}t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}});return t}var o=t;o.asPromise=n(8045);o.base64=n(8839);o.EventEmitter=n(4358);o.float=n(9410);o.inquire=n(4153);o.utf8=n(1447);o.pool=n(9390);o.LongBits=n(2239);o.isNode=Boolean("undefined"!==typeof n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node);o.global=o.isNode&&n.g||"undefined"!==typeof window&&window||"undefined"!==typeof self&&self||this;o.emptyArray=Object.freeze?Object.freeze([]):[];o.emptyObject=Object.freeze?Object.freeze({}):{};o.isInteger=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e};o.isString=function(e){return"string"===typeof e||e instanceof String};o.isObject=function(e){return e&&"object"===typeof e};o.isset=o.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!==typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)};o.Buffer=function(){try{var e=o.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}();o._Buffer_from=null;o._Buffer_allocUnsafe=null;o.newBuffer=function(e){return"number"===typeof e?o.Buffer?o._Buffer_allocUnsafe(e):new o.Array(e):o.Buffer?o._Buffer_from(e):"undefined"===typeof Uint8Array?e:new Uint8Array(e)};o.Array="undefined"!==typeof Uint8Array?Uint8Array:Array;o.Long=o.global.dcodeIO&&o.global.dcodeIO.Long||o.global.Long||o.inquire("long");o.key2Re=/^true|false|0|1$/;o.key32Re=/^-?(?:0|[1-9][0-9]*)$/;o.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;o.longToHash=function(e){return e?o.LongBits.from(e).toHash():o.LongBits.zeroHash};o.longFromHash=function(e,t){var n=o.LongBits.fromHash(e);return o.Long?o.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))};o.merge=r;o.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};o.newError=i;o.ProtocolError=i("ProtocolError");o.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}};o.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}};o.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};o._configure=function(){var e=o.Buffer;if(e){o._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)};o._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}}else o._Buffer_from=o._Buffer_allocUnsafe=null}},3449:(e,t,n)=>{"use strict";function r(e,t,n){this.fn=e;this.len=t;this.next=void 0;this.val=n}function i(){}function o(e){this.head=e.head;this.tail=e.tail;this.len=e.len;this.next=e.states}function s(){this.len=0;this.head=new r(i,0,0);this.tail=this.head;this.states=null}function a(e,t,n){t[n]=255&e}function c(e,t){this.len=e;this.next=void 0;this.val=t}function u(e,t,n){for(;e.hi;){t[n++]=127&e.lo|128;e.lo=(e.lo>>>7|e.hi<<25)>>>0;e.hi>>>=7}for(;e.lo>127;){t[n++]=127&e.lo|128;e.lo=e.lo>>>7}t[n++]=e.lo}function l(e,t,n){t[n]=255&e;t[n+1]=e>>>8&255;t[n+2]=e>>>16&255;t[n+3]=e>>>24}e.exports=s;var f,d=n(3610),h=d.LongBits,p=d.base64,m=d.utf8,g=function(){return d.Buffer?function(){return(s.create=function(){return new f})()}:function(){return new s}};s.create=g();s.alloc=function(e){return new d.Array(e)};d.Array!==Array&&(s.alloc=d.pool(s.alloc,d.Array.prototype.subarray));s.prototype._push=function(e,t,n){this.tail=this.tail.next=new r(e,t,n);this.len+=t;return this};c.prototype=Object.create(r.prototype);c.prototype.fn=function(e,t,n){for(;e>127;){t[n++]=127&e|128;e>>>=7}t[n]=e};s.prototype.uint32=function(e){this.len+=(this.tail=this.tail.next=new c((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len;return this};s.prototype.int32=function(e){return e<0?this._push(u,10,h.fromNumber(e)):this.uint32(e)};s.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};s.prototype.uint64=function(e){var t=h.from(e);return this._push(u,t.length(),t)};s.prototype.int64=s.prototype.uint64;s.prototype.sint64=function(e){var t=h.from(e).zzEncode();return this._push(u,t.length(),t)};s.prototype.bool=function(e){return this._push(a,1,e?1:0)};s.prototype.fixed32=function(e){return this._push(l,4,e>>>0)};s.prototype.sfixed32=s.prototype.fixed32;s.prototype.fixed64=function(e){var t=h.from(e);return this._push(l,4,t.lo)._push(l,4,t.hi)};s.prototype.sfixed64=s.prototype.fixed64;s.prototype.float=function(e){return this._push(d.float.writeFloatLE,4,e)};s.prototype.double=function(e){return this._push(d.float.writeDoubleLE,8,e)};var y=d.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};s.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(a,1,0);if(d.isString(e)){var n=s.alloc(t=p.length(e));p.decode(e,n,0);e=n}return this.uint32(t)._push(y,t,e)};s.prototype.string=function(e){var t=m.length(e);return t?this.uint32(t)._push(m.write,t,e):this._push(a,1,0)};s.prototype.fork=function(){this.states=new o(this);this.head=this.tail=new r(i,0,0);this.len=0;return this};s.prototype.reset=function(){if(this.states){this.head=this.states.head;this.tail=this.states.tail;this.len=this.states.len;this.states=this.states.next}else{this.head=this.tail=new r(i,0,0);this.len=0}return this};s.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;this.reset().uint32(n);if(n){this.tail.next=e.next;this.tail=t;this.len+=n}return this};s.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;){e.fn(e.val,t,n);n+=e.len;e=e.next}return t};s._configure=function(e){f=e;s.create=g();f._configure()}},818:(e,t,n)=>{"use strict";function r(){o.call(this)}function i(e,t,n){e.length<40?s.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}e.exports=r;var o=n(3449);(r.prototype=Object.create(o.prototype)).constructor=r;var s=n(3610);r._configure=function(){r.alloc=s._Buffer_allocUnsafe;r.writeBytesBuffer=s.Buffer&&s.Buffer.prototype instanceof Uint8Array&&"set"===s.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}};r.prototype.bytes=function(e){s.isString(e)&&(e=s._Buffer_from(e,"base64"));var t=e.length>>>0;this.uint32(t);t&&this._push(r.writeBytesBuffer,t,e);return this};r.prototype.string=function(e){var t=s.Buffer.byteLength(e);this.uint32(t);t&&this._push(i,t,e);return this};r._configure()},1630:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,i){n=n||"&";r=r||"=";var o={};if("string"!==typeof e||0===e.length)return o;var s=/\+/g;e=e.split(n);var a=1e3;i&&"number"===typeof i.maxKeys&&(a=i.maxKeys);var c=e.length;a>0&&c>a&&(c=a);for(var u=0;u<c;++u){var l,f,d,h,p=e[u].replace(s,"%20"),m=p.indexOf(r);if(m<0){l=p;f=""}else{l=p.substr(0,m);f=p.substr(m+1)}d=decodeURIComponent(l);h=decodeURIComponent(f);t(o,d)?Array.isArray(o[d])?o[d].push(h):o[d]=[o[d],h]:o[d]=h}return o}},9106:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,i){n=n||"&";r=r||"=";null===e&&(e=void 0);return"object"===typeof e?Object.keys(e).map((function(i){var o=encodeURIComponent(t(i))+r;return Array.isArray(e[i])?e[i].map((function(e){return o+encodeURIComponent(t(e))})).join(n):o+encodeURIComponent(t(e[i]))})).join(n):i?encodeURIComponent(t(i))+r+encodeURIComponent(t(e)):""}},7186:(e,t,n)=>{"use strict";t.decode=t.parse=n(1630);t.encode=t.stringify=n(9106)},3774:function(e){!function(){e.exports=function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};e[r].call(i.exports,i,i.exports,t);i.l=!0;return i.exports}var n={};t.m=e;t.c=n;t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})};t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};t.d(n,"a",n);return n};t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};t.p="";return t(t.s=3)}([function(e,t,n){var r=n(5),i=n(1),o=i.toHex,s=i.ceilHeapSize,a=n(6),c=function(e){for(e+=9;e%64>0;e+=1);return e},u=function(e,t){var n=new Int32Array(e,t+320,5),r=new Int32Array(5),i=new DataView(r.buffer);i.setInt32(0,n[0],!1);i.setInt32(4,n[1],!1);i.setInt32(8,n[2],!1);i.setInt32(12,n[3],!1);i.setInt32(16,n[4],!1);return r},l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);if((t=t||65536)%64>0)throw new Error("Chunk size must be a multiple of 128 bit");this._offset=0;this._maxChunkLen=t;this._padMaxChunkLen=c(t);this._heap=new ArrayBuffer(s(this._padMaxChunkLen+320+20));this._h32=new Int32Array(this._heap);this._h8=new Int8Array(this._heap);this._core=new r({Int32Array},{},this._heap)}e.prototype._initState=function(e,t){this._offset=0;var n=new Int32Array(e,t+320,5);n[0]=1732584193;n[1]=-271733879;n[2]=-1732584194;n[3]=271733878;n[4]=-1009589776};e.prototype._padChunk=function(e,t){var n=c(e),r=new Int32Array(this._heap,0,n>>2);!function(e,t){var n=new Uint8Array(e.buffer),r=t%4,i=t-r;switch(r){case 0:n[i+3]=0;case 1:n[i+2]=0;case 2:n[i+1]=0;case 3:n[i+0]=0}for(var o=1+(t>>2);o<e.length;o++)e[o]=0}(r,e);!function(e,t,n){e[t>>2]|=128<<24-(t%4<<3);e[14+(2+(t>>2)&-16)]=n/(1<<29)|0;e[15+(2+(t>>2)&-16)]=n<<3}(r,e,t);return n};e.prototype._write=function(e,t,n,r){a(e,this._h8,this._h32,t,n,r||0)};e.prototype._coreCall=function(e,t,n,r,i){var o=n;this._write(e,t,n);i&&(o=this._padChunk(n,r));this._core.hash(o,this._padMaxChunkLen)};e.prototype.rawDigest=function(e){var t=e.byteLength||e.length||e.size||0;this._initState(this._heap,this._padMaxChunkLen);var n=0,r=this._maxChunkLen;for(n=0;t>n+r;n+=r)this._coreCall(e,n,r,t,!1);this._coreCall(e,n,t-n,t,!0);return u(this._heap,this._padMaxChunkLen)};e.prototype.digest=function(e){return o(this.rawDigest(e).buffer)};e.prototype.digestFromString=function(e){return this.digest(e)};e.prototype.digestFromBuffer=function(e){return this.digest(e)};e.prototype.digestFromArrayBuffer=function(e){return this.digest(e)};e.prototype.resetState=function(){this._initState(this._heap,this._padMaxChunkLen);return this};e.prototype.append=function(e){var t=0,n=e.byteLength||e.length||e.size||0,r=this._offset%this._maxChunkLen,i=void 0;this._offset+=n;for(;t<n;){i=Math.min(n-t,this._maxChunkLen-r);this._write(e,t,i,r);t+=i;if((r+=i)===this._maxChunkLen){this._core.hash(this._maxChunkLen,this._padMaxChunkLen);r=0}}return this};e.prototype.getState=function(){var e=void 0;if(this._offset%this._maxChunkLen)e=this._heap.slice(0);else{var t=new Int32Array(this._heap,this._padMaxChunkLen+320,5);e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}return{offset:this._offset,heap:e}};e.prototype.setState=function(e){this._offset=e.offset;20===e.heap.byteLength?new Int32Array(this._heap,this._padMaxChunkLen+320,5).set(new Int32Array(e.heap)):this._h32.set(new Int32Array(e.heap));return this};e.prototype.rawEnd=function(){var e=this._offset,t=e%this._maxChunkLen,n=this._padChunk(t,e);this._core.hash(n,this._padMaxChunkLen);var r=u(this._heap,this._padMaxChunkLen);this._initState(this._heap,this._padMaxChunkLen);return r};e.prototype.end=function(){return o(this.rawEnd().buffer)};return e}();e.exports=l;e.exports._core=r},function(e){for(var t=new Array(256),n=0;n<256;n++)t[n]=(n<16?"0":"")+n.toString(16);e.exports.toHex=function(e){for(var n=new Uint8Array(e),r=new Array(e.byteLength),i=0;i<r.length;i++)r[i]=t[n[i]];return r.join("")};e.exports.ceilHeapSize=function(e){var t=0;if(e<=65536)return 65536;if(e<16777216)for(t=1;t<e;t<<=1);else for(t=16777216;t<e;t+=16777216);return t};e.exports.isDedicatedWorkerScope=function(e){var t="WorkerGlobalScope"in e&&e instanceof e.WorkerGlobalScope,n="SharedWorkerGlobalScope"in e&&e instanceof e.SharedWorkerGlobalScope,r="ServiceWorkerGlobalScope"in e&&e instanceof e.ServiceWorkerGlobalScope;return t&&!n&&!r}},function(e,t,n){e.exports=function(){var e=n(0),t=function(e,n,r,i,o){var s=new self.FileReader;s.onloadend=function(){if(s.error)return o(s.error);var a=s.result;n+=s.result.byteLength;try{e.append(a)}catch(e){o(e);return}n<i.size?t(e,n,r,i,o):o(null,e.end())};s.readAsArrayBuffer(i.slice(n,n+r))},r=!0;self.onmessage=function(n){if(r){var i=n.data.data,o=n.data.file,s=n.data.id;if("undefined"!==typeof s&&(o||i)){var a=n.data.blockSize||4194304,c=new e(a);c.resetState();var u=function(e,t){e?self.postMessage({id:s,error:e.name}):self.postMessage({id:s,hash:t})};i&&function(e,t,n){try{return n(null,e.digest(t))}catch(e){return n(e)}}(c,i,u);o&&t(c,0,a,o,u)}}};return function(){r=!1}}},function(e,t,n){var r=n(4),i=n(0),o=n(7),s=n(2),a=n(1).isDedicatedWorkerScope,c="undefined"!==typeof self&&a(self);i.disableWorkerBehaviour=c?s():function(){};i.createWorker=function(){var e=r(2),t=e.terminate;e.terminate=function(){URL.revokeObjectURL(e.objectURL);t.call(e)};return e};i.createHash=o;e.exports=i},function(e,t,n){function r(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};e[r].call(i.exports,i,i.exports,t);i.l=!0;return i.exports}var n={};t.m=e;t.c=n;t.i=function(e){return e};t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})};t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})};t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};t.d(n,"a",n);return n};t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};t.p="/";t.oe=function(e){throw e};var r=t(t.s=ENTRY_MODULE);return r.default||r}function i(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function o(e,t,r){var o={};o[r]=[];var s=t.toString(),u=s.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!u)return o;for(var l,f=u[1],d=new RegExp("(\\\\n|\\W)"+i(f)+c,"g");l=d.exec(s);)"dll-reference"!==l[3]&&o[r].push(l[3]);d=new RegExp("\\("+i(f)+'\\("(dll-reference\\s('+a+'))"\\)\\)'+c,"g");for(;l=d.exec(s);){if(!e[l[2]]){o[r].push(l[1]);e[l[2]]=n(l[1]).m}o[l[2]]=o[l[2]]||[];o[l[2]].push(l[4])}return o}function s(e){return Object.keys(e).reduce((function(t,n){return t||e[n].length>0}),!1)}var a="[\\.|\\-|\\+|\\w|/|@]+",c="\\((/\\*.*?\\*/)?s?.*?("+a+").*?\\)";e.exports=function(e,t){t=t||{};var i={main:n.m},a=t.all?{main:Object.keys(i)}:function(e,t){for(var n={main:[t]},r={main:[]},i={main:{}};s(n);)for(var a=Object.keys(n),c=0;c<a.length;c++){var u=a[c],l=n[u].pop();i[u]=i[u]||{};if(!i[u][l]&&e[u][l]){i[u][l]=!0;r[u]=r[u]||[];r[u].push(l);for(var f=o(e,e[u][l],u),d=Object.keys(f),h=0;h<d.length;h++){n[d[h]]=n[d[h]]||[];n[d[h]]=n[d[h]].concat(f[d[h]])}}}return r}(i,e),c="";Object.keys(a).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;a[e][t];)t++;a[e].push(t);i[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })";c=c+"var "+e+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+a[e].map((function(t){return JSON.stringify(t)+": "+i[e][t].toString()})).join(",")+"});\n"}));c=c+"("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+a.main.map((function(e){return JSON.stringify(e)+": "+i.main[e].toString()})).join(",")+"})(self);";var u=new window.Blob([c],{type:"text/javascript"});if(t.bare)return u;var l=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(u),f=new window.Worker(l);f.objectURL=l;return f}},function(e){e.exports=function(e,t,n){"use asm";var r=new e.Int32Array(n);function i(e,t){e=e|0;t=t|0;var n=0,i=0,o=0,s=0,a=0,c=0,u=0,l=0,f=0,d=0,h=0,p=0,m=0,g=0;o=r[t+320>>2]|0;a=r[t+324>>2]|0;u=r[t+328>>2]|0;f=r[t+332>>2]|0;h=r[t+336>>2]|0;for(n=0;(n|0)<(e|0);n=n+64|0){s=o;c=a;l=u;d=f;p=h;for(i=0;(i|0)<64;i=i+4|0){g=r[n+i>>2]|0;m=((o<<5|o>>>27)+(a&u|~a&f)|0)+((g+h|0)+1518500249|0)|0;h=f;f=u;u=a<<30|a>>>2;a=o;o=m;r[e+i>>2]=g}for(i=e+64|0;(i|0)<(e+80|0);i=i+4|0){g=(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])<<1|(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])>>>31;m=((o<<5|o>>>27)+(a&u|~a&f)|0)+((g+h|0)+1518500249|0)|0;h=f;f=u;u=a<<30|a>>>2;a=o;o=m;r[i>>2]=g}for(i=e+80|0;(i|0)<(e+160|0);i=i+4|0){g=(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])<<1|(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])>>>31;m=((o<<5|o>>>27)+(a^u^f)|0)+((g+h|0)+1859775393|0)|0;h=f;f=u;u=a<<30|a>>>2;a=o;o=m;r[i>>2]=g}for(i=e+160|0;(i|0)<(e+240|0);i=i+4|0){g=(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])<<1|(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])>>>31;m=((o<<5|o>>>27)+(a&u|a&f|u&f)|0)+((g+h|0)-1894007588|0)|0;h=f;f=u;u=a<<30|a>>>2;a=o;o=m;r[i>>2]=g}for(i=e+240|0;(i|0)<(e+320|0);i=i+4|0){g=(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])<<1|(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])>>>31;m=((o<<5|o>>>27)+(a^u^f)|0)+((g+h|0)-899497514|0)|0;h=f;f=u;u=a<<30|a>>>2;a=o;o=m;r[i>>2]=g}o=o+s|0;a=a+c|0;u=u+l|0;f=f+d|0;h=h+p|0}r[t+320>>2]=o;r[t+324>>2]=a;r[t+328>>2]=u;r[t+332>>2]=f;r[t+336>>2]=h}return{hash:i}}},function(e){var t=this,n=void 0;"undefined"!==typeof self&&"undefined"!==typeof self.FileReaderSync&&(n=new self.FileReaderSync);var r=function(e,t,n,r,i,o){var s=void 0,a=o%4,c=(i+a)%4,u=i-c;switch(a){case 0:t[o]=e[r+3];case 1:t[o+1-(a<<1)|0]=e[r+2];case 2:t[o+2-(a<<1)|0]=e[r+1];case 3:t[o+3-(a<<1)|0]=e[r]}if(i>=c+(4-a)){for(s=4-a;s<u;s=s+4|0)n[o+s>>2]=e[r+s]<<24|e[r+s+1]<<16|e[r+s+2]<<8|e[r+s+3];switch(c){case 3:t[o+u+1|0]=e[r+u+2];case 2:t[o+u+2|0]=e[r+u+1];case 1:t[o+u+3|0]=e[r+u]}}};e.exports=function(e,i,o,s,a,c){if("string"===typeof e)return function(e,t,n,r,i,o){var s=void 0,a=o%4,c=(i+a)%4,u=i-c;switch(a){case 0:t[o]=e.charCodeAt(r+3);case 1:t[o+1-(a<<1)|0]=e.charCodeAt(r+2);case 2:t[o+2-(a<<1)|0]=e.charCodeAt(r+1);case 3:t[o+3-(a<<1)|0]=e.charCodeAt(r)}if(i>=c+(4-a)){for(s=4-a;s<u;s=s+4|0)n[o+s>>2]=e.charCodeAt(r+s)<<24|e.charCodeAt(r+s+1)<<16|e.charCodeAt(r+s+2)<<8|e.charCodeAt(r+s+3);switch(c){case 3:t[o+u+1|0]=e.charCodeAt(r+u+2);case 2:t[o+u+2|0]=e.charCodeAt(r+u+1);case 1:t[o+u+3|0]=e.charCodeAt(r+u)}}}(e,i,o,s,a,c);if(e instanceof Array)return r(e,i,o,s,a,c);if(t&&t.Buffer&&t.Buffer.isBuffer(e))return r(e,i,o,s,a,c);if(e instanceof ArrayBuffer)return r(new Uint8Array(e),i,o,s,a,c);if(e.buffer instanceof ArrayBuffer)return r(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),i,o,s,a,c);if(e instanceof Blob)return function(e,t,r,i,o,s){var a=void 0,c=s%4,u=(o+c)%4,l=o-u,f=new Uint8Array(n.readAsArrayBuffer(e.slice(i,i+o)));switch(c){case 0:t[s]=f[3];case 1:t[s+1-(c<<1)|0]=f[2];case 2:t[s+2-(c<<1)|0]=f[1];case 3:t[s+3-(c<<1)|0]=f[0]}if(o>=u+(4-c)){for(a=4-c;a<l;a=a+4|0)r[s+a>>2]=f[a]<<24|f[a+1]<<16|f[a+2]<<8|f[a+3];switch(u){case 3:t[s+l+1|0]=f[l+2];case 2:t[s+l+2|0]=f[l+1];case 1:t[s+l+3|0]=f[l]}}}(e,i,o,s,a,c);throw new Error("Unsupported data type.")}},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}return function(t,n,r){n&&e(t.prototype,n);r&&e(t,r);return t}}(),i=n(0),o=n(1).toHex,s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this._rusha=new i;this._rusha.resetState()}e.prototype.update=function(e){this._rusha.append(e);return this};e.prototype.digest=function(e){var t=this._rusha.rawEnd().buffer;if(!e)return t;if("hex"===e)return o(t);throw new Error("unsupported digest encoding")};r(e,[{key:"state",get:function(){return this._rusha.getState()},set:function(e){this._rusha.setState(e)}}]);return e}();e.exports=function(){return new s}}])}()}("undefined"!==typeof self&&self)},2561:function(e){(function(){var t={}.hasOwnProperty,n=[].slice;e.exports=function(e,r){var i,o,s,a;o=[];a=[];for(i in r)if(t.call(r,i)){s=r[i];if("this"!==i){o.push(i);a.push(s)}}return Function.apply(null,n.call(o).concat([e])).apply(r["this"],a)}}).call(this)},5735:e=>{!function(){e.exports=function(){"use strict";function e(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&i)+t[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&r)+t[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&n)+t[3]-1044525330|0)<<22|r>>>10)+i|0;r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&i)+t[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&r)+t[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&n)+t[7]-45705983|0)<<22|r>>>10)+i|0;r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&i)+t[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&r)+t[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&n)+t[11]-1990404162|0)<<22|r>>>10)+i|0;r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&i)+t[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&r)+t[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&n)+t[15]+1236535329|0)<<22|r>>>10)+i|0;r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[1]-165796510|0)<<5|n>>>27)+r|0)&i|r&~i)+t[6]-1069501632|0)<<9|o>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|i>>>18)+o|0)&n|o&~n)+t[0]-373897302|0)<<20|r>>>12)+i|0;r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[5]-701558691|0)<<5|n>>>27)+r|0)&i|r&~i)+t[10]+38016083|0)<<9|o>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|i>>>18)+o|0)&n|o&~n)+t[4]-405537848|0)<<20|r>>>12)+i|0;r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[9]+568446438|0)<<5|n>>>27)+r|0)&i|r&~i)+t[14]-1019803690|0)<<9|o>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|i>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0)<<20|r>>>12)+i|0;r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&i|r&~i)+t[2]-51403784|0)<<9|o>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|i>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0)<<20|r>>>12)+i|0;r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^i)+t[8]-2022574463|0)<<11|o>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|i>>>16)+o|0)^o^n)+t[14]-35309556|0)<<23|r>>>9)+i|0;r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^i)+t[4]+1272893353|0)<<11|o>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|i>>>16)+o|0)^o^n)+t[10]-1094730640|0)<<23|r>>>9)+i|0;r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^i)+t[0]-358537222|0)<<11|o>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|i>>>16)+o|0)^o^n)+t[6]+76029189|0)<<23|r>>>9)+i|0;r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^i)+t[12]-421815835|0)<<11|o>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|i>>>16)+o|0)^o^n)+t[2]-995338651|0)<<23|r>>>9)+i|0;r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~i))+t[7]+1126891415|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[14]-1416354905|0)<<15|i>>>17)+o|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+i|0;r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~i))+t[3]-1894986606|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[10]-1051523|0)<<15|i>>>17)+o|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+i|0;r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~i))+t[15]-30611744|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[6]-1560198380|0)<<15|i>>>17)+o|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+i|0;r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~i))+t[11]-1120210379|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[2]+718787259|0)<<15|i>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+i|0;e[0]=n+e[0]|0;e[1]=r+e[1]|0;e[2]=i+e[2]|0;e[3]=o+e[3]|0}function t(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function n(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function r(n){var r,i,o,s,a,c,u=n.length,l=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=u;r+=64)e(l,t(n.substring(r-64,r)));i=(n=n.substring(r-64)).length;o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<i;r+=1)o[r>>2]|=n.charCodeAt(r)<<(r%4<<3);o[r>>2]|=128<<(r%4<<3);if(r>55){e(l,o);for(r=0;r<16;r+=1)o[r]=0}s=(s=8*u).toString(16).match(/(.*?)(.{0,8})$/);a=parseInt(s[2],16);c=parseInt(s[1],16)||0;o[14]=a;o[15]=c;e(l,o);return l}function i(e){var t,n="";for(t=0;t<4;t+=1)n+=u[e>>8*t+4&15]+u[e>>8*t&15];return n}function o(e){var t;for(t=0;t<e.length;t+=1)e[t]=i(e[t]);return e.join("")}function s(e){/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e)));return e}function a(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function c(){this.reset()}var u=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];o(r("hello"));"undefined"===typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(t,n){var r,i,o,s,a=this.byteLength,c=e(t,a),u=a;undefined!==n&&(u=e(n,a));if(c>u)return new ArrayBuffer(0);r=u-c;i=new ArrayBuffer(r);o=new Uint8Array(i);s=new Uint8Array(this,c,r);o.set(s);return i}}();c.prototype.append=function(e){this.appendBinary(s(e));return this};c.prototype.appendBinary=function(n){this._buff+=n;this._length+=n.length;var r,i=this._buff.length;for(r=64;r<=i;r+=64)e(this._hash,t(this._buff.substring(r-64,r)));this._buff=this._buff.substring(r-64);return this};c.prototype.end=function(e){var t,n,r=this._buff,i=r.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)s[t>>2]|=r.charCodeAt(t)<<(t%4<<3);this._finish(s,i);n=o(this._hash);e&&(n=a(n));this.reset();return n};c.prototype.reset=function(){this._buff="";this._length=0;this._hash=[1732584193,-271733879,-1732584194,271733878];return this};c.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}};c.prototype.setState=function(e){this._buff=e.buff;this._length=e.length;this._hash=e.hash;return this};c.prototype.destroy=function(){delete this._hash;delete this._buff;delete this._length};c.prototype._finish=function(t,n){var r,i,o,s=n;t[s>>2]|=128<<(s%4<<3);if(s>55){e(this._hash,t);for(s=0;s<16;s+=1)t[s]=0}r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/);i=parseInt(r[2],16);o=parseInt(r[1],16)||0;t[14]=i;t[15]=o;e(this._hash,t)};c.hash=function(e,t){return c.hashBinary(s(e),t)};c.hashBinary=function(e,t){var n=o(r(e));return t?a(n):n};c.ArrayBuffer=function(){this.reset()};c.ArrayBuffer.prototype.append=function(t){var r,i=function(e,t,n){var r=new Uint8Array(e.byteLength+t.byteLength);r.set(new Uint8Array(e));r.set(new Uint8Array(t),e.byteLength);return n?r:r.buffer}(this._buff.buffer,t,!0),o=i.length;this._length+=t.byteLength;for(r=64;r<=o;r+=64)e(this._hash,n(i.subarray(r-64,r)));this._buff=r-64<o?new Uint8Array(i.buffer.slice(r-64)):new Uint8Array(0);return this};c.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,i=r.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)s[t>>2]|=r[t]<<(t%4<<3);this._finish(s,i);n=o(this._hash);e&&(n=a(n));this.reset();return n};c.ArrayBuffer.prototype.reset=function(){this._buff=new Uint8Array(0);this._length=0;this._hash=[1732584193,-271733879,-1732584194,271733878];return this};c.ArrayBuffer.prototype.getState=function(){var e=c.prototype.getState.call(this);e.buff=function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}(e.buff);return e};c.ArrayBuffer.prototype.setState=function(e){e.buff=function(e,t){var n,r=e.length,i=new ArrayBuffer(r),o=new Uint8Array(i);for(n=0;n<r;n+=1)o[n]=e.charCodeAt(n);return t?o:i}(e.buff,!0);return c.prototype.setState.call(this,e)};c.ArrayBuffer.prototype.destroy=c.prototype.destroy;c.ArrayBuffer.prototype._finish=c.prototype._finish;c.ArrayBuffer.hash=function(t,r){var i=o(function(t){var r,i,o,s,a,c,u=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=u;r+=64)e(l,n(t.subarray(r-64,r)));i=(t=r-64<u?t.subarray(r-64):new Uint8Array(0)).length;o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<i;r+=1)o[r>>2]|=t[r]<<(r%4<<3);o[r>>2]|=128<<(r%4<<3);if(r>55){e(l,o);for(r=0;r<16;r+=1)o[r]=0}s=(s=8*u).toString(16).match(/(.*?)(.{0,8})$/);a=parseInt(s[2],16);c=parseInt(s[1],16)||0;o[14]=a;o[15]=c;e(l,o);return l}(new Uint8Array(t)));return r?a(i):i};return c}()}()},7983:e=>{const t=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};e.exports=function(e,i={}){i=Object.assign({},r,i);if(!e||"string"!==typeof e)return e;let o=e.trim();if(void 0!==i.skipLike&&i.skipLike.test(o))return e;if(i.hex&&t.test(o))return Number.parseInt(o,16);{const t=n.exec(o);if(t){const n=t[1],r=t[2];let s=function(e){if(e&&-1!==e.indexOf(".")){"."===(e=e.replace(/0+$/,""))?e="0":"."===e[0]?e="0"+e:"."===e[e.length-1]&&(e=e.substr(0,e.length-1));return e}return e}(t[3]);const a=t[4]||t[6];if(!i.leadingZeros&&r.length>0&&n&&"."!==o[2])return e;if(i.leadingZeros||r.length<=0||n||"."===o[1]){const t=Number(o),c=""+t;return-1!==c.search(/[eE]/)||a?i.eNotation?t:e:-1!==o.indexOf(".")?"0"===c&&""===s||c===s||n&&c==="-"+s?t:e:r?s===c||n+s===c?t:e:o===c||o===n+c?t:e}return e}return e}}},439:function(e,t){var n,r,i;!function(){r=[],n=function(){function e(e){return encodeURI(e).replace(/%25[0-9][0-9]/g,(function(e){return"%"+e.substring(3)}))}function t(t){var n="";if(l[t.charAt(0)]){n=t.charAt(0);t=t.substring(1)}var r="",i="",o=!0,s=!1,a=!1;if("+"===n)o=!1;else if("."===n){i=".";r="."}else if("/"===n){i="/";r="/"}else if("#"===n){i="#";o=!1}else if(";"===n){i=";";r=";";s=!0;a=!0}else if("?"===n){i="?";r="&";s=!0}else if("&"===n){i="&";r="&";s=!0}for(var c=[],u=t.split(","),d=[],h={},p=0;p<u.length;p++){var m=u[p],g=null;if(-1!==m.indexOf(":")){var y=m.split(":");m=y[0];g=parseInt(y[1],10)}for(var _={};f[m.charAt(m.length-1)];){_[m.charAt(m.length-1)]=!0;m=m.substring(0,m.length-1)}var v={truncate:g,name:m,suffices:_};d.push(v);h[m]=v;c.push(m)}var E=function(t){for(var n="",c=0,u=0;u<d.length;u++){var l=d[u],f=t(l.name);if(null===f||void 0===f||Array.isArray(f)&&0===f.length||"object"===typeof f&&0===Object.keys(f).length)c++;else{n+=u===c?i:r||",";if(Array.isArray(f)){s&&(n+=l.name+"=");for(var h=0;h<f.length;h++){if(h>0){n+=l.suffices["*"]&&r||",";l.suffices["*"]&&s&&(n+=l.name+"=")}n+=o?encodeURIComponent(f[h]).replace(/!/g,"%21"):e(f[h])}}else if("object"===typeof f){s&&!l.suffices["*"]&&(n+=l.name+"=");var p=!0;for(var m in f){p||(n+=l.suffices["*"]&&r||",");p=!1;n+=o?encodeURIComponent(m).replace(/!/g,"%21"):e(m);n+=l.suffices["*"]?"=":",";n+=o?encodeURIComponent(f[m]).replace(/!/g,"%21"):e(f[m])}}else{if(s){n+=l.name;a&&""===f||(n+="=")}null!=l.truncate&&(f=f.substring(0,l.truncate));n+=o?encodeURIComponent(f).replace(/!/g,"%21"):e(f)}}}return n};E.varNames=c;return{prefix:i,substitution:E}}function n(e){if(!(this instanceof n))return new n(e);for(var r=e.split("{"),i=[r.shift()],o=[],s=[],a=[];r.length>0;){var c=r.shift(),u=c.split("}")[0],l=c.substring(u.length+1),f=t(u);s.push(f.substitution);o.push(f.prefix);i.push(l);a=a.concat(f.substitution.varNames)}this.fill=function(e){for(var t=i[0],n=0;n<s.length;n++){t+=(0,s[n])(e);t+=i[n+1]}return t};this.varNames=a;this.template=e}function r(e,t){if(e===t)return!0;if(e&&t&&"object"===typeof e&&"object"===typeof t){if(Array.isArray(e)!==Array.isArray(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1}else{var i;for(i in e)if(void 0===t[i]&&void 0!==e[i])return!1;for(i in t)if(void 0===e[i]&&void 0!==t[i])return!1;for(i in e)if(!r(e[i],t[i]))return!1}return!0}return!1}function i(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}function o(e,t){t=i(t||"");e=i(e||"");return t&&e?(t.protocol||e.protocol)+(t.protocol||t.authority?t.authority:e.authority)+function(e){var t=[];e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,(function(e){"/.."===e?t.pop():t.push(e)}));return t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}(t.protocol||t.authority||"/"===t.pathname.charAt(0)?t.pathname:t.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+t.pathname:e.pathname)+(t.protocol||t.authority||t.pathname?t.search:t.search||e.search)+t.hash:null}function s(e){return e.split("#")[0]}function a(e,t){if(e&&"object"===typeof e){if(void 0===t)t=e.id;else if("string"===typeof e.id){t=o(t,e.id);e.id=t}if(Array.isArray(e))for(var n=0;n<e.length;n++)a(e[n],t);else{"string"===typeof e["$ref"]&&(e["$ref"]=o(t,e["$ref"]));for(var r in e)"enum"!==r&&a(e[r],t)}}}function c(e){var t=v[e=e||"en"];return function(e){var n=t[e.code]||_[e.code];if("string"!==typeof n)return"Unknown error code "+e.code+": "+JSON.stringify(e.messageParams);var r=e.params;return n.replace(/\{([^{}]*)\}/g,(function(e,t){var n=r[t];return"string"===typeof n||"number"===typeof n?n:e}))}}function u(e,t,n,r,i){Error.call(this);if(void 0===e)throw new Error("No error code supplied: "+r);this.message="";this.params=t;this.code=e;this.dataPath=n||"";this.schemaPath=r||"";this.subErrors=i||null;var o=new Error(this.message);this.stack=o.stack||o.stacktrace;if(!this.stack)try{throw o}catch(o){this.stack=o.stack||o.stacktrace}}Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!==typeof i&&"function"!==typeof i||null===i)throw new TypeError("Object.keys called on non-object");var o=[];for(var s in i)e.call(i,s)&&o.push(s);if(t)for(var a=0;a<r;a++)e.call(i,n[a])&&o.push(n[a]);return o}}());Object.create||(Object.create=function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");e.prototype=t;return new e}}());Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var r=0;arguments.length>1&&((r=Number(arguments[1]))!==r?r=0:0!==r&&r!==1/0&&r!==-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r))));if(r>=n)return-1;for(var i=r<0?Math.max(n-Math.abs(r),0):r;i<n;i++)if(i in t&&t[i]===e)return i;return-1});Object.isFrozen||(Object.isFrozen=function(e){for(var t="tv4_test_frozen_key";e.hasOwnProperty(t);)t+=Math.random();try{e[t]=!0;delete e[t];return!1}catch(e){return!0}});var l={"+":!0,"#":!0,".":!0,"/":!0,";":!0,"?":!0,"&":!0},f={"*":!0};n.prototype={toString:function(){return this.template},fillFromObject:function(e){return this.fill((function(t){return e[t]}))}};var d=function(e,t,n,r,i){this.missing=[];this.missingMap={};this.formatValidators=e?Object.create(e.formatValidators):{};this.schemas=e?Object.create(e.schemas):{};this.collectMultiple=t;this.errors=[];this.handleError=t?this.collectError:this.returnError;if(r){this.checkRecursive=!0;this.scanned=[];this.scannedFrozen=[];this.scannedFrozenSchemas=[];this.scannedFrozenValidationErrors=[];this.validatedSchemasKey="tv4_validation_id";this.validationErrorsKey="tv4_validation_errors_id"}if(i){this.trackUnknownProperties=!0;this.knownPropertyPaths={};this.unknownPropertyPaths={}}this.errorReporter=n||c("en");if("string"===typeof this.errorReporter)throw new Error("debug");this.definedKeywords={};if(e)for(var o in e.definedKeywords)this.definedKeywords[o]=e.definedKeywords[o].slice(0)};d.prototype.defineKeyword=function(e,t){this.definedKeywords[e]=this.definedKeywords[e]||[];this.definedKeywords[e].push(t)};d.prototype.createError=function(e,t,n,r,i,o,s){var a=new u(e,t,n,r,i);a.message=this.errorReporter(a,o,s);return a};d.prototype.returnError=function(e){return e};d.prototype.collectError=function(e){e&&this.errors.push(e);return null};d.prototype.prefixErrors=function(e,t,n){for(var r=e;r<this.errors.length;r++)this.errors[r]=this.errors[r].prefixWith(t,n);return this};d.prototype.banUnknownProperties=function(e,t){for(var n in this.unknownPropertyPaths){var r=this.createError(m.UNKNOWN_PROPERTY,{path:n},n,"",null,e,t),i=this.handleError(r);if(i)return i}return null};d.prototype.addFormat=function(e,t){if("object"===typeof e){for(var n in e)this.addFormat(n,e[n]);return this}this.formatValidators[e]=t};d.prototype.resolveRefs=function(e,t){if(void 0!==e["$ref"]){if((t=t||{})[e["$ref"]])return this.createError(m.CIRCULAR_REFERENCE,{urls:Object.keys(t).join(", ")},"","",null,void 0,e);t[e["$ref"]]=!0;e=this.getSchema(e["$ref"],t)}return e};d.prototype.getSchema=function(e,t){var n;if(void 0!==this.schemas[e]){n=this.schemas[e];return this.resolveRefs(n,t)}var r=e,i="";if(-1!==e.indexOf("#")){i=e.substring(e.indexOf("#")+1);r=e.substring(0,e.indexOf("#"))}if("object"===typeof this.schemas[r]){n=this.schemas[r];var o=decodeURIComponent(i);if(""===o)return this.resolveRefs(n,t);if("/"!==o.charAt(0))return;for(var s=o.split("/").slice(1),a=0;a<s.length;a++){var c=s[a].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===n[c]){n=void 0;break}n=n[c]}if(void 0!==n)return this.resolveRefs(n,t)}if(void 0===this.missing[r]){this.missing.push(r);this.missing[r]=r;this.missingMap[r]=r}};d.prototype.searchSchemas=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.searchSchemas(e[n],t);else if(e&&"object"===typeof e){"string"===typeof e.id&&function(e,t){if(t.substring(0,e.length)===e){var n=t.substring(e.length);if(t.length>0&&"/"===t.charAt(e.length-1)||"#"===n.charAt(0)||"?"===n.charAt(0))return!0}return!1}(t,e.id)&&void 0===this.schemas[e.id]&&(this.schemas[e.id]=e);for(var r in e)if("enum"!==r)if("object"===typeof e[r])this.searchSchemas(e[r],t);else if("$ref"===r){var i=s(e[r]);i&&void 0===this.schemas[i]&&void 0===this.missingMap[i]&&(this.missingMap[i]=i)}}};d.prototype.addSchema=function(e,t){if("string"!==typeof e||"undefined"===typeof t){if("object"!==typeof e||"string"!==typeof e.id)return;e=(t=e).id}e===s(e)+"#"&&(e=s(e));this.schemas[e]=t;delete this.missingMap[e];a(t,e);this.searchSchemas(t,e)};d.prototype.getSchemaMap=function(){var e={};for(var t in this.schemas)e[t]=this.schemas[t];return e};d.prototype.getSchemaUris=function(e){var t=[];for(var n in this.schemas)e&&!e.test(n)||t.push(n);return t};d.prototype.getMissingUris=function(e){var t=[];for(var n in this.missingMap)e&&!e.test(n)||t.push(n);return t};d.prototype.dropSchemas=function(){this.schemas={};this.reset()};d.prototype.reset=function(){this.missing=[];this.missingMap={};this.errors=[]};d.prototype.validateAll=function(e,t,n,r,i){var o;if(!(t=this.resolveRefs(t)))return null;if(t instanceof u){this.errors.push(t);return t}var s,a=this.errors.length,c=null,l=null;if(this.checkRecursive&&e&&"object"===typeof e){o=!this.scanned.length;if(e[this.validatedSchemasKey]){var f=e[this.validatedSchemasKey].indexOf(t);if(-1!==f){this.errors=this.errors.concat(e[this.validationErrorsKey][f]);return null}}if(Object.isFrozen(e)&&-1!==(s=this.scannedFrozen.indexOf(e))){var d=this.scannedFrozenSchemas[s].indexOf(t);if(-1!==d){this.errors=this.errors.concat(this.scannedFrozenValidationErrors[s][d]);return null}}this.scanned.push(e);if(Object.isFrozen(e)){if(-1===s){s=this.scannedFrozen.length;this.scannedFrozen.push(e);this.scannedFrozenSchemas.push([])}c=this.scannedFrozenSchemas[s].length;this.scannedFrozenSchemas[s][c]=t;this.scannedFrozenValidationErrors[s][c]=[]}else{if(!e[this.validatedSchemasKey])try{Object.defineProperty(e,this.validatedSchemasKey,{value:[],configurable:!0});Object.defineProperty(e,this.validationErrorsKey,{value:[],configurable:!0})}catch(t){e[this.validatedSchemasKey]=[];e[this.validationErrorsKey]=[]}l=e[this.validatedSchemasKey].length;e[this.validatedSchemasKey][l]=t;e[this.validationErrorsKey][l]=[]}}var h=this.errors.length,p=this.validateBasic(e,t,i)||this.validateNumeric(e,t,i)||this.validateString(e,t,i)||this.validateArray(e,t,i)||this.validateObject(e,t,i)||this.validateCombinations(e,t,i)||this.validateHypermedia(e,t,i)||this.validateFormat(e,t,i)||this.validateDefinedKeywords(e,t,i)||null;if(o){for(;this.scanned.length;)delete this.scanned.pop()[this.validatedSchemasKey];this.scannedFrozen=[];this.scannedFrozenSchemas=[]}if(p||h!==this.errors.length)for(;n&&n.length||r&&r.length;){var m=n&&n.length?""+n.pop():null,g=r&&r.length?""+r.pop():null;p&&(p=p.prefixWith(m,g));this.prefixErrors(h,m,g)}null!==c?this.scannedFrozenValidationErrors[s][c]=this.errors.slice(a):null!==l&&(e[this.validationErrorsKey][l]=this.errors.slice(a));return this.handleError(p)};d.prototype.validateFormat=function(e,t){if("string"!==typeof t.format||!this.formatValidators[t.format])return null;var n=this.formatValidators[t.format].call(null,e,t);return"string"===typeof n||"number"===typeof n?this.createError(m.FORMAT_CUSTOM,{message:n},"","/format",null,e,t):n&&"object"===typeof n?this.createError(m.FORMAT_CUSTOM,{message:n.message||"?"},n.dataPath||"",n.schemaPath||"/format",null,e,t):null};d.prototype.validateDefinedKeywords=function(e,t,n){for(var r in this.definedKeywords)if("undefined"!==typeof t[r])for(var i=this.definedKeywords[r],o=0;o<i.length;o++){var s=(0,i[o])(e,t[r],t,n);if("string"===typeof s||"number"===typeof s)return this.createError(m.KEYWORD_CUSTOM,{key:r,message:s},"","",null,e,t).prefixWith(null,r);if(s&&"object"===typeof s){var a=s.code;if("string"===typeof a){if(!m[a])throw new Error("Undefined error code (use defineError): "+a);a=m[a]}else"number"!==typeof a&&(a=m.KEYWORD_CUSTOM);var c="object"===typeof s.message?s.message:{key:r,message:s.message||"?"},u=s.schemaPath||"/"+r.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(a,c,s.dataPath||null,u,null,e,t)}}return null};d.prototype.validateBasic=function(e,t,n){var r;return(r=this.validateType(e,t,n))||(r=this.validateEnum(e,t,n))?r.prefixWith(null,"type"):null};d.prototype.validateType=function(e,t){if(void 0===t.type)return null;var n=typeof e;null===e?n="null":Array.isArray(e)&&(n="array");var r=t.type;Array.isArray(r)||(r=[r]);for(var i=0;i<r.length;i++){var o=r[i];if(o===n||"integer"===o&&"number"===n&&e%1===0)return null}return this.createError(m.INVALID_TYPE,{type:n,expected:r.join("/")},"","",null,e,t)};d.prototype.validateEnum=function(e,t){if(void 0===t["enum"])return null;for(var n=0;n<t["enum"].length;n++)if(r(e,t["enum"][n]))return null;return this.createError(m.ENUM_MISMATCH,{value:"undefined"!==typeof JSON?JSON.stringify(e):e},"","",null,e,t)};d.prototype.validateNumeric=function(e,t,n){return this.validateMultipleOf(e,t,n)||this.validateMinMax(e,t,n)||this.validateNaN(e,t,n)||null};var h=Math.pow(2,-51),p=1-h;d.prototype.validateMultipleOf=function(e,t){var n=t.multipleOf||t.divisibleBy;if(void 0===n)return null;if("number"===typeof e){var r=e/n%1;if(r>=h&&r<p)return this.createError(m.NUMBER_MULTIPLE_OF,{value:e,multipleOf:n},"","",null,e,t)}return null};d.prototype.validateMinMax=function(e,t){if("number"!==typeof e)return null;if(void 0!==t.minimum){if(e<t.minimum)return this.createError(m.NUMBER_MINIMUM,{value:e,minimum:t.minimum},"","/minimum",null,e,t);if(t.exclusiveMinimum&&e===t.minimum)return this.createError(m.NUMBER_MINIMUM_EXCLUSIVE,{value:e,minimum:t.minimum},"","/exclusiveMinimum",null,e,t)}if(void 0!==t.maximum){if(e>t.maximum)return this.createError(m.NUMBER_MAXIMUM,{value:e,maximum:t.maximum},"","/maximum",null,e,t);if(t.exclusiveMaximum&&e===t.maximum)return this.createError(m.NUMBER_MAXIMUM_EXCLUSIVE,{value:e,maximum:t.maximum},"","/exclusiveMaximum",null,e,t)}return null};d.prototype.validateNaN=function(e,t){return"number"!==typeof e?null:!0===isNaN(e)||e===1/0||e===-1/0?this.createError(m.NUMBER_NOT_A_NUMBER,{value:e},"","/type",null,e,t):null};d.prototype.validateString=function(e,t,n){return this.validateStringLength(e,t,n)||this.validateStringPattern(e,t,n)||null};d.prototype.validateStringLength=function(e,t){return"string"!==typeof e?null:void 0!==t.minLength&&e.length<t.minLength?this.createError(m.STRING_LENGTH_SHORT,{length:e.length,minimum:t.minLength},"","/minLength",null,e,t):void 0!==t.maxLength&&e.length>t.maxLength?this.createError(m.STRING_LENGTH_LONG,{length:e.length,maximum:t.maxLength},"","/maxLength",null,e,t):null};d.prototype.validateStringPattern=function(e,t){if("string"!==typeof e||"string"!==typeof t.pattern&&!(t.pattern instanceof RegExp))return null;var n;if(t.pattern instanceof RegExp)n=t.pattern;else{var r,i="",o=t.pattern.match(/^\/(.+)\/([img]*)$/);if(o){r=o[1];i=o[2]}else r=t.pattern;n=new RegExp(r,i)}return n.test(e)?null:this.createError(m.STRING_PATTERN,{pattern:t.pattern},"","/pattern",null,e,t)};d.prototype.validateArray=function(e,t,n){return Array.isArray(e)&&(this.validateArrayLength(e,t,n)||this.validateArrayUniqueItems(e,t,n)||this.validateArrayItems(e,t,n))||null};d.prototype.validateArrayLength=function(e,t){var n;if(void 0!==t.minItems&&e.length<t.minItems){n=this.createError(m.ARRAY_LENGTH_SHORT,{length:e.length,minimum:t.minItems},"","/minItems",null,e,t);if(this.handleError(n))return n}if(void 0!==t.maxItems&&e.length>t.maxItems){n=this.createError(m.ARRAY_LENGTH_LONG,{length:e.length,maximum:t.maxItems},"","/maxItems",null,e,t);if(this.handleError(n))return n}return null};d.prototype.validateArrayUniqueItems=function(e,t){if(t.uniqueItems)for(var n=0;n<e.length;n++)for(var i=n+1;i<e.length;i++)if(r(e[n],e[i])){var o=this.createError(m.ARRAY_UNIQUE,{match1:n,match2:i},"","/uniqueItems",null,e,t);if(this.handleError(o))return o}return null};d.prototype.validateArrayItems=function(e,t,n){if(void 0===t.items)return null;var r,i;if(Array.isArray(t.items)){for(i=0;i<e.length;i++)if(i<t.items.length){if(r=this.validateAll(e[i],t.items[i],[i],["items",i],n+"/"+i))return r}else if(void 0!==t.additionalItems)if("boolean"===typeof t.additionalItems){if(!t.additionalItems){r=this.createError(m.ARRAY_ADDITIONAL_ITEMS,{},"/"+i,"/additionalItems",null,e,t);if(this.handleError(r))return r}}else if(r=this.validateAll(e[i],t.additionalItems,[i],["additionalItems"],n+"/"+i))return r}else for(i=0;i<e.length;i++)if(r=this.validateAll(e[i],t.items,[i],["items"],n+"/"+i))return r;return null};d.prototype.validateObject=function(e,t,n){return"object"!==typeof e||null===e||Array.isArray(e)?null:this.validateObjectMinMaxProperties(e,t,n)||this.validateObjectRequiredProperties(e,t,n)||this.validateObjectProperties(e,t,n)||this.validateObjectDependencies(e,t,n)||null};d.prototype.validateObjectMinMaxProperties=function(e,t){var n,r=Object.keys(e);if(void 0!==t.minProperties&&r.length<t.minProperties){n=this.createError(m.OBJECT_PROPERTIES_MINIMUM,{propertyCount:r.length,minimum:t.minProperties},"","/minProperties",null,e,t);if(this.handleError(n))return n}if(void 0!==t.maxProperties&&r.length>t.maxProperties){n=this.createError(m.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:r.length,maximum:t.maxProperties},"","/maxProperties",null,e,t);if(this.handleError(n))return n}return null};d.prototype.validateObjectRequiredProperties=function(e,t){if(void 0!==t.required)for(var n=0;n<t.required.length;n++){var r=t.required[n];if(void 0===e[r]){var i=this.createError(m.OBJECT_REQUIRED,{key:r},"","/required/"+n,null,e,t);if(this.handleError(i))return i}}return null};d.prototype.validateObjectProperties=function(e,t,n){var r;for(var i in e){var o=n+"/"+i.replace(/~/g,"~0").replace(/\//g,"~1"),s=!1;if(void 0!==t.properties&&void 0!==t.properties[i]){s=!0;if(r=this.validateAll(e[i],t.properties[i],[i],["properties",i],o))return r}if(void 0!==t.patternProperties)for(var a in t.patternProperties)if(new RegExp(a).test(i)){s=!0;if(r=this.validateAll(e[i],t.patternProperties[a],[i],["patternProperties",a],o))return r}if(s){if(this.trackUnknownProperties){this.knownPropertyPaths[o]=!0;delete this.unknownPropertyPaths[o]}}else if(void 0!==t.additionalProperties){if(this.trackUnknownProperties){this.knownPropertyPaths[o]=!0;delete this.unknownPropertyPaths[o]}if("boolean"===typeof t.additionalProperties){if(!t.additionalProperties){r=this.createError(m.OBJECT_ADDITIONAL_PROPERTIES,{key:i},"","/additionalProperties",null,e,t).prefixWith(i,null);if(this.handleError(r))return r}}else if(r=this.validateAll(e[i],t.additionalProperties,[i],["additionalProperties"],o))return r}else this.trackUnknownProperties&&!this.knownPropertyPaths[o]&&(this.unknownPropertyPaths[o]=!0)}return null};d.prototype.validateObjectDependencies=function(e,t,n){var r;if(void 0!==t.dependencies)for(var i in t.dependencies)if(void 0!==e[i]){var o=t.dependencies[i];if("string"===typeof o){if(void 0===e[o]){r=this.createError(m.OBJECT_DEPENDENCY_KEY,{key:i,missing:o},"","",null,e,t).prefixWith(null,i).prefixWith(null,"dependencies");if(this.handleError(r))return r}}else if(Array.isArray(o))for(var s=0;s<o.length;s++){var a=o[s];if(void 0===e[a]){r=this.createError(m.OBJECT_DEPENDENCY_KEY,{key:i,missing:a},"","/"+s,null,e,t).prefixWith(null,i).prefixWith(null,"dependencies");if(this.handleError(r))return r}}else if(r=this.validateAll(e,o,[],["dependencies",i],n))return r}return null};d.prototype.validateCombinations=function(e,t,n){return this.validateAllOf(e,t,n)||this.validateAnyOf(e,t,n)||this.validateOneOf(e,t,n)||this.validateNot(e,t,n)||null};d.prototype.validateAllOf=function(e,t,n){if(void 0===t.allOf)return null;for(var r,i=0;i<t.allOf.length;i++){var o=t.allOf[i];if(r=this.validateAll(e,o,[],["allOf",i],n))return r}return null};d.prototype.validateAnyOf=function(e,t,n){if(void 0===t.anyOf)return null;var r,i,o=[],s=this.errors.length;if(this.trackUnknownProperties){r=this.unknownPropertyPaths;i=this.knownPropertyPaths}for(var a=!0,c=0;c<t.anyOf.length;c++){if(this.trackUnknownProperties){this.unknownPropertyPaths={};this.knownPropertyPaths={}}var u=t.anyOf[c],l=this.errors.length,f=this.validateAll(e,u,[],["anyOf",c],n);if(null===f&&l===this.errors.length){this.errors=this.errors.slice(0,s);if(this.trackUnknownProperties){for(var d in this.knownPropertyPaths){i[d]=!0;delete r[d]}for(var h in this.unknownPropertyPaths)i[h]||(r[h]=!0);a=!1;continue}return null}f&&o.push(f.prefixWith(null,""+c).prefixWith(null,"anyOf"))}if(this.trackUnknownProperties){this.unknownPropertyPaths=r;this.knownPropertyPaths=i}if(a){o=o.concat(this.errors.slice(s));this.errors=this.errors.slice(0,s);return this.createError(m.ANY_OF_MISSING,{},"","/anyOf",o,e,t)}};d.prototype.validateOneOf=function(e,t,n){if(void 0===t.oneOf)return null;var r,i,o=null,s=[],a=this.errors.length;if(this.trackUnknownProperties){r=this.unknownPropertyPaths;i=this.knownPropertyPaths}for(var c=0;c<t.oneOf.length;c++){if(this.trackUnknownProperties){this.unknownPropertyPaths={};this.knownPropertyPaths={}}var u=t.oneOf[c],l=this.errors.length,f=this.validateAll(e,u,[],["oneOf",c],n);if(null===f&&l===this.errors.length){if(null!==o){this.errors=this.errors.slice(0,a);return this.createError(m.ONE_OF_MULTIPLE,{index1:o,index2:c},"","/oneOf",null,e,t)}o=c;if(this.trackUnknownProperties){for(var d in this.knownPropertyPaths){i[d]=!0;delete r[d]}for(var h in this.unknownPropertyPaths)i[h]||(r[h]=!0)}}else f&&s.push(f)}if(this.trackUnknownProperties){this.unknownPropertyPaths=r;this.knownPropertyPaths=i}if(null===o){s=s.concat(this.errors.slice(a));this.errors=this.errors.slice(0,a);return this.createError(m.ONE_OF_MISSING,{},"","/oneOf",s,e,t)}this.errors=this.errors.slice(0,a);return null};d.prototype.validateNot=function(e,t,n){if(void 0===t.not)return null;var r,i,o=this.errors.length;if(this.trackUnknownProperties){r=this.unknownPropertyPaths;i=this.knownPropertyPaths;this.unknownPropertyPaths={};this.knownPropertyPaths={}}var s=this.validateAll(e,t.not,null,null,n),a=this.errors.slice(o);this.errors=this.errors.slice(0,o);if(this.trackUnknownProperties){this.unknownPropertyPaths=r;this.knownPropertyPaths=i}return null===s&&0===a.length?this.createError(m.NOT_PASSED,{},"","/not",null,e,t):null};d.prototype.validateHypermedia=function(e,t,r){if(!t.links)return null;for(var i,o=0;o<t.links.length;o++){var s=t.links[o];if("describedby"===s.rel){for(var a=new n(s.href),c=!0,u=0;u<a.varNames.length;u++)if(!(a.varNames[u]in e)){c=!1;break}if(c){var l={$ref:a.fillFromObject(e)};if(i=this.validateAll(e,l,[],["links",o],r))return i}}}};var m={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,NUMBER_NOT_A_NUMBER:105,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},g={};for(var y in m)g[m[y]]=y;var _={INVALID_TYPE:"Invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",NUMBER_NOT_A_NUMBER:"Value {value} is not a valid number",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};u.prototype=Object.create(Error.prototype);u.prototype.constructor=u;u.prototype.name="ValidationError";u.prototype.prefixWith=function(e,t){if(null!==e){e=e.replace(/~/g,"~0").replace(/\//g,"~1");this.dataPath="/"+e+this.dataPath}if(null!==t){t=t.replace(/~/g,"~0").replace(/\//g,"~1");this.schemaPath="/"+t+this.schemaPath}if(null!==this.subErrors)for(var n=0;n<this.subErrors.length;n++)this.subErrors[n].prefixWith(e,t);return this};var v={},E=function e(t){var n,r,i=new d,u={setErrorReporter:function(e){if("string"===typeof e)return this.language(e);r=e;return!0},addFormat:function(){i.addFormat.apply(i,arguments)},language:function(e){if(!e)return n;v[e]||(e=e.split("-")[0]);if(v[e]){n=e;return e}return!1},addLanguage:function(e,t){var n;for(n in m)t[n]&&!t[m[n]]&&(t[m[n]]=t[n]);var r=e.split("-")[0];if(v[r]){v[e]=Object.create(v[r]);for(n in t){"undefined"===typeof v[r][n]&&(v[r][n]=t[n]);v[e][n]=t[n]}}else{v[e]=t;v[r]=t}return this},freshApi:function(t){var n=e();t&&n.language(t);return n},validate:function(e,t,o,s){var a=c(n),u=r?function(e,t,n){return r(e,t,n)||a(e,t,n)}:a,l=new d(i,!1,u,o,s);"string"===typeof t&&(t={$ref:t});l.addSchema("",t);var f=l.validateAll(e,t,null,null,"");!f&&s&&(f=l.banUnknownProperties(e,t));this.error=f;this.missing=l.missing;this.valid=null===f;return this.valid},validateResult:function(){var e={toString:function(){return this.valid?"valid":this.error.message}};this.validate.apply(e,arguments);return e},validateMultiple:function(e,t,o,s){var a=c(n),u=r?function(e,t,n){return r(e,t,n)||a(e,t,n)}:a,l=new d(i,!0,u,o,s);"string"===typeof t&&(t={$ref:t});l.addSchema("",t);l.validateAll(e,t,null,null,"");s&&l.banUnknownProperties(e,t);var f={toString:function(){return this.valid?"valid":this.error.message}};f.errors=l.errors;f.missing=l.missing;f.valid=0===f.errors.length;return f},addSchema:function(){return i.addSchema.apply(i,arguments)},getSchema:function(){return i.getSchema.apply(i,arguments)},getSchemaMap:function(){return i.getSchemaMap.apply(i,arguments)},getSchemaUris:function(){return i.getSchemaUris.apply(i,arguments)},getMissingUris:function(){return i.getMissingUris.apply(i,arguments)},dropSchemas:function(){i.dropSchemas.apply(i,arguments)},defineKeyword:function(){i.defineKeyword.apply(i,arguments)},defineError:function(e,t,n){if("string"!==typeof e||!/^[A-Z]+(_[A-Z]+)*$/.test(e))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if("number"!==typeof t||t%1!==0||t<1e4)throw new Error("Code number must be an integer > 10000");if("undefined"!==typeof m[e])throw new Error("Error already defined: "+e+" as "+m[e]);if("undefined"!==typeof g[t])throw new Error("Error code already used: "+g[t]+" as "+t);m[e]=t;g[t]=e;_[e]=_[t]=n;for(var r in v){var i=v[r];i[e]&&(i[t]=i[t]||i[e])}},reset:function(){i.reset();this.error=null;this.missing=[];this.valid=!0},missing:[],error:null,valid:!0,normSchema:a,resolveUrl:o,getDocumentUri:s,errorCodes:m};u.language(t||"en");return u}();E.addLanguage("en-gb",_);E.tv4=E;return E},void 0!==(i=n.apply(t,r))&&(e.exports=i)}()},1270:function(e,t,n){e=n.nmd(e);var r;/*! https://mths.be/punycode v1.3.2 by @mathias */!function(){function i(e){throw RangeError(S[e])}function o(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function s(e,t){var n=e.split("@"),r="";if(n.length>1){r=n[0]+"@";e=n[1]}return r+o((e=e.replace(E,".")).split("."),t).join(".")}function a(e){for(var t,n,r=[],i=0,o=e.length;i<o;)if((t=e.charCodeAt(i++))<55296||t>56319||i>=o)r.push(t);else if(56320==(64512&(n=e.charCodeAt(i++))))r.push(((1023&t)<<10)+(1023&n)+65536);else{r.push(t);i--}return r}function c(e){return o(e,(function(e){var t="";if(e>65535){t+=T((e-=65536)>>>10&1023|55296);e=56320|1023&e}return t+T(e)})).join("")}function u(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:y}function l(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function f(e,t,n){var r=0;e=n?b(e/700):e>>1;e+=b(e/t);for(;e>455;r+=y)e=b(e/35);return b(r+36*e/(e+38))}function d(e){var t,n,r,o,s,a,l,d,h,p,m=[],_=e.length,v=0,E=128,S=72;(n=e.lastIndexOf("-"))<0&&(n=0);for(r=0;r<n;++r){e.charCodeAt(r)<128||i("not-basic");m.push(e.charCodeAt(r))}for(o=n>0?n+1:0;o<_;){for(s=v,a=1,l=y;;l+=y){o<_||i("invalid-input");(d=u(e.charCodeAt(o++)))<y&&d<=b((g-v)/a)||i("overflow");v+=d*a;if(d<(h=l>S?l<S+26?l-S:26:1))break;a>b(g/(p=y-h))&&i("overflow");a*=p}S=f(v-s,t=m.length+1,0==s);b(v/t)>g-E&&i("overflow");E+=b(v/t);v%=t;m.splice(v++,0,E)}return c(m)}function h(e){var t,n,r,o,s,c,u,d,h,p,m,_,v,E,S,C=[];_=(e=a(e)).length;t=128;n=0;s=72;for(c=0;c<_;++c)(m=e[c])<128&&C.push(T(m));r=o=C.length;o&&C.push("-");for(;r<_;){for(u=g,c=0;c<_;++c)(m=e[c])>=t&&m<u&&(u=m);u-t>b((g-n)/(v=r+1))&&i("overflow");n+=(u-t)*v;t=u;for(c=0;c<_;++c){(m=e[c])<t&&++n>g&&i("overflow");if(m==t){for(d=n,h=y;d>=(p=h>s?h<s+26?h-s:26:1);h+=y){S=d-p;E=y-p;C.push(T(l(p+S%E,0)));d=b(S/E)}C.push(T(l(d,0)));s=f(n,v,r==o);n=0;++r}}++n;++t}return C.join("")}t&&t.nodeType,e&&e.nodeType;var p="object"==typeof n.g&&n.g;p.global!==p&&p.window!==p&&p.self;var m,g=2147483647,y=36,_=/^xn--/,v=/[^\x20-\x7E]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=Math.floor,T=String.fromCharCode;m={version:"1.3.2",ucs2:{decode:a,encode:c},decode:d,encode:h,toASCII:function(e){return s(e,(function(e){return v.test(e)?"xn--"+h(e):e}))},toUnicode:function(e){return s(e,(function(e){return _.test(e)?d(e.slice(4).toLowerCase()):e}))}};void 0!==(r=function(){return m}.call(t,n,t,e))&&(e.exports=r)}()},8835:(e,t,n)=>{"use strict";function r(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}function i(e,t,n){if(e&&s.isObject(e)&&e instanceof r)return e;var i=new r;i.parse(e,t,n);return i}var o=n(1270),s=n(2268);t.parse=i;t.resolve=function(e,t){return i(e,!1,!0).resolve(t)};t.resolveObject=function(e,t){return e?i(e,!1,!0).resolveObject(t):t};t.format=function(e){s.isString(e)&&(e=i(e));return e instanceof r?e.format():r.prototype.format.call(e)};t.Url=r;var a=/^([a-z0-9.+-]+:)/i,c=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),f=["'"].concat(l),d=["%","/","?",";","#"].concat(f),h=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n(7186);r.prototype.parse=function(e,t,n){if(!s.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=-1!==r&&r<e.indexOf("#")?"?":"#",c=e.split(i);c[0]=c[0].replace(/\\/g,"/");var l=e=c.join(i);l=l.trim();if(!n&&1===e.split("#").length){var E=u.exec(l);if(E){this.path=l;this.href=l;this.pathname=E[1];if(E[2]){this.search=E[2];this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)}else if(t){this.search="";this.query={}}return this}}var S=a.exec(l);if(S){var b=(S=S[0]).toLowerCase();this.protocol=b;l=l.substr(S.length)}if(n||S||l.match(/^\/\/[^@\/]+@[^@\/]+/)){var T="//"===l.substr(0,2);if(T&&(!S||!y[S])){l=l.substr(2);this.slashes=!0}}if(!y[S]&&(T||S&&!_[S])){for(var C,I,w=-1,N=0;N<h.length;N++)-1===(A=l.indexOf(h[N]))||-1!==w&&A>=w||(w=A);if(-1!==(I=-1===w?l.lastIndexOf("@"):l.lastIndexOf("@",w))){C=l.slice(0,I);l=l.slice(I+1);this.auth=decodeURIComponent(C)}w=-1;for(N=0;N<d.length;N++){var A;-1===(A=l.indexOf(d[N]))||-1!==w&&A>=w||(w=A)}-1===w&&(w=l.length);this.host=l.slice(0,w);l=l.slice(w);this.parseHost();this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var O=this.hostname.split(/\./),L=(N=0,O.length);N<L;N++){var D=O[N];if(D&&!D.match(p)){for(var x="",P=0,k=D.length;P<k;P++)D.charCodeAt(P)>127?x+="x":x+=D[P];if(!x.match(p)){var B=O.slice(0,N),M=O.slice(N+1),U=D.match(m);if(U){B.push(U[1]);M.unshift(U[2])}M.length&&(l="/"+M.join(".")+l);this.hostname=B.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase();R||(this.hostname=o.toASCII(this.hostname));var F=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+F;this.href+=this.host;if(R){this.hostname=this.hostname.substr(1,this.hostname.length-2);"/"!==l[0]&&(l="/"+l)}}if(!g[b])for(N=0,L=f.length;N<L;N++){var G=f[N];if(-1!==l.indexOf(G)){var H=encodeURIComponent(G);H===G&&(H=escape(G));l=l.split(G).join(H)}}var V=l.indexOf("#");if(-1!==V){this.hash=l.substr(V);l=l.slice(0,V)}var q=l.indexOf("?");if(-1!==q){this.search=l.substr(q);this.query=l.substr(q+1);t&&(this.query=v.parse(this.query));l=l.slice(0,q)}else if(t){this.search="";this.query={}}l&&(this.pathname=l);_[b]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search){F=this.pathname||"";var W=this.search||"";this.path=F+W}this.href=this.format();return this};r.prototype.format=function(){var e=this.auth||"";if(e){e=(e=encodeURIComponent(e)).replace(/%3A/i,":");e+="@"}var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";if(this.host)i=e+this.host;else if(this.hostname){i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]");this.port&&(i+=":"+this.port)}this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(o=v.stringify(this.query));var a=this.search||o&&"?"+o||"";t&&":"!==t.substr(-1)&&(t+=":");if(this.slashes||(!t||_[t])&&!1!==i){i="//"+(i||"");n&&"/"!==n.charAt(0)&&(n="/"+n)}else i||(i="");r&&"#"!==r.charAt(0)&&(r="#"+r);a&&"?"!==a.charAt(0)&&(a="?"+a);return t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+r};r.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()};r.prototype.resolveObject=function(e){if(s.isString(e)){var t=new r;t.parse(e,!1,!0);e=t}for(var n=new r,i=Object.keys(this),o=0;o<i.length;o++){var a=i[o];n[a]=this[a]}n.hash=e.hash;if(""===e.href){n.href=n.format();return n}if(e.slashes&&!e.protocol){for(var c=Object.keys(e),u=0;u<c.length;u++){var l=c[u];"protocol"!==l&&(n[l]=e[l])}_[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/");n.href=n.format();return n}if(e.protocol&&e.protocol!==n.protocol){if(!_[e.protocol]){for(var f=Object.keys(e),d=0;d<f.length;d++){var h=f[d];n[h]=e[h]}n.href=n.format();return n}n.protocol=e.protocol;if(e.host||y[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host="");e.hostname||(e.hostname="");""!==p[0]&&p.unshift("");p.length<2&&p.unshift("");n.pathname=p.join("/")}n.search=e.search;n.query=e.query;n.host=e.host||"";n.auth=e.auth;n.hostname=e.hostname||e.host;n.port=e.port;if(n.pathname||n.search){var m=n.pathname||"",g=n.search||"";n.path=m+g}n.slashes=n.slashes||e.slashes;n.href=n.format();return n}var v=n.pathname&&"/"===n.pathname.charAt(0),E=e.host||e.pathname&&"/"===e.pathname.charAt(0),S=E||v||n.host&&e.pathname,b=S,T=n.pathname&&n.pathname.split("/")||[],C=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!_[n.protocol]);if(C){n.hostname="";n.port=null;n.host&&(""===T[0]?T[0]=n.host:T.unshift(n.host));n.host="";if(e.protocol){e.hostname=null;e.port=null;e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host));e.host=null}S=S&&(""===p[0]||""===T[0])}if(E){n.host=e.host||""===e.host?e.host:n.host;n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname;n.search=e.search;n.query=e.query;T=p}else if(p.length){T||(T=[]);T.pop();T=T.concat(p);n.search=e.search;n.query=e.query}else if(!s.isNullOrUndefined(e.search)){if(C){n.hostname=n.host=T.shift();if(O=!(!n.host||n.host.indexOf("@")<=0)&&n.host.split("@")){n.auth=O.shift();n.host=n.hostname=O.shift()}}n.search=e.search;n.query=e.query;s.isNull(n.pathname)&&s.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:""));n.href=n.format();return n}if(!T.length){n.pathname=null;n.search?n.path="/"+n.search:n.path=null;n.href=n.format();return n}for(var I=T.slice(-1)[0],w=(n.host||e.host||T.length>1)&&("."===I||".."===I)||""===I,N=0,A=T.length;A>=0;A--)if("."===(I=T[A]))T.splice(A,1);else if(".."===I){T.splice(A,1);N++}else if(N){T.splice(A,1);N--}if(!S&&!b)for(;N--;N)T.unshift("..");!S||""===T[0]||T[0]&&"/"===T[0].charAt(0)||T.unshift("");w&&"/"!==T.join("/").substr(-1)&&T.push("");var R=""===T[0]||T[0]&&"/"===T[0].charAt(0);if(C){n.hostname=n.host=R?"":T.length?T.shift():"";var O;if(O=!(!n.host||n.host.indexOf("@")<=0)&&n.host.split("@")){n.auth=O.shift();n.host=n.hostname=O.shift()}}(S=S||n.host&&T.length)&&!R&&T.unshift("");if(T.length)n.pathname=T.join("/");else{n.pathname=null;n.path=null}s.isNull(n.pathname)&&s.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:""));n.auth=e.auth||n.auth;n.slashes=n.slashes||e.slashes;n.href=n.format();return n};r.prototype.parseHost=function(){var e=this.host,t=c.exec(e);if(t){":"!==(t=t[0])&&(this.port=t.substr(1));e=e.substr(0,e.length-t.length)}e&&(this.hostname=e)}},2268:e=>{"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},4655:(e,t)=>{"use strict";function n(e,t,n){var r=n[n.length-1];if(e===r.element){n.pop();r=n[n.length-1]}var i=r.element,o=r.index;Array.isArray(i)?i.push(e):o===t.length-2?i[t.pop()]=e:t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var n,r,i,o,s,a,c,u,l,f,d="";n=t.pop();){r=n.obj;d+=n.prefix||"";if(i=n.val||"")d+=i;else if("object"!==typeof r)d+="undefined"===typeof r?null:JSON.stringify(r);else if(null===r)d+="null";else if(Array.isArray(r)){t.push({val:"]"});for(o=r.length-1;o>=0;o--){s=0===o?"":",";t.push({obj:r[o],prefix:s})}t.push({val:"["})}else{a=[];for(c in r)r.hasOwnProperty(c)&&a.push(c);t.push({val:"}"});for(o=a.length-1;o>=0;o--){l=r[u=a[o]];f=o>0?",":"";f+=JSON.stringify(u)+":";t.push({obj:l,prefix:f})}t.push({val:"{"})}}return d};t.parse=function(e){for(var t,r,i,o,s,a,c,u,l,f=[],d=[],h=0;;)if("}"!==(t=e[h++])&&"]"!==t&&"undefined"!==typeof t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":h+=3;n(null,f,d);break;case"t":h+=3;n(!0,f,d);break;case"f":h+=4;n(!1,f,d);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":r="";h--;for(;;){i=e[h++];if(!/[\d\.\-e\+]/.test(i)){h--;break}r+=i}n(parseFloat(r),f,d);break;case'"':o="";s=void 0;a=0;for(;'"'!==(c=e[h++])||"\\"===s&&a%2===1;){o+=c;"\\"===(s=c)?a++:a=0}n(JSON.parse('"'+o+'"'),f,d);break;case"[":u={element:[],index:f.length};f.push(u.element);d.push(u);break;case"{":l={element:{},index:f.length};f.push(l.element);d.push(l);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===f.length)return f.pop();n(f.pop(),f,d)}}},9005:(e,t,n)=>{"use strict";function r(e,t,n){var r=e;if(a(t)){n=t;"string"===typeof e&&(r={uri:e})}else r=u(t,{uri:e});r.callback=n;return r}function i(e,t,n){return o(t=r(e,t,n))}function o(e){function t(){var e=void 0;e=l.response?l.response:l.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(l);if(y)try{e=JSON.parse(e)}catch(e){}return e}function n(e){clearTimeout(f);e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error")));e.statusCode=0;return u(e,_)}function r(){if(!s){var n;clearTimeout(f);n=e.useXDR&&void 0===l.status?200:1223===l.status?204:l.status;var r=_,i=null;if(0!==n){r={body:t(),statusCode:n,method:h,headers:{},url:d,rawRequest:l};l.getAllResponseHeaders&&(r.headers=c(l.getAllResponseHeaders()))}else i=new Error("Internal XMLHttpRequest Error");return u(i,r,r.body)}}if("undefined"===typeof e.callback)throw new Error("callback argument missing");var o,s,a=!1,u=function(t,n,r){if(!a){a=!0;e.callback(t,n,r)}},l=e.xhr||null;l||(l=e.cors||e.useXDR?new i.XDomainRequest:new i.XMLHttpRequest);var f,d=l.url=e.uri||e.url,h=l.method=e.method||"GET",p=e.body||e.data,m=l.headers=e.headers||{},g=!!e.sync,y=!1,_={body:void 0,headers:{},statusCode:0,method:h,url:d,rawRequest:l};if("json"in e&&!1!==e.json){y=!0;m["accept"]||m["Accept"]||(m["Accept"]="application/json");if("GET"!==h&&"HEAD"!==h){m["content-type"]||m["Content-Type"]||(m["Content-Type"]="application/json");p=JSON.stringify(!0===e.json?p:e.json)}}l.onreadystatechange=function(){4===l.readyState&&setTimeout(r,0)};l.onload=r;l.onerror=n;l.onprogress=function(){};l.onabort=function(){s=!0};l.ontimeout=n;l.open(h,d,!g,e.username,e.password);g||(l.withCredentials=!!e.withCredentials);!g&&e.timeout>0&&(f=setTimeout((function(){if(!s){s=!0;l.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT";n(e)}}),e.timeout));if(l.setRequestHeader)for(o in m)m.hasOwnProperty(o)&&l.setRequestHeader(o,m[o]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");"responseType"in e&&(l.responseType=e.responseType);"beforeSend"in e&&"function"===typeof e.beforeSend&&e.beforeSend(l);l.send(p||null);return l}var s=n(9840),a=n(7056),c=n(8023),u=n(7510);e.exports=i;e.exports["default"]=i;i.XMLHttpRequest=s.XMLHttpRequest||function(){};i.XDomainRequest="withCredentials"in new i.XMLHttpRequest?i.XMLHttpRequest:s.XDomainRequest;!function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],(function(e){i["delete"===e?"del":e]=function(t,n,i){(n=r(t,n,i)).method=e.toUpperCase();return o(n)}}))},7510:e=>{e.exports=function(){for(var e={},n=0;n<arguments.length;n++){var r=arguments[n];for(var i in r)t.call(r,i)&&(e[i]=r[i])}return e};var t=Object.prototype.hasOwnProperty},5946:e=>{"use strict";e.exports=require("crypto")},6148:e=>{"use strict";e.exports=require("node:stream/web")},7978:e=>{"use strict";e.exports=require("process")},3693:(e,t,n)=>{var r=n(7736);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports["default"]=e.exports},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports["default"]=e.exports},9045:(e,t,n)=>{var r=n(3738)["default"];e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},7736:(e,t,n)=>{var r=n(3738)["default"],i=n(9045);e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports["default"]=e.exports},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports["default"]=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports["default"]=e.exports},4512:(e,t,n)=>{"use strict";function r(e){return i(e.map((([e,t])=>new Array(e).fill(t,0,e))))}function i(e){return e.reduce(((e,t)=>e.concat(Array.isArray(t)?i(t):t)),[])}function o(){function e(e,t){let n=0;do{n|=1&e;e>>>=1;n<<=1}while(--t>0);return n>>>1}const t=this;t.build_tree=function(n){const r=t.dyn_tree,i=t.stat_desc.static_tree,o=t.stat_desc.elems;let s,a,c,u=-1;n.heap_len=0;n.heap_max=573;for(s=0;s<o;s++)if(0!==r[2*s]){n.heap[++n.heap_len]=u=s;n.depth[s]=0}else r[2*s+1]=0;for(;n.heap_len<2;){c=n.heap[++n.heap_len]=u<2?++u:0;r[2*c]=1;n.depth[c]=0;n.opt_len--;i&&(n.static_len-=i[2*c+1])}t.max_code=u;for(s=Math.floor(n.heap_len/2);s>=1;s--)n.pqdownheap(r,s);c=o;do{s=n.heap[1];n.heap[1]=n.heap[n.heap_len--];n.pqdownheap(r,1);a=n.heap[1];n.heap[--n.heap_max]=s;n.heap[--n.heap_max]=a;r[2*c]=r[2*s]+r[2*a];n.depth[c]=Math.max(n.depth[s],n.depth[a])+1;r[2*s+1]=r[2*a+1]=c;n.heap[1]=c++;n.pqdownheap(r,1)}while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1];!function(e){const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,s=t.stat_desc.max_length;let a,c,u,l,f,d,h=0;for(l=0;l<=15;l++)e.bl_count[l]=0;n[2*e.heap[e.heap_max]+1]=0;for(a=e.heap_max+1;a<573;a++){c=e.heap[a];l=n[2*n[2*c+1]+1]+1;if(l>s){l=s;h++}n[2*c+1]=l;if(c<=t.max_code){e.bl_count[l]++;f=0;c<o||(f=i[c-o]);d=n[2*c];e.opt_len+=d*(l+f);r&&(e.static_len+=d*(r[2*c+1]+f))}}if(0!==h){do{l=s-1;for(;0===e.bl_count[l];)l--;e.bl_count[l]--;e.bl_count[l+1]+=2;e.bl_count[s]--;h-=2}while(h>0);for(l=s;0!==l;l--){c=e.bl_count[l];for(;0!==c;){u=e.heap[--a];if(u<=t.max_code){if(n[2*u+1]!=l){e.opt_len+=(l-n[2*u+1])*n[2*u];n[2*u+1]=l}c--}}}}}(n);!function(t,n,r){const i=[];let o,s,a,c=0;for(o=1;o<=15;o++)i[o]=c=c+r[o-1]<<1;for(s=0;s<=n;s++){a=t[2*s+1];0!==a&&(t[2*s]=e(i[a]++,a))}}(r,t.max_code,n.bl_count)}}function s(e,t,n,r,i){const o=this;o.static_tree=e;o.extra_bits=t;o.extra_base=n;o.elems=r;o.max_length=i}function a(e,t,n,r,i){const o=this;o.good_length=e;o.max_lazy=t;o.nice_length=n;o.max_chain=r;o.func=i}function c(e,t,n,r){const i=e[2*t],o=e[2*n];return i<o||i==o&&r[t]<=r[n]}function u(){function e(){let e;for(e=0;e<286;e++)$[2*e]=0;for(e=0;e<30;e++)Q[2*e]=0;for(e=0;e<19;e++)X[2*e]=0;$[512]=1;_.opt_len=_.static_len=0;ne=re=0}function t(e,t){let n,r=-1,i=e[1],o=0,s=7,a=4;if(0===i){s=138;a=3}e[2*(t+1)+1]=65535;for(let c=0;c<=t;c++){n=i;i=e[2*(c+1)+1];if(++o>=s||n!=i){if(o<a)X[2*n]+=o;else if(0!==n){n!=r&&X[2*n]++;X[32]++}else o>10?X[36]++:X[34]++;o=0;r=n;if(0===i){s=138;a=3}else if(n==i){s=6;a=3}else{s=7;a=4}}}}function n(e){_.pending_buf[_.pending++]=e}function r(e){n(255&e);n(e>>>8&255)}function i(e,t){let n;const i=t;if(se>16-i){n=e;oe|=n<<se&65535;r(oe);oe=n>>>16-se;se+=i-16}else{oe|=e<<se&65535;se+=i}}function a(e,t){const n=2*e;i(65535&t[n],65535&t[n+1])}function u(e,t){let n,r,o=-1,s=e[1],c=0,u=7,l=4;if(0===s){u=138;l=3}for(n=0;n<=t;n++){r=s;s=e[2*(n+1)+1];if(++c>=u||r!=s){if(c<l)do{a(r,X)}while(0!==--c);else if(0!==r){if(r!=o){a(r,X);c--}a(16,X);i(c-3,2)}else if(c>10){a(18,X);i(c-11,7)}else{a(17,X);i(c-3,3)}c=0;o=r;if(0===s){u=138;l=3}else if(r==s){u=6;l=3}else{u=7;l=4}}}}function l(){if(16==se){r(oe);oe=0;se=0}else if(se>=8){n(255&oe);oe>>>=8;se-=8}}function f(e,t){let n,r,i;_.dist_buf[ne]=e;_.lc_buf[ne]=255&t;ne++;if(0===e)$[2*t]++;else{re++;e--;$[2*(o._length_code[t]+Fe+1)]++;Q[2*o.d_code(e)]++}if(0===(8191&ne)&&W>2){n=8*ne;r=F-k;for(i=0;i<30;i++)n+=Q[2*i]*(5+o.extra_dbits[i]);n>>>=3;if(re<Math.floor(ne/2)&&n<Math.floor(r/2))return!0}return ne==te-1}function d(e,t){let n,r,s,c,u=0;if(0!==ne)do{n=_.dist_buf[u];r=_.lc_buf[u];u++;if(0===n)a(r,e);else{s=o._length_code[r];a(s+Fe+1,e);c=o.extra_lbits[s];if(0!==c){r-=o.base_length[s];i(r,c)}n--;s=o.d_code(n);a(s,t);c=o.extra_dbits[s];if(0!==c){n-=o.base_dist[s];i(n,c)}}}while(u<ne);a(je,e);ie=e[513]}function h(){se>8?r(oe):se>0&&n(255&oe);oe=0;se=0}function p(e,t,n){i(0+(n?1:0),3);!function(e,t){h();ie=8;r(t);r(~t);_.pending_buf.set(w.subarray(e,e+t),_.pending);_.pending+=t}(e,t)}function m(n){!function(n,r,a){let c,l,f=0;if(W>0){J.build_tree(_);Z.build_tree(_);f=function(){let e;t($,J.max_code);t(Q,Z.max_code);ee.build_tree(_);for(e=18;e>=3&&0===X[2*o.bl_order[e]+1];e--);_.opt_len+=3*(e+1)+5+5+4;return e}();c=_.opt_len+3+7>>>3;l=_.static_len+3+7>>>3;l>c||(c=l)}else c=l=r+5;if(r+4>c||-1==n)if(l==c){i(2+(a?1:0),3);d(s.static_ltree,s.static_dtree)}else{i(4+(a?1:0),3);!function(e,t,n){let r;i(e-257,5);i(t-1,5);i(n-4,4);for(r=0;r<n;r++)i(X[2*o.bl_order[r]+1],3);u($,e-1);u(Q,t-1)}(J.max_code+1,Z.max_code+1,f+1);d($,Q)}else p(n,r,a);e();a&&h()}(k<0?-1:k,F-k,n);k=F;v.flush_pending()}function g(){let e,t,n,r;do{r=N-G-F;if(0===r&&0===F&&0===G)r=T;else if(-1==r)r--;else if(F>=T+T-Xe){w.set(w.subarray(T,T+T),0);j-=T;F-=T;k-=T;e=L;n=e;do{t=65535&R[--n];R[n]=t<T?0:t-T}while(0!==--e);e=T;n=e;do{t=65535&A[--n];A[n]=t<T?0:t-T}while(0!==--e);r+=T}if(0===v.avail_in)return;e=v.read_buf(w,F+G,r);G+=e;if(G>=3){O=255&w[F];O=(O<<P^255&w[F+1])&x}}while(G<Xe&&0!==v.avail_in)}function y(e){let t,n,r=V,i=F,o=H;const s=F>T-Xe?F-(T-Xe):0;let a=Y;const c=I,u=F+Qe;let l=w[i+o-1],f=w[i+o];H<z||(r>>=2);a>G&&(a=G);do{t=e;if(w[t+o]==f&&w[t+o-1]==l&&w[t]==w[i]&&w[++t]==w[i+1]){i+=2;t++;do{}while(w[++i]==w[++t]&&w[++i]==w[++t]&&w[++i]==w[++t]&&w[++i]==w[++t]&&w[++i]==w[++t]&&w[++i]==w[++t]&&w[++i]==w[++t]&&w[++i]==w[++t]&&i<u);n=Qe-(u-i);i=u-Qe;if(n>o){j=e;o=n;if(n>=a)break;l=w[i+o-1];f=w[i+o]}}}while((e=65535&A[e&c])>s&&0!==--r);return o>G?G:o}const _=this;let v,E,S,b,T,C,I,w,N,A,R,O,L,D,x,P,k,B,M,U,F,j,G,H,V,q,W,K,z,Y,$,Q,X;const J=new o,Z=new o,ee=new o;_.depth=[];let te,ne,re,ie,oe,se;_.bl_count=[];_.heap=[];$=[];Q=[];X=[];_.pqdownheap=function(e,t){const n=_.heap,r=n[t];let i=t<<1;for(;i<=_.heap_len;){i<_.heap_len&&c(e,n[i+1],n[i],_.depth)&&i++;if(c(e,r,n[i],_.depth))break;n[t]=n[i];t=i;i<<=1}n[t]=r};_.deflateInit=function(t,n,r,i,o,a){i||(i=8);o||(o=8);a||(a=0);t.msg=null;-1==n&&(n=6);if(o<1||o>9||8!=i||r<9||r>15||n<0||n>9||a<0||a>2)return Ge;t.dstate=_;C=r;T=1<<C;I=T-1;D=o+7;L=1<<D;x=L-1;P=Math.floor((D+3-1)/3);w=new Uint8Array(2*T);A=[];R=[];te=1<<o+6;_.pending_buf=new Uint8Array(4*te);S=4*te;_.dist_buf=new Uint16Array(te);_.lc_buf=new Uint8Array(te);W=n;K=a;return function(t){t.total_in=t.total_out=0;t.msg=null;_.pending=0;_.pending_out=0;E=Ye;b=0;!function(){J.dyn_tree=$;J.stat_desc=s.static_l_desc;Z.dyn_tree=Q;Z.stat_desc=s.static_d_desc;ee.dyn_tree=X;ee.stat_desc=s.static_bl_desc;oe=0;se=0;ie=8;e()}();!function(){N=2*T;R[L-1]=0;for(let e=0;e<L-1;e++)R[e]=0;q=Ke[W].max_lazy;z=Ke[W].good_length;Y=Ke[W].nice_length;V=Ke[W].max_chain;F=0;k=0;G=0;B=H=2;U=0;O=0}();return 0}(t)};_.deflateEnd=function(){if(42!=E&&E!=Ye&&E!=$e)return Ge;_.lc_buf=null;_.dist_buf=null;_.pending_buf=null;R=null;A=null;w=null;_.dstate=null;return E==Ye?-3:0};_.deflateParams=function(e,t,n){let r=0;-1==t&&(t=6);if(t<0||t>9||n<0||n>2)return Ge;Ke[W].func!=Ke[t].func&&0!==e.total_in&&(r=e.deflate(1));if(W!=t){W=t;q=Ke[W].max_lazy;z=Ke[W].good_length;Y=Ke[W].nice_length;V=Ke[W].max_chain}K=n;return r};_.deflateSetDictionary=function(e,t,n){let r,i=n,o=0;if(!t||42!=E)return Ge;if(i<3)return 0;if(i>T-Xe){i=T-Xe;o=n-i}w.set(t.subarray(o,o+i),0);F=i;k=i;O=255&w[0];O=(O<<P^255&w[1])&x;for(r=0;r<=i-3;r++){O=(O<<P^255&w[r+2])&x;A[r&I]=R[O];R[O]=r}return 0};_.deflate=function(e,t){let r,o,c,u,d;if(t>4||t<0)return Ge;if(!e.next_out||!e.next_in&&0!==e.avail_in||E==$e&&4!=t){e.msg=ze[4];return Ge}if(0===e.avail_out){e.msg=ze[7];return He}v=e;u=b;b=t;if(42==E){o=8+(C-8<<4)<<8;c=(W-1&255)>>1;c>3&&(c=3);o|=c<<6;0!==F&&(o|=32);o+=31-o%31;E=Ye;!function(e){n(e>>8&255);n(255&e)}(o)}if(0!==_.pending){v.flush_pending();if(0===v.avail_out){b=-1;return 0}}else if(0===v.avail_in&&t<=u&&4!=t){v.msg=ze[7];return He}if(E==$e&&0!==v.avail_in){e.msg=ze[7];return He}if(0!==v.avail_in||0!==G||0!=t&&E!=$e){d=-1;switch(Ke[W].func){case 0:d=function(e){let t,n=65535;n>S-5&&(n=S-5);for(;;){if(G<=1){g();if(0===G&&0==e)return 0;if(0===G)break}F+=G;G=0;t=k+n;if(0===F||F>=t){G=F-t;F=t;m(!1);if(0===v.avail_out)return 0}if(F-k>=T-Xe){m(!1);if(0===v.avail_out)return 0}}m(4==e);return 0===v.avail_out?4==e?2:0:4==e?3:1}(t);break;case 1:d=function(e){let t,n=0;for(;;){if(G<Xe){g();if(G<Xe&&0==e)return 0;if(0===G)break}if(G>=3){O=(O<<P^255&w[F+2])&x;n=65535&R[O];A[F&I]=R[O];R[O]=F}0===n||(F-n&65535)>T-Xe||2!=K&&(B=y(n));if(B<3){t=f(0,255&w[F]);G--;F++}else{t=f(F-j,B-3);G-=B;if(B>q||G<3){F+=B;B=0;O=255&w[F];O=(O<<P^255&w[F+1])&x}else{B--;do{F++;O=(O<<P^255&w[F+2])&x;n=65535&R[O];A[F&I]=R[O];R[O]=F}while(0!==--B);F++}}if(t){m(!1);if(0===v.avail_out)return 0}}m(4==e);return 0===v.avail_out?4==e?2:0:4==e?3:1}(t);break;case 2:d=function(e){let t,n,r=0;for(;;){if(G<Xe){g();if(G<Xe&&0==e)return 0;if(0===G)break}if(G>=3){O=(O<<P^255&w[F+2])&x;r=65535&R[O];A[F&I]=R[O];R[O]=F}H=B;M=j;B=2;if(0!==r&&H<q&&(F-r&65535)<=T-Xe){2!=K&&(B=y(r));B<=5&&(1==K||3==B&&F-j>4096)&&(B=2)}if(H<3||B>H)if(0!==U){t=f(0,255&w[F-1]);t&&m(!1);F++;G--;if(0===v.avail_out)return 0}else{U=1;F++;G--}else{n=F+G-3;t=f(F-1-M,H-3);G-=H-1;H-=2;do{if(++F<=n){O=(O<<P^255&w[F+2])&x;r=65535&R[O];A[F&I]=R[O];R[O]=F}}while(0!==--H);U=0;B=2;F++;if(t){m(!1);if(0===v.avail_out)return 0}}}if(0!==U){t=f(0,255&w[F-1]);U=0}m(4==e);return 0===v.avail_out?4==e?2:0:4==e?3:1}(t)}2!=d&&3!=d||(E=$e);if(0==d||2==d){0===v.avail_out&&(b=-1);return 0}if(1==d){if(1==t)!function(){i(2,3);a(je,s.static_ltree);l();if(1+ie+10-se<9){i(2,3);a(je,s.static_ltree);l()}ie=7}();else{p(0,0,!1);if(3==t)for(r=0;r<L;r++)R[r]=0}v.flush_pending();if(0===v.avail_out){b=-1;return 0}}}return 4!=t?0:1}}function l(){const e=this;e.next_in_index=0;e.next_out_index=0;e.avail_in=0;e.total_in=0;e.avail_out=0;e.total_out=0}function f(){function e(e,t,n,r,c,u,l,f,d,h,p){let m,g,y,_,v,E,S,b,T,C,I,w,N,A,R;C=0;v=n;do{i[e[t+C]]++;C++;v--}while(0!==v);if(i[0]==n){l[0]=-1;f[0]=0;return 0}b=f[0];for(E=1;E<=ct&&0===i[E];E++);S=E;b<E&&(b=E);for(v=ct;0!==v&&0===i[v];v--);y=v;b>v&&(b=v);f[0]=b;for(A=1<<E;E<v;E++,A<<=1)if((A-=i[E])<0)return Ze;if((A-=i[v])<0)return Ze;i[v]+=A;a[1]=E=0;C=1;N=2;for(;0!==--v;){a[N]=E+=i[C];N++;C++}v=0;C=0;do{0!==(E=e[t+C])&&(p[a[E]++]=v);C++}while(++v<n);n=a[y];a[0]=v=0;C=0;_=-1;w=-b;s[0]=0;I=0;R=0;for(;S<=y;S++){m=i[S];for(;0!==m--;){for(;S>w+b;){_++;w+=b;R=y-w;R=R>b?b:R;if((g=1<<(E=S-w))>m+1){g-=m+1;N=S;if(E<R)for(;++E<R&&(g<<=1)>i[++N];)g-=i[N]}R=1<<E;if(h[0]+R>1440)return Ze;s[_]=I=h[0];h[0]+=R;if(0!==_){a[_]=v;o[0]=E;o[1]=b;E=v>>>w-b;o[2]=I-s[_-1]-E;d.set(o,3*(s[_-1]+E))}else l[0]=I}o[1]=S-w;if(C<n)if(p[C]<r){o[0]=p[C]<256?0:96;o[2]=p[C++]}else{o[0]=u[p[C]-r]+16+64;o[2]=c[p[C++]-r]}else o[0]=192;g=1<<S-w;for(E=v>>>w;E<R;E+=g)d.set(o,3*(I+E));for(E=1<<S-1;0!==(v&E);E>>>=1)v^=E;v^=E;T=(1<<w)-1;for(;(v&T)!=a[_];){_--;w-=b;T=(1<<w)-1}}}return 0!==A&&1!=y?et:0}function t(e){let t;if(!n){n=[];r=[];i=new Int32Array(16);o=[];s=new Int32Array(ct);a=new Int32Array(16)}r.length<e&&(r=[]);for(t=0;t<e;t++)r[t]=0;for(t=0;t<16;t++)i[t]=0;for(t=0;t<3;t++)o[t]=0;s.set(i.subarray(0,ct),0);a.set(i.subarray(0,16),0)}let n,r,i,o,s,a;this.inflate_trees_bits=function(i,o,s,a,c){let u;t(19);n[0]=0;u=e(i,0,19,19,null,null,s,o,a,n,r);if(u==Ze)c.msg="oversubscribed dynamic bit lengths tree";else if(u==et||0===o[0]){c.msg="incomplete dynamic bit lengths tree";u=Ze}return u};this.inflate_trees_dynamic=function(i,o,s,a,c,u,l,f,d){let h;t(288);n[0]=0;h=e(s,0,i,257,it,ot,u,a,f,n,r);if(0!=h||0===a[0]){if(h==Ze)d.msg="oversubscribed literal/length tree";else if(-4!=h){d.msg="incomplete literal/length tree";h=Ze}return h}t(288);h=e(s,i,o,0,st,at,l,c,f,n,r);if(0!=h||0===c[0]&&i>257){if(h==Ze)d.msg="oversubscribed distance tree";else if(h==et){d.msg="incomplete distance tree";h=Ze}else if(-4!=h){d.msg="empty distance tree with lengths";h=Ze}return h}return 0}}function d(){function e(e,t,n,r,i,o,s,a){let c,u,l,f,d,h,p,m,g,y,_,v,E,S,b,T;p=a.next_in_index;m=a.avail_in;d=s.bitb;h=s.bitk;g=s.write;y=g<s.read?s.read-g-1:s.end-g;_=tt[e];v=tt[t];do{for(;h<20;){m--;d|=(255&a.read_byte(p++))<<h;h+=8}c=d&_;u=n;l=r;T=3*(l+c);if(0!==(f=u[T]))for(;;){d>>=u[T+1];h-=u[T+1];if(0!==(16&f)){f&=15;E=u[T+2]+(d&tt[f]);d>>=f;h-=f;for(;h<15;){m--;d|=(255&a.read_byte(p++))<<h;h+=8}c=d&v;u=i;l=o;T=3*(l+c);f=u[T];for(;;){d>>=u[T+1];h-=u[T+1];if(0!==(16&f)){f&=15;for(;h<f;){m--;d|=(255&a.read_byte(p++))<<h;h+=8}S=u[T+2]+(d&tt[f]);d>>=f;h-=f;y-=E;if(g<S){b=g-S;do{b+=s.end}while(b<0);f=s.end-b;if(E>f){E-=f;if(g-b>0&&f>g-b)do{s.win[g++]=s.win[b++]}while(0!==--f);else{s.win.set(s.win.subarray(b,b+f),g);g+=f;b+=f;f=0}b=0}}else{b=g-S;if(g-b>0&&2>g-b){s.win[g++]=s.win[b++];s.win[g++]=s.win[b++];E-=2}else{s.win.set(s.win.subarray(b,b+2),g);g+=2;b+=2;E-=2}}if(g-b>0&&E>g-b)do{s.win[g++]=s.win[b++]}while(0!==--E);else{s.win.set(s.win.subarray(b,b+E),g);g+=E;b+=E;E=0}break}if(0!==(64&f)){a.msg="invalid distance code";E=a.avail_in-m;E=h>>3<E?h>>3:E;m+=E;p-=E;h-=E<<3;s.bitb=d;s.bitk=h;a.avail_in=m;a.total_in+=p-a.next_in_index;a.next_in_index=p;s.write=g;return Ze}c+=u[T+2];c+=d&tt[f];T=3*(l+c);f=u[T]}break}if(0!==(64&f)){if(0!==(32&f)){E=a.avail_in-m;E=h>>3<E?h>>3:E;m+=E;p-=E;h-=E<<3;s.bitb=d;s.bitk=h;a.avail_in=m;a.total_in+=p-a.next_in_index;a.next_in_index=p;s.write=g;return 1}a.msg="invalid literal/length code";E=a.avail_in-m;E=h>>3<E?h>>3:E;m+=E;p-=E;h-=E<<3;s.bitb=d;s.bitk=h;a.avail_in=m;a.total_in+=p-a.next_in_index;a.next_in_index=p;s.write=g;return Ze}c+=u[T+2];c+=d&tt[f];T=3*(l+c);if(0===(f=u[T])){d>>=u[T+1];h-=u[T+1];s.win[g++]=u[T+2];y--;break}}else{d>>=u[T+1];h-=u[T+1];s.win[g++]=u[T+2];y--}}while(y>=258&&m>=10);E=a.avail_in-m;E=h>>3<E?h>>3:E;m+=E;p-=E;h-=E<<3;s.bitb=d;s.bitk=h;a.avail_in=m;a.total_in+=p-a.next_in_index;a.next_in_index=p;s.write=g;return 0}const t=this;let n,r,i,o,s=0,a=0,c=0,u=0,l=0,f=0,d=0,h=0,p=0,m=0;t.init=function(e,t,s,a,c,u){n=0;d=e;h=t;i=s;p=a;o=c;m=u;r=null};t.proc=function(t,g,y){let _,v,E,S,b,T,C,I=0,w=0,N=0;N=g.next_in_index;S=g.avail_in;I=t.bitb;w=t.bitk;b=t.write;T=b<t.read?t.read-b-1:t.end-b;for(;;)switch(n){case 0:if(T>=258&&S>=10){t.bitb=I;t.bitk=w;g.avail_in=S;g.total_in+=N-g.next_in_index;g.next_in_index=N;t.write=b;y=e(d,h,i,p,o,m,t,g);N=g.next_in_index;S=g.avail_in;I=t.bitb;w=t.bitk;b=t.write;T=b<t.read?t.read-b-1:t.end-b;if(0!=y){n=1==y?7:9;break}}c=d;r=i;a=p;n=1;case 1:_=c;for(;w<_;){if(0===S){t.bitb=I;t.bitk=w;g.avail_in=S;g.total_in+=N-g.next_in_index;g.next_in_index=N;t.write=b;return t.inflate_flush(g,y)}y=0;S--;I|=(255&g.read_byte(N++))<<w;w+=8}v=3*(a+(I&tt[_]));I>>>=r[v+1];w-=r[v+1];E=r[v];if(0===E){u=r[v+2];n=6;break}if(0!==(16&E)){l=15&E;s=r[v+2];n=2;break}if(0===(64&E)){c=E;a=v/3+r[v+2];break}if(0!==(32&E)){n=7;break}n=9;g.msg="invalid literal/length code";y=Ze;t.bitb=I;t.bitk=w;g.avail_in=S;g.total_in+=N-g.next_in_index;g.next_in_index=N;t.write=b;return t.inflate_flush(g,y);case 2:_=l;for(;w<_;){if(0===S){t.bitb=I;t.bitk=w;g.avail_in=S;g.total_in+=N-g.next_in_index;g.next_in_index=N;t.write=b;return t.inflate_flush(g,y)}y=0;S--;I|=(255&g.read_byte(N++))<<w;w+=8}s+=I&tt[_];I>>=_;w-=_;c=h;r=o;a=m;n=3;case 3:_=c;for(;w<_;){if(0===S){t.bitb=I;t.bitk=w;g.avail_in=S;g.total_in+=N-g.next_in_index;g.next_in_index=N;t.write=b;return t.inflate_flush(g,y)}y=0;S--;I|=(255&g.read_byte(N++))<<w;w+=8}v=3*(a+(I&tt[_]));I>>=r[v+1];w-=r[v+1];E=r[v];if(0!==(16&E)){l=15&E;f=r[v+2];n=4;break}if(0===(64&E)){c=E;a=v/3+r[v+2];break}n=9;g.msg="invalid distance code";y=Ze;t.bitb=I;t.bitk=w;g.avail_in=S;g.total_in+=N-g.next_in_index;g.next_in_index=N;t.write=b;return t.inflate_flush(g,y);case 4:_=l;for(;w<_;){if(0===S){t.bitb=I;t.bitk=w;g.avail_in=S;g.total_in+=N-g.next_in_index;g.next_in_index=N;t.write=b;return t.inflate_flush(g,y)}y=0;S--;I|=(255&g.read_byte(N++))<<w;w+=8}f+=I&tt[_];I>>=_;w-=_;n=5;case 5:C=b-f;for(;C<0;)C+=t.end;for(;0!==s;){if(0===T){if(b==t.end&&0!==t.read){b=0;T=b<t.read?t.read-b-1:t.end-b}if(0===T){t.write=b;y=t.inflate_flush(g,y);b=t.write;T=b<t.read?t.read-b-1:t.end-b;if(b==t.end&&0!==t.read){b=0;T=b<t.read?t.read-b-1:t.end-b}if(0===T){t.bitb=I;t.bitk=w;g.avail_in=S;g.total_in+=N-g.next_in_index;g.next_in_index=N;t.write=b;return t.inflate_flush(g,y)}}}t.win[b++]=t.win[C++];T--;C==t.end&&(C=0);s--}n=0;break;case 6:if(0===T){if(b==t.end&&0!==t.read){b=0;T=b<t.read?t.read-b-1:t.end-b}if(0===T){t.write=b;y=t.inflate_flush(g,y);b=t.write;T=b<t.read?t.read-b-1:t.end-b;if(b==t.end&&0!==t.read){b=0;T=b<t.read?t.read-b-1:t.end-b}if(0===T){t.bitb=I;t.bitk=w;g.avail_in=S;g.total_in+=N-g.next_in_index;g.next_in_index=N;t.write=b;return t.inflate_flush(g,y)}}}y=0;t.win[b++]=u;T--;n=0;break;case 7:if(w>7){w-=8;S++;N--}t.write=b;y=t.inflate_flush(g,y);b=t.write;T=b<t.read?t.read-b-1:t.end-b;if(t.read!=t.write){t.bitb=I;t.bitk=w;g.avail_in=S;g.total_in+=N-g.next_in_index;g.next_in_index=N;t.write=b;return t.inflate_flush(g,y)}n=8;case 8:y=1;t.bitb=I;t.bitk=w;g.avail_in=S;g.total_in+=N-g.next_in_index;g.next_in_index=N;t.write=b;return t.inflate_flush(g,y);case 9:y=Ze;t.bitb=I;t.bitk=w;g.avail_in=S;g.total_in+=N-g.next_in_index;g.next_in_index=N;t.write=b;return t.inflate_flush(g,y);default:y=Je;t.bitb=I;t.bitk=w;g.avail_in=S;g.total_in+=N-g.next_in_index;g.next_in_index=N;t.write=b;return t.inflate_flush(g,y)}};t.free=function(){}}function h(e,t){const n=this;let r,i=0,o=0,s=0,a=0;const c=[0],u=[0],l=new d;let h=0,p=new Int32Array(4320);const m=new f;n.bitk=0;n.bitb=0;n.win=new Uint8Array(t);n.end=t;n.read=0;n.write=0;n.reset=function(e,t){t&&(t[0]=0);6==i&&l.free(e);i=0;n.bitk=0;n.bitb=0;n.read=n.write=0};n.reset(e,null);n.inflate_flush=function(e,t){let r,i,o;i=e.next_out_index;o=n.read;r=(o>n.write?n.end:n.write)-o;r>e.avail_out&&(r=e.avail_out);0!==r&&t==et&&(t=0);e.avail_out-=r;e.total_out+=r;e.next_out.set(n.win.subarray(o,o+r),i);i+=r;o+=r;if(o==n.end){o=0;n.write==n.end&&(n.write=0);r=n.write-o;r>e.avail_out&&(r=e.avail_out);0!==r&&t==et&&(t=0);e.avail_out-=r;e.total_out+=r;e.next_out.set(n.win.subarray(o,o+r),i);i+=r;o+=r}e.next_out_index=i;n.read=o;return t};n.proc=function(e,t){let d,g,y,_,v,E,S,b;_=e.next_in_index;v=e.avail_in;g=n.bitb;y=n.bitk;E=n.write;S=E<n.read?n.read-E-1:n.end-E;for(;;){let T,C,I,w,N,A,R,O;switch(i){case 0:for(;y<3;){if(0===v){n.bitb=g;n.bitk=y;e.avail_in=v;e.total_in+=_-e.next_in_index;e.next_in_index=_;n.write=E;return n.inflate_flush(e,t)}t=0;v--;g|=(255&e.read_byte(_++))<<y;y+=8}d=7&g;h=1&d;switch(d>>>1){case 0:g>>>=3;y-=3;d=7&y;g>>>=d;y-=d;i=1;break;case 1:T=[];C=[];I=[[]];w=[[]];f.inflate_trees_fixed(T,C,I,w);l.init(T[0],C[0],I[0],0,w[0],0);g>>>=3;y-=3;i=6;break;case 2:g>>>=3;y-=3;i=3;break;case 3:g>>>=3;y-=3;i=9;e.msg="invalid block type";t=Ze;n.bitb=g;n.bitk=y;e.avail_in=v;e.total_in+=_-e.next_in_index;e.next_in_index=_;n.write=E;return n.inflate_flush(e,t)}break;case 1:for(;y<32;){if(0===v){n.bitb=g;n.bitk=y;e.avail_in=v;e.total_in+=_-e.next_in_index;e.next_in_index=_;n.write=E;return n.inflate_flush(e,t)}t=0;v--;g|=(255&e.read_byte(_++))<<y;y+=8}if((~g>>>16&65535)!=(65535&g)){i=9;e.msg="invalid stored block lengths";t=Ze;n.bitb=g;n.bitk=y;e.avail_in=v;e.total_in+=_-e.next_in_index;e.next_in_index=_;n.write=E;return n.inflate_flush(e,t)}o=65535&g;g=y=0;i=0!==o?2:0!==h?7:0;break;case 2:if(0===v){n.bitb=g;n.bitk=y;e.avail_in=v;e.total_in+=_-e.next_in_index;e.next_in_index=_;n.write=E;return n.inflate_flush(e,t)}if(0===S){if(E==n.end&&0!==n.read){E=0;S=E<n.read?n.read-E-1:n.end-E}if(0===S){n.write=E;t=n.inflate_flush(e,t);E=n.write;S=E<n.read?n.read-E-1:n.end-E;if(E==n.end&&0!==n.read){E=0;S=E<n.read?n.read-E-1:n.end-E}if(0===S){n.bitb=g;n.bitk=y;e.avail_in=v;e.total_in+=_-e.next_in_index;e.next_in_index=_;n.write=E;return n.inflate_flush(e,t)}}}t=0;d=o;d>v&&(d=v);d>S&&(d=S);n.win.set(e.read_buf(_,d),E);_+=d;v-=d;E+=d;S-=d;if(0!==(o-=d))break;i=0!==h?7:0;break;case 3:for(;y<14;){if(0===v){n.bitb=g;n.bitk=y;e.avail_in=v;e.total_in+=_-e.next_in_index;e.next_in_index=_;n.write=E;return n.inflate_flush(e,t)}t=0;v--;g|=(255&e.read_byte(_++))<<y;y+=8}s=d=16383&g;if((31&d)>29||(d>>5&31)>29){i=9;e.msg="too many length or distance symbols";t=Ze;n.bitb=g;n.bitk=y;e.avail_in=v;e.total_in+=_-e.next_in_index;e.next_in_index=_;n.write=E;return n.inflate_flush(e,t)}d=258+(31&d)+(d>>5&31);if(!r||r.length<d)r=[];else for(b=0;b<d;b++)r[b]=0;g>>>=14;y-=14;a=0;i=4;case 4:for(;a<4+(s>>>10);){for(;y<3;){if(0===v){n.bitb=g;n.bitk=y;e.avail_in=v;e.total_in+=_-e.next_in_index;e.next_in_index=_;n.write=E;return n.inflate_flush(e,t)}t=0;v--;g|=(255&e.read_byte(_++))<<y;y+=8}r[ut[a++]]=7&g;g>>>=3;y-=3}for(;a<19;)r[ut[a++]]=0;c[0]=7;d=m.inflate_trees_bits(r,c,u,p,e);if(0!=d){if((t=d)==Ze){r=null;i=9}n.bitb=g;n.bitk=y;e.avail_in=v;e.total_in+=_-e.next_in_index;e.next_in_index=_;n.write=E;return n.inflate_flush(e,t)}a=0;i=5;case 5:for(;;){d=s;if(a>=258+(31&d)+(d>>5&31))break;let o,l;d=c[0];for(;y<d;){if(0===v){n.bitb=g;n.bitk=y;e.avail_in=v;e.total_in+=_-e.next_in_index;e.next_in_index=_;n.write=E;return n.inflate_flush(e,t)}t=0;v--;g|=(255&e.read_byte(_++))<<y;y+=8}d=p[3*(u[0]+(g&tt[d]))+1];l=p[3*(u[0]+(g&tt[d]))+2];if(l<16){g>>>=d;y-=d;r[a++]=l}else{b=18==l?7:l-14;o=18==l?11:3;for(;y<d+b;){if(0===v){n.bitb=g;n.bitk=y;e.avail_in=v;e.total_in+=_-e.next_in_index;e.next_in_index=_;n.write=E;return n.inflate_flush(e,t)}t=0;v--;g|=(255&e.read_byte(_++))<<y;y+=8}g>>>=d;y-=d;o+=g&tt[b];g>>>=b;y-=b;b=a;d=s;if(b+o>258+(31&d)+(d>>5&31)||16==l&&b<1){r=null;i=9;e.msg="invalid bit length repeat";t=Ze;n.bitb=g;n.bitk=y;e.avail_in=v;e.total_in+=_-e.next_in_index;e.next_in_index=_;n.write=E;return n.inflate_flush(e,t)}l=16==l?r[b-1]:0;do{r[b++]=l}while(0!==--o);a=b}}u[0]=-1;N=[];A=[];R=[];O=[];N[0]=9;A[0]=6;d=s;d=m.inflate_trees_dynamic(257+(31&d),1+(d>>5&31),r,N,A,R,O,p,e);if(0!=d){if(d==Ze){r=null;i=9}t=d;n.bitb=g;n.bitk=y;e.avail_in=v;e.total_in+=_-e.next_in_index;e.next_in_index=_;n.write=E;return n.inflate_flush(e,t)}l.init(N[0],A[0],p,R[0],p,O[0]);i=6;case 6:n.bitb=g;n.bitk=y;e.avail_in=v;e.total_in+=_-e.next_in_index;e.next_in_index=_;n.write=E;if(1!=(t=l.proc(n,e,t)))return n.inflate_flush(e,t);t=0;l.free(e);_=e.next_in_index;v=e.avail_in;g=n.bitb;y=n.bitk;E=n.write;S=E<n.read?n.read-E-1:n.end-E;if(0===h){i=0;break}i=7;case 7:n.write=E;t=n.inflate_flush(e,t);E=n.write;S=E<n.read?n.read-E-1:n.end-E;if(n.read!=n.write){n.bitb=g;n.bitk=y;e.avail_in=v;e.total_in+=_-e.next_in_index;e.next_in_index=_;n.write=E;return n.inflate_flush(e,t)}i=8;case 8:t=1;n.bitb=g;n.bitk=y;e.avail_in=v;e.total_in+=_-e.next_in_index;e.next_in_index=_;n.write=E;return n.inflate_flush(e,t);case 9:t=Ze;n.bitb=g;n.bitk=y;e.avail_in=v;e.total_in+=_-e.next_in_index;e.next_in_index=_;n.write=E;return n.inflate_flush(e,t);default:t=Je;n.bitb=g;n.bitk=y;e.avail_in=v;e.total_in+=_-e.next_in_index;e.next_in_index=_;n.write=E;return n.inflate_flush(e,t)}}};n.free=function(e){n.reset(e,null);n.win=null;p=null};n.set_dictionary=function(e,t,r){n.win.set(e.subarray(t,t+r),0);n.read=n.write=r};n.sync_point=function(){return 1==i?1:0}}function p(){function e(e){if(!e||!e.istate)return Je;e.total_in=e.total_out=0;e.msg=null;e.istate.mode=7;e.istate.blocks.reset(e,null);return 0}const t=this;t.mode=0;t.method=0;t.was=[0];t.need=0;t.marker=0;t.wbits=0;t.inflateEnd=function(e){t.blocks&&t.blocks.free(e);t.blocks=null;return 0};t.inflateInit=function(n,r){n.msg=null;t.blocks=null;if(r<8||r>15){t.inflateEnd(n);return Je}t.wbits=r;n.istate.blocks=new h(n,1<<r);e(n);return 0};t.inflate=function(e,t){let n,r;if(!e||!e.istate||!e.next_in)return Je;const i=e.istate;t=4==t?et:0;n=et;for(;;)switch(i.mode){case 0:if(0===e.avail_in)return n;n=t;e.avail_in--;e.total_in++;if(8!=(15&(i.method=e.read_byte(e.next_in_index++)))){i.mode=lt;e.msg="unknown compression method";i.marker=5;break}if(8+(i.method>>4)>i.wbits){i.mode=lt;e.msg="invalid win size";i.marker=5;break}i.mode=1;case 1:if(0===e.avail_in)return n;n=t;e.avail_in--;e.total_in++;r=255&e.read_byte(e.next_in_index++);if(((i.method<<8)+r)%31!==0){i.mode=lt;e.msg="incorrect header check";i.marker=5;break}if(0===(32&r)){i.mode=7;break}i.mode=2;case 2:if(0===e.avail_in)return n;n=t;e.avail_in--;e.total_in++;i.need=(255&e.read_byte(e.next_in_index++))<<24&4278190080;i.mode=3;case 3:if(0===e.avail_in)return n;n=t;e.avail_in--;e.total_in++;i.need+=(255&e.read_byte(e.next_in_index++))<<16&16711680;i.mode=4;case 4:if(0===e.avail_in)return n;n=t;e.avail_in--;e.total_in++;i.need+=(255&e.read_byte(e.next_in_index++))<<8&65280;i.mode=5;case 5:if(0===e.avail_in)return n;n=t;e.avail_in--;e.total_in++;i.need+=255&e.read_byte(e.next_in_index++);i.mode=6;return 2;case 6:i.mode=lt;e.msg="need dictionary";i.marker=0;return Je;case 7:n=i.blocks.proc(e,n);if(n==Ze){i.mode=lt;i.marker=0;break}0==n&&(n=t);if(1!=n)return n;n=t;i.blocks.reset(e,i.was);i.mode=12;case 12:e.avail_in=0;return 1;case lt:return Ze;default:return Je}};t.inflateSetDictionary=function(e,t,n){let r=0,i=n;if(!e||!e.istate||6!=e.istate.mode)return Je;const o=e.istate;if(i>=1<<o.wbits){i=(1<<o.wbits)-1;r=n-i}o.blocks.set_dictionary(t,r,i);o.mode=7;return 0};t.inflateSync=function(t){let n,r,i,o,s;if(!t||!t.istate)return Je;const a=t.istate;if(a.mode!=lt){a.mode=lt;a.marker=0}if(0===(n=t.avail_in))return et;r=t.next_in_index;i=a.marker;for(;0!==n&&i<4;){t.read_byte(r)==ft[i]?i++:i=0!==t.read_byte(r)?0:4-i;r++;n--}t.total_in+=r-t.next_in_index;t.next_in_index=r;t.avail_in=n;a.marker=i;if(4!=i)return Ze;o=t.total_in;s=t.total_out;e(t);t.total_in=o;t.total_out=s;a.mode=7;return 0};t.inflateSyncPoint=function(e){return e&&e.istate&&e.istate.blocks?e.istate.blocks.sync_point():Je}}function m(){}function g(){return kt}function y(e){return Math.max(e.chunkSize,64)}function _(e){const{baseURL:t,chunkSize:n,maxWorkers:r,terminateWorkerTimeout:i,useCompressionStream:o,useWebWorkers:s,Deflate:a,Inflate:c,LOG:u,CompressionStream:l,DecompressionStream:f,workerScripts:d}=e;v("LOG",u);v("baseURL",t);v("chunkSize",n);v("maxWorkers",r);v("terminateWorkerTimeout",i);v("useCompressionStream",o);v("useWebWorkers",s);a&&(kt.CompressionStream=new Dt(a));c&&(kt.DecompressionStream=new Dt(c));v("CompressionStream",l);v("DecompressionStream",f);if(d!==Rt){const{deflate:e,inflate:t}=d;(e||t)&&(kt.workerScripts||(kt.workerScripts={}));if(e){if(!Array.isArray(e))throw new Error("workerScripts.deflate must be an array");kt.workerScripts.deflate=e}if(t){if(!Array.isArray(t))throw new Error("workerScripts.inflate must be an array");kt.workerScripts.inflate=t}}}function v(e,t){t!==Rt&&(kt[e]=t)}function E(e){if(typeof TextEncoder==Ot){e=unescape(encodeURIComponent(e));const t=new Uint8Array(e.length);for(let n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t}return(new TextEncoder).encode(e)}function S(e){return Yt?crypto.getRandomValues(e):Wt.getRandomValues(e)}function b(e,t,n,r,i,o){const{ctr:s,hmac:a,pending:c}=e,u=t.length-i;if(c.length){t=I(c,t);n=function(e,t){if(t&&t>e.length){const n=e;(e=new Uint8Array(t)).set(n,0)}return e}(n,u-u%Jt)}let l;for(l=0;l<=u-Jt;l+=Jt){const e=A(fn,w(t,l,l+Jt));o&&a.update(e);const i=s.update(e);o||a.update(i);n.set(N(fn,i),l+r)}e.pending=w(t,l);return n}async function T(e,t,n,r){e.password=null;const i=await async function(e,t,n,r,i){if(!mn)return zt.importKey(t);try{return await un.importKey("raw",t,n,!1,i)}catch(e){mn=!1;return zt.importKey(t)}}(0,n,en,0,nn),o=await async function(e,t,n){if(!gn)return zt.pbkdf2(t,e.salt,tn.iterations,n);try{return await un.deriveBits(e,t,n)}catch(r){gn=!1;return zt.pbkdf2(t,e.salt,tn.iterations,n)}}(Object.assign({salt:r},tn),i,8*(2*on[t]+2)),s=new Uint8Array(o),a=A(fn,w(s,0,on[t])),c=A(fn,w(s,on[t],2*on[t])),u=w(s,2*on[t]);Object.assign(e,{keys:{key:a,authentication:c,passwordVerification:u},ctr:new hn(new dn(a),Array.from(an)),hmac:new pn(c)});return u}function C(e,t){return t===Rt?E(e):t}function I(e,t){let n=e;if(e.length+t.length){n=new Uint8Array(e.length+t.length);n.set(e,0);n.set(t,e.length)}return n}function w(e,t,n){return e.subarray(t,n)}function N(e,t){return e.fromBits(t)}function A(e,t){return e.toBits(t)}function R(e,t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++){n[r]=x(e)^t[r];D(e,n[r])}return n}function O(e,t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++){n[r]=x(e)^t[r];D(e,t[r])}return n}function L(e,t){const n=[305419896,591751049,878082192];Object.assign(e,{keys:n,crcKey0:new Ft(n[0]),crcKey2:new Ft(n[2])});for(let n=0;n<t.length;n++)D(e,t.charCodeAt(n))}function D(e,t){let[n,r,i]=e.keys;e.crcKey0.append([t]);n=~e.crcKey0.get();r=k(Math.imul(k(r+P(n)),134775813)+1);e.crcKey2.append([r>>>24]);i=~e.crcKey2.get();e.keys=[n,r,i]}function x(e){const t=2|e.keys[2];return P(Math.imul(t,1^t)>>>8)}function P(e){return 255&e}function k(e){return 4294967295&e}function B(e){return F(e,new TransformStream({transform(e,t){e&&e.length&&t.enqueue(e)}}))}function M(e,t,n){t=F(t,new TransformStream({flush:n}));Object.defineProperty(e,"readable",{get:()=>t})}function U(e,t,n,r,i){try{e=F(e,new(t&&r?r:i)(Sn,n))}catch(r){if(!t)return e;try{e=F(e,new i(Sn,n))}catch(t){return e}}return e}function F(e,t){return e.pipeThrough(t)}async function j(e,...t){try{await e(...t)}catch(e){}}function G(e,t){return{run:()=>async function({options:e,readable:t,writable:n,onTaskFinished:r},i){try{const r=new Ln(e,i);await t.pipeThrough(r).pipeTo(n,{preventClose:!0,preventAbort:!0});const{signature:o,inputSize:s,outputSize:a}=r;return{signature:o,inputSize:s,outputSize:a}}finally{r()}}(e,t)}}function H(e,t){const{baseURL:n,chunkSize:r}=t;if(!e.interface){let i;try{i=function(e,t,n){const r={type:"module"};let i,o;typeof e==Lt&&(e=e());try{i=new URL(e,t)}catch(t){i=e}if(Bn)try{o=new Worker(i)}catch(e){Bn=!1;o=new Worker(i,r)}else o=new Worker(i,r);o.addEventListener(Cn,(e=>async function({data:e},t){function n(e,t){e?f(e):l(t);u&&u.releaseLock();d()}const{type:r,value:i,messageId:o,result:s,error:a}=e,{reader:c,writer:u,resolveResult:l,rejectResult:f,onTaskFinished:d}=t;try{if(a){const{message:e,stack:t,code:r,name:i}=a,o=new Error(e);Object.assign(o,{stack:t,code:r,name:i});n(o)}else{if(r==wn){const{value:e,done:n}=await c.read();V({type:Nn,value:e,done:n,messageId:o},t)}if(r==Nn){await u.ready;await u.write(new Uint8Array(i));V({type:"ack",messageId:o},t)}r==An&&n(null,s)}}catch(a){V({type:An,messageId:o},t);n(a)}}(e,n)));return o}(e.scripts[0],n,e)}catch(n){xn=!1;return G(e,t)}Object.assign(e,{worker:i,interface:{run:()=>async function(e,t){let n,r;const i=new Promise(((e,t)=>{n=e;r=t}));Object.assign(e,{reader:null,writer:null,resolveResult:n,rejectResult:r,result:i});const{readable:o,options:s,scripts:a}=e,{writable:c,closed:u}=function(e){let t;const n=new Promise((e=>t=e));return{writable:new WritableStream({async write(t){const n=e.getWriter();await n.ready;await n.write(t);n.releaseLock()},close(){t()},abort:t=>e.getWriter().abort(t)}),closed:n}}(e.writable),l=V({type:In,scripts:a.slice(1),options:s,config:t,readable:o,writable:c},e);l||Object.assign(e,{reader:o.getReader(),writer:c.getWriter()});const f=await i;l||await c.getWriter().close();await u;return f}(e,{chunkSize:r})}})}return e.interface}function V(e,{worker:t,writer:n,onTaskFinished:r,transferStreams:i}){try{const{value:n,readable:r,writable:o}=e,s=[];if(n){n.byteLength<n.buffer.byteLength?e.value=n.buffer.slice(0,n.byteLength):e.value=n.buffer;s.push(e.value)}if(i&&Mn){r&&s.push(r);o&&s.push(o)}else e.readable=e.writable=null;if(s.length)try{t.postMessage(e,s);return!0}catch(n){if(kt.LOG&&kt.LOG.warn){kt.LOG.warn(`zipjs postMessage error1 -> ${n}`);kt.LOG.warn(`zipjs postMessage error2 -> ${n?.stack}`);kt.LOG.warn(`zipjs postMessage error3 -> ${JSON.stringify(n||{})}`)}Mn=!1;e.readable=e.writable=null;t.postMessage(e)}else t.postMessage(e)}catch(e){n&&n.releaseLock();r();throw e}}async function q(e,t){function n(e){if(Fn.length){const[{resolve:t,stream:r,workerOptions:i}]=Fn.splice(0,1);t(new Pn(e,r,i,n))}else if(e.worker){W(e);!function(e,t){const{config:n}=t,{terminateWorkerTimeout:r}=n;Number.isFinite(r)&&r>=0&&(e.terminated?e.terminated=!1:e.terminateTimeout=setTimeout((async()=>{Un=Un.filter((t=>t!=e));try{await e.terminate()}catch(e){}}),r))}(e,t)}else Un=Un.filter((t=>t!=e))}const{options:r,config:i}=t,{transferStreams:o,useWebWorkers:s,useCompressionStream:a,codecType:c,compressed:u,signed:l,encrypted:f}=r,{workerScripts:d,maxWorkers:h}=i;t.transferStreams=o||o===Rt;const p=!u&&!l&&!f&&!t.transferStreams;t.useWebWorkers=!p&&(s||s===Rt&&i.useWebWorkers);t.scripts=t.useWebWorkers&&d?d[c]:[];r.useCompressionStream=a||a===Rt&&i.useCompressionStream;return(await async function(){const r=Un.find((e=>!e.busy));if(r){W(r);return new Pn(r,e,t,n)}if(Un.length<h){const r={indexWorker:jn};jn++;Un.push(r);return new Pn(r,e,t,n)}return new Promise((n=>Fn.push({resolve:n,stream:e,workerOptions:t})))}()).run()}function W(e){const{terminateTimeout:t}=e;if(t){clearTimeout(t);e.terminateTimeout=null}}function K(e,t,n){function r(e){if(e.pendingData){const t=e.pendingData;e.pendingData=null;return t}return new Uint8Array}return class{constructor(r){const i=this;(function(e,t){return typeof Object.hasOwn===Lt?Object.hasOwn(e,t):e.hasOwnProperty(t)})(r,"level")&&r.level===Rt&&delete r.level;i.codec=new e(Object.assign({},t,r));n(i.codec,(e=>{if(i.pendingData){const t=i.pendingData;i.pendingData=new Uint8Array(t.length+e.length);const{pendingData:n}=i;n.set(t,0);n.set(e,t.length)}else i.pendingData=new Uint8Array(e)}))}append(e){this.codec.push(e);return r(this)}flush(){this.codec.push(new Uint8Array,!0);return r(this)}}}function z(e,t,n){const{preventHeadRequest:r,useRangeHeader:i,forceRangeRequests:o,combineSizeEocd:s}=n;delete(n=Object.assign({},n)).preventHeadRequest;delete n.useRangeHeader;delete n.forceRangeRequests;delete n.combineSizeEocd;delete n.useXHR;Object.assign(e,{url:t,options:n,preventHeadRequest:r,useRangeHeader:i,forceRangeRequests:o,combineSizeEocd:s})}async function Y(e,t,n){const{url:r,preventHeadRequest:i,useRangeHeader:o,forceRangeRequests:s,combineSizeEocd:a}=e;if(function(e){const{baseURL:t}=g(),{protocol:n}=new URL(e,t);return"http:"==n||"https:"==n}(r)&&(o||s)&&("undefined"==typeof i||i)){const r=await t(Wn,e,Q(e,a?-22:void 0));if(!s&&r.headers.get("Accept-Ranges")!=Kn)throw new Error(Hn);{a&&(e.eocdCache=new Uint8Array(await r.arrayBuffer()));let i;const o=r.headers.get("Content-Range");if(o){const e=o.trim().split(/\s*\/\s*/);if(e.length){const t=e[1];t&&"*"!=t&&(i=Number(t))}}i===Rt?await te(e,t,n):e.size=i}}else await te(e,t,n)}async function $(e,t,n,r,i){const{useRangeHeader:o,forceRangeRequests:s,eocdCache:a,size:c,options:u}=e;if(o||s){if(a&&t==c-St&&n==St)return a;const i=await r(Wn,e,Q(e,t,n));if(206!=i.status)throw new Error(Hn);return new Uint8Array(await i.arrayBuffer())}{const{data:r}=e;r||await i(e,u);return new Uint8Array(e.data.subarray(t,t+n))}}function Q(e,t=0,n=1){return Object.assign({},X(e),{[qn]:Kn+"="+(t<0?t:t+"-"+(t+n-1))})}function X({options:e}){const{headers:t}=e;if(t)return Symbol.iterator in t?Object.fromEntries(t):t}async function J(e){await ee(e,ne)}async function Z(e){await ee(e,re)}async function ee(e,t){const n=await t(Wn,e,X(e));e.data=new Uint8Array(await n.arrayBuffer());e.size||(e.size=e.data.length)}async function te(e,t,n){if(e.preventHeadRequest)await n(e,e.options);else{const r=(await t("HEAD",e,X(e))).headers.get("Content-Length");r?e.size=Number(r):await n(e,e.options)}}async function ne(e,{options:t,url:n},r){const i=await fetch(n,Object.assign({},t,{method:e,headers:r}));if(i.status<400)return i;throw 416==i.status?new Error(Hn):new Error(Gn+(i.statusText||i.status))}function re(e,{url:t},n){return new Promise(((r,i)=>{const o=new XMLHttpRequest;o.addEventListener("load",(()=>{if(o.status<400){const e=[];o.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach((t=>{const n=t.trim().split(/\s*:\s*/);n[0]=n[0].trim().replace(/^[a-z]|-[a-z]/g,(e=>e.toUpperCase()));e.push(n)}));r({status:o.status,arrayBuffer:()=>o.response,headers:new Map(e)})}else i(416==o.status?new Error(Hn):new Error(Gn+(o.statusText||o.status)))}),!1);o.addEventListener("error",(e=>i(e.detail?e.detail.error:new Error("Network error"))),!1);o.open(e,t);if(n)for(const e of Object.entries(n))o.setRequestHeader(e[0],e[1]);o.responseType="arraybuffer";o.send()}))}async function ie(e,t){if(!e.init||e.initialized)return Promise.resolve();await e.init(t)}function oe(e){Array.isArray(e)&&(e=new ur(e));e instanceof ReadableStream&&(e={readable:e});return e}function se(e){e.writable===Rt&&typeof e.next==Lt&&(e=new lr(e));e instanceof WritableStream&&(e={writable:e});const{writable:t}=e;t.size===Rt&&(t.size=0);e instanceof lr||Object.assign(e,{diskNumber:0,diskOffset:0,availableSize:1/0,maxSize:1/0});return e}function ae(e,t,n,r){return e.readUint8Array(t,n,r)}function ce(e,t){return t&&"cp437"==t.trim().toLowerCase()?function(e){if(pr){let t="";for(let n=0;n<e.length;n++)t+=hr[e[n]];return t}return(new TextDecoder).decode(e)}(e):new TextDecoder(t).decode(e)}function ue(e,t,n){const r=e.rawBitFlag=ge(t,n+2),i=1==(1&r),o=ye(t,n+6);Object.assign(e,{encrypted:i,version:ge(t,n),bitFlag:{level:(6&r)>>1,dataDescriptor:8==(8&r),languageEncodingFlag:(r&It)==It},rawLastModDate:o,lastModDate:he(o),filenameLength:ge(t,n+22),extraFieldLength:ge(t,n+24)})}function le(e,t,n,r,i){const{rawExtraField:o}=t,s=t.extraField=new Map,a=ve(new Uint8Array(o));let c=0;try{for(;c<o.length;){const e=ge(a,c),t=ge(a,c+2);s.set(e,{type:e,data:o.slice(c+4,c+4+t)});c+=4+t}}catch(e){}const u=ge(n,r+4);Object.assign(t,{signature:ye(n,r+10),uncompressedSize:ye(n,r+18),compressedSize:ye(n,r+14)});const l=s.get(1);if(l){!function(e,t){t.zip64=!0;const n=ve(e.data),r=Xr.filter((([e,n])=>t[e]==n));for(let i=0,o=0;i<r.length;i++){const[s,a]=r[i];if(t[s]==a){const r=Jr[a];t[s]=e[s]=r.getValue(n,o);o+=r.bytes}else if(e[s])throw new Error(qr)}}(l,t);t.extraFieldZip64=l}const f=s.get(28789);if(f){fe(f,mr,gr,t,e);t.extraFieldUnicodePath=f}const d=s.get(25461);if(d){fe(d,yr,_r,t,e);t.extraFieldUnicodeComment=d}const h=s.get(39169);if(h){!function(e,t,n){const r=ve(e.data),i=me(r,4);Object.assign(e,{vendorVersion:me(r,0),vendorId:me(r,2),strength:i,originalCompressionMethod:n,compressionMethod:ge(r,5)});t.compressionMethod=e.compressionMethod}(h,t,u);t.extraFieldAES=h}else t.compressionMethod=u;const p=s.get(10);if(p){!function(e,t){const n=ve(e.data);let r,i=4;try{for(;i<e.data.length&&!r;){const t=ge(n,i),o=ge(n,i+2);1==t&&(r=e.data.slice(i+4,i+4+o));i+=4+o}}catch(e){}try{if(r&&24==r.length){const n=ve(r),i=n.getBigUint64(0,!0),o=n.getBigUint64(8,!0),s=n.getBigUint64(16,!0);Object.assign(e,{rawLastModDate:i,rawLastAccessDate:o,rawCreationDate:s});const a=pe(i),c={lastModDate:a,lastAccessDate:pe(o),creationDate:pe(s)};Object.assign(e,c);Object.assign(t,c)}}catch(e){}}(p,t);t.extraFieldNTFS=p}const m=s.get(Tt);if(m){!function(e,t,n){const r=ve(e.data),i=me(r,0),o=[],s=[];if(n){if(1==(1&i)){o.push(Tr);s.push(Cr)}if(2==(2&i)){o.push(Ir);s.push(wr)}if(4==(4&i)){o.push(Nr);s.push(Ar)}}else if(e.data.length>=5){o.push(Tr);s.push(Cr)}let a=1;o.forEach(((n,i)=>{if(e.data.length>=a+4){const o=ye(r,a);t[n]=e[n]=new Date(1e3*o);const c=s[i];e[c]=o}a+=4}))}(m,t,i);t.extraFieldExtendedTimestamp=m}const g=s.get(6534);g&&(t.extraFieldUSDZ=g)}function fe(e,t,n,r,i){const o=ve(e.data),s=new Ft;s.append(i[n]);const a=ve(new Uint8Array(4));a.setUint32(0,s.get(),!0);const c=ye(o,1);Object.assign(e,{version:me(o,0),[t]:ce(e.data.subarray(5)),valid:!i.bitFlag.languageEncodingFlag&&c==ye(a,0)});if(e.valid){r[t]=e[t];r[t+"UTF8"]=!0}}function de(e,t,n){return t[n]===Rt?e.options[n]:t[n]}function he(e){const t=(4294901760&e)>>16,n=65535&e;try{return new Date(1980+((65024&t)>>9),((480&t)>>5)-1,31&t,(63488&n)>>11,(2016&n)>>5,2*(31&n),0)}catch(e){}}function pe(e){return new Date(Number(e/BigInt(1e4)-BigInt(116444736e5)))}function me(e,t){return e.getUint8(t)}function ge(e,t){return e.getUint16(t,!0)}function ye(e,t){return e.getUint32(t,!0)}function _e(e,t){return Number(e.getBigUint64(t,!0))}function ve(e){return new DataView(e.buffer)}async function Ee(e,t){const n=e.getWriter();try{await n.ready;e.size+=Oe(t);await n.write(t)}finally{n.releaseLock()}}function Se(e){if(e)return(BigInt(e.getTime())+BigInt(116444736e5))*BigInt(1e4)}function be(e,t,n,r){const i=t[n]===Rt?e.options[n]:t[n];return i===Rt?r:i}function Te(e){return e+5*(Math.floor(e/16383)+1)}function Ce(e,t,n){e.setUint8(t,n)}function Ie(e,t,n){e.setUint16(t,n,!0)}function we(e,t,n){e.setUint32(t,n,!0)}function Ne(e,t,n){e.setBigUint64(t,n,!0)}function Ae(e,t,n){e.set(t,n)}function Re(e){return new DataView(e.buffer)}function Oe(...e){let t=0;e.forEach((e=>e&&(t+=e.length)));return t}function Le(e){return class extends Qn{constructor(e,t={}){super();this.entry=e;this.options=t}async init(){const t=this;t.size=t.entry.uncompressedSize;const n=await t.entry.getData(new tr,Object.assign({},t.options,e));t.data=n;t.blobReader=new er(n);super.init()}readUint8Array(e,t){return this.blobReader.readUint8Array(e,t)}}}async function De(e,t){e.children.length&&await Promise.all(e.children.map((async e=>{if(e.directory)await De(e,t);else{const n=e.reader=new e.Reader(e.data,t);try{await ie(n)}catch(t){try{t.entryId=e.id;t.cause={entry:e}}catch(e){}throw t}e.uncompressedSize=n.size}})))}function xe(e){if(e.parent){const t=e.parent.children;t.forEach(((n,r)=>{n.id==e.id&&t.splice(r,1)}))}}function Pe(e,t,n){return async function e(t,r,i){if(r)try{(r.isFile||r.isDirectory)&&(r=await ke(r));if("file"==r.kind){const e=await r.getFile();i.push(t.addData(e.name,{Reader:function(){return{readable:e.stream(),size:e.size}},options:Object.assign({},{lastModDate:new Date(e.lastModified)},n),uncompressedSize:e.size}))}else if("directory"==r.kind){const n=t.addDirectory(r.name);i.push(n);for await(const t of r.values())await e(n,t,i)}}catch(e){const t=e.message+(r?" ("+r.name+")":"");throw new Error(t)}return i}(e,t,[])}async function ke(e){const t={name:e.name};if(e.isFile){t.kind="file";t.getFile=()=>new Promise(((t,n)=>e.file(t,n)))}if(e.isDirectory){t.kind="directory";const n=await async function(e){function t(e,r,i){e.readEntries((async o=>{if(o.length){for(const e of o)n.push(await ke(e));t(e,r,i)}else r(n)}),i)}const n=[];await new Promise(((n,r)=>t(e.createReader(),n,r)));return{[Symbol.iterator](){let e=0;return{next(){const t={value:n[e],done:e===n.length};e++;return t}}}}}(e);t.values=()=>n}return t}function Be(e){e.entries=[];e.root=new yi(e)}function Me(e,t,n,r){if(e.directory)return r?new yi(e.fs,t,n,e):new gi(e.fs,t,n,e);throw new Error("Parent entry is not a directory")}var Ue="undefined"!==typeof document?document.currentScript:null;const Fe=256,je=256,Ge=-2,He=-5,Ve=[0,1,2,3].concat(...r([[2,4],[2,5],[4,6],[4,7],[8,8],[8,9],[16,10],[16,11],[32,12],[32,13],[64,14],[64,15],[2,0],[1,16],[1,17],[2,18],[2,19],[4,20],[4,21],[8,22],[8,23],[16,24],[16,25],[32,26],[32,27],[64,28],[64,29]]));o._length_code=[0,1,2,3,4,5,6,7].concat(...r([[2,8],[2,9],[2,10],[2,11],[4,12],[4,13],[4,14],[4,15],[8,16],[8,17],[8,18],[8,19],[16,20],[16,21],[16,22],[16,23],[32,24],[32,25],[32,26],[31,27],[1,28]]));o.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0];o.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576];o.d_code=function(e){return e<256?Ve[e]:Ve[256+(e>>>7)]};o.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];o.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];o.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];o.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];const qe=r([[144,8],[112,9],[24,7],[8,8]]);s.static_ltree=i([12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,19,275,147,403,83,339,211,467,51,307,179,435,115,371,243,499,11,267,139,395,75,331,203,459,43,299,171,427,107,363,235,491,27,283,155,411,91,347,219,475,59,315,187,443,123,379,251,507,7,263,135,391,71,327,199,455,39,295,167,423,103,359,231,487,23,279,151,407,87,343,215,471,55,311,183,439,119,375,247,503,15,271,143,399,79,335,207,463,47,303,175,431,111,367,239,495,31,287,159,415,95,351,223,479,63,319,191,447,127,383,255,511,0,64,32,96,16,80,48,112,8,72,40,104,24,88,56,120,4,68,36,100,20,84,52,116,3,131,67,195,35,163,99,227].map(((e,t)=>[e,qe[t]])));const We=r([[30,5]]);s.static_dtree=i([0,16,8,24,4,20,12,28,2,18,10,26,6,22,14,30,1,17,9,25,5,21,13,29,3,19,11,27,7,23].map(((e,t)=>[e,We[t]])));s.static_l_desc=new s(s.static_ltree,o.extra_lbits,257,286,15);s.static_d_desc=new s(s.static_dtree,o.extra_dbits,0,30,15);s.static_bl_desc=new s(null,o.extra_blbits,0,19,7);const Ke=[new a(0,0,0,0,0),new a(4,4,8,4,1),new a(4,5,16,8,1),new a(4,6,32,32,1),new a(4,4,16,16,2),new a(8,16,32,32,2),new a(8,16,128,128,2),new a(8,32,128,256,2),new a(32,128,258,1024,2),new a(32,258,258,4096,2)],ze=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],Ye=113,$e=666,Qe=258,Xe=262;l.prototype={deflateInit(e,t){const n=this;n.dstate=new u;t||(t=15);return n.dstate.deflateInit(n,e,t)},deflate(e){const t=this;return t.dstate?t.dstate.deflate(t,e):Ge},deflateEnd(){const e=this;if(!e.dstate)return Ge;const t=e.dstate.deflateEnd();e.dstate=null;return t},deflateParams(e,t){const n=this;return n.dstate?n.dstate.deflateParams(n,e,t):Ge},deflateSetDictionary(e,t){const n=this;return n.dstate?n.dstate.deflateSetDictionary(n,e,t):Ge},read_buf(e,t,n){const r=this;let i=r.avail_in;i>n&&(i=n);if(0===i)return 0;r.avail_in-=i;e.set(r.next_in.subarray(r.next_in_index,r.next_in_index+i),t);r.next_in_index+=i;r.total_in+=i;return i},flush_pending(){const e=this;let t=e.dstate.pending;t>e.avail_out&&(t=e.avail_out);if(0!==t){e.next_out.set(e.dstate.pending_buf.subarray(e.dstate.pending_out,e.dstate.pending_out+t),e.next_out_index);e.next_out_index+=t;e.dstate.pending_out+=t;e.total_out+=t;e.avail_out-=t;e.dstate.pending-=t;0===e.dstate.pending&&(e.dstate.pending_out=0)}}};const Je=-2,Ze=-3,et=-5,tt=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],nt=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],rt=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],it=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],ot=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],st=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],at=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ct=15;f.inflate_trees_fixed=function(e,t,n,r){e[0]=9;t[0]=5;n[0]=nt;r[0]=rt;return 0};const ut=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],lt=13,ft=[0,0,255,255];m.prototype={inflateInit(e){const t=this;t.istate=new p;e||(e=15);return t.istate.inflateInit(t,e)},inflate(e){const t=this;return t.istate?t.istate.inflate(t,e):Je},inflateEnd(){const e=this;if(!e.istate)return Je;const t=e.istate.inflateEnd(e);e.istate=null;return t},inflateSync(){const e=this;return e.istate?e.istate.inflateSync(e):Je},inflateSetDictionary(e,t){const n=this;return n.istate?n.istate.inflateSetDictionary(n,e,t):Je},read_byte(e){return this.next_in[e]},read_buf(e,t){return this.next_in.subarray(e,e+t)}};const dt=4294967295,ht=65535,pt=67324752,mt=134695760,gt=mt,yt=33639248,_t=101010256,vt=101075792,Et=117853008,St=22,bt=39169,Tt=21589,Ct=6534,It=2048,wt="/",Nt=new Date(2107,11,31),At=new Date(1980,0,1),Rt=void 0,Ot="undefined",Lt="function";class Dt{constructor(e){return class extends TransformStream{constructor(t,n){const r=new e(n);super({transform(e,t){t.enqueue(r.append(e))},flush(e){const t=r.flush();t&&e.enqueue(t)}})}}}}let xt=2;try{typeof navigator!=Ot&&navigator.hardwareConcurrency&&(xt=navigator.hardwareConcurrency)}catch(e){}const Pt={chunkSize:524288,maxWorkers:xt,terminateWorkerTimeout:5e3,useWebWorkers:!0,useCompressionStream:!0,workerScripts:Rt,CompressionStreamNative:typeof CompressionStream!=Ot&&CompressionStream,DecompressionStreamNative:typeof DecompressionStream!=Ot&&DecompressionStream},kt=Object.assign({},Pt),Bt={application:{"andrew-inset":"ez",annodex:"anx","atom+xml":"atom","atomcat+xml":"atomcat","atomserv+xml":"atomsrv",bbolin:"lin","cu-seeme":"cu","davmount+xml":"davmount",dsptype:"tsp",ecmascript:["es","ecma"],futuresplash:"spl",hta:"hta","java-archive":"jar","java-serialized-object":"ser","java-vm":"class",m3g:"m3g","mac-binhex40":"hqx",mathematica:["nb","ma","mb"],msaccess:"mdb",msword:["doc","dot","wiz"],mxf:"mxf",oda:"oda",ogg:"ogx",pdf:"pdf","pgp-keys":"key","pgp-signature":["asc","sig"],"pics-rules":"prf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],rar:"rar","rdf+xml":"rdf","rss+xml":"rss",rtf:"rtf","xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","xpdl"],"xspf+xml":"xspf",zip:"zip","vnd.android.package-archive":"apk","vnd.cinderella":"cdy","vnd.google-earth.kml+xml":"kml","vnd.google-earth.kmz":"kmz","vnd.mozilla.xul+xml":"xul","vnd.ms-excel":["xls","xlb","xlt","xlm","xla","xlc","xlw"],"vnd.ms-pki.seccat":"cat","vnd.ms-pki.stl":"stl","vnd.ms-powerpoint":["ppt","pps","pot","ppa","pwz"],"vnd.oasis.opendocument.chart":"odc","vnd.oasis.opendocument.database":"odb","vnd.oasis.opendocument.formula":"odf","vnd.oasis.opendocument.graphics":"odg","vnd.oasis.opendocument.graphics-template":"otg","vnd.oasis.opendocument.image":"odi","vnd.oasis.opendocument.presentation":"odp","vnd.oasis.opendocument.presentation-template":"otp","vnd.oasis.opendocument.spreadsheet":"ods","vnd.oasis.opendocument.spreadsheet-template":"ots","vnd.oasis.opendocument.text":"odt","vnd.oasis.opendocument.text-master":["odm","otm"],"vnd.oasis.opendocument.text-template":"ott","vnd.oasis.opendocument.text-web":"oth","vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","vnd.openxmlformats-officedocument.spreadsheetml.template":"xltx","vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","vnd.openxmlformats-officedocument.presentationml.slideshow":"ppsx","vnd.openxmlformats-officedocument.presentationml.template":"potx","vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","vnd.openxmlformats-officedocument.wordprocessingml.template":"dotx","vnd.smaf":"mmf","vnd.stardivision.calc":"sdc","vnd.stardivision.chart":"sds","vnd.stardivision.draw":"sda","vnd.stardivision.impress":"sdd","vnd.stardivision.math":["sdf","smf"],"vnd.stardivision.writer":["sdw","vor"],"vnd.stardivision.writer-global":"sgl","vnd.sun.xml.calc":"sxc","vnd.sun.xml.calc.template":"stc","vnd.sun.xml.draw":"sxd","vnd.sun.xml.draw.template":"std","vnd.sun.xml.impress":"sxi","vnd.sun.xml.impress.template":"sti","vnd.sun.xml.math":"sxm","vnd.sun.xml.writer":"sxw","vnd.sun.xml.writer.global":"sxg","vnd.sun.xml.writer.template":"stw","vnd.symbian.install":["sis","sisx"],"vnd.visio":["vsd","vst","vss","vsw","vsdx","vssx","vstx","vssm","vstm"],"vnd.wap.wbxml":"wbxml","vnd.wap.wmlc":"wmlc","vnd.wap.wmlscriptc":"wmlsc","vnd.wordperfect":"wpd","vnd.wordperfect5.1":"wp5","x-123":"wk","x-7z-compressed":"7z","x-abiword":"abw","x-apple-diskimage":"dmg","x-bcpio":"bcpio","x-bittorrent":"torrent","x-cbr":["cbr","cba","cbt","cb7"],"x-cbz":"cbz","x-cdf":["cdf","cda"],"x-cdlink":"vcd","x-chess-pgn":"pgn","x-cpio":"cpio","x-csh":"csh","x-director":["dir","dxr","cst","cct","cxt","w3d","fgd","swa"],"x-dms":"dms","x-doom":"wad","x-dvi":"dvi","x-httpd-eruby":"rhtml","x-font":"pcf.Z","x-freemind":"mm","x-gnumeric":"gnumeric","x-go-sgf":"sgf","x-graphing-calculator":"gcf","x-gtar":["gtar","taz"],"x-hdf":"hdf","x-httpd-php":["phtml","pht","php"],"x-httpd-php-source":"phps","x-httpd-php3":"php3","x-httpd-php3-preprocessed":"php3p","x-httpd-php4":"php4","x-httpd-php5":"php5","x-ica":"ica","x-info":"info","x-internet-signup":["ins","isp"],"x-iphone":"iii","x-iso9660-image":"iso","x-java-jnlp-file":"jnlp","x-jmol":"jmz","x-killustrator":"kil","x-latex":"latex","x-lyx":"lyx","x-lzx":"lzx","x-maker":["frm","fb","fbdoc"],"x-ms-wmd":"wmd","x-msdos-program":["com","exe","bat","dll"],"x-netcdf":["nc"],"x-ns-proxy-autoconfig":["pac","dat"],"x-nwc":"nwc","x-object":"o","x-oz-application":"oza","x-pkcs7-certreqresp":"p7r","x-python-code":["pyc","pyo"],"x-qgis":["qgs","shp","shx"],"x-quicktimeplayer":"qtl","x-redhat-package-manager":["rpm","rpa"],"x-ruby":"rb","x-sh":"sh","x-shar":"shar","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","x-stuffit":"sit","x-sv4cpio":"sv4cpio","x-sv4crc":"sv4crc","x-tar":"tar","x-tex-gf":"gf","x-tex-pk":"pk","x-texinfo":["texinfo","texi"],"x-trash":["~","%","bak","old","sik"],"x-ustar":"ustar","x-wais-source":"src","x-wingz":"wz","x-x509-ca-cert":["crt","der","cer"],"x-xcf":"xcf","x-xfig":"fig","x-xpinstall":"xpi",applixware:"aw","atomsvc+xml":"atomsvc","ccxml+xml":"ccxml","cdmi-capability":"cdmia","cdmi-container":"cdmic","cdmi-domain":"cdmid","cdmi-object":"cdmio","cdmi-queue":"cdmiq","docbook+xml":"dbk","dssc+der":"dssc","dssc+xml":"xdssc","emma+xml":"emma","epub+zip":"epub",exi:"exi","font-tdpfr":"pfr","gml+xml":"gml","gpx+xml":"gpx",gxf:"gxf",hyperstudio:"stk","inkml+xml":["ink","inkml"],ipfix:"ipfix","jsonml+json":"jsonml","lost+xml":"lostxml","mads+xml":"mads",marc:"mrc","marcxml+xml":"mrcx","mathml+xml":["mathml","mml"],mbox:"mbox","mediaservercontrol+xml":"mscml","metalink+xml":"metalink","metalink4+xml":"meta4","mets+xml":"mets","mods+xml":"mods",mp21:["m21","mp21"],mp4:"mp4s","oebps-package+xml":"opf","omdoc+xml":"omdoc",onenote:["onetoc","onetoc2","onetmp","onepkg"],oxps:"oxps","patch-ops-error+xml":"xer","pgp-encrypted":"pgp",pkcs10:"p10","pkcs7-mime":["p7m","p7c"],"pkcs7-signature":"p7s",pkcs8:"p8","pkix-attr-cert":"ac","pkix-crl":"crl","pkix-pkipath":"pkipath",pkixcmp:"pki","pls+xml":"pls","prs.cww":"cww","pskc+xml":"pskcxml","reginfo+xml":"rif","relax-ng-compact-syntax":"rnc","resource-lists+xml":"rl","resource-lists-diff+xml":"rld","rls-services+xml":"rs","rpki-ghostbusters":"gbr","rpki-manifest":"mft","rpki-roa":"roa","rsd+xml":"rsd","sbml+xml":"sbml","scvp-cv-request":"scq","scvp-cv-response":"scs","scvp-vp-request":"spq","scvp-vp-response":"spp",sdp:"sdp","set-payment-initiation":"setpay","set-registration-initiation":"setreg","shf+xml":"shf","sparql-query":"rq","sparql-results+xml":"srx",srgs:"gram","srgs+xml":"grxml","sru+xml":"sru","ssdl+xml":"ssdl","ssml+xml":"ssml","tei+xml":["tei","teicorpus"],"thraud+xml":"tfi","timestamped-data":"tsd","vnd.3gpp.pic-bw-large":"plb","vnd.3gpp.pic-bw-small":"psb","vnd.3gpp.pic-bw-var":"pvb","vnd.3gpp2.tcap":"tcap","vnd.3m.post-it-notes":"pwn","vnd.accpac.simply.aso":"aso","vnd.accpac.simply.imp":"imp","vnd.acucobol":"acu","vnd.acucorp":["atc","acutc"],"vnd.adobe.air-application-installer-package+zip":"air","vnd.adobe.formscentral.fcdt":"fcdt","vnd.adobe.fxp":["fxp","fxpl"],"vnd.adobe.xdp+xml":"xdp","vnd.adobe.xfdf":"xfdf","vnd.ahead.space":"ahead","vnd.airzip.filesecure.azf":"azf","vnd.airzip.filesecure.azs":"azs","vnd.amazon.ebook":"azw","vnd.americandynamics.acc":"acc","vnd.amiga.ami":"ami","vnd.anser-web-certificate-issue-initiation":"cii","vnd.anser-web-funds-transfer-initiation":"fti","vnd.antix.game-component":"atx","vnd.apple.installer+xml":"mpkg","vnd.apple.mpegurl":"m3u8","vnd.aristanetworks.swi":"swi","vnd.astraea-software.iota":"iota","vnd.audiograph":"aep","vnd.blueice.multipass":"mpm","vnd.bmi":"bmi","vnd.businessobjects":"rep","vnd.chemdraw+xml":"cdxml","vnd.chipnuts.karaoke-mmd":"mmd","vnd.claymore":"cla","vnd.cloanto.rp9":"rp9","vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"vnd.cluetrust.cartomobile-config":"c11amc","vnd.cluetrust.cartomobile-config-pkg":"c11amz","vnd.commonspace":"csp","vnd.contact.cmsg":"cdbcmsg","vnd.cosmocaller":"cmc","vnd.crick.clicker":"clkx","vnd.crick.clicker.keyboard":"clkk","vnd.crick.clicker.palette":"clkp","vnd.crick.clicker.template":"clkt","vnd.crick.clicker.wordbank":"clkw","vnd.criticaltools.wbs+xml":"wbs","vnd.ctc-posml":"pml","vnd.cups-ppd":"ppd","vnd.curl.car":"car","vnd.curl.pcurl":"pcurl","vnd.dart":"dart","vnd.data-vision.rdz":"rdz","vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"vnd.dece.ttml+xml":["uvt","uvvt"],"vnd.dece.unspecified":["uvx","uvvx"],"vnd.dece.zip":["uvz","uvvz"],"vnd.denovo.fcselayout-link":"fe_launch","vnd.dna":"dna","vnd.dolby.mlp":"mlp","vnd.dpgraph":"dpg","vnd.dreamfactory":"dfac","vnd.ds-keypoint":"kpxx","vnd.dvb.ait":"ait","vnd.dvb.service":"svc","vnd.dynageo":"geo","vnd.ecowin.chart":"mag","vnd.enliven":"nml","vnd.epson.esf":"esf","vnd.epson.msf":"msf","vnd.epson.quickanime":"qam","vnd.epson.salt":"slt","vnd.epson.ssf":"ssf","vnd.eszigno3+xml":["es3","et3"],"vnd.ezpix-album":"ez2","vnd.ezpix-package":"ez3","vnd.fdf":"fdf","vnd.fdsn.mseed":"mseed","vnd.fdsn.seed":["seed","dataless"],"vnd.flographit":"gph","vnd.fluxtime.clip":"ftc","vnd.framemaker":["fm","frame","maker","book"],"vnd.frogans.fnc":"fnc","vnd.frogans.ltf":"ltf","vnd.fsc.weblaunch":"fsc","vnd.fujitsu.oasys":"oas","vnd.fujitsu.oasys2":"oa2","vnd.fujitsu.oasys3":"oa3","vnd.fujitsu.oasysgp":"fg5","vnd.fujitsu.oasysprs":"bh2","vnd.fujixerox.ddd":"ddd","vnd.fujixerox.docuworks":"xdw","vnd.fujixerox.docuworks.binder":"xbd","vnd.fuzzysheet":"fzs","vnd.genomatix.tuxedo":"txd","vnd.geogebra.file":"ggb","vnd.geogebra.tool":"ggt","vnd.geometry-explorer":["gex","gre"],"vnd.geonext":"gxt","vnd.geoplan":"g2w","vnd.geospace":"g3w","vnd.gmx":"gmx","vnd.grafeq":["gqf","gqs"],"vnd.groove-account":"gac","vnd.groove-help":"ghf","vnd.groove-identity-message":"gim","vnd.groove-injector":"grv","vnd.groove-tool-message":"gtm","vnd.groove-tool-template":"tpl","vnd.groove-vcard":"vcg","vnd.hal+xml":"hal","vnd.handheld-entertainment+xml":"zmm","vnd.hbci":"hbci","vnd.hhe.lesson-player":"les","vnd.hp-hpgl":"hpgl","vnd.hp-hpid":"hpid","vnd.hp-hps":"hps","vnd.hp-jlyt":"jlt","vnd.hp-pcl":"pcl","vnd.hp-pclxl":"pclxl","vnd.hydrostatix.sof-data":"sfd-hdstx","vnd.ibm.minipay":"mpy","vnd.ibm.modcap":["afp","listafp","list3820"],"vnd.ibm.rights-management":"irm","vnd.ibm.secure-container":"sc","vnd.iccprofile":["icc","icm"],"vnd.igloader":"igl","vnd.immervision-ivp":"ivp","vnd.immervision-ivu":"ivu","vnd.insors.igm":"igm","vnd.intercon.formnet":["xpw","xpx"],"vnd.intergeo":"i2g","vnd.intu.qbo":"qbo","vnd.intu.qfx":"qfx","vnd.ipunplugged.rcprofile":"rcprofile","vnd.irepository.package+xml":"irp","vnd.is-xpr":"xpr","vnd.isac.fcs":"fcs","vnd.jam":"jam","vnd.jcp.javame.midlet-rms":"rms","vnd.jisp":"jisp","vnd.joost.joda-archive":"joda","vnd.kahootz":["ktz","ktr"],"vnd.kde.karbon":"karbon","vnd.kde.kchart":"chrt","vnd.kde.kformula":"kfo","vnd.kde.kivio":"flw","vnd.kde.kontour":"kon","vnd.kde.kpresenter":["kpr","kpt"],"vnd.kde.kspread":"ksp","vnd.kde.kword":["kwd","kwt"],"vnd.kenameaapp":"htke","vnd.kidspiration":"kia","vnd.kinar":["kne","knp"],"vnd.koan":["skp","skd","skt","skm"],"vnd.kodak-descriptor":"sse","vnd.las.las+xml":"lasxml","vnd.llamagraphics.life-balance.desktop":"lbd","vnd.llamagraphics.life-balance.exchange+xml":"lbe","vnd.lotus-1-2-3":"123","vnd.lotus-approach":"apr","vnd.lotus-freelance":"pre","vnd.lotus-notes":"nsf","vnd.lotus-organizer":"org","vnd.lotus-screencam":"scm","vnd.lotus-wordpro":"lwp","vnd.macports.portpkg":"portpkg","vnd.mcd":"mcd","vnd.medcalcdata":"mc1","vnd.mediastation.cdkey":"cdkey","vnd.mfer":"mwf","vnd.mfmp":"mfm","vnd.micrografx.flo":"flo","vnd.micrografx.igx":"igx","vnd.mif":"mif","vnd.mobius.daf":"daf","vnd.mobius.dis":"dis","vnd.mobius.mbk":"mbk","vnd.mobius.mqy":"mqy","vnd.mobius.msl":"msl","vnd.mobius.plc":"plc","vnd.mobius.txf":"txf","vnd.mophun.application":"mpn","vnd.mophun.certificate":"mpc","vnd.ms-artgalry":"cil","vnd.ms-cab-compressed":"cab","vnd.ms-excel.addin.macroenabled.12":"xlam","vnd.ms-excel.sheet.binary.macroenabled.12":"xlsb","vnd.ms-excel.sheet.macroenabled.12":"xlsm","vnd.ms-excel.template.macroenabled.12":"xltm","vnd.ms-fontobject":"eot","vnd.ms-htmlhelp":"chm","vnd.ms-ims":"ims","vnd.ms-lrm":"lrm","vnd.ms-officetheme":"thmx","vnd.ms-powerpoint.addin.macroenabled.12":"ppam","vnd.ms-powerpoint.presentation.macroenabled.12":"pptm","vnd.ms-powerpoint.slide.macroenabled.12":"sldm","vnd.ms-powerpoint.slideshow.macroenabled.12":"ppsm","vnd.ms-powerpoint.template.macroenabled.12":"potm","vnd.ms-project":["mpp","mpt"],"vnd.ms-word.document.macroenabled.12":"docm","vnd.ms-word.template.macroenabled.12":"dotm","vnd.ms-works":["wps","wks","wcm","wdb"],"vnd.ms-wpl":"wpl","vnd.ms-xpsdocument":"xps","vnd.mseq":"mseq","vnd.musician":"mus","vnd.muvee.style":"msty","vnd.mynfc":"taglet","vnd.neurolanguage.nlu":"nlu","vnd.nitf":["ntf","nitf"],"vnd.noblenet-directory":"nnd","vnd.noblenet-sealer":"nns","vnd.noblenet-web":"nnw","vnd.nokia.n-gage.data":"ngdat","vnd.nokia.n-gage.symbian.install":"n-gage","vnd.nokia.radio-preset":"rpst","vnd.nokia.radio-presets":"rpss","vnd.novadigm.edm":"edm","vnd.novadigm.edx":"edx","vnd.novadigm.ext":"ext","vnd.oasis.opendocument.chart-template":"otc","vnd.oasis.opendocument.formula-template":"odft","vnd.oasis.opendocument.image-template":"oti","vnd.olpc-sugar":"xo","vnd.oma.dd2+xml":"dd2","vnd.openofficeorg.extension":"oxt","vnd.openxmlformats-officedocument.presentationml.slide":"sldx","vnd.osgeo.mapguide.package":"mgp","vnd.osgi.dp":"dp","vnd.osgi.subsystem":"esa","vnd.palm":["pdb","pqa","oprc"],"vnd.pawaafile":"paw","vnd.pg.format":"str","vnd.pg.osasli":"ei6","vnd.picsel":"efif","vnd.pmi.widget":"wg","vnd.pocketlearn":"plf","vnd.powerbuilder6":"pbd","vnd.previewsystems.box":"box","vnd.proteus.magazine":"mgz","vnd.publishare-delta-tree":"qps","vnd.pvi.ptid1":"ptid","vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"vnd.realvnc.bed":"bed","vnd.recordare.musicxml":"mxl","vnd.recordare.musicxml+xml":"musicxml","vnd.rig.cryptonote":"cryptonote","vnd.rn-realmedia":"rm","vnd.rn-realmedia-vbr":"rmvb","vnd.route66.link66+xml":"link66","vnd.sailingtracker.track":"st","vnd.seemail":"see","vnd.sema":"sema","vnd.semd":"semd","vnd.semf":"semf","vnd.shana.informed.formdata":"ifm","vnd.shana.informed.formtemplate":"itp","vnd.shana.informed.interchange":"iif","vnd.shana.informed.package":"ipk","vnd.simtech-mindmapper":["twd","twds"],"vnd.smart.teacher":"teacher","vnd.solent.sdkm+xml":["sdkm","sdkd"],"vnd.spotfire.dxp":"dxp","vnd.spotfire.sfs":"sfs","vnd.stepmania.package":"smzip","vnd.stepmania.stepchart":"sm","vnd.sus-calendar":["sus","susp"],"vnd.svd":"svd","vnd.syncml+xml":"xsm","vnd.syncml.dm+wbxml":"bdm","vnd.syncml.dm+xml":"xdm","vnd.tao.intent-module-archive":"tao","vnd.tcpdump.pcap":["pcap","cap","dmp"],"vnd.tmobile-livetv":"tmo","vnd.trid.tpt":"tpt","vnd.triscape.mxs":"mxs","vnd.trueapp":"tra","vnd.ufdl":["ufd","ufdl"],"vnd.uiq.theme":"utz","vnd.umajin":"umj","vnd.unity":"unityweb","vnd.uoml+xml":"uoml","vnd.vcx":"vcx","vnd.visionary":"vis","vnd.vsf":"vsf","vnd.webturbo":"wtb","vnd.wolfram.player":"nbp","vnd.wqd":"wqd","vnd.wt.stf":"stf","vnd.xara":"xar","vnd.xfdl":"xfdl","vnd.yamaha.hv-dic":"hvd","vnd.yamaha.hv-script":"hvs","vnd.yamaha.hv-voice":"hvp","vnd.yamaha.openscoreformat":"osf","vnd.yamaha.openscoreformat.osfpvg+xml":"osfpvg","vnd.yamaha.smaf-audio":"saf","vnd.yamaha.smaf-phrase":"spf","vnd.yellowriver-custom-menu":"cmp","vnd.zul":["zir","zirz"],"vnd.zzazz.deck+xml":"zaz","voicexml+xml":"vxml",widget:"wgt",winhlp:"hlp","wsdl+xml":"wsdl","wspolicy+xml":"wspolicy","x-ace-compressed":"ace","x-authorware-bin":["aab","x32","u32","vox"],"x-authorware-map":"aam","x-authorware-seg":"aas","x-blorb":["blb","blorb"],"x-bzip":"bz","x-bzip2":["bz2","boz"],"x-cfs-compressed":"cfs","x-chat":"chat","x-conference":"nsc","x-dgc-compressed":"dgc","x-dtbncx+xml":"ncx","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-eva":"eva","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-freearc":"arc","x-gca-compressed":"gca","x-glulx":"ulx","x-gramps-xml":"gramps","x-install-instructions":"install","x-lzh-compressed":["lzh","lha"],"x-mie":"mie","x-mobipocket-ebook":["prc","mobi"],"x-ms-application":"application","x-ms-shortcut":"lnk","x-ms-xbap":"xbap","x-msbinder":"obd","x-mscardfile":"crd","x-msclip":"clp","application/x-ms-installer":"msi","x-msmediaview":["mvb","m13","m14"],"x-msmetafile":["wmf","wmz","emf","emz"],"x-msmoney":"mny","x-mspublisher":"pub","x-msschedule":"scd","x-msterminal":"trm","x-mswrite":"wri","x-nzb":"nzb","x-pkcs12":["p12","pfx"],"x-pkcs7-certificates":["p7b","spc"],"x-research-info-systems":"ris","x-silverlight-app":"xap","x-sql":"sql","x-stuffitx":"sitx","x-subrip":"srt","x-t3vm-image":"t3","x-tex-tfm":"tfm","x-tgif":"obj","x-xliff+xml":"xlf","x-xz":"xz","x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"xaml+xml":"xaml","xcap-diff+xml":"xdf","xenc+xml":"xenc","xml-dtd":"dtd","xop+xml":"xop","xproc+xml":"xpl","xslt+xml":"xslt","xv+xml":["mxml","xhvml","xvml","xvm"],yang:"yang","yin+xml":"yin",envoy:"evy",fractals:"fif","internet-property-stream":"acx",olescript:"axs","vnd.ms-outlook":"msg","vnd.ms-pkicertstore":"sst","x-compress":"z","x-perfmon":["pma","pmc","pmr","pmw"],"ynd.ms-pkipko":"pko",gzip:["gz","tgz"],"smil+xml":["smi","smil"],"vnd.debian.binary-package":["deb","udeb"],"vnd.hzn-3d-crossword":"x3d","vnd.sqlite3":["db","sqlite","sqlite3","db-wal","sqlite-wal","db-shm","sqlite-shm"],"vnd.wap.sic":"sic","vnd.wap.slc":"slc","x-krita":["kra","krz"],"x-perl":["pm","pl"],yaml:["yaml","yml"]},audio:{amr:"amr","amr-wb":"awb",annodex:"axa",basic:["au","snd"],flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"prs.sid":"sid","x-aiff":"aifc","x-gsm":"gsm","x-ms-wma":"wma","x-ms-wax":"wax","x-pn-realaudio":"ram","x-realaudio":"ra","x-sd2":"sd2",adpcm:"adp",mp4:"mp4a",s3m:"s3m",silk:"sil","vnd.dece.audio":["uva","uvva"],"vnd.digital-winds":"eol","vnd.dra":"dra","vnd.dts":"dts","vnd.dts.hd":"dtshd","vnd.lucent.voice":"lvp","vnd.ms-playready.media.pya":"pya","vnd.nuera.ecelp4800":"ecelp4800","vnd.nuera.ecelp7470":"ecelp7470","vnd.nuera.ecelp9600":"ecelp9600","vnd.rip":"rip",webm:"weba","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",aac:"aac",aiff:["aiff","aif","aff"],opus:"opus",wav:"wav"},chemical:{"x-alchemy":"alc","x-cache":["cac","cache"],"x-cache-csf":"csf","x-cactvs-binary":["cbin","cascii","ctab"],"x-cdx":"cdx","x-chem3d":"c3d","x-cif":"cif","x-cmdf":"cmdf","x-cml":"cml","x-compass":"cpa","x-crossfire":"bsd","x-csml":["csml","csm"],"x-ctx":"ctx","x-cxf":["cxf","cef"],"x-embl-dl-nucleotide":["emb","embl"],"x-gamess-input":["inp","gam","gamin"],"x-gaussian-checkpoint":["fch","fchk"],"x-gaussian-cube":"cub","x-gaussian-input":["gau","gjc","gjf"],"x-gaussian-log":"gal","x-gcg8-sequence":"gcg","x-genbank":"gen","x-hin":"hin","x-isostar":["istr","ist"],"x-jcamp-dx":["jdx","dx"],"x-kinemage":"kin","x-macmolecule":"mcm","x-macromodel-input":"mmod","x-mdl-molfile":"mol","x-mdl-rdfile":"rd","x-mdl-rxnfile":"rxn","x-mdl-sdfile":"sd","x-mdl-tgf":"tgf","x-mmcif":"mcif","x-mol2":"mol2","x-molconn-Z":"b","x-mopac-graph":"gpt","x-mopac-input":["mop","mopcrt","zmt"],"x-mopac-out":"moo","x-ncbi-asn1":"asn","x-ncbi-asn1-ascii":["prt","ent"],"x-ncbi-asn1-binary":"val","x-rosdal":"ros","x-swissprot":"sw","x-vamas-iso14976":"vms","x-vmd":"vmd","x-xtel":"xtel","x-xyz":"xyz"},font:{otf:"otf",woff:"woff",woff2:"woff2"},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe","jfif","jfif-tbnl","jif"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"vnd.djvu":["djvu","djv"],"vnd.wap.wbmp":"wbmp","x-canon-cr2":"cr2","x-canon-crw":"crw","x-cmu-raster":"ras","x-coreldraw":"cdr","x-coreldrawpattern":"pat","x-coreldrawtemplate":"cdt","x-corelphotopaint":"cpt","x-epson-erf":"erf","x-icon":"ico","x-jg":"art","x-jng":"jng","x-nikon-nef":"nef","x-olympus-orf":"orf","x-portable-anymap":"pnm","x-portable-bitmap":"pbm","x-portable-graymap":"pgm","x-portable-pixmap":"ppm","x-rgb":"rgb","x-xbitmap":"xbm","x-xpixmap":"xpm","x-xwindowdump":"xwd",bmp:"bmp",cgm:"cgm",g3fax:"g3",ktx:"ktx","prs.btif":"btif",sgi:"sgi","vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"vnd.dwg":"dwg","vnd.dxf":"dxf","vnd.fastbidsheet":"fbs","vnd.fpx":"fpx","vnd.fst":"fst","vnd.fujixerox.edmics-mmr":"mmr","vnd.fujixerox.edmics-rlc":"rlc","vnd.ms-modi":"mdi","vnd.ms-photo":"wdp","vnd.net-fpx":"npx","vnd.xiff":"xif",webp:"webp","x-3ds":"3ds","x-cmx":"cmx","x-freehand":["fh","fhc","fh4","fh5","fh7"],"x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod",avif:"avifs",heic:["heif","heic"],pjpeg:["pjpg"],"vnd.adobe.photoshop":"psd","x-adobe-dng":"dng","x-fuji-raf":"raf","x-icns":"icns","x-kodak-dcr":"dcr","x-kodak-k25":"k25","x-kodak-kdc":"kdc","x-minolta-mrw":"mrw","x-panasonic-raw":["raw","rw2","rwl"],"x-pentax-pef":["pef","ptx"],"x-sigma-x3f":"x3f","x-sony-arw":"arw","x-sony-sr2":"sr2","x-sony-srf":"srf"},message:{rfc822:["eml","mime","mht","mhtml","nws"]},model:{iges:["igs","iges"],mesh:["msh","mesh","silo"],vrml:["wrl","vrml"],"x3d+vrml":["x3dv","x3dvz"],"x3d+xml":"x3dz","x3d+binary":["x3db","x3dbz"],"vnd.collada+xml":"dae","vnd.dwf":"dwf","vnd.gdl":"gdl","vnd.gtw":"gtw","vnd.mts":"mts","vnd.usdz+zip":"usdz","vnd.vtu":"vtu"},text:{"cache-manifest":["manifest","appcache"],calendar:["ics","icz","ifb"],css:"css",csv:"csv",h323:"323",html:["html","htm","shtml","stm"],iuls:"uls",plain:["txt","text","brf","conf","def","list","log","in","bas","diff","ksh"],richtext:"rtx",scriptlet:["sct","wsc"],texmacs:"tm","tab-separated-values":"tsv","vnd.sun.j2me.app-descriptor":"jad","vnd.wap.wml":"wml","vnd.wap.wmlscript":"wmls","x-bibtex":"bib","x-boo":"boo","x-c++hdr":["h++","hpp","hxx","hh"],"x-c++src":["c++","cpp","cxx","cc"],"x-component":"htc","x-dsrc":"d","x-diff":"patch","x-haskell":"hs","x-java":"java","x-literate-haskell":"lhs","x-moc":"moc","x-pascal":["p","pas","pp","inc"],"x-pcs-gcd":"gcd","x-python":"py","x-scala":"scala","x-setext":"etx","x-tcl":["tcl","tk"],"x-tex":["tex","ltx","sty","cls"],"x-vcalendar":"vcs","x-vcard":"vcf",n3:"n3","prs.lines.tag":"dsc",sgml:["sgml","sgm"],troff:["t","tr","roff","man","me","ms"],turtle:"ttl","uri-list":["uri","uris","urls"],vcard:"vcard","vnd.curl":"curl","vnd.curl.dcurl":"dcurl","vnd.curl.scurl":"scurl","vnd.curl.mcurl":"mcurl","vnd.dvb.subtitle":"sub","vnd.fly":"fly","vnd.fmi.flexstor":"flx","vnd.graphviz":"gv","vnd.in3d.3dml":"3dml","vnd.in3d.spot":"spot","x-asm":["s","asm"],"x-c":["c","h","dic"],"x-fortran":["f","for","f77","f90"],"x-opml":"opml","x-nfo":"nfo","x-sfv":"sfv","x-uuencode":"uu",webviewhtml:"htt",javascript:"js",json:"json",markdown:["md","markdown","mdown","markdn"],"vnd.wap.si":"si","vnd.wap.sl":"sl"},video:{avif:"avif","3gpp":"3gp",annodex:"axv",dl:"dl",dv:["dif","dv"],fli:"fli",gl:"gl",mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.dece.hd":["uvh","uvvh"],"vnd.dece.mobile":["uvm","uvvm"],"vnd.dece.pd":["uvp","uvvp"],"vnd.dece.sd":["uvs","uvvs"],"vnd.dece.video":["uvv","uvvv"],"vnd.dvb.file":"dvb","vnd.fvt":"fvt","vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv",mp2t:"ts"},"x-conference":{"x-cooltalk":"ice"},"x-world":{"x-vrml":["vrm","flr","wrz","xaf","xof"]}},Mt=(()=>{const e={};for(const t of Object.keys(Bt))for(const n of Object.keys(Bt[t])){const r=Bt[t][n];if("string"==typeof r)e[r]=t+"/"+n;else for(let i=0;i<r.length;i++)e[r[i]]=t+"/"+n}return e})(),Ut=[];for(let e=0;e<256;e++){let t=e;for(let e=0;e<8;e++)1&t?t=t>>>1^3988292384:t>>>=1;Ut[e]=t}class Ft{constructor(e){this.crc=e||-1}append(e){let t=0|this.crc;for(let n=0,r=0|e.length;n<r;n++)t=t>>>8^Ut[255&(t^e[n])];this.crc=t}get(){return~this.crc}}class jt extends TransformStream{constructor(){let e;const t=new Ft;super({transform(e,n){t.append(e);n.enqueue(e)},flush(){const n=new Uint8Array(4);new DataView(n.buffer).setUint32(0,t.get());e.value=n}});e=this}}const Gt={concat(e,t){if(0===e.length||0===t.length)return e.concat(t);const n=e[e.length-1],r=Gt.getPartial(n);return 32===r?e.concat(t):Gt._shiftRight(t,r,0|n,e.slice(0,e.length-1))},bitLength(e){const t=e.length;if(0===t)return 0;const n=e[t-1];return 32*(t-1)+Gt.getPartial(n)},clamp(e,t){if(32*e.length<t)return e;const n=(e=e.slice(0,Math.ceil(t/32))).length;t&=31;n>0&&t&&(e[n-1]=Gt.partial(t,e[n-1]&2147483648>>t-1,1));return e},partial:(e,t,n)=>32===e?t:(n?0|t:t<<32-e)+1099511627776*e,getPartial:e=>Math.round(e/1099511627776)||32,_shiftRight(e,t,n,r){void 0===r&&(r=[]);for(;t>=32;t-=32){r.push(n);n=0}if(0===t)return r.concat(e);for(let i=0;i<e.length;i++){r.push(n|e[i]>>>t);n=e[i]<<32-t}const i=e.length?e[e.length-1]:0,o=Gt.getPartial(i);r.push(Gt.partial(t+o&31,t+o>32?n:r.pop(),1));return r}},Ht={bytes:{fromBits(e){const t=Gt.bitLength(e)/8,n=new Uint8Array(t);let r;for(let i=0;i<t;i++){0===(3&i)&&(r=e[i/4]);n[i]=r>>>24;r<<=8}return n},toBits(e){const t=[];let n,r=0;for(n=0;n<e.length;n++){r=r<<8|e[n];if(3===(3&n)){t.push(r);r=0}}3&n&&t.push(Gt.partial(8*(3&n),r));return t}}},Vt=class{constructor(e){const t=this;t.blockSize=512;t._init=[1732584193,4023233417,2562383102,271733878,3285377520];t._key=[1518500249,1859775393,2400959708,3395469782];if(e){t._h=e._h.slice(0);t._buffer=e._buffer.slice(0);t._length=e._length}else t.reset()}reset(){const e=this;e._h=e._init.slice(0);e._buffer=[];e._length=0;return e}update(e){const t=this;"string"===typeof e&&(e=Ht.utf8String.toBits(e));const n=t._buffer=Gt.concat(t._buffer,e),r=t._length,i=t._length=r+Gt.bitLength(e);if(i>9007199254740991)throw new Error("Cannot hash more than 2^53 - 1 bits");const o=new Uint32Array(n);let s=0;for(let e=t.blockSize+r-(t.blockSize+r&t.blockSize-1);e<=i;e+=t.blockSize){t._block(o.subarray(16*s,16*(s+1)));s+=1}n.splice(0,16*s);return t}finalize(){const e=this;let t=e._buffer;const n=e._h;t=Gt.concat(t,[Gt.partial(1,1)]);for(let e=t.length+2;15&e;e++)t.push(0);t.push(Math.floor(e._length/4294967296));t.push(0|e._length);for(;t.length;)e._block(t.splice(0,16));e.reset();return n}_f(e,t,n,r){return e>19?e>39?e>59?e>79?void 0:t^n^r:t&n|t&r|n&r:t^n^r:t&n|~t&r}_S(e,t){return t<<e|t>>>32-e}_block(e){const t=this,n=t._h,r=Array(80);for(let t=0;t<16;t++)r[t]=e[t];let i=n[0],o=n[1],s=n[2],a=n[3],c=n[4];for(let e=0;e<=79;e++){e<16||(r[e]=t._S(1,r[e-3]^r[e-8]^r[e-14]^r[e-16]));const n=t._S(5,i)+t._f(e,o,s,a)+c+r[e]+t._key[Math.floor(e/20)]|0;c=a;a=s;s=t._S(30,o);o=i;i=n}n[0]=n[0]+i|0;n[1]=n[1]+o|0;n[2]=n[2]+s|0;n[3]=n[3]+a|0;n[4]=n[4]+c|0}},qt=class{constructor(e){const t=this;t._tables=[[[],[],[],[],[]],[[],[],[],[],[]]];t._tables[0][0][0]||t._precompute();const n=t._tables[0][4],r=t._tables[1],i=e.length;let o,s,a,c=1;if(4!==i&&6!==i&&8!==i)throw new Error("invalid aes key size");t._key=[s=e.slice(0),a=[]];for(o=i;o<4*i+28;o++){let e=s[o-1];if(o%i===0||8===i&&o%i===4){e=n[e>>>24]<<24^n[e>>16&255]<<16^n[e>>8&255]<<8^n[255&e];if(o%i===0){e=e<<8^e>>>24^c<<24;c=c<<1^283*(c>>7)}}s[o]=s[o-i]^e}for(let e=0;o;e++,o--){const t=s[3&e?o:o-4];a[e]=o<=4||e<4?t:r[0][n[t>>>24]]^r[1][n[t>>16&255]]^r[2][n[t>>8&255]]^r[3][n[255&t]]}}encrypt(e){return this._crypt(e,0)}decrypt(e){return this._crypt(e,1)}_precompute(){const e=this._tables[0],t=this._tables[1],n=e[4],r=t[4],i=[],o=[];let s,a,c,u;for(let e=0;e<256;e++)o[(i[e]=e<<1^283*(e>>7))^e]=e;for(let l=s=0;!n[l];l^=a||1,s=o[s]||1){let o=s^s<<1^s<<2^s<<3^s<<4;o=o>>8^255&o^99;n[l]=o;r[o]=l;u=i[c=i[a=i[l]]];let f=16843009*u^65537*c^257*a^16843008*l,d=257*i[o]^16843008*o;for(let n=0;n<4;n++){e[n][l]=d=d<<24^d>>>8;t[n][o]=f=f<<24^f>>>8}}for(let n=0;n<5;n++){e[n]=e[n].slice(0);t[n]=t[n].slice(0)}}_crypt(e,t){if(4!==e.length)throw new Error("invalid aes block size");const n=this._key[t],r=n.length/4-2,i=[0,0,0,0],o=this._tables[t],s=o[0],a=o[1],c=o[2],u=o[3],l=o[4];let f,d,h,p=e[0]^n[0],m=e[t?3:1]^n[1],g=e[2]^n[2],y=e[t?1:3]^n[3],_=4;for(let e=0;e<r;e++){f=s[p>>>24]^a[m>>16&255]^c[g>>8&255]^u[255&y]^n[_];d=s[m>>>24]^a[g>>16&255]^c[y>>8&255]^u[255&p]^n[_+1];h=s[g>>>24]^a[y>>16&255]^c[p>>8&255]^u[255&m]^n[_+2];y=s[y>>>24]^a[p>>16&255]^c[m>>8&255]^u[255&g]^n[_+3];_+=4;p=f;m=d;g=h}for(let e=0;e<4;e++){i[t?3&-e:e]=l[p>>>24]<<24^l[m>>16&255]<<16^l[g>>8&255]<<8^l[255&y]^n[_++];f=p;p=m;m=g;g=y;y=f}return i}},Wt={getRandomValues(e){const t=new Uint32Array(e.buffer),n=e=>{let t=987654321;const n=4294967295;return function(){t=36969*(65535&t)+(t>>16)&n;return(((t<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n)/4294967296+.5)*(Math.random()>.5?1:-1)}};for(let r,i=0;i<e.length;i+=4){const e=n(4294967296*(r||Math.random()));r=987654071*e();t[i/4]=4294967296*e()|0}return e}},Kt=class{constructor(e,t){this._prf=e;this._initIv=t;this._iv=t}reset(){this._iv=this._initIv}update(e){return this.calculate(this._prf,e,this._iv)}incWord(e){if(255===(e>>24&255)){let t=e>>16&255,n=e>>8&255,r=255&e;if(255===t){t=0;if(255===n){n=0;255===r?r=0:++r}else++n}else++t;e=0;e+=t<<16;e+=n<<8;e+=r}else e+=1<<24;return e}incCounter(e){0===(e[0]=this.incWord(e[0]))&&(e[1]=this.incWord(e[1]))}calculate(e,t,n){let r;if(!(r=t.length))return[];const i=Gt.bitLength(t);for(let i=0;i<r;i+=4){this.incCounter(n);const r=e.encrypt(n);t[i]^=r[0];t[i+1]^=r[1];t[i+2]^=r[2];t[i+3]^=r[3]}return Gt.clamp(t,i)}},zt={importKey:e=>new zt.hmacSha1(Ht.bytes.toBits(e)),pbkdf2(e,t,n,r){n=n||1e4;if(r<0||n<0)throw new Error("invalid params to pbkdf2");const i=1+(r>>5)<<2;let o,s,a,c,u;const l=new ArrayBuffer(i),f=new DataView(l);let d=0;const h=Gt;t=Ht.bytes.toBits(t);for(u=1;d<(i||1);u++){o=s=e.encrypt(h.concat(t,[u]));for(a=1;a<n;a++){s=e.encrypt(s);for(c=0;c<s.length;c++)o[c]^=s[c]}for(a=0;d<(i||1)&&a<o.length;a++){f.setInt32(d,o[a]);d+=4}}return l.slice(0,r/8)},hmacSha1:class{constructor(e){const t=this,n=t._hash=Vt,r=[[],[]];t._baseHash=[new n,new n];const i=t._baseHash[0].blockSize/32;e.length>i&&(e=(new n).update(e).finalize());for(let t=0;t<i;t++){r[0][t]=909522486^e[t];r[1][t]=1549556828^e[t]}t._baseHash[0].update(r[0]);t._baseHash[1].update(r[1]);t._resultHash=new n(t._baseHash[0])}reset(){const e=this;e._resultHash=new e._hash(e._baseHash[0]);e._updated=!1}update(e){this._updated=!0;this._resultHash.update(e)}digest(){const e=this,t=e._resultHash.finalize(),n=new e._hash(e._baseHash[1]).update(t).finalize();e.reset();return n}encrypt(e){if(this._updated)throw new Error("encrypt on already updated hmac called!");this.update(e);return this.digest(e)}}},Yt=typeof crypto!=Ot&&typeof crypto.getRandomValues==Lt,$t="Invalid password",Qt="Invalid signature",Xt="zipjs-abort-check-password",Jt=16,Zt={name:"PBKDF2"},en=Object.assign({hash:{name:"HMAC"}},Zt),tn=Object.assign({iterations:1e3,hash:{name:"SHA-1"}},Zt),nn=["deriveBits"],rn=[8,12,16],on=[16,24,32],sn=10,an=[0,0,0,0],cn=typeof crypto!=Ot,un=cn&&crypto.subtle,ln=cn&&typeof un!=Ot,fn=Ht.bytes,dn=qt,hn=Kt,pn=zt.hmacSha1;let mn=cn&&ln&&typeof un.importKey==Lt,gn=cn&&ln&&typeof un.deriveBits==Lt;class yn extends TransformStream{constructor({password:e,rawPassword:t,signed:n,encryptionStrength:r,checkPasswordOnly:i}){super({start(){Object.assign(this,{ready:new Promise((e=>this.resolveReady=e)),password:C(e,t),signed:n,strength:r-1,pending:new Uint8Array})},async transform(e,t){const n=this,{password:r,strength:o,resolveReady:s,ready:a}=n;if(r){await async function(e,t,n,r){const i=await T(e,t,n,w(r,0,rn[t])),o=w(r,rn[t]);if(i[0]!=o[0]||i[1]!=o[1])throw new Error($t)}(n,o,r,w(e,0,rn[o]+2));e=w(e,rn[o]+2);i?t.error(new Error(Xt)):s()}else await a;const c=new Uint8Array(e.length-sn-(e.length-sn)%Jt);t.enqueue(b(n,e,c,0,sn,!0))},async flush(e){const{signed:t,ctr:n,hmac:r,pending:i,ready:o}=this;if(r&&n){await o;const s=w(i,0,i.length-sn),a=w(i,i.length-sn);let c=new Uint8Array;if(s.length){const e=A(fn,s);r.update(e);const t=n.update(e);c=N(fn,t)}if(t){const e=w(N(fn,r.digest()),0,sn);for(let t=0;t<sn;t++)if(e[t]!=a[t])throw new Error(Qt)}e.enqueue(c)}}})}}class _n extends TransformStream{constructor({password:e,rawPassword:t,encryptionStrength:n}){let r;super({start(){Object.assign(this,{ready:new Promise((e=>this.resolveReady=e)),password:C(e,t),strength:n-1,pending:new Uint8Array})},async transform(e,t){const n=this,{password:r,strength:i,resolveReady:o,ready:s}=n;let a=new Uint8Array;if(r){a=await async function(e,t,n){const r=S(new Uint8Array(rn[t]));return I(r,await T(e,t,n,r))}(n,i,r);o()}else await s;const c=new Uint8Array(a.length+e.length-e.length%Jt);c.set(a,0);t.enqueue(b(n,e,c,a.length,0))},async flush(e){const{ctr:t,hmac:n,pending:i,ready:o}=this;if(n&&t){await o;let s=new Uint8Array;if(i.length){const e=t.update(A(fn,i));n.update(e);s=N(fn,e)}r.signature=N(fn,n.digest()).slice(0,sn);e.enqueue(I(s,r.signature))}}});r=this}}class vn extends TransformStream{constructor({password:e,passwordVerification:t,checkPasswordOnly:n}){super({start(){Object.assign(this,{password:e,passwordVerification:t});L(this,e)},transform(e,t){const r=this;if(r.password){const t=R(r,e.subarray(0,12));r.password=null;if(t[11]!=r.passwordVerification)throw new Error($t);e=e.subarray(12)}n?t.error(new Error(Xt)):t.enqueue(R(r,e))}})}}class En extends TransformStream{constructor({password:e,passwordVerification:t}){super({start(){Object.assign(this,{password:e,passwordVerification:t});L(this,e)},transform(e,t){const n=this;let r,i;if(n.password){n.password=null;const t=S(new Uint8Array(12));t[11]=n.passwordVerification;r=new Uint8Array(e.length+t.length);r.set(O(n,t),0);i=12}else{r=new Uint8Array(e.length);i=0}r.set(O(n,e),i);t.enqueue(r)}})}}const Sn="deflate-raw";class bn extends TransformStream{constructor(e,{chunkSize:t,CompressionStream:n,CompressionStreamNative:r}){super({});const{compressed:i,encrypted:o,useCompressionStream:s,zipCrypto:a,signed:c,level:u}=e,l=this;let f,d,h=B(super.readable);if((!o||a)&&c){f=new jt;h=F(h,f)}i&&(h=U(h,s,{level:u,chunkSize:t},r,n));if(o)if(a)h=F(h,new En(e));else{d=new _n(e);h=F(h,d)}M(l,h,(()=>{let e;o&&!a&&(e=d.signature);o&&!a||!c||(e=new DataView(f.value.buffer).getUint32(0));l.signature=e}))}}class Tn extends TransformStream{constructor(e,{chunkSize:t,DecompressionStream:n,DecompressionStreamNative:r}){super({});const{zipCrypto:i,encrypted:o,signed:s,signature:a,compressed:c,useCompressionStream:u}=e;let l,f,d=B(super.readable);if(o)if(i)d=F(d,new vn(e));else{f=new yn(e);d=F(d,f)}c&&(d=U(d,u,{chunkSize:t},r,n));if((!o||i)&&s){l=new jt;d=F(d,l)}M(this,d,(()=>{if((!o||i)&&s){const e=new DataView(l.value.buffer);if(a!=e.getUint32(0,!1))throw new Error(Qt)}}))}}const Cn="message",In="start",wn="pull",Nn="data",An="close",Rn="deflate",On="inflate";class Ln extends TransformStream{constructor(e,t){super({});const n=this,{codecType:r}=e;let i;r.startsWith(Rn)?i=bn:r.startsWith(On)&&(i=Tn);let o=0,s=0;const a=new i(e,t),c=super.readable,u=new TransformStream({transform(e,t){if(e&&e.length){s+=e.length;t.enqueue(e)}},flush(){Object.assign(n,{inputSize:s})}}),l=new TransformStream({transform(e,t){if(e&&e.length){o+=e.length;t.enqueue(e)}},flush(){const{signature:e}=a;Object.assign(n,{signature:e,outputSize:o,inputSize:s})}});Object.defineProperty(n,"readable",{get:()=>c.pipeThrough(u).pipeThrough(a).pipeThrough(l)})}}class Dn extends TransformStream{constructor(e){let t;super({transform:function n(r,i){if(t){const e=new Uint8Array(t.length+r.length);e.set(t);e.set(r,t.length);r=e;t=null}if(r.length>e){i.enqueue(r.slice(0,e));n(r.slice(e),i)}else t=r},flush(e){t&&t.length&&e.enqueue(t)}})}}let xn=typeof Worker!=Ot;class Pn{constructor(e,{readable:t,writable:n},{options:r,config:i,streamOptions:o,useWebWorkers:s,transferStreams:a,scripts:c},u){const{signal:l}=o;Object.assign(e,{busy:!0,readable:t.pipeThrough(new Dn(i.chunkSize)).pipeThrough(new kn(t,o),{signal:l}),writable:n,options:Object.assign({},r),scripts:c,transferStreams:a,terminate:()=>new Promise((t=>{const{worker:n,busy:r}=e;if(n){if(r)e.resolveTerminated=t;else{n.terminate();t()}e.interface=null}else t()})),onTaskFinished(){const{resolveTerminated:t}=e;if(t){e.resolveTerminated=null;e.terminated=!0;e.worker.terminate();t()}e.busy=!1;u(e)}});return(s&&xn?H:G)(e,i)}}class kn extends TransformStream{constructor(e,{onstart:t,onprogress:n,size:r,onend:i}){let o=0;super({async start(){t&&await j(t,r)},async transform(e,t){o+=e.length;n&&await j(n,o,r);t.enqueue(e)},async flush(){e.size=o;i&&await j(i,o)}})}}let Bn=!0,Mn=!0,Un=[];const Fn=[];let jn=0;const Gn="HTTP error ",Hn="HTTP Range not supported",Vn="Writer iterator completed too soon",qn="Range",Wn="GET",Kn="bytes",zn=65536,Yn="writable";class $n{constructor(){this.size=0}init(){this.initialized=!0}}class Qn extends $n{get readable(){const e=this,{chunkSize:t=zn}=e,n=new ReadableStream({start(){this.chunkOffset=0},async pull(r){const{offset:i=0,size:o,diskNumberStart:s}=n,{chunkOffset:a}=this;r.enqueue(await ae(e,i+a,Math.min(t,o-a),s));a+t>o?r.close():this.chunkOffset+=t}});return n}}class Xn extends $n{constructor(){super();const e=this,t=new WritableStream({write:t=>e.writeUint8Array(t)});Object.defineProperty(e,Yn,{get:()=>t})}writeUint8Array(){}}class Jn extends Qn{constructor(e){super();let t=e.length;for(;"="==e.charAt(t-1);)t--;const n=e.indexOf(",")+1;Object.assign(this,{dataURI:e,dataStart:n,size:Math.floor(.75*(t-n))})}readUint8Array(e,t){const{dataStart:n,dataURI:r}=this,i=new Uint8Array(t),o=4*Math.floor(e/3),s=atob(r.substring(o+n,4*Math.ceil((e+t)/3)+n)),a=e-3*Math.floor(o/4);for(let e=a;e<a+t;e++)i[e-a]=s.charCodeAt(e);return i}}class Zn extends Xn{constructor(e){super();Object.assign(this,{data:"data:"+(e||"")+";base64,",pending:[]})}writeUint8Array(e){const t=this;let n=0,r=t.pending;const i=t.pending.length;t.pending="";for(n=0;n<3*Math.floor((i+e.length)/3)-i;n++)r+=String.fromCharCode(e[n]);for(;n<e.length;n++)t.pending+=String.fromCharCode(e[n]);r.length>2?t.data+=btoa(r):t.pending=r}getData(){return this.data+btoa(this.pending)}}class er extends Qn{constructor(e){super();Object.assign(this,{blob:e,size:e.size})}async readUint8Array(e,t){const n=this,r=e+t,i=e||r<n.size?n.blob.slice(e,r):n.blob;let o=await i.arrayBuffer();o.byteLength>t&&(o=o.slice(e,r));return new Uint8Array(o)}}class tr extends $n{constructor(e){super();const t=new TransformStream,n=[];e&&n.push(["Content-Type",e]);Object.defineProperty(this,Yn,{get:()=>t.writable});this.blob=new Response(t.readable,{headers:n}).blob()}getData(){return this.blob}}class nr extends er{constructor(e){super(new Blob([e],{type:"text/plain"}))}}class rr extends tr{constructor(e){super(e);Object.assign(this,{encoding:e,utf8:!e||"utf-8"==e.toLowerCase()})}async getData(){const{encoding:e,utf8:t}=this,n=await super.getData();if(n.text&&t)return n.text();{const t=new FileReader;return new Promise(((r,i)=>{Object.assign(t,{onload:({target:e})=>r(e.result),onerror:()=>i(t.error)});t.readAsText(n,e)}))}}}class ir extends Qn{constructor(e,t){super();z(this,e,t)}async init(){await Y(this,ne,J);super.init()}readUint8Array(e,t){return $(this,e,t,ne,J)}}class or extends Qn{constructor(e,t){super();z(this,e,t)}async init(){await Y(this,re,Z);super.init()}readUint8Array(e,t){return $(this,e,t,re,Z)}}class sr extends Qn{constructor(e,t={}){super();Object.assign(this,{url:e,reader:t.useXHR?new or(e,t):new ir(e,t)})}set size(e){}get size(){return this.reader.size}async init(){await this.reader.init();super.init()}readUint8Array(e,t){return this.reader.readUint8Array(e,t)}}class ar extends Qn{constructor(e){super();Object.assign(this,{array:e,size:e.length})}readUint8Array(e,t){return this.array.slice(e,e+t)}}class cr extends Xn{init(e=0){Object.assign(this,{offset:0,array:new Uint8Array(e)});super.init()}writeUint8Array(e){const t=this;if(t.offset+e.length>t.array.length){const n=t.array;t.array=new Uint8Array(n.length+e.length);t.array.set(n)}t.array.set(e,t.offset);t.offset+=e.length}getData(){return this.array}}class ur extends Qn{constructor(e){super();this.readers=e}async init(){const e=this,{readers:t}=e;e.lastDiskNumber=0;e.lastDiskOffset=0;await Promise.all(t.map((async(n,r)=>{await n.init();r!=t.length-1&&(e.lastDiskOffset+=n.size);e.size+=n.size})));super.init()}async readUint8Array(e,t,n=0){const r=this,{readers:i}=this;let o,s=n;-1==s&&(s=i.length-1);let a=e;for(;a>=i[s].size;){a-=i[s].size;s++}const c=i[s],u=c.size;if(a+t>u){const i=u-a;o=new Uint8Array(t);o.set(await ae(c,a,i));o.set(await r.readUint8Array(e+i,t-i,n),i)}else o=await ae(c,a,t);r.lastDiskNumber=Math.max(s,r.lastDiskNumber);return o}}class lr extends $n{constructor(e,t=4294967295){async function n(e){const t=e.length;if(t){await a.ready;await a.write(e);o.size+=t;i.size+=t;i.availableSize-=t}}async function r(){s.size=o.size;await a.close()}super();const i=this;Object.assign(i,{diskNumber:0,diskOffset:0,size:0,maxSize:t,availableSize:t});let o,s,a;const c=new WritableStream({async write(t){const{availableSize:c}=i;if(a)if(t.length<c)await n(t);else{await n(t.slice(0,c));await r();i.diskOffset+=o.size;i.diskNumber++;a=null;await this.write(t.slice(c))}else{const{value:n,done:r}=await e.next();if(r&&!n)throw new Error(Vn);o=n;o.size=0;o.maxSize&&(i.maxSize=o.maxSize);i.availableSize=i.maxSize;await ie(o);s=n.writable;a=s.getWriter();await this.write(t)}},async close(){await a.ready;await r()}});Object.defineProperty(i,Yn,{get:()=>c})}}const fr=ur,dr=lr,hr="\0 !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ ".split(""),pr=256==hr.length,mr="filename",gr="rawFilename",yr="comment",_r="rawComment",vr="uncompressedSize",Er="compressedSize",Sr="offset",br="diskNumberStart",Tr="lastModDate",Cr="rawLastModDate",Ir="lastAccessDate",wr="rawLastAccessDate",Nr="creationDate",Ar="rawCreationDate",Rr="internalFileAttribute",Or="externalFileAttribute",Lr="msDosCompatible",Dr="zip64",xr="encrypted",Pr="version",kr="versionMadeBy",Br="zipCrypto",Mr=[mr,gr,Er,vr,Tr,Cr,yr,_r,Ir,Nr,Sr,br,br,Rr,Or,Lr,Dr,xr,Pr,kr,Br,"directory","bitFlag","signature","filenameUTF8","commentUTF8","compressionMethod","extraField","rawExtraField","extraFieldZip64","extraFieldUnicodePath","extraFieldUnicodeComment","extraFieldAES","extraFieldNTFS","extraFieldExtendedTimestamp"];class Ur{constructor(e){Mr.forEach((t=>this[t]=e[t]))}}const Fr="File format is not recognized",jr="End of central directory not found",Gr="End of Zip64 central directory locator not found",Hr="Central directory header not found",Vr="Local file header not found",qr="Zip64 extra field not found",Wr="File contains encrypted entry",Kr="Encryption method not supported",zr="Compression method not supported",Yr="Split zip file",$r="utf-8",Qr="cp437",Xr=[[vr,dt],[Er,dt],[Sr,dt],[br,ht]],Jr={[ht]:{getValue:ye,bytes:4},[dt]:{getValue:_e,bytes:8}};class Zr{constructor(e,t={}){Object.assign(this,{reader:oe(e),options:t,config:g()})}async*getEntriesGenerator(e={}){const t=this;let{reader:n}=t;const{config:r}=t;await ie(n);if(n.size===Rt||!n.readUint8Array){n=new er(await new Response(n.readable).blob());await ie(n)}if(n.size<St)throw new Error(Fr);n.chunkSize=y(r);const i=await async function(e,t,n,r){async function i(t){const i=n-t,s=await ae(e,i,t);for(let e=s.length-r;e>=0;e--)if(s[e]==o[0]&&s[e+1]==o[1]&&s[e+2]==o[2]&&s[e+3]==o[3])return{offset:i+e,buffer:s.slice(e,e+r).buffer}}const o=new Uint8Array(4);!function(e,t,n){e.setUint32(0,n,!0)}(ve(o),0,t);const s=r+1048560;return await i(r)||await i(Math.min(s,n))}(n,_t,n.size,St);if(!i)throw ye(ve(await ae(n,0,4)))==mt?new Error(Yr):new Error(jr);const o=ve(i);let s=ye(o,12),a=ye(o,16);const c=i.offset,u=ge(o,20),l=c+St+u;let f=ge(o,4);const d=n.lastDiskNumber||0;let h=ge(o,6),p=ge(o,8),m=0,g=0;if(a==dt||s==dt||p==ht||h==ht){const e=ve(await ae(n,i.offset-20,20));if(ye(e,0)==Et){a=_e(e,8);let t=await ae(n,a,56,-1),r=ve(t);const o=i.offset-20-56;if(ye(r,0)!=vt&&a!=o){const e=a;a=o;m=a-e;t=await ae(n,a,56,-1);r=ve(t)}if(ye(r,0)!=vt)throw new Error(Gr);f==ht&&(f=ye(r,16));h==ht&&(h=ye(r,20));p==ht&&(p=_e(r,32));s==dt&&(s=_e(r,40));a-=s}}if(a>=n.size){m=n.size-a-s-St;a=n.size-s-St}if(d!=f)throw new Error(Yr);if(a<0)throw new Error(Fr);let _=0,v=await ae(n,a,s,h),E=ve(v);if(s){const e=i.offset-s;if(ye(E,_)!=yt&&a!=e){const t=a;a=e;m+=a-t;v=await ae(n,a,s,h);E=ve(v)}}const S=i.offset-a-(n.lastDiskOffset||0);if(s!=S&&S>=0){s=S;v=await ae(n,a,s,h);E=ve(v)}if(a<0||a>=n.size)throw new Error(Fr);const b=de(t,e,"filenameEncoding"),T=de(t,e,"commentEncoding");for(let i=0;i<p;i++){const o=new ei(n,r,t.options);if(ye(E,_)!=yt)throw new Error(Hr);ue(o,E,_+6);const s=Boolean(o.bitFlag.languageEncodingFlag),a=_+46,c=a+o.filenameLength,u=c+o.extraFieldLength,l=ge(E,_+4),f=!0,d=v.subarray(a,c),h=ge(E,_+32),y=u+h,S=v.subarray(u,y),C=s,I=s,w=f&&16==(16&me(E,_+38)),N=ye(E,_+42)+m;Object.assign(o,{versionMadeBy:l,msDosCompatible:f,compressedSize:0,uncompressedSize:0,commentLength:h,directory:w,offset:N,diskNumberStart:ge(E,_+34),internalFileAttribute:ge(E,_+36),externalFileAttribute:ye(E,_+38),rawFilename:d,filenameUTF8:C,commentUTF8:I,rawExtraField:v.subarray(c,u)});const A=de(t,e,"decodeText")||ce,R=C?$r:b||Qr,O=I?$r:T||Qr;let L=A(d,R);L===Rt&&(L=ce(d,R));let D=A(S,O);D===Rt&&(D=ce(S,O));Object.assign(o,{rawComment:S,filename:L,comment:D,directory:w||L.endsWith(wt)});g=Math.max(N,g);le(o,o,E,_+6);o.zipCrypto=o.encrypted&&!o.extraFieldAES;const x=new Ur(o);x.getData=(e,t)=>o.getData(e,x,t);_=y;const{onprogress:P}=e;if(P)try{await P(i+1,p,new Ur(o))}catch(e){}yield x}const C=de(t,e,"extractPrependedData"),I=de(t,e,"extractAppendedData");C&&(t.prependedData=g>0?await ae(n,0,g):new Uint8Array);t.comment=u?await ae(n,c+St,u):new Uint8Array;I&&(t.appendedData=l<n.size?await ae(n,l,n.size-l):new Uint8Array);return!0}async getEntries(e={}){const t=[];for await(const n of this.getEntriesGenerator(e))t.push(n);return t}async close(){}}let ei=class{constructor(e,t,n){Object.assign(this,{reader:e,config:t,options:n})}async getData(e,t,n={}){const r=this,{reader:i,offset:o,diskNumberStart:s,extraFieldAES:a,compressionMethod:c,config:u,bitFlag:l,signature:f,rawLastModDate:d,uncompressedSize:h,compressedSize:p}=r,m=t.localDirectory={},g=ve(await ae(i,o,30,s));let y=de(r,n,"password"),_=de(r,n,"rawPassword");const v=de(r,n,"passThrough");y=y&&y.length&&y;_=_&&_.length&&_;if(a&&99!=a.originalCompressionMethod)throw new Error(zr);if(0!=c&&8!=c&&!v)throw new Error(zr);if(ye(g,0)!=pt)throw new Error(Vr);ue(m,g,4);m.rawExtraField=m.extraFieldLength?await ae(i,o+30+m.filenameLength,m.extraFieldLength,s):new Uint8Array;le(r,m,g,4,!0);Object.assign(t,{lastAccessDate:m.lastAccessDate,creationDate:m.creationDate});const E=r.encrypted&&m.encrypted&&!v,S=E&&!a;v||(t.zipCrypto=S);if(E){if(!S&&a.strength===Rt)throw new Error(Kr);if(!y&&!_)throw new Error(Wr)}const b=o+30+m.filenameLength+m.extraFieldLength,T=p,C=i.readable;Object.assign(C,{diskNumberStart:s,offset:b,size:T});const I=de(r,n,"signal"),w=de(r,n,"checkPasswordOnly");w&&(e=new WritableStream);e=se(e);await ie(e,v?p:h);const{writable:N}=e,{onstart:A,onprogress:R,onend:O}=n,L={options:{codecType:On,password:y,rawPassword:_,zipCrypto:S,encryptionStrength:a&&a.strength,signed:de(r,n,"checkSignature")&&!v,passwordVerification:S&&(l.dataDescriptor?d>>>8&255:f>>>24&255),signature:f,compressed:0!=c&&!v,encrypted:r.encrypted&&!v,useWebWorkers:de(r,n,"useWebWorkers"),useCompressionStream:de(r,n,"useCompressionStream"),transferStreams:de(r,n,"transferStreams"),checkPasswordOnly:w},config:u,streamOptions:{signal:I,size:T,onstart:A,onprogress:R,onend:O}};let D=0;try{({outputSize:D}=await q({readable:C,writable:N},L))}catch(e){if(!w||e.message!=Xt)throw e}finally{const e=de(r,n,"preventClose");N.size+=D;e||N.locked||await N.getWriter().close()}return w?Rt:e.getData?e.getData():N}};const ti="File already exists",ni="Zip file comment exceeds 64KB",ri="File entry comment exceeds 64KB",ii="File entry name exceeds 64KB",oi="Version exceeds 65535",si="The strength must equal 1, 2, or 3",ai="Extra field type exceeds 65535",ci="Extra field data exceeds 64KB",ui="Zip64 is not supported (make sure 'keepOrder' is set to 'true')",li="Undefined uncompressed size",fi=new Uint8Array([7,0,2,0,65,69,3,0,0]);let di=0;const hi=[];class pi{constructor(e,t={}){const n=(e=se(e)).availableSize!==Rt&&e.availableSize>0&&e.availableSize!==1/0&&e.maxSize!==Rt&&e.maxSize>0&&e.maxSize!==1/0;Object.assign(this,{writer:e,addSplitZipSignature:n,options:t,config:g(),files:new Map,filenames:new Set,offset:t.offset===Rt?e.writable.size:t.offset,pendingEntriesSize:0,pendingAddFileCalls:new Set,bufferedWrites:0})}async add(e="",t,n={}){const r=this,{pendingAddFileCalls:i,config:o}=r;di<o.maxWorkers?di++:await new Promise((e=>hi.push(e)));let s;try{e=e.trim();if(r.filenames.has(e))throw new Error(ti);r.filenames.add(e);s=async function(e,t,n,r){t=t.trim();r.directory&&!t.endsWith(wt)?t+=wt:r.directory=t.endsWith(wt);const i=be(e,r,"encodeText",E);let o=i(t);o===Rt&&(o=E(t));if(Oe(o)>ht)throw new Error(ii);const s=r.comment||"";let a=i(s);a===Rt&&(a=E(s));if(Oe(a)>ht)throw new Error(ri);const c=be(e,r,Pr,20);if(c>ht)throw new Error(oi);const u=be(e,r,kr,20);if(u>ht)throw new Error(oi);const l=be(e,r,Tr,new Date),f=be(e,r,Ir),d=be(e,r,Nr),h=be(e,r,Lr,!0),p=be(e,r,Rr,0),m=be(e,r,Or,0),g=be(e,r,"passThrough");let _,v;if(!g){_=be(e,r,"password");v=be(e,r,"rawPassword")}const S=be(e,r,"encryptionStrength",3),b=be(e,r,Br),T=be(e,r,"extendedTimestamp",!0),C=be(e,r,"keepOrder",!0),I=be(e,r,"level"),w=be(e,r,"useWebWorkers"),N=be(e,r,"bufferedWrite"),A=be(e,r,"dataDescriptorSignature",!1),R=be(e,r,"signal"),O=be(e,r,"useUnicodeFileNames",!0),L=be(e,r,"useCompressionStream"),D=be(e,r,"compressionMethod");let x=be(e,r,"dataDescriptor",!0),P=be(e,r,Dr);if(!b&&(_!==Rt||v!==Rt)&&(S<1||S>3))throw new Error(si);let k=new Uint8Array;const{extraField:B}=r;if(B){let e=0,t=0;B.forEach((t=>e+=4+Oe(t)));k=new Uint8Array(e);B.forEach(((e,n)=>{if(n>ht)throw new Error(ai);if(Oe(e)>ht)throw new Error(ci);Ae(k,new Uint16Array([n]),t);Ae(k,new Uint16Array([Oe(e)]),t+2);Ae(k,e,t+4);t+=4+Oe(e)}))}let M=0,U=0,F=0;if(g){({uncompressedSize:F}=r);if(F===Rt)throw new Error(li)}const j=!0===P;if(n){n=oe(n);await ie(n);if(g)M=Te(F);else if(n.size===Rt){x=!0;if(P||P===Rt){P=!0;F=M=4294967296}}else{F=n.size;M=Te(F)}}const{diskOffset:G,diskNumber:H,maxSize:V}=e.writer,W=j||F>dt,K=j||M>dt,z=j||e.offset+e.pendingEntriesSize-G>dt,Y=be(e,r,"supportZip64SplitFile",!0)&&j||H+Math.ceil(e.pendingEntriesSize/V)>ht;if(z||W||K||Y){if(!1===P||!C)throw new Error(ui);P=!0}P=P||!1;const $=be(e,r,xr),{signature:Q}=r,X=function(e){const{rawFilename:t,lastModDate:n,lastAccessDate:r,creationDate:i,level:o,zip64:s,zipCrypto:a,useUnicodeFileNames:c,dataDescriptor:u,directory:l,rawExtraField:f,encryptionStrength:d,extendedTimestamp:h,encrypted:p}=e;let{version:m,compressionMethod:g}=e;const y=!l&&(o>0||o===Rt&&0!==g);let _,v,E,S;if(p&&!a){_=new Uint8Array(Oe(fi)+2);const e=Re(_);Ie(e,0,bt);Ae(_,fi,2);Ce(e,8,d)}else _=new Uint8Array;if(h){E=new Uint8Array(9+(r?4:0)+(i?4:0));const e=Re(E);Ie(e,0,Tt);Ie(e,2,Oe(E)-4);S=1+(r?2:0)+(i?4:0);Ce(e,4,S);let t=5;we(e,t,Math.floor(n.getTime()/1e3));t+=4;if(r){we(e,t,Math.floor(r.getTime()/1e3));t+=4}i&&we(e,t,Math.floor(i.getTime()/1e3));try{v=new Uint8Array(36);const e=Re(v),t=Se(n);Ie(e,0,10);Ie(e,2,32);Ie(e,8,1);Ie(e,10,24);Ne(e,12,t);Ne(e,20,Se(r)||t);Ne(e,28,Se(i)||t)}catch(e){v=new Uint8Array}}else v=E=new Uint8Array;let b=0;c&&(b|=It);u&&(b|=8);g===Rt&&(g=y?8:0);if(8==g){o>=1&&o<3&&(b|=6);o>=3&&o<5&&(b|=1);9===o&&(b|=2)}s&&(m=m>45?m:45);if(p){b|=1;if(!a){m=m>51?m:51;_[9]=g;g=99}}const T=new Uint8Array(26),C=Re(T);Ie(C,0,m);Ie(C,2,b);Ie(C,4,g);const I=new Uint32Array(1),w=Re(I);let N;N=n<At?At:n>Nt?Nt:n;Ie(w,0,(N.getHours()<<6|N.getMinutes())<<5|N.getSeconds()/2);Ie(w,2,(N.getFullYear()-1980<<4|N.getMonth()+1)<<5|N.getDate());const A=I[0];we(C,6,A);Ie(C,22,Oe(t));const R=Oe(_,E,v,f);Ie(C,24,R);const O=new Uint8Array(30+Oe(t)+R);we(Re(O),0,pt);Ae(O,T,4);Ae(O,t,30);Ae(O,_,30+Oe(t));Ae(O,E,30+Oe(t,_));Ae(O,v,30+Oe(t,_,E));Ae(O,f,30+Oe(t,_,E,v));return{localHeaderArray:O,headerArray:T,headerView:C,lastModDate:n,rawLastModDate:A,encrypted:p,compressed:y,version:m,compressionMethod:g,extraFieldExtendedTimestampFlag:S,rawExtraFieldExtendedTimestamp:E,rawExtraFieldNTFS:v,rawExtraFieldAES:_,extraFieldLength:R}}(r=Object.assign({},r,{rawFilename:o,rawComment:a,version:c,versionMadeBy:u,lastModDate:l,lastAccessDate:f,creationDate:d,rawExtraField:k,zip64:P,zip64UncompressedSize:W,zip64CompressedSize:K,zip64Offset:z,zip64DiskNumberStart:Y,password:_,rawPassword:v,level:L||e.config.CompressionStream!==Rt||e.config.CompressionStreamNative!==Rt?I:0,useWebWorkers:w,encryptionStrength:S,extendedTimestamp:T,zipCrypto:b,bufferedWrite:N,keepOrder:C,useUnicodeFileNames:O,dataDescriptor:x,dataDescriptorSignature:A,signal:R,msDosCompatible:h,internalFileAttribute:p,externalFileAttribute:m,useCompressionStream:L,passThrough:g,encrypted:Boolean(_&&Oe(_)||v&&Oe(v))||g&&$,signature:Q,compressionMethod:D})),J=function(e){const{zip64:t,dataDescriptor:n,dataDescriptorSignature:r}=e;let i,o=new Uint8Array,s=0;if(n){o=new Uint8Array(t?r?24:20:r?16:12);i=Re(o);if(r){s=4;we(i,0,gt)}}return{dataDescriptorArray:o,dataDescriptorView:i,dataDescriptorOffset:s}}(r),Z=Oe(X.localHeaderArray,J.dataDescriptorArray);U=Z+M;e.options.usdz&&(U+=U+64);e.pendingEntriesSize+=U;let ee;try{ee=await async function(e,t,n,r,i){async function o(){e.writerLocked=!0;const{lockWriter:t}=e;e.lockWriter=new Promise((t=>g=()=>{e.writerLocked=!1;t()}));await t}async function s(e){if(Oe(d.localHeaderArray)>c.availableSize){c.availableSize=0;await Ee(e,new Uint8Array)}}const{files:a,writer:c}=e,{keepOrder:u,dataDescriptor:l,signal:f}=i,{headerInfo:d}=r,{usdz:h}=e.options,p=Array.from(a.values()).pop();let m,g,_,v,E,S,b,T={};a.set(t,T);try{let d;if(u){d=p&&p.lock;!function(){T.lock=new Promise((e=>_=e))}()}if(!(i.bufferedWrite||e.writerLocked||e.bufferedWrites&&u)&&l||h){S=c;await o()}else{S=new TransformStream;b=new Response(S.readable).blob();S.writable.size=0;m=!0;e.bufferedWrites++;await ie(c)}await ie(S);const{writable:g}=c;let{diskOffset:C}=c;if(e.addSplitZipSignature){delete e.addSplitZipSignature;const t=new Uint8Array(4);we(Re(t),0,mt);await Ee(g,t);e.offset+=4}h&&function(e,t){const{headerInfo:n}=e;let{localHeaderArray:r,extraFieldLength:i}=n,o=Re(r),s=64-(t+Oe(r))%64;s<4&&(s+=64);const a=new Uint8Array(s),c=Re(a);Ie(c,0,Ct);Ie(c,2,s-2);const u=r;n.localHeaderArray=r=new Uint8Array(Oe(u)+s);Ae(r,u);Ae(r,a,Oe(u));o=Re(r);Ie(o,28,i+s);e.metadataSize+=s}(r,e.offset-C);if(!m){await d;await s(g)}const{diskNumber:I}=c;E=!0;T.diskNumberStart=I;T=await async function(e,t,{diskNumberStart:n,lock:r},i,o,s){const{headerInfo:a,dataDescriptorInfo:c,metadataSize:u}=i,{localHeaderArray:l,headerArray:f,lastModDate:d,rawLastModDate:h,encrypted:p,compressed:m,version:g,compressionMethod:_,rawExtraFieldExtendedTimestamp:v,extraFieldExtendedTimestampFlag:E,rawExtraFieldNTFS:S,rawExtraFieldAES:b}=a,{dataDescriptorArray:T}=c,{rawFilename:C,lastAccessDate:I,creationDate:w,password:N,rawPassword:A,level:R,zip64:O,zip64UncompressedSize:L,zip64CompressedSize:D,zip64Offset:x,zip64DiskNumberStart:P,zipCrypto:k,dataDescriptor:B,directory:M,versionMadeBy:U,rawComment:F,rawExtraField:j,useWebWorkers:G,onstart:H,onprogress:V,onend:W,signal:K,encryptionStrength:z,extendedTimestamp:Y,msDosCompatible:$,internalFileAttribute:Q,externalFileAttribute:X,useCompressionStream:J,passThrough:Z}=s,ee={lock:r,versionMadeBy:U,zip64:O,directory:Boolean(M),filenameUTF8:!0,rawFilename:C,commentUTF8:!0,rawComment:F,rawExtraFieldExtendedTimestamp:v,rawExtraFieldNTFS:S,rawExtraFieldAES:b,rawExtraField:j,extendedTimestamp:Y,msDosCompatible:$,internalFileAttribute:Q,externalFileAttribute:X,diskNumberStart:n};let{signature:te,uncompressedSize:ne}=s,re=0;Z||(ne=0);const{writable:ie}=t;if(e){e.chunkSize=y(o);await Ee(ie,l);const t=e.readable,n=t.size=e.size,r={options:{codecType:Rn,level:R,rawPassword:A,password:N,encryptionStrength:z,zipCrypto:p&&k,passwordVerification:p&&k&&h>>8&255,signed:!Z,compressed:m&&!Z,encrypted:p&&!Z,useWebWorkers:G,useCompressionStream:J,transferStreams:!1},config:o,streamOptions:{signal:K,size:n,onstart:H,onprogress:V,onend:W}},i=await q({readable:t,writable:ie},r);re=i.outputSize;if(!Z){ne=i.inputSize;te=i.signature}ie.size+=ne}else await Ee(ie,l);let oe;if(O){let e=4;L&&(e+=8);D&&(e+=8);x&&(e+=8);P&&(e+=4);oe=new Uint8Array(e)}else oe=new Uint8Array;!function(e,t){const{signature:n,rawExtraFieldZip64:r,compressedSize:i,uncompressedSize:o,headerInfo:s,dataDescriptorInfo:a}=e,{headerView:c,encrypted:u}=s,{dataDescriptorView:l,dataDescriptorOffset:f}=a,{zip64:d,zip64UncompressedSize:h,zip64CompressedSize:p,zipCrypto:m,dataDescriptor:g}=t;if((!u||m)&&n!==Rt){we(c,10,n);g&&we(l,f,n)}if(d){const e=Re(r);Ie(e,0,1);Ie(e,2,Oe(r)-4);let t=4;if(h){we(c,18,dt);Ne(e,t,BigInt(o));t+=8}if(p){we(c,14,dt);Ne(e,t,BigInt(i))}if(g){Ne(l,f+4,BigInt(i));Ne(l,f+12,BigInt(o))}}else{we(c,14,i);we(c,18,o);if(g){we(l,f+4,i);we(l,f+8,o)}}}({signature:te,rawExtraFieldZip64:oe,compressedSize:re,uncompressedSize:ne,headerInfo:a,dataDescriptorInfo:c},s);B&&await Ee(ie,T);Object.assign(ee,{uncompressedSize:ne,compressedSize:re,lastModDate:d,rawLastModDate:h,creationDate:w,lastAccessDate:I,encrypted:p,zipCrypto:k,size:u+re,compressionMethod:_,version:g,headerArray:f,signature:te,rawExtraFieldZip64:oe,extraFieldExtendedTimestampFlag:E,zip64UncompressedSize:L,zip64CompressedSize:D,zip64Offset:x,zip64DiskNumberStart:P});return ee}(n,S,T,r,e.config,i);E=!1;a.set(t,T);T.filename=t;if(m){await S.writable.getWriter().close();let e=await b;await d;await o();v=!0;l||(e=await async function(e,t,n,{zipCrypto:r}){let i;i=await t.slice(0,26).arrayBuffer();26!=i.byteLength&&(i=i.slice(0,26));const o=new DataView(i);e.encrypted&&!r||we(o,14,e.signature);if(e.zip64){we(o,18,dt);we(o,22,dt)}else{we(o,18,e.compressedSize);we(o,22,e.uncompressedSize)}await Ee(n,new Uint8Array(i));return t.slice(i.byteLength)}(T,e,g,i));await s(g);T.diskNumberStart=c.diskNumber;C=c.diskOffset;await e.stream().pipeTo(g,{preventClose:!0,preventAbort:!0,signal:f});g.size+=e.size;v=!1}T.offset=e.offset-C;if(T.zip64)!function(e,t){const{rawExtraFieldZip64:n,offset:r,diskNumberStart:i}=e,{zip64UncompressedSize:o,zip64CompressedSize:s,zip64Offset:a,zip64DiskNumberStart:c}=t,u=Re(n);let l=4;o&&(l+=8);s&&(l+=8);if(a){Ne(u,l,BigInt(r));l+=8}c&&we(u,l,i)}(T,i);else if(T.offset>dt)throw new Error(ui);e.offset+=T.size;return T}catch(n){if(m&&v||!m&&E){e.hasCorruptedEntries=!0;if(n)try{n.corruptedEntry=!0}catch(e){}m?e.offset+=S.writable.size:e.offset=S.writable.size}a.delete(t);throw n}finally{m&&e.bufferedWrites--;_&&_();g&&g()}}(e,t,n,{headerInfo:X,dataDescriptorInfo:J,metadataSize:Z},r)}finally{e.pendingEntriesSize-=U}Object.assign(ee,{name:t,comment:s,extraField:B});return new Ur(ee)}(r,e,t,n);i.add(s);return await s}catch(t){r.filenames.delete(e);throw t}finally{i.delete(s);const e=hi.shift();e?e():di--}}async close(e=new Uint8Array,t={}){const{pendingAddFileCalls:n,writer:r}=this,{writable:i}=r;for(;n.size;)await Promise.allSettled(Array.from(n));await async function(e,t,n){const{files:r,writer:i}=e,{diskOffset:o,writable:s}=i;let{diskNumber:a}=i,c=0,u=0,l=e.offset-o,f=r.size;for(const[,e]of r){const{rawFilename:t,rawExtraFieldZip64:n,rawExtraFieldAES:r,rawComment:i,rawExtraFieldNTFS:o,rawExtraField:s,extendedTimestamp:a,extraFieldExtendedTimestampFlag:c,lastModDate:l}=e;let f;if(a){f=new Uint8Array(9);const e=Re(f);Ie(e,0,Tt);Ie(e,2,5);Ce(e,4,c);we(e,5,Math.floor(l.getTime()/1e3))}else f=new Uint8Array;e.rawExtraFieldCDExtendedTimestamp=f;u+=46+Oe(t,i,n,r,o,f,s)}const d=new Uint8Array(u),h=Re(d);await ie(i);let p=0;for(const[e,t]of Array.from(r.values()).entries()){const{offset:o,rawFilename:a,rawExtraFieldZip64:u,rawExtraFieldAES:l,rawExtraFieldCDExtendedTimestamp:f,rawExtraFieldNTFS:m,rawExtraField:g,rawComment:y,versionMadeBy:_,headerArray:v,directory:E,zip64:S,zip64UncompressedSize:b,zip64CompressedSize:T,zip64DiskNumberStart:C,zip64Offset:I,msDosCompatible:w,internalFileAttribute:N,externalFileAttribute:A,diskNumberStart:R,uncompressedSize:O,compressedSize:L}=t,D=Oe(u,l,f,m,g);we(h,c,yt);Ie(h,c+4,_);const x=Re(v);b||we(x,18,O);T||we(x,14,L);Ae(d,v,c+6);Ie(h,c+30,D);Ie(h,c+32,Oe(y));Ie(h,c+34,S&&C?ht:R);Ie(h,c+36,N);A?we(h,c+38,A):E&&w&&Ce(h,c+38,16);we(h,c+42,S&&I?dt:o);Ae(d,a,c+46);Ae(d,u,c+46+Oe(a));Ae(d,l,c+46+Oe(a,u));Ae(d,f,c+46+Oe(a,u,l));Ae(d,m,c+46+Oe(a,u,l,f));Ae(d,g,c+46+Oe(a,u,l,f,m));Ae(d,y,c+46+Oe(a)+D);const P=46+Oe(a,y)+D;if(c-p>i.availableSize){i.availableSize=0;await Ee(s,d.slice(p,c));p=c}c+=P;if(n.onprogress)try{await n.onprogress(e+1,r.size,new Ur(t))}catch(e){}}await Ee(s,p?d.slice(p):d);let m=i.diskNumber;const{availableSize:g}=i;g<St&&m++;let y=be(e,n,Dr);if(l>dt||u>dt||f>ht||m>ht){if(!1===y)throw new Error(ui);y=!0}const _=new Uint8Array(y?98:St),v=Re(_);c=0;if(y){we(v,0,vt);Ne(v,4,BigInt(44));Ie(v,12,45);Ie(v,14,45);we(v,16,m);we(v,20,a);Ne(v,24,BigInt(f));Ne(v,32,BigInt(f));Ne(v,40,BigInt(u));Ne(v,48,BigInt(l));we(v,56,Et);Ne(v,64,BigInt(l)+BigInt(u));we(v,72,m+1);if(be(e,n,"supportZip64SplitFile",!0)){m=ht;a=ht}f=ht;l=dt;u=dt;c+=76}we(v,c,_t);Ie(v,c+4,m);Ie(v,c+6,a);Ie(v,c+8,f);Ie(v,c+10,f);we(v,c+12,u);we(v,c+16,l);const E=Oe(t);if(E){if(E>ht)throw new Error(ni);Ie(v,c+20,E)}await Ee(s,_);E&&await Ee(s,t)}(this,e,t);be(this,t,"preventClose")||await i.getWriter().close();return r.getData?r.getData():i}}class mi{constructor(e,t,n,r){const i=this;if(e.root&&r&&r.getChildByName(t))throw new Error("Entry filename already exists");n||(n={});Object.assign(i,{fs:e,name:t,data:n.data,options:n.options,id:e.entries.length,parent:r,children:[],uncompressedSize:n.uncompressedSize||0,passThrough:n.passThrough});e.entries.push(i);r&&i.parent.children.push(i)}moveTo(e){this.fs.move(this,e)}getFullname(){return this.getRelativeName()}getRelativeName(e=this.fs.root){let t=this.name,n=this.parent;for(;n&&n!=e;){t=(n.name?n.name+"/":"")+t;n=n.parent}return t}isDescendantOf(e){let t=this.parent;for(;t&&t.id!=e.id;)t=t.parent;return Boolean(t)}rename(e){const t=this.parent;if(t&&t.getChildByName(e))throw new Error("Entry filename already exists");this.name=e}}class gi extends mi{constructor(e,t,n,r){super(e,t,n,r);const i=this;i.Reader=n.Reader;i.Writer=n.Writer;n.getData&&(i.getData=n.getData)}clone(){return new gi(this.fs,this.name,this)}async getData(e,t={}){const n=this;if(!e||e.constructor==n.Writer&&n.data)return n.data;{const r=n.reader=new n.Reader(n.data,t),i=n.data?n.data.uncompressedSize:r.size;await Promise.all([ie(r),ie(e,i)]);const o=r.readable;o.size=n.uncompressedSize=r.size;await o.pipeTo(e.writable);return e.getData?e.getData():e.writable}}isPasswordProtected(){return this.data.encrypted}async checkPassword(e,t={}){const n=this;if(!n.isPasswordProtected())return!0;t.password=e;t.checkPasswordOnly=!0;try{await n.data.getData(null,t);return!0}catch(e){if(e.message==$t)return!1;throw e}}getText(e,t){return this.getData(new rr(e),t)}getBlob(e,t){return this.getData(new tr(e),t)}getData64URI(e,t){return this.getData(new Zn(e),t)}getUint8Array(e){return this.getData(new cr,e)}getWritable(e=new WritableStream,t){return this.getData({writable:e},t)}replaceBlob(e){Object.assign(this,{data:e,Reader:er,Writer:tr,reader:null})}replaceText(e){Object.assign(this,{data:e,Reader:nr,Writer:rr,reader:null})}replaceData64URI(e){Object.assign(this,{data:e,Reader:Jn,Writer:Zn,reader:null})}replaceUint8Array(e){Object.assign(this,{data:e,Reader:ar,Writer:cr,reader:null})}replaceReadable(e){Object.assign(this,{data:null,Reader:function(){return{readable:e}},Writer:null,reader:null})}}class yi extends mi{constructor(e,t,n,r){super(e,t,n,r);this.directory=!0}clone(e){const t=this,n=new yi(t.fs,t.name);e&&(n.children=t.children.map((t=>{const r=t.clone(e);r.parent=n;return r})));return n}addDirectory(e,t){return Me(this,e,{options:t},!0)}addText(e,t,n={}){return Me(this,e,{data:t,Reader:nr,Writer:rr,options:n,uncompressedSize:t.length})}addBlob(e,t,n={}){return Me(this,e,{data:t,Reader:er,Writer:tr,options:n,uncompressedSize:t.size})}addData64URI(e,t,n={}){let r=t.length;for(;"="==t.charAt(r-1);)r--;const i=t.indexOf(",")+1;return Me(this,e,{data:t,Reader:Jn,Writer:Zn,options:n,uncompressedSize:Math.floor(.75*(r-i))})}addUint8Array(e,t,n={}){return Me(this,e,{data:t,Reader:ar,Writer:cr,options:n,uncompressedSize:t.length})}addHttpContent(e,t,n={}){return Me(this,e,{data:t,Reader:class extends sr{constructor(e){super(e,n)}},options:n})}addReadable(e,t,n={}){return Me(this,e,{Reader:function(){return{readable:t}},options:n})}addFileSystemEntry(e,t={}){return Pe(this,e,t)}addFileSystemHandle(e,t={}){return Pe(this,e,t)}addFile(e,t={}){t.lastModDate||(t.lastModDate=new Date(e.lastModified));return Me(this,e.name,{data:e,Reader:function(){return{readable:e.stream(),size:e.size}},options:t,uncompressedSize:e.size})}addData(e,t){return Me(this,e,t)}importBlob(e,t){return this.importZip(new er(e),t)}importData64URI(e,t){return this.importZip(new Jn(e),t)}importUint8Array(e,t){return this.importZip(new ar(e),t)}importHttpContent(e,t){return this.importZip(new sr(e,t),t)}importReadable(e,t){return this.importZip({readable:e},t)}exportBlob(e={}){return this.exportZip(new tr(e.mimeType||"application/zip"),e)}exportData64URI(e={}){return this.exportZip(new Zn(e.mimeType||"application/zip"),e)}exportUint8Array(e={}){return this.exportZip(new cr,e)}async exportWritable(e=new WritableStream,t={}){await this.exportZip({writable:e},t);return e}async importZip(e,t={}){await ie(e);const n=new Zr(e,t),r=[],i=await n.getEntries();for(const e of i){let n=this;try{const i=e.filename.split("/"),o=i.pop();i.forEach(((t,o)=>{const s=n;n=n.getChildByName(t);if(!n){n=new yi(this.fs,t,{data:o==i.length-1?e:null},s);r.push(n)}}));e.directory||r.push(Me(n,o,{data:e,Reader:Le(Object.assign({},t)),uncompressedSize:e.uncompressedSize,passThrough:t.passThrough}))}catch(t){try{t.cause={entry:e}}catch(e){}throw t}}return r}async exportZip(e,t){const n=this;t.bufferedWrite===Rt&&(t.bufferedWrite=!0);await Promise.all([De(n,t.readerOptions),ie(e)]);const r=new pi(e,t);await async function(e,t,n,r){const i=t,o=new Map;await async function e(t,s){async function a(s){const a=r.relativePath?s.getRelativeName(i):s.getFullname(),c=s.options||{};let u={};if(s.data instanceof Ur){const{externalFileAttribute:e,versionMadeBy:t,comment:n,lastModDate:r,creationDate:i,lastAccessDate:o,uncompressedSize:a,encrypted:c,zipCrypto:l,signature:f,compressionMethod:d,extraFieldAES:h}=s.data;u={externalFileAttribute:e,versionMadeBy:t,comment:n,lastModDate:r,creationDate:i,lastAccessDate:o};if(s.passThrough){let e,t;0===d&&(e=0);h&&(t=h.strength);u=Object.assign(u,{passThrough:!0,encrypted:c,zipCrypto:l,signature:f,uncompressedSize:a,level:e,encryptionStrength:t,compressionMethod:d})}}await t.add(a,s.reader,Object.assign({directory:s.directory},Object.assign({},r,u,c,{onprogress:async e=>{if(r.onprogress){o.set(a,e);try{await r.onprogress(Array.from(o.values()).reduce(((e,t)=>e+t)),n)}catch(e){}}}})));await e(t,s)}await async function(){if(r.bufferedWrite)await Promise.allSettled(s.children.map(a));else for(const e of s.children)await a(e)}()}(e,t)}(r,n,function(e){let t=0;e.forEach((function e(n){t+=n["uncompressedSize"];n.children&&n.children.forEach(e)}));return t}([n]),t);await r.close();return e.getData?e.getData():e.writable}getChildByName(e){const t=this.children;for(let n=0;n<t.length;n++){const r=t[n];if(r.name==e)return r}}isPasswordProtected(){const e=this.children;for(let t=0;t<e.length;t++)if(e[t].isPasswordProtected())return!0;return!1}async checkPassword(e,t={}){const n=this.children;return!(await Promise.all(n.map((n=>n.checkPassword(e,t))))).includes(!1)}}const _i={FS:class{constructor(){Be(this)}get children(){return this.root.children}remove(e){xe(e);this.entries[e.id]=null}move(e,t){if(e==this.root)throw new Error("Root directory cannot be moved");if(!t.directory)throw new Error("Target entry is not a directory");if(t.isDescendantOf(e))throw new Error("Entry is a ancestor of target entry");if(e!=t){if(t.getChildByName(e.name))throw new Error("Entry filename already exists");xe(e);e.parent=t;t.children.push(e)}}find(e){const t=e.split("/");let n=this.root;for(let e=0;n&&e<t.length;e++)n=n.getChildByName(t[e]);return n}getById(e){return this.entries[e]}getChildByName(e){return this.root.getChildByName(e)}addDirectory(e,t){return this.root.addDirectory(e,t)}addText(e,t,n){return this.root.addText(e,t,n)}addBlob(e,t,n){return this.root.addBlob(e,t,n)}addData64URI(e,t,n){return this.root.addData64URI(e,t,n)}addUint8Array(e,t,n){return this.root.addUint8Array(e,t,n)}addHttpContent(e,t,n){return this.root.addHttpContent(e,t,n)}addReadable(e,t,n){return this.root.addReadable(e,t,n)}addFileSystemEntry(e,t){return this.root.addFileSystemEntry(e,t)}addFileSystemHandle(e,t){return this.root.addFileSystemHandle(e,t)}addFile(e,t){return this.root.addFile(e,t)}addData(e,t){return this.root.addData(e,t)}importBlob(e,t){Be(this);return this.root.importBlob(e,t)}importData64URI(e,t){Be(this);return this.root.importData64URI(e,t)}importUint8Array(e,t){Be(this);return this.root.importUint8Array(e,t)}importHttpContent(e,t){Be(this);return this.root.importHttpContent(e,t)}importReadable(e,t){Be(this);return this.root.importReadable(e,t)}importZip(e,t){return this.root.importZip(e,t)}exportBlob(e){return this.root.exportBlob(e)}exportData64URI(e){return this.root.exportData64URI(e)}exportUint8Array(e){return this.root.exportUint8Array(e)}exportWritable(e,t){return this.root.exportWritable(e,t)}isPasswordProtected(){return this.root.isPasswordProtected()}checkPassword(e,t){return this.root.checkPassword(e,t)}},ZipDirectoryEntry:yi,ZipFileEntry:gi};let vi;try{vi="undefined"===typeof document?n(8835).pathToFileURL("/index.js").href:Ue&&"SCRIPT"===Ue.tagName.toUpperCase()&&Ue.src||new URL("index.cjs",document.baseURI).href}catch(e){}_({baseURL:vi});!function(e,t={}){const n='const{Array:e,Object:t,Number:n,Math:r,Error:s,Uint8Array:i,Uint16Array:o,Uint32Array:c,Int32Array:f,Map:a,DataView:l,Promise:u,TextEncoder:w,crypto:h,postMessage:d,TransformStream:p,ReadableStream:y,WritableStream:m,CompressionStream:b,DecompressionStream:g}=self,k=void 0,v="undefined",S="function";class z{constructor(e){return class extends p{constructor(t,n){const r=new e(n);super({transform(e,t){t.enqueue(r.append(e))},flush(e){const t=r.flush();t&&e.enqueue(t)}})}}}}const C=[];for(let e=0;256>e;e++){let t=e;for(let e=0;8>e;e++)1&t?t=t>>>1^3988292384:t>>>=1;C[e]=t}class x{constructor(e){this.t=e||-1}append(e){let t=0|this.t;for(let n=0,r=0|e.length;r>n;n++)t=t>>>8^C[255&(t^e[n])];this.t=t}get(){return~this.t}}class A extends p{constructor(){let e;const t=new x;super({transform(e,n){t.append(e),n.enqueue(e)},flush(){const n=new i(4);new l(n.buffer).setUint32(0,t.get()),e.value=n}}),e=this}}const _={concat(e,t){if(0===e.length||0===t.length)return e.concat(t);const n=e[e.length-1],r=_.i(n);return 32===r?e.concat(t):_.o(t,r,0|n,e.slice(0,e.length-1))},l(e){const t=e.length;if(0===t)return 0;const n=e[t-1];return 32*(t-1)+_.i(n)},u(e,t){if(32*e.length<t)return e;const n=(e=e.slice(0,r.ceil(t/32))).length;return t&=31,n>0&&t&&(e[n-1]=_.h(t,e[n-1]&2147483648>>t-1,1)),e},h:(e,t,n)=>32===e?t:(n?0|t:t<<32-e)+1099511627776*e,i:e=>r.round(e/1099511627776)||32,o(e,t,n,r){for(void 0===r&&(r=[]);t>=32;t-=32)r.push(n),n=0;if(0===t)return r.concat(e);for(let s=0;s<e.length;s++)r.push(n|e[s]>>>t),n=e[s]<<32-t;const s=e.length?e[e.length-1]:0,i=_.i(s);return r.push(_.h(t+i&31,t+i>32?n:r.pop(),1)),r}},I={bytes:{p(e){const t=_.l(e)/8,n=new i(t);let r;for(let s=0;t>s;s++)3&s||(r=e[s/4]),n[s]=r>>>24,r<<=8;return n},m(e){const t=[];let n,r=0;for(n=0;n<e.length;n++)r=r<<8|e[n],3&~n||(t.push(r),r=0);return 3&n&&t.push(_.h(8*(3&n),r)),t}}},P=class{constructor(e){const t=this;t.blockSize=512,t.k=[1732584193,4023233417,2562383102,271733878,3285377520],t.v=[1518500249,1859775393,2400959708,3395469782],e?(t.S=e.S.slice(0),t.C=e.C.slice(0),t.A=e.A):t.reset()}reset(){const e=this;return e.S=e.k.slice(0),e.C=[],e.A=0,e}update(e){const t=this;"string"==typeof e&&(e=I._.m(e));const n=t.C=_.concat(t.C,e),r=t.A,i=t.A=r+_.l(e);if(i>9007199254740991)throw new s("Cannot hash more than 2^53 - 1 bits");const o=new c(n);let f=0;for(let e=t.blockSize+r-(t.blockSize+r&t.blockSize-1);i>=e;e+=t.blockSize)t.I(o.subarray(16*f,16*(f+1))),f+=1;return n.splice(0,16*f),t}P(){const e=this;let t=e.C;const n=e.S;t=_.concat(t,[_.h(1,1)]);for(let e=t.length+2;15&e;e++)t.push(0);for(t.push(r.floor(e.A/4294967296)),t.push(0|e.A);t.length;)e.I(t.splice(0,16));return e.reset(),n}D(e,t,n,r){return e>19?e>39?e>59?e>79?void 0:t^n^r:t&n|t&r|n&r:t^n^r:t&n|~t&r}V(e,t){return t<<e|t>>>32-e}I(t){const n=this,s=n.S,i=e(80);for(let e=0;16>e;e++)i[e]=t[e];let o=s[0],c=s[1],f=s[2],a=s[3],l=s[4];for(let e=0;79>=e;e++){16>e||(i[e]=n.V(1,i[e-3]^i[e-8]^i[e-14]^i[e-16]));const t=n.V(5,o)+n.D(e,c,f,a)+l+i[e]+n.v[r.floor(e/20)]|0;l=a,a=f,f=n.V(30,c),c=o,o=t}s[0]=s[0]+o|0,s[1]=s[1]+c|0,s[2]=s[2]+f|0,s[3]=s[3]+a|0,s[4]=s[4]+l|0}},D={getRandomValues(e){const t=new c(e.buffer),n=e=>{let t=987654321;const n=4294967295;return()=>(t=36969*(65535&t)+(t>>16)&n,(((t<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n)/4294967296+.5)*(r.random()>.5?1:-1))};for(let s,i=0;i<e.length;i+=4){const e=n(4294967296*(s||r.random()));s=987654071*e(),t[i/4]=4294967296*e()|0}return e}},V={importKey:e=>new V.R(I.bytes.m(e)),B(e,t,n,r){if(n=n||1e4,0>r||0>n)throw new s("invalid params to pbkdf2");const i=1+(r>>5)<<2;let o,c,f,a,u;const w=new ArrayBuffer(i),h=new l(w);let d=0;const p=_;for(t=I.bytes.m(t),u=1;(i||1)>d;u++){for(o=c=e.encrypt(p.concat(t,[u])),f=1;n>f;f++)for(c=e.encrypt(c),a=0;a<c.length;a++)o[a]^=c[a];for(f=0;(i||1)>d&&f<o.length;f++)h.setInt32(d,o[f]),d+=4}return w.slice(0,r/8)},R:class{constructor(e){const t=this,n=t.M=P,r=[[],[]];t.U=[new n,new n];const s=t.U[0].blockSize/32;e.length>s&&(e=(new n).update(e).P());for(let t=0;s>t;t++)r[0][t]=909522486^e[t],r[1][t]=1549556828^e[t];t.U[0].update(r[0]),t.U[1].update(r[1]),t.K=new n(t.U[0])}reset(){const e=this;e.K=new e.M(e.U[0]),e.N=!1}update(e){this.N=!0,this.K.update(e)}digest(){const e=this,t=e.K.P(),n=new e.M(e.U[1]).update(t).P();return e.reset(),n}encrypt(e){if(this.N)throw new s("encrypt on already updated hmac called!");return this.update(e),this.digest(e)}}},R=typeof h!=v&&typeof h.getRandomValues==S,B="Invalid password",E="Invalid signature",M="zipjs-abort-check-password";function U(e){return R?h.getRandomValues(e):D.getRandomValues(e)}const K=16,N={name:"PBKDF2"},O=t.assign({hash:{name:"HMAC"}},N),T=t.assign({iterations:1e3,hash:{name:"SHA-1"}},N),W=["deriveBits"],j=[8,12,16],H=[16,24,32],L=10,F=[0,0,0,0],q=typeof h!=v,G=q&&h.subtle,J=q&&typeof G!=v,Q=I.bytes,X=class{constructor(e){const t=this;t.O=[[[],[],[],[],[]],[[],[],[],[],[]]],t.O[0][0][0]||t.T();const n=t.O[0][4],r=t.O[1],i=e.length;let o,c,f,a=1;if(4!==i&&6!==i&&8!==i)throw new s("invalid aes key size");for(t.v=[c=e.slice(0),f=[]],o=i;4*i+28>o;o++){let e=c[o-1];(o%i==0||8===i&&o%i==4)&&(e=n[e>>>24]<<24^n[e>>16&255]<<16^n[e>>8&255]<<8^n[255&e],o%i==0&&(e=e<<8^e>>>24^a<<24,a=a<<1^283*(a>>7))),c[o]=c[o-i]^e}for(let e=0;o;e++,o--){const t=c[3&e?o:o-4];f[e]=4>=o||4>e?t:r[0][n[t>>>24]]^r[1][n[t>>16&255]]^r[2][n[t>>8&255]]^r[3][n[255&t]]}}encrypt(e){return this.W(e,0)}decrypt(e){return this.W(e,1)}T(){const e=this.O[0],t=this.O[1],n=e[4],r=t[4],s=[],i=[];let o,c,f,a;for(let e=0;256>e;e++)i[(s[e]=e<<1^283*(e>>7))^e]=e;for(let l=o=0;!n[l];l^=c||1,o=i[o]||1){let i=o^o<<1^o<<2^o<<3^o<<4;i=i>>8^255&i^99,n[l]=i,r[i]=l,a=s[f=s[c=s[l]]];let u=16843009*a^65537*f^257*c^16843008*l,w=257*s[i]^16843008*i;for(let n=0;4>n;n++)e[n][l]=w=w<<24^w>>>8,t[n][i]=u=u<<24^u>>>8}for(let n=0;5>n;n++)e[n]=e[n].slice(0),t[n]=t[n].slice(0)}W(e,t){if(4!==e.length)throw new s("invalid aes block size");const n=this.v[t],r=n.length/4-2,i=[0,0,0,0],o=this.O[t],c=o[0],f=o[1],a=o[2],l=o[3],u=o[4];let w,h,d,p=e[0]^n[0],y=e[t?3:1]^n[1],m=e[2]^n[2],b=e[t?1:3]^n[3],g=4;for(let e=0;r>e;e++)w=c[p>>>24]^f[y>>16&255]^a[m>>8&255]^l[255&b]^n[g],h=c[y>>>24]^f[m>>16&255]^a[b>>8&255]^l[255&p]^n[g+1],d=c[m>>>24]^f[b>>16&255]^a[p>>8&255]^l[255&y]^n[g+2],b=c[b>>>24]^f[p>>16&255]^a[y>>8&255]^l[255&m]^n[g+3],g+=4,p=w,y=h,m=d;for(let e=0;4>e;e++)i[t?3&-e:e]=u[p>>>24]<<24^u[y>>16&255]<<16^u[m>>8&255]<<8^u[255&b]^n[g++],w=p,p=y,y=m,m=b,b=w;return i}},Y=class{constructor(e,t){this.j=e,this.H=t,this.L=t}reset(){this.L=this.H}update(e){return this.F(this.j,e,this.L)}q(e){if(255&~(e>>24))e+=1<<24;else{let t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}return e}G(e){0===(e[0]=this.q(e[0]))&&(e[1]=this.q(e[1]))}F(e,t,n){let r;if(!(r=t.length))return[];const s=_.l(t);for(let s=0;r>s;s+=4){this.G(n);const r=e.encrypt(n);t[s]^=r[0],t[s+1]^=r[1],t[s+2]^=r[2],t[s+3]^=r[3]}return _.u(t,s)}},Z=V.R;let $=q&&J&&typeof G.importKey==S,ee=q&&J&&typeof G.deriveBits==S;class te extends p{constructor({password:e,rawPassword:n,signed:r,encryptionStrength:o,checkPasswordOnly:c}){super({start(){t.assign(this,{ready:new u((e=>this.J=e)),password:ie(e,n),signed:r,X:o-1,pending:new i})},async transform(e,t){const n=this,{password:r,X:o,J:f,ready:a}=n;r?(await(async(e,t,n,r)=>{const i=await se(e,t,n,ce(r,0,j[t])),o=ce(r,j[t]);if(i[0]!=o[0]||i[1]!=o[1])throw new s(B)})(n,o,r,ce(e,0,j[o]+2)),e=ce(e,j[o]+2),c?t.error(new s(M)):f()):await a;const l=new i(e.length-L-(e.length-L)%K);t.enqueue(re(n,e,l,0,L,!0))},async flush(e){const{signed:t,Y:n,Z:r,pending:o,ready:c}=this;if(r&&n){await c;const f=ce(o,0,o.length-L),a=ce(o,o.length-L);let l=new i;if(f.length){const e=ae(Q,f);r.update(e);const t=n.update(e);l=fe(Q,t)}if(t){const e=ce(fe(Q,r.digest()),0,L);for(let t=0;L>t;t++)if(e[t]!=a[t])throw new s(E)}e.enqueue(l)}}})}}class ne extends p{constructor({password:e,rawPassword:n,encryptionStrength:r}){let s;super({start(){t.assign(this,{ready:new u((e=>this.J=e)),password:ie(e,n),X:r-1,pending:new i})},async transform(e,t){const n=this,{password:r,X:s,J:o,ready:c}=n;let f=new i;r?(f=await(async(e,t,n)=>{const r=U(new i(j[t]));return oe(r,await se(e,t,n,r))})(n,s,r),o()):await c;const a=new i(f.length+e.length-e.length%K);a.set(f,0),t.enqueue(re(n,e,a,f.length,0))},async flush(e){const{Y:t,Z:n,pending:r,ready:o}=this;if(n&&t){await o;let c=new i;if(r.length){const e=t.update(ae(Q,r));n.update(e),c=fe(Q,e)}s.signature=fe(Q,n.digest()).slice(0,L),e.enqueue(oe(c,s.signature))}}}),s=this}}function re(e,t,n,r,s,o){const{Y:c,Z:f,pending:a}=e,l=t.length-s;let u;for(a.length&&(t=oe(a,t),n=((e,t)=>{if(t&&t>e.length){const n=e;(e=new i(t)).set(n,0)}return e})(n,l-l%K)),u=0;l-K>=u;u+=K){const e=ae(Q,ce(t,u,u+K));o&&f.update(e);const s=c.update(e);o||f.update(s),n.set(fe(Q,s),u+r)}return e.pending=ce(t,u),n}async function se(n,r,s,o){n.password=null;const c=await(async(e,t,n,r,s)=>{if(!$)return V.importKey(t);try{return await G.importKey("raw",t,n,!1,s)}catch(e){return $=!1,V.importKey(t)}})(0,s,O,0,W),f=await(async(e,t,n)=>{if(!ee)return V.B(t,e.salt,T.iterations,n);try{return await G.deriveBits(e,t,n)}catch(r){return ee=!1,V.B(t,e.salt,T.iterations,n)}})(t.assign({salt:o},T),c,8*(2*H[r]+2)),a=new i(f),l=ae(Q,ce(a,0,H[r])),u=ae(Q,ce(a,H[r],2*H[r])),w=ce(a,2*H[r]);return t.assign(n,{keys:{key:l,$:u,passwordVerification:w},Y:new Y(new X(l),e.from(F)),Z:new Z(u)}),w}function ie(e,t){return t===k?(e=>{if(typeof w==v){const t=new i((e=unescape(encodeURIComponent(e))).length);for(let n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t}return(new w).encode(e)})(e):t}function oe(e,t){let n=e;return e.length+t.length&&(n=new i(e.length+t.length),n.set(e,0),n.set(t,e.length)),n}function ce(e,t,n){return e.subarray(t,n)}function fe(e,t){return e.p(t)}function ae(e,t){return e.m(t)}class le extends p{constructor({password:e,passwordVerification:n,checkPasswordOnly:r}){super({start(){t.assign(this,{password:e,passwordVerification:n}),de(this,e)},transform(e,t){const n=this;if(n.password){const t=we(n,e.subarray(0,12));if(n.password=null,t[11]!=n.passwordVerification)throw new s(B);e=e.subarray(12)}r?t.error(new s(M)):t.enqueue(we(n,e))}})}}class ue extends p{constructor({password:e,passwordVerification:n}){super({start(){t.assign(this,{password:e,passwordVerification:n}),de(this,e)},transform(e,t){const n=this;let r,s;if(n.password){n.password=null;const t=U(new i(12));t[11]=n.passwordVerification,r=new i(e.length+t.length),r.set(he(n,t),0),s=12}else r=new i(e.length),s=0;r.set(he(n,e),s),t.enqueue(r)}})}}function we(e,t){const n=new i(t.length);for(let r=0;r<t.length;r++)n[r]=ye(e)^t[r],pe(e,n[r]);return n}function he(e,t){const n=new i(t.length);for(let r=0;r<t.length;r++)n[r]=ye(e)^t[r],pe(e,t[r]);return n}function de(e,n){const r=[305419896,591751049,878082192];t.assign(e,{keys:r,ee:new x(r[0]),te:new x(r[2])});for(let t=0;t<n.length;t++)pe(e,n.charCodeAt(t))}function pe(e,t){let[n,s,i]=e.keys;e.ee.append([t]),n=~e.ee.get(),s=be(r.imul(be(s+me(n)),134775813)+1),e.te.append([s>>>24]),i=~e.te.get(),e.keys=[n,s,i]}function ye(e){const t=2|e.keys[2];return me(r.imul(t,1^t)>>>8)}function me(e){return 255&e}function be(e){return 4294967295&e}const ge="deflate-raw";class ke extends p{constructor(e,{chunkSize:t,CompressionStream:n,CompressionStreamNative:r}){super({});const{compressed:s,encrypted:i,useCompressionStream:o,zipCrypto:c,signed:f,level:a}=e,u=this;let w,h,d=Se(super.readable);i&&!c||!f||(w=new A,d=xe(d,w)),s&&(d=Ce(d,o,{level:a,chunkSize:t},r,n)),i&&(c?d=xe(d,new ue(e)):(h=new ne(e),d=xe(d,h))),ze(u,d,(()=>{let e;i&&!c&&(e=h.signature),i&&!c||!f||(e=new l(w.value.buffer).getUint32(0)),u.signature=e}))}}class ve extends p{constructor(e,{chunkSize:t,DecompressionStream:n,DecompressionStreamNative:r}){super({});const{zipCrypto:i,encrypted:o,signed:c,signature:f,compressed:a,useCompressionStream:u}=e;let w,h,d=Se(super.readable);o&&(i?d=xe(d,new le(e)):(h=new te(e),d=xe(d,h))),a&&(d=Ce(d,u,{chunkSize:t},r,n)),o&&!i||!c||(w=new A,d=xe(d,w)),ze(this,d,(()=>{if((!o||i)&&c){const e=new l(w.value.buffer);if(f!=e.getUint32(0,!1))throw new s(E)}}))}}function Se(e){return xe(e,new p({transform(e,t){e&&e.length&&t.enqueue(e)}}))}function ze(e,n,r){n=xe(n,new p({flush:r})),t.defineProperty(e,"readable",{get:()=>n})}function Ce(e,t,n,r,s){try{e=xe(e,new(t&&r?r:s)(ge,n))}catch(r){if(!t)return e;try{e=xe(e,new s(ge,n))}catch(t){return e}}return e}function xe(e,t){return e.pipeThrough(t)}const Ae="data",_e="close";class Ie extends p{constructor(e,n){super({});const r=this,{codecType:s}=e;let i;s.startsWith("deflate")?i=ke:s.startsWith("inflate")&&(i=ve);let o=0,c=0;const f=new i(e,n),a=super.readable,l=new p({transform(e,t){e&&e.length&&(c+=e.length,t.enqueue(e))},flush(){t.assign(r,{inputSize:c})}}),u=new p({transform(e,t){e&&e.length&&(o+=e.length,t.enqueue(e))},flush(){const{signature:e}=f;t.assign(r,{signature:e,outputSize:o,inputSize:c})}});t.defineProperty(r,"readable",{get:()=>a.pipeThrough(l).pipeThrough(f).pipeThrough(u)})}}class Pe extends p{constructor(e){let t;super({transform:function n(r,s){if(t){const e=new i(t.length+r.length);e.set(t),e.set(r,t.length),r=e,t=null}r.length>e?(s.enqueue(r.slice(0,e)),n(r.slice(e),s)):t=r},flush(e){t&&t.length&&e.enqueue(t)}})}}const De=new a,Ve=new a;let Re,Be=0,Ee=!0;async function Me(e){try{const{options:t,scripts:r,config:s}=e;if(r&&r.length)try{Ee?importScripts.apply(k,r):await Ue(r)}catch(e){Ee=!1,await Ue(r)}self.initCodec&&self.initCodec(),s.CompressionStreamNative=self.CompressionStream,s.DecompressionStreamNative=self.DecompressionStream,self.Deflate&&(s.CompressionStream=new z(self.Deflate)),self.Inflate&&(s.DecompressionStream=new z(self.Inflate));const i={highWaterMark:1},o=e.readable||new y({async pull(e){const t=new u((e=>De.set(Be,e)));Ke({type:"pull",messageId:Be}),Be=(Be+1)%n.MAX_SAFE_INTEGER;const{value:r,done:s}=await t;e.enqueue(r),s&&e.close()}},i),c=e.writable||new m({async write(e){let t;const r=new u((e=>t=e));Ve.set(Be,t),Ke({type:Ae,value:e,messageId:Be}),Be=(Be+1)%n.MAX_SAFE_INTEGER,await r}},i),f=new Ie(t,s);Re=new AbortController;const{signal:a}=Re;await o.pipeThrough(f).pipeThrough(new Pe(s.chunkSize)).pipeTo(c,{signal:a,preventClose:!0,preventAbort:!0}),await c.getWriter().close();const{signature:l,inputSize:w,outputSize:h}=f;Ke({type:_e,result:{signature:l,inputSize:w,outputSize:h}})}catch(e){Ne(e)}}async function Ue(e){for(const t of e)await import(t)}function Ke(e){let{value:t}=e;if(t)if(t.length)try{t=new i(t),e.value=t.buffer,d(e,[e.value])}catch(t){d(e)}else d(e);else d(e)}function Ne(e=new s("Unknown error")){const{message:t,stack:n,code:r,name:i}=e;d({error:{message:t,stack:n,code:r,name:i}})}addEventListener("message",(({data:e})=>{const{type:t,messageId:n,value:r,done:s}=e;try{if("start"==t&&Me(e),t==Ae){const e=De.get(n);De.delete(n),e({value:new i(r),done:s})}if("ack"==t){const e=Ve.get(n);Ve.delete(n),e()}t==_e&&Re.abort()}catch(e){Ne(e)}}));const Oe=-2;function Te(t){return We(t.map((([t,n])=>new e(t).fill(n,0,t))))}function We(t){return t.reduce(((t,n)=>t.concat(e.isArray(n)?We(n):n)),[])}const je=[0,1,2,3].concat(...Te([[2,4],[2,5],[4,6],[4,7],[8,8],[8,9],[16,10],[16,11],[32,12],[32,13],[64,14],[64,15],[2,0],[1,16],[1,17],[2,18],[2,19],[4,20],[4,21],[8,22],[8,23],[16,24],[16,25],[32,26],[32,27],[64,28],[64,29]]));function He(){const e=this;function t(e,t){let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}e.ne=n=>{const s=e.re,i=e.ie.se,o=e.ie.oe;let c,f,a,l=-1;for(n.ce=0,n.fe=573,c=0;o>c;c++)0!==s[2*c]?(n.ae[++n.ce]=l=c,n.le[c]=0):s[2*c+1]=0;for(;2>n.ce;)a=n.ae[++n.ce]=2>l?++l:0,s[2*a]=1,n.le[a]=0,n.ue--,i&&(n.we-=i[2*a+1]);for(e.he=l,c=r.floor(n.ce/2);c>=1;c--)n.de(s,c);a=o;do{c=n.ae[1],n.ae[1]=n.ae[n.ce--],n.de(s,1),f=n.ae[1],n.ae[--n.fe]=c,n.ae[--n.fe]=f,s[2*a]=s[2*c]+s[2*f],n.le[a]=r.max(n.le[c],n.le[f])+1,s[2*c+1]=s[2*f+1]=a,n.ae[1]=a++,n.de(s,1)}while(n.ce>=2);n.ae[--n.fe]=n.ae[1],(t=>{const n=e.re,r=e.ie.se,s=e.ie.pe,i=e.ie.ye,o=e.ie.me;let c,f,a,l,u,w,h=0;for(l=0;15>=l;l++)t.be[l]=0;for(n[2*t.ae[t.fe]+1]=0,c=t.fe+1;573>c;c++)f=t.ae[c],l=n[2*n[2*f+1]+1]+1,l>o&&(l=o,h++),n[2*f+1]=l,f>e.he||(t.be[l]++,u=0,i>f||(u=s[f-i]),w=n[2*f],t.ue+=w*(l+u),r&&(t.we+=w*(r[2*f+1]+u)));if(0!==h){do{for(l=o-1;0===t.be[l];)l--;t.be[l]--,t.be[l+1]+=2,t.be[o]--,h-=2}while(h>0);for(l=o;0!==l;l--)for(f=t.be[l];0!==f;)a=t.ae[--c],a>e.he||(n[2*a+1]!=l&&(t.ue+=(l-n[2*a+1])*n[2*a],n[2*a+1]=l),f--)}})(n),((e,n,r)=>{const s=[];let i,o,c,f=0;for(i=1;15>=i;i++)s[i]=f=f+r[i-1]<<1;for(o=0;n>=o;o++)c=e[2*o+1],0!==c&&(e[2*o]=t(s[c]++,c))})(s,e.he,n.be)}}function Le(e,t,n,r,s){const i=this;i.se=e,i.pe=t,i.ye=n,i.oe=r,i.me=s}He.ge=[0,1,2,3,4,5,6,7].concat(...Te([[2,8],[2,9],[2,10],[2,11],[4,12],[4,13],[4,14],[4,15],[8,16],[8,17],[8,18],[8,19],[16,20],[16,21],[16,22],[16,23],[32,24],[32,25],[32,26],[31,27],[1,28]])),He.ke=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],He.ve=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],He.Se=e=>256>e?je[e]:je[256+(e>>>7)],He.ze=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],He.Ce=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],He.xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],He.Ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];const Fe=Te([[144,8],[112,9],[24,7],[8,8]]);Le._e=We([12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,19,275,147,403,83,339,211,467,51,307,179,435,115,371,243,499,11,267,139,395,75,331,203,459,43,299,171,427,107,363,235,491,27,283,155,411,91,347,219,475,59,315,187,443,123,379,251,507,7,263,135,391,71,327,199,455,39,295,167,423,103,359,231,487,23,279,151,407,87,343,215,471,55,311,183,439,119,375,247,503,15,271,143,399,79,335,207,463,47,303,175,431,111,367,239,495,31,287,159,415,95,351,223,479,63,319,191,447,127,383,255,511,0,64,32,96,16,80,48,112,8,72,40,104,24,88,56,120,4,68,36,100,20,84,52,116,3,131,67,195,35,163,99,227].map(((e,t)=>[e,Fe[t]])));const qe=Te([[30,5]]);function Ge(e,t,n,r,s){const i=this;i.Ie=e,i.Pe=t,i.De=n,i.Ve=r,i.Re=s}Le.Be=We([0,16,8,24,4,20,12,28,2,18,10,26,6,22,14,30,1,17,9,25,5,21,13,29,3,19,11,27,7,23].map(((e,t)=>[e,qe[t]]))),Le.Ee=new Le(Le._e,He.ze,257,286,15),Le.Me=new Le(Le.Be,He.Ce,0,30,15),Le.Ue=new Le(null,He.xe,0,19,7);const Je=[new Ge(0,0,0,0,0),new Ge(4,4,8,4,1),new Ge(4,5,16,8,1),new Ge(4,6,32,32,1),new Ge(4,4,16,16,2),new Ge(8,16,32,32,2),new Ge(8,16,128,128,2),new Ge(8,32,128,256,2),new Ge(32,128,258,1024,2),new Ge(32,258,258,4096,2)],Qe=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],Xe=113,Ye=666,Ze=262;function $e(e,t,n,r){const s=e[2*t],i=e[2*n];return i>s||s==i&&r[t]<=r[n]}function et(){const e=this;let t,n,s,c,f,a,l,u,w,h,d,p,y,m,b,g,k,v,S,z,C,x,A,_,I,P,D,V,R,B,E,M,U;const K=new He,N=new He,O=new He;let T,W,j,H,L,F;function q(){let t;for(t=0;286>t;t++)E[2*t]=0;for(t=0;30>t;t++)M[2*t]=0;for(t=0;19>t;t++)U[2*t]=0;E[512]=1,e.ue=e.we=0,W=j=0}function G(e,t){let n,r=-1,s=e[1],i=0,o=7,c=4;0===s&&(o=138,c=3),e[2*(t+1)+1]=65535;for(let f=0;t>=f;f++)n=s,s=e[2*(f+1)+1],++i<o&&n==s||(c>i?U[2*n]+=i:0!==n?(n!=r&&U[2*n]++,U[32]++):i>10?U[36]++:U[34]++,i=0,r=n,0===s?(o=138,c=3):n==s?(o=6,c=3):(o=7,c=4))}function J(t){e.Ke[e.pending++]=t}function Q(e){J(255&e),J(e>>>8&255)}function X(e,t){let n;const r=t;F>16-r?(n=e,L|=n<<F&65535,Q(L),L=n>>>16-F,F+=r-16):(L|=e<<F&65535,F+=r)}function Y(e,t){const n=2*e;X(65535&t[n],65535&t[n+1])}function Z(e,t){let n,r,s=-1,i=e[1],o=0,c=7,f=4;for(0===i&&(c=138,f=3),n=0;t>=n;n++)if(r=i,i=e[2*(n+1)+1],++o>=c||r!=i){if(f>o)do{Y(r,U)}while(0!=--o);else 0!==r?(r!=s&&(Y(r,U),o--),Y(16,U),X(o-3,2)):o>10?(Y(18,U),X(o-11,7)):(Y(17,U),X(o-3,3));o=0,s=r,0===i?(c=138,f=3):r==i?(c=6,f=3):(c=7,f=4)}}function $(){16==F?(Q(L),L=0,F=0):8>F||(J(255&L),L>>>=8,F-=8)}function ee(t,n){let s,i,o;if(e.Ne[W]=t,e.Oe[W]=255&n,W++,0===t?E[2*n]++:(j++,t--,E[2*(He.ge[n]+256+1)]++,M[2*He.Se(t)]++),!(8191&W)&&D>2){for(s=8*W,i=C-k,o=0;30>o;o++)s+=M[2*o]*(5+He.Ce[o]);if(s>>>=3,j<r.floor(W/2)&&s<r.floor(i/2))return!0}return W==T-1}function te(t,n){let r,s,i,o,c=0;if(0!==W)do{r=e.Ne[c],s=e.Oe[c],c++,0===r?Y(s,t):(i=He.ge[s],Y(i+256+1,t),o=He.ze[i],0!==o&&(s-=He.ke[i],X(s,o)),r--,i=He.Se(r),Y(i,n),o=He.Ce[i],0!==o&&(r-=He.ve[i],X(r,o)))}while(W>c);Y(256,t),H=t[513]}function ne(){F>8?Q(L):F>0&&J(255&L),L=0,F=0}function re(t,n,r){X(0+(r?1:0),3),((t,n)=>{ne(),H=8,Q(n),Q(~n),e.Ke.set(u.subarray(t,t+n),e.pending),e.pending+=n})(t,n)}function se(n){((t,n,r)=>{let s,i,o=0;D>0?(K.ne(e),N.ne(e),o=(()=>{let t;for(G(E,K.he),G(M,N.he),O.ne(e),t=18;t>=3&&0===U[2*He.Ae[t]+1];t--);return e.ue+=14+3*(t+1),t})(),s=e.ue+3+7>>>3,i=e.we+3+7>>>3,i>s||(s=i)):s=i=n+5,n+4>s||-1==t?i==s?(X(2+(r?1:0),3),te(Le._e,Le.Be)):(X(4+(r?1:0),3),((e,t,n)=>{let r;for(X(e-257,5),X(t-1,5),X(n-4,4),r=0;n>r;r++)X(U[2*He.Ae[r]+1],3);Z(E,e-1),Z(M,t-1)})(K.he+1,N.he+1,o+1),te(E,M)):re(t,n,r),q(),r&&ne()})(0>k?-1:k,C-k,n),k=C,t.Te()}function ie(){let e,n,r,s;do{if(s=w-A-C,0===s&&0===C&&0===A)s=f;else if(-1==s)s--;else if(C>=f+f-Ze){u.set(u.subarray(f,f+f),0),x-=f,C-=f,k-=f,e=y,r=e;do{n=65535&d[--r],d[r]=f>n?0:n-f}while(0!=--e);e=f,r=e;do{n=65535&h[--r],h[r]=f>n?0:n-f}while(0!=--e);s+=f}if(0===t.We)return;e=t.je(u,C+A,s),A+=e,3>A||(p=255&u[C],p=(p<<g^255&u[C+1])&b)}while(Ze>A&&0!==t.We)}function oe(e){let t,n,r=I,s=C,i=_;const o=C>f-Ze?C-(f-Ze):0;let c=B;const a=l,w=C+258;let d=u[s+i-1],p=u[s+i];R>_||(r>>=2),c>A&&(c=A);do{if(t=e,u[t+i]==p&&u[t+i-1]==d&&u[t]==u[s]&&u[++t]==u[s+1]){s+=2,t++;do{}while(u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&w>s);if(n=258-(w-s),s=w-258,n>i){if(x=e,i=n,n>=c)break;d=u[s+i-1],p=u[s+i]}}}while((e=65535&h[e&a])>o&&0!=--r);return i>A?A:i}e.le=[],e.be=[],e.ae=[],E=[],M=[],U=[],e.de=(t,n)=>{const r=e.ae,s=r[n];let i=n<<1;for(;i<=e.ce&&(i<e.ce&&$e(t,r[i+1],r[i],e.le)&&i++,!$e(t,s,r[i],e.le));)r[n]=r[i],n=i,i<<=1;r[n]=s},e.He=(t,S,x,W,j,G)=>(W||(W=8),j||(j=8),G||(G=0),t.Le=null,-1==S&&(S=6),1>j||j>9||8!=W||9>x||x>15||0>S||S>9||0>G||G>2?Oe:(t.Fe=e,a=x,f=1<<a,l=f-1,m=j+7,y=1<<m,b=y-1,g=r.floor((m+3-1)/3),u=new i(2*f),h=[],d=[],T=1<<j+6,e.Ke=new i(4*T),s=4*T,e.Ne=new o(T),e.Oe=new i(T),D=S,V=G,(t=>(t.qe=t.Ge=0,t.Le=null,e.pending=0,e.Je=0,n=Xe,c=0,K.re=E,K.ie=Le.Ee,N.re=M,N.ie=Le.Me,O.re=U,O.ie=Le.Ue,L=0,F=0,H=8,q(),(()=>{w=2*f,d[y-1]=0;for(let e=0;y-1>e;e++)d[e]=0;P=Je[D].Pe,R=Je[D].Ie,B=Je[D].De,I=Je[D].Ve,C=0,k=0,A=0,v=_=2,z=0,p=0})(),0))(t))),e.Qe=()=>42!=n&&n!=Xe&&n!=Ye?Oe:(e.Oe=null,e.Ne=null,e.Ke=null,d=null,h=null,u=null,e.Fe=null,n==Xe?-3:0),e.Xe=(e,t,n)=>{let r=0;return-1==t&&(t=6),0>t||t>9||0>n||n>2?Oe:(Je[D].Re!=Je[t].Re&&0!==e.qe&&(r=e.Ye(1)),D!=t&&(D=t,P=Je[D].Pe,R=Je[D].Ie,B=Je[D].De,I=Je[D].Ve),V=n,r)},e.Ze=(e,t,r)=>{let s,i=r,o=0;if(!t||42!=n)return Oe;if(3>i)return 0;for(i>f-Ze&&(i=f-Ze,o=r-i),u.set(t.subarray(o,o+i),0),C=i,k=i,p=255&u[0],p=(p<<g^255&u[1])&b,s=0;i-3>=s;s++)p=(p<<g^255&u[s+2])&b,h[s&l]=d[p],d[p]=s;return 0},e.Ye=(r,i)=>{let o,w,m,I,R;if(i>4||0>i)return Oe;if(!r.$e||!r.et&&0!==r.We||n==Ye&&4!=i)return r.Le=Qe[4],Oe;if(0===r.tt)return r.Le=Qe[7],-5;var B;if(t=r,I=c,c=i,42==n&&(w=8+(a-8<<4)<<8,m=(D-1&255)>>1,m>3&&(m=3),w|=m<<6,0!==C&&(w|=32),w+=31-w%31,n=Xe,J((B=w)>>8&255),J(255&B)),0!==e.pending){if(t.Te(),0===t.tt)return c=-1,0}else if(0===t.We&&I>=i&&4!=i)return t.Le=Qe[7],-5;if(n==Ye&&0!==t.We)return r.Le=Qe[7],-5;if(0!==t.We||0!==A||0!=i&&n!=Ye){switch(R=-1,Je[D].Re){case 0:R=(e=>{let n,r=65535;for(r>s-5&&(r=s-5);;){if(1>=A){if(ie(),0===A&&0==e)return 0;if(0===A)break}if(C+=A,A=0,n=k+r,(0===C||C>=n)&&(A=C-n,C=n,se(!1),0===t.tt))return 0;if(C-k>=f-Ze&&(se(!1),0===t.tt))return 0}return se(4==e),0===t.tt?4==e?2:0:4==e?3:1})(i);break;case 1:R=(e=>{let n,r=0;for(;;){if(Ze>A){if(ie(),Ze>A&&0==e)return 0;if(0===A)break}if(3>A||(p=(p<<g^255&u[C+2])&b,r=65535&d[p],h[C&l]=d[p],d[p]=C),0===r||(C-r&65535)>f-Ze||2!=V&&(v=oe(r)),3>v)n=ee(0,255&u[C]),A--,C++;else if(n=ee(C-x,v-3),A-=v,v>P||3>A)C+=v,v=0,p=255&u[C],p=(p<<g^255&u[C+1])&b;else{v--;do{C++,p=(p<<g^255&u[C+2])&b,r=65535&d[p],h[C&l]=d[p],d[p]=C}while(0!=--v);C++}if(n&&(se(!1),0===t.tt))return 0}return se(4==e),0===t.tt?4==e?2:0:4==e?3:1})(i);break;case 2:R=(e=>{let n,r,s=0;for(;;){if(Ze>A){if(ie(),Ze>A&&0==e)return 0;if(0===A)break}if(3>A||(p=(p<<g^255&u[C+2])&b,s=65535&d[p],h[C&l]=d[p],d[p]=C),_=v,S=x,v=2,0!==s&&P>_&&f-Ze>=(C-s&65535)&&(2!=V&&(v=oe(s)),5>=v&&(1==V||3==v&&C-x>4096)&&(v=2)),3>_||v>_)if(0!==z){if(n=ee(0,255&u[C-1]),n&&se(!1),C++,A--,0===t.tt)return 0}else z=1,C++,A--;else{r=C+A-3,n=ee(C-1-S,_-3),A-=_-1,_-=2;do{++C>r||(p=(p<<g^255&u[C+2])&b,s=65535&d[p],h[C&l]=d[p],d[p]=C)}while(0!=--_);if(z=0,v=2,C++,n&&(se(!1),0===t.tt))return 0}}return 0!==z&&(n=ee(0,255&u[C-1]),z=0),se(4==e),0===t.tt?4==e?2:0:4==e?3:1})(i)}if(2!=R&&3!=R||(n=Ye),0==R||2==R)return 0===t.tt&&(c=-1),0;if(1==R){if(1==i)X(2,3),Y(256,Le._e),$(),9>1+H+10-F&&(X(2,3),Y(256,Le._e),$()),H=7;else if(re(0,0,!1),3==i)for(o=0;y>o;o++)d[o]=0;if(t.Te(),0===t.tt)return c=-1,0}}return 4!=i?0:1}}function tt(){const e=this;e.nt=0,e.rt=0,e.We=0,e.qe=0,e.tt=0,e.Ge=0}function nt(e){const t=new tt,n=(o=e&&e.chunkSize?e.chunkSize:65536)+5*(r.floor(o/16383)+1);var o;const c=new i(n);let f=e?e.level:-1;void 0===f&&(f=-1),t.He(f),t.$e=c,this.append=(e,r)=>{let o,f,a=0,l=0,u=0;const w=[];if(e.length){t.nt=0,t.et=e,t.We=e.length;do{if(t.rt=0,t.tt=n,o=t.Ye(0),0!=o)throw new s("deflating: "+t.Le);t.rt&&(t.rt==n?w.push(new i(c)):w.push(c.subarray(0,t.rt))),u+=t.rt,r&&t.nt>0&&t.nt!=a&&(r(t.nt),a=t.nt)}while(t.We>0||0===t.tt);return w.length>1?(f=new i(u),w.forEach((e=>{f.set(e,l),l+=e.length}))):f=w[0]?new i(w[0]):new i,f}},this.flush=()=>{let e,r,o=0,f=0;const a=[];do{if(t.rt=0,t.tt=n,e=t.Ye(4),1!=e&&0!=e)throw new s("deflating: "+t.Le);n-t.tt>0&&a.push(c.slice(0,t.rt)),f+=t.rt}while(t.We>0||0===t.tt);return t.Qe(),r=new i(f),a.forEach((e=>{r.set(e,o),o+=e.length})),r}}tt.prototype={He(e,t){const n=this;return n.Fe=new et,t||(t=15),n.Fe.He(n,e,t)},Ye(e){const t=this;return t.Fe?t.Fe.Ye(t,e):Oe},Qe(){const e=this;if(!e.Fe)return Oe;const t=e.Fe.Qe();return e.Fe=null,t},Xe(e,t){const n=this;return n.Fe?n.Fe.Xe(n,e,t):Oe},Ze(e,t){const n=this;return n.Fe?n.Fe.Ze(n,e,t):Oe},je(e,t,n){const r=this;let s=r.We;return s>n&&(s=n),0===s?0:(r.We-=s,e.set(r.et.subarray(r.nt,r.nt+s),t),r.nt+=s,r.qe+=s,s)},Te(){const e=this;let t=e.Fe.pending;t>e.tt&&(t=e.tt),0!==t&&(e.$e.set(e.Fe.Ke.subarray(e.Fe.Je,e.Fe.Je+t),e.rt),e.rt+=t,e.Fe.Je+=t,e.Ge+=t,e.tt-=t,e.Fe.pending-=t,0===e.Fe.pending&&(e.Fe.Je=0))}};const rt=-2,st=-3,it=-5,ot=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],ct=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],ft=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],at=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],ut=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],wt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];function ht(){let e,t,n,r,s,i;function o(e,t,o,c,f,a,l,u,w,h,d){let p,y,m,b,g,k,v,S,z,C,x,A,_,I,P;C=0,g=o;do{n[e[t+C]]++,C++,g--}while(0!==g);if(n[0]==o)return l[0]=-1,u[0]=0,0;for(S=u[0],k=1;15>=k&&0===n[k];k++);for(v=k,k>S&&(S=k),g=15;0!==g&&0===n[g];g--);for(m=g,S>g&&(S=g),u[0]=S,I=1<<k;g>k;k++,I<<=1)if(0>(I-=n[k]))return st;if(0>(I-=n[g]))return st;for(n[g]+=I,i[1]=k=0,C=1,_=2;0!=--g;)i[_]=k+=n[C],_++,C++;g=0,C=0;do{0!==(k=e[t+C])&&(d[i[k]++]=g),C++}while(++g<o);for(o=i[m],i[0]=g=0,C=0,b=-1,A=-S,s[0]=0,x=0,P=0;m>=v;v++)for(p=n[v];0!=p--;){for(;v>A+S;){if(b++,A+=S,P=m-A,P=P>S?S:P,(y=1<<(k=v-A))>p+1&&(y-=p+1,_=v,P>k))for(;++k<P&&(y<<=1)>n[++_];)y-=n[_];if(P=1<<k,h[0]+P>1440)return st;s[b]=x=h[0],h[0]+=P,0!==b?(i[b]=g,r[0]=k,r[1]=S,k=g>>>A-S,r[2]=x-s[b-1]-k,w.set(r,3*(s[b-1]+k))):l[0]=x}for(r[1]=v-A,o>C?d[C]<c?(r[0]=256>d[C]?0:96,r[2]=d[C++]):(r[0]=a[d[C]-c]+16+64,r[2]=f[d[C++]-c]):r[0]=192,y=1<<v-A,k=g>>>A;P>k;k+=y)w.set(r,3*(x+k));for(k=1<<v-1;g&k;k>>>=1)g^=k;for(g^=k,z=(1<<A)-1;(g&z)!=i[b];)b--,A-=S,z=(1<<A)-1}return 0!==I&&1!=m?it:0}function c(o){let c;for(e||(e=[],t=[],n=new f(16),r=[],s=new f(15),i=new f(16)),t.length<o&&(t=[]),c=0;o>c;c++)t[c]=0;for(c=0;16>c;c++)n[c]=0;for(c=0;3>c;c++)r[c]=0;s.set(n.subarray(0,15),0),i.set(n.subarray(0,16),0)}this.st=(n,r,s,i,f)=>{let a;return c(19),e[0]=0,a=o(n,0,19,19,null,null,s,r,i,e,t),a==st?f.Le="oversubscribed dynamic bit lengths tree":a!=it&&0!==r[0]||(f.Le="incomplete dynamic bit lengths tree",a=st),a},this.it=(n,r,s,i,f,a,l,u,w)=>{let h;return c(288),e[0]=0,h=o(s,0,n,257,at,lt,a,i,u,e,t),0!=h||0===i[0]?(h==st?w.Le="oversubscribed literal/length tree":-4!=h&&(w.Le="incomplete literal/length tree",h=st),h):(c(288),h=o(s,n,r,0,ut,wt,l,f,u,e,t),0!=h||0===f[0]&&n>257?(h==st?w.Le="oversubscribed distance tree":h==it?(w.Le="incomplete distance tree",h=st):-4!=h&&(w.Le="empty distance tree with lengths",h=st),h):0)}}function dt(){const e=this;let t,n,r,s,i=0,o=0,c=0,f=0,a=0,l=0,u=0,w=0,h=0,d=0;function p(e,t,n,r,s,i,o,c){let f,a,l,u,w,h,d,p,y,m,b,g,k,v,S,z;d=c.nt,p=c.We,w=o.ot,h=o.ct,y=o.write,m=y<o.read?o.read-y-1:o.end-y,b=ot[e],g=ot[t];do{for(;20>h;)p--,w|=(255&c.ft(d++))<<h,h+=8;if(f=w&b,a=n,l=r,z=3*(l+f),0!==(u=a[z]))for(;;){if(w>>=a[z+1],h-=a[z+1],16&u){for(u&=15,k=a[z+2]+(w&ot[u]),w>>=u,h-=u;15>h;)p--,w|=(255&c.ft(d++))<<h,h+=8;for(f=w&g,a=s,l=i,z=3*(l+f),u=a[z];;){if(w>>=a[z+1],h-=a[z+1],16&u){for(u&=15;u>h;)p--,w|=(255&c.ft(d++))<<h,h+=8;if(v=a[z+2]+(w&ot[u]),w>>=u,h-=u,m-=k,v>y){S=y-v;do{S+=o.end}while(0>S);if(u=o.end-S,k>u){if(k-=u,y-S>0&&u>y-S)do{o.lt[y++]=o.lt[S++]}while(0!=--u);else o.lt.set(o.lt.subarray(S,S+u),y),y+=u,S+=u,u=0;S=0}}else S=y-v,y-S>0&&2>y-S?(o.lt[y++]=o.lt[S++],o.lt[y++]=o.lt[S++],k-=2):(o.lt.set(o.lt.subarray(S,S+2),y),y+=2,S+=2,k-=2);if(y-S>0&&k>y-S)do{o.lt[y++]=o.lt[S++]}while(0!=--k);else o.lt.set(o.lt.subarray(S,S+k),y),y+=k,S+=k,k=0;break}if(64&u)return c.Le="invalid distance code",k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,st;f+=a[z+2],f+=w&ot[u],z=3*(l+f),u=a[z]}break}if(64&u)return 32&u?(k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,1):(c.Le="invalid literal/length code",k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,st);if(f+=a[z+2],f+=w&ot[u],z=3*(l+f),0===(u=a[z])){w>>=a[z+1],h-=a[z+1],o.lt[y++]=a[z+2],m--;break}}else w>>=a[z+1],h-=a[z+1],o.lt[y++]=a[z+2],m--}while(m>=258&&p>=10);return k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,0}e.init=(e,i,o,c,f,a)=>{t=0,u=e,w=i,r=o,h=c,s=f,d=a,n=null},e.ut=(e,y,m)=>{let b,g,k,v,S,z,C,x=0,A=0,_=0;for(_=y.nt,v=y.We,x=e.ot,A=e.ct,S=e.write,z=S<e.read?e.read-S-1:e.end-S;;)switch(t){case 0:if(z>=258&&v>=10&&(e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,m=p(u,w,r,h,s,d,e,y),_=y.nt,v=y.We,x=e.ot,A=e.ct,S=e.write,z=S<e.read?e.read-S-1:e.end-S,0!=m)){t=1==m?7:9;break}c=u,n=r,o=h,t=1;case 1:for(b=c;b>A;){if(0===v)return e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(_++))<<A,A+=8}if(g=3*(o+(x&ot[b])),x>>>=n[g+1],A-=n[g+1],k=n[g],0===k){f=n[g+2],t=6;break}if(16&k){a=15&k,i=n[g+2],t=2;break}if(!(64&k)){c=k,o=g/3+n[g+2];break}if(32&k){t=7;break}return t=9,y.Le="invalid literal/length code",m=st,e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);case 2:for(b=a;b>A;){if(0===v)return e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(_++))<<A,A+=8}i+=x&ot[b],x>>=b,A-=b,c=w,n=s,o=d,t=3;case 3:for(b=c;b>A;){if(0===v)return e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(_++))<<A,A+=8}if(g=3*(o+(x&ot[b])),x>>=n[g+1],A-=n[g+1],k=n[g],16&k){a=15&k,l=n[g+2],t=4;break}if(!(64&k)){c=k,o=g/3+n[g+2];break}return t=9,y.Le="invalid distance code",m=st,e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);case 4:for(b=a;b>A;){if(0===v)return e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(_++))<<A,A+=8}l+=x&ot[b],x>>=b,A-=b,t=5;case 5:for(C=S-l;0>C;)C+=e.end;for(;0!==i;){if(0===z&&(S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z&&(e.write=S,m=e.wt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z)))return e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);e.lt[S++]=e.lt[C++],z--,C==e.end&&(C=0),i--}t=0;break;case 6:if(0===z&&(S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z&&(e.write=S,m=e.wt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z)))return e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);m=0,e.lt[S++]=f,z--,t=0;break;case 7:if(A>7&&(A-=8,v++,_--),e.write=S,m=e.wt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,e.read!=e.write)return e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);t=8;case 8:return m=1,e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);case 9:return m=st,e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);default:return m=rt,e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m)}},e.ht=()=>{}}ht.dt=(e,t,n,r)=>(e[0]=9,t[0]=5,n[0]=ct,r[0]=ft,0);const pt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function yt(e,t){const n=this;let r,s=0,o=0,c=0,a=0;const l=[0],u=[0],w=new dt;let h=0,d=new f(4320);const p=new ht;n.ct=0,n.ot=0,n.lt=new i(t),n.end=t,n.read=0,n.write=0,n.reset=(e,t)=>{t&&(t[0]=0),6==s&&w.ht(e),s=0,n.ct=0,n.ot=0,n.read=n.write=0},n.reset(e,null),n.wt=(e,t)=>{let r,s,i;return s=e.rt,i=n.read,r=(i>n.write?n.end:n.write)-i,r>e.tt&&(r=e.tt),0!==r&&t==it&&(t=0),e.tt-=r,e.Ge+=r,e.$e.set(n.lt.subarray(i,i+r),s),s+=r,i+=r,i==n.end&&(i=0,n.write==n.end&&(n.write=0),r=n.write-i,r>e.tt&&(r=e.tt),0!==r&&t==it&&(t=0),e.tt-=r,e.Ge+=r,e.$e.set(n.lt.subarray(i,i+r),s),s+=r,i+=r),e.rt=s,n.read=i,t},n.ut=(e,t)=>{let i,f,y,m,b,g,k,v;for(m=e.nt,b=e.We,f=n.ot,y=n.ct,g=n.write,k=g<n.read?n.read-g-1:n.end-g;;){let S,z,C,x,A,_,I,P;switch(s){case 0:for(;3>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}switch(i=7&f,h=1&i,i>>>1){case 0:f>>>=3,y-=3,i=7&y,f>>>=i,y-=i,s=1;break;case 1:S=[],z=[],C=[[]],x=[[]],ht.dt(S,z,C,x),w.init(S[0],z[0],C[0],0,x[0],0),f>>>=3,y-=3,s=6;break;case 2:f>>>=3,y-=3,s=3;break;case 3:return f>>>=3,y-=3,s=9,e.Le="invalid block type",t=st,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t)}break;case 1:for(;32>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if((~f>>>16&65535)!=(65535&f))return s=9,e.Le="invalid stored block lengths",t=st,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);o=65535&f,f=y=0,s=0!==o?2:0!==h?7:0;break;case 2:if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);if(0===k&&(g==n.end&&0!==n.read&&(g=0,k=g<n.read?n.read-g-1:n.end-g),0===k&&(n.write=g,t=n.wt(e,t),g=n.write,k=g<n.read?n.read-g-1:n.end-g,g==n.end&&0!==n.read&&(g=0,k=g<n.read?n.read-g-1:n.end-g),0===k)))return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);if(t=0,i=o,i>b&&(i=b),i>k&&(i=k),n.lt.set(e.je(m,i),g),m+=i,b-=i,g+=i,k-=i,0!=(o-=i))break;s=0!==h?7:0;break;case 3:for(;14>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if(c=i=16383&f,(31&i)>29||(i>>5&31)>29)return s=9,e.Le="too many length or distance symbols",t=st,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);if(i=258+(31&i)+(i>>5&31),!r||r.length<i)r=[];else for(v=0;i>v;v++)r[v]=0;f>>>=14,y-=14,a=0,s=4;case 4:for(;4+(c>>>10)>a;){for(;3>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}r[pt[a++]]=7&f,f>>>=3,y-=3}for(;19>a;)r[pt[a++]]=0;if(l[0]=7,i=p.st(r,l,u,d,e),0!=i)return(t=i)==st&&(r=null,s=9),n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);a=0,s=5;case 5:for(;i=c,258+(31&i)+(i>>5&31)>a;){let o,w;for(i=l[0];i>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if(i=d[3*(u[0]+(f&ot[i]))+1],w=d[3*(u[0]+(f&ot[i]))+2],16>w)f>>>=i,y-=i,r[a++]=w;else{for(v=18==w?7:w-14,o=18==w?11:3;i+v>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if(f>>>=i,y-=i,o+=f&ot[v],f>>>=v,y-=v,v=a,i=c,v+o>258+(31&i)+(i>>5&31)||16==w&&1>v)return r=null,s=9,e.Le="invalid bit length repeat",t=st,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);w=16==w?r[v-1]:0;do{r[v++]=w}while(0!=--o);a=v}}if(u[0]=-1,A=[],_=[],I=[],P=[],A[0]=9,_[0]=6,i=c,i=p.it(257+(31&i),1+(i>>5&31),r,A,_,I,P,d,e),0!=i)return i==st&&(r=null,s=9),t=i,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);w.init(A[0],_[0],d,I[0],d,P[0]),s=6;case 6:if(n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,1!=(t=w.ut(n,e,t)))return n.wt(e,t);if(t=0,w.ht(e),m=e.nt,b=e.We,f=n.ot,y=n.ct,g=n.write,k=g<n.read?n.read-g-1:n.end-g,0===h){s=0;break}s=7;case 7:if(n.write=g,t=n.wt(e,t),g=n.write,k=g<n.read?n.read-g-1:n.end-g,n.read!=n.write)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);s=8;case 8:return t=1,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);case 9:return t=st,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);default:return t=rt,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t)}}},n.ht=e=>{n.reset(e,null),n.lt=null,d=null},n.yt=(e,t,r)=>{n.lt.set(e.subarray(t,t+r),0),n.read=n.write=r},n.bt=()=>1==s?1:0}const mt=13,bt=[0,0,255,255];function gt(){const e=this;function t(e){return e&&e.gt?(e.qe=e.Ge=0,e.Le=null,e.gt.mode=7,e.gt.kt.reset(e,null),0):rt}e.mode=0,e.method=0,e.vt=[0],e.St=0,e.marker=0,e.zt=0,e.Ct=t=>(e.kt&&e.kt.ht(t),e.kt=null,0),e.xt=(n,r)=>(n.Le=null,e.kt=null,8>r||r>15?(e.Ct(n),rt):(e.zt=r,n.gt.kt=new yt(n,1<<r),t(n),0)),e.At=(e,t)=>{let n,r;if(!e||!e.gt||!e.et)return rt;const s=e.gt;for(t=4==t?it:0,n=it;;)switch(s.mode){case 0:if(0===e.We)return n;if(n=t,e.We--,e.qe++,8!=(15&(s.method=e.ft(e.nt++)))){s.mode=mt,e.Le="unknown compression method",s.marker=5;break}if(8+(s.method>>4)>s.zt){s.mode=mt,e.Le="invalid win size",s.marker=5;break}s.mode=1;case 1:if(0===e.We)return n;if(n=t,e.We--,e.qe++,r=255&e.ft(e.nt++),((s.method<<8)+r)%31!=0){s.mode=mt,e.Le="incorrect header check",s.marker=5;break}if(!(32&r)){s.mode=7;break}s.mode=2;case 2:if(0===e.We)return n;n=t,e.We--,e.qe++,s.St=(255&e.ft(e.nt++))<<24&4278190080,s.mode=3;case 3:if(0===e.We)return n;n=t,e.We--,e.qe++,s.St+=(255&e.ft(e.nt++))<<16&16711680,s.mode=4;case 4:if(0===e.We)return n;n=t,e.We--,e.qe++,s.St+=(255&e.ft(e.nt++))<<8&65280,s.mode=5;case 5:return 0===e.We?n:(n=t,e.We--,e.qe++,s.St+=255&e.ft(e.nt++),s.mode=6,2);case 6:return s.mode=mt,e.Le="need dictionary",s.marker=0,rt;case 7:if(n=s.kt.ut(e,n),n==st){s.mode=mt,s.marker=0;break}if(0==n&&(n=t),1!=n)return n;n=t,s.kt.reset(e,s.vt),s.mode=12;case 12:return e.We=0,1;case mt:return st;default:return rt}},e._t=(e,t,n)=>{let r=0,s=n;if(!e||!e.gt||6!=e.gt.mode)return rt;const i=e.gt;return s<1<<i.zt||(s=(1<<i.zt)-1,r=n-s),i.kt.yt(t,r,s),i.mode=7,0},e.It=e=>{let n,r,s,i,o;if(!e||!e.gt)return rt;const c=e.gt;if(c.mode!=mt&&(c.mode=mt,c.marker=0),0===(n=e.We))return it;for(r=e.nt,s=c.marker;0!==n&&4>s;)e.ft(r)==bt[s]?s++:s=0!==e.ft(r)?0:4-s,r++,n--;return e.qe+=r-e.nt,e.nt=r,e.We=n,c.marker=s,4!=s?st:(i=e.qe,o=e.Ge,t(e),e.qe=i,e.Ge=o,c.mode=7,0)},e.Pt=e=>e&&e.gt&&e.gt.kt?e.gt.kt.bt():rt}function kt(){}function vt(e){const t=new kt,n=e&&e.chunkSize?r.floor(2*e.chunkSize):131072,o=new i(n);let c=!1;t.xt(),t.$e=o,this.append=(e,r)=>{const f=[];let a,l,u=0,w=0,h=0;if(0!==e.length){t.nt=0,t.et=e,t.We=e.length;do{if(t.rt=0,t.tt=n,0!==t.We||c||(t.nt=0,c=!0),a=t.At(0),c&&a===it){if(0!==t.We)throw new s("inflating: bad input")}else if(0!==a&&1!==a)throw new s("inflating: "+t.Le);if((c||1===a)&&t.We===e.length)throw new s("inflating: bad input");t.rt&&(t.rt===n?f.push(new i(o)):f.push(o.subarray(0,t.rt))),h+=t.rt,r&&t.nt>0&&t.nt!=u&&(r(t.nt),u=t.nt)}while(t.We>0||0===t.tt);return f.length>1?(l=new i(h),f.forEach((e=>{l.set(e,w),w+=e.length}))):l=f[0]?new i(f[0]):new i,l}},this.flush=()=>{t.Ct()}}kt.prototype={xt(e){const t=this;return t.gt=new gt,e||(e=15),t.gt.xt(t,e)},At(e){const t=this;return t.gt?t.gt.At(t,e):rt},Ct(){const e=this;if(!e.gt)return rt;const t=e.gt.Ct(e);return e.gt=null,t},It(){const e=this;return e.gt?e.gt.It(e):rt},_t(e,t){const n=this;return n.gt?n.gt._t(n,e,t):rt},ft(e){return this.et[e]},je(e,t){return this.et.subarray(e,e+t)}},self.initCodec=()=>{self.Deflate=nt,self.Inflate=vt};\n',r=()=>t.useDataURI?"data:text/javascript,"+encodeURIComponent(n):URL.createObjectURL(new Blob([n],{type:"text/javascript"}));e({workerScripts:{inflate:[r],deflate:[r]}})}(_);_({Deflate:function(e){const t=new l,n=function(e){return e+5*(Math.floor(e/16383)+1)}(e&&e.chunkSize?e.chunkSize:65536),r=new Uint8Array(n);let i=e?e.level:-1;"undefined"==typeof i&&(i=-1);t.deflateInit(i);t.next_out=r;this.append=function(e,i){let o,s,a=0,c=0,u=0;const l=[];if(e.length){t.next_in_index=0;t.next_in=e;t.avail_in=e.length;do{t.next_out_index=0;t.avail_out=n;o=t.deflate(0);if(0!=o)throw new Error("deflating: "+t.msg);t.next_out_index&&(t.next_out_index==n?l.push(new Uint8Array(r)):l.push(r.subarray(0,t.next_out_index)));u+=t.next_out_index;if(i&&t.next_in_index>0&&t.next_in_index!=a){i(t.next_in_index);a=t.next_in_index}}while(t.avail_in>0||0===t.avail_out);if(l.length>1){s=new Uint8Array(u);l.forEach((function(e){s.set(e,c);c+=e.length}))}else s=l[0]?new Uint8Array(l[0]):new Uint8Array;return s}};this.flush=function(){let e,i,o=0,s=0;const a=[];do{t.next_out_index=0;t.avail_out=n;e=t.deflate(4);if(1!=e&&0!=e)throw new Error("deflating: "+t.msg);n-t.avail_out>0&&a.push(r.slice(0,t.next_out_index));s+=t.next_out_index}while(t.avail_in>0||0===t.avail_out);t.deflateEnd();i=new Uint8Array(s);a.forEach((function(e){i.set(e,o);o+=e.length}));return i}},Inflate:function(e){const t=new m,n=e&&e.chunkSize?Math.floor(2*e.chunkSize):131072,r=new Uint8Array(n);let i=!1;t.inflateInit();t.next_out=r;this.append=function(e,o){const s=[];let a,c,u=0,l=0,f=0;if(0!==e.length){t.next_in_index=0;t.next_in=e;t.avail_in=e.length;do{t.next_out_index=0;t.avail_out=n;if(0===t.avail_in&&!i){t.next_in_index=0;i=!0}a=t.inflate(0);if(i&&a===et){if(0!==t.avail_in)throw new Error("inflating: bad input")}else if(0!==a&&1!==a)throw new Error("inflating: "+t.msg);if((i||1===a)&&t.avail_in===e.length)throw new Error("inflating: bad input");t.next_out_index&&(t.next_out_index===n?s.push(new Uint8Array(r)):s.push(r.subarray(0,t.next_out_index)));f+=t.next_out_index;if(o&&t.next_in_index>0&&t.next_in_index!=u){o(t.next_in_index);u=t.next_in_index}}while(t.avail_in>0||0===t.avail_out);if(s.length>1){c=new Uint8Array(f);s.forEach((function(e){c.set(e,l);l+=e.length}))}else c=s[0]?new Uint8Array(s[0]):new Uint8Array;return c}};this.flush=function(){t.inflateEnd()}}});t.BlobReader=er;t.BlobWriter=tr;t.Data64URIReader=Jn;t.Data64URIWriter=Zn;t.ERR_BAD_FORMAT=Fr;t.ERR_CENTRAL_DIRECTORY_NOT_FOUND=Hr;t.ERR_DUPLICATED_NAME=ti;t.ERR_ENCRYPTED=Wr;t.ERR_EOCDR_LOCATOR_ZIP64_NOT_FOUND=Gr;t.ERR_EOCDR_NOT_FOUND=jr;t.ERR_EXTRAFIELD_ZIP64_NOT_FOUND=qr;t.ERR_HTTP_RANGE=Hn;t.ERR_INVALID_COMMENT=ni;t.ERR_INVALID_ENCRYPTION_STRENGTH=si;t.ERR_INVALID_ENTRY_COMMENT=ri;t.ERR_INVALID_ENTRY_NAME=ii;t.ERR_INVALID_EXTRAFIELD_DATA=ci;t.ERR_INVALID_EXTRAFIELD_TYPE=ai;t.ERR_INVALID_PASSWORD=$t;t.ERR_INVALID_SIGNATURE=Qt;t.ERR_INVALID_VERSION=oi;t.ERR_ITERATOR_COMPLETED_TOO_SOON=Vn;t.ERR_LOCAL_FILE_HEADER_NOT_FOUND=Vr;t.ERR_SPLIT_ZIP_FILE=Yr;t.ERR_UNDEFINED_UNCOMPRESSED_SIZE=li;t.ERR_UNSUPPORTED_COMPRESSION=zr;t.ERR_UNSUPPORTED_ENCRYPTION=Kr;t.ERR_UNSUPPORTED_FORMAT=ui;t.HttpRangeReader=class extends sr{constructor(e,t={}){t.useRangeHeader=!0;super(e,t)}};t.HttpReader=sr;t.Reader=Qn;t.SplitDataReader=ur;t.SplitDataWriter=lr;t.SplitZipReader=fr;t.SplitZipWriter=dr;t.TextReader=nr;t.TextWriter=rr;t.Uint8ArrayReader=ar;t.Uint8ArrayWriter=cr;t.Writer=Xn;t.ZipReader=Zr;t.ZipReaderStream=class{constructor(e={}){const{readable:t,writable:n}=new TransformStream,r=new Zr(t,e).getEntriesGenerator();this.readable=new ReadableStream({async pull(e){const{done:t,value:n}=await r.next();if(t)return e.close();const i={...n,readable:function(){const{readable:e,writable:t}=new TransformStream;if(n.getData){n.getData(t);return e}}()};delete i.getData;e.enqueue(i)}});this.writable=n}};t.ZipWriter=pi;t.ZipWriterStream=class{constructor(e={}){const{readable:t,writable:n}=new TransformStream;this.readable=t;this.zipWriter=new pi(n,e)}transform(e){const{readable:t,writable:n}=new TransformStream({flush:()=>{this.zipWriter.close()}});this.zipWriter.add(e,t);return{readable:this.readable,writable:n}}writable(e){const{readable:t,writable:n}=new TransformStream;this.zipWriter.add(e,t);return n}close(e,t={}){return this.zipWriter.close(e,t)}};t.configure=_;t.fs=_i;t.getMimeType=function(e){return e&&Mt[e.split(".").pop().toLowerCase()]||function(){return"application/octet-stream"}()};t.initShimAsyncCodec=function(e,t={},n){return{Deflate:K(e.Deflate,t.deflate,n),Inflate:K(e.Inflate,t.inflate,n)}};t.terminateWorkers=async function(){await Promise.allSettled(Un.map((e=>{W(e);return e.terminate()})))}},5017:(e,t)=>{var n,r,i=function(e){"use strict";function t(e,t,n){this.low=0|e;this.high=0|t;this.unsigned=!!n}function n(e){return!0===(e&&e["__isLong__"])}function r(e){var t=Math.clz32(e&-e);return e?31-t:t}function i(e,t){var n,r,i;if(t){if((i=0<=(e>>>=0)&&e<256)&&(r=f[e]))return r;n=s(e,0,!0);i&&(f[e]=n);return n}if((i=-128<=(e|=0)&&e<128)&&(r=l[e]))return r;n=s(e,e<0?-1:0,!1);i&&(l[e]=n);return n}function o(e,t){if(isNaN(e))return t?_:y;if(t){if(e<0)return _;if(e>=p)return T}else{if(e<=-m)return C;if(e+1>=m)return b}return e<0?o(-e,t).neg():s(e%h|0,e/h|0,t)}function s(e,n,r){return new t(e,n,r)}function a(e,t,n){if(0===e.length)throw Error("empty string");if("number"===typeof t){n=t;t=!1}else t=!!t;if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t?_:y;if((n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return a(e.substring(1),t,n).neg();for(var i=o(d(n,8)),s=y,c=0;c<e.length;c+=8){var u=Math.min(8,e.length-c),l=parseInt(e.substring(c,c+u),n);if(u<8){var f=o(d(n,u));s=s.mul(f).add(o(l))}else s=(s=s.mul(i)).add(o(l))}s.unsigned=t;return s}function c(e,t){return"number"===typeof e?o(e,t):"string"===typeof e?a(e,t):s(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}Object.defineProperty(e,"__esModule",{value:!0});e.default=void 0;
/**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   */var u=null;try{u=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}t.prototype.__isLong__;Object.defineProperty(t.prototype,"__isLong__",{value:!0});t.isLong=n;var l={},f={};t.fromInt=i;t.fromNumber=o;t.fromBits=s;var d=Math.pow;t.fromString=a;t.fromValue=c;var h=4294967296,p=h*h,m=p/2,g=i(1<<24),y=i(0);t.ZERO=y;var _=i(0,!0);t.UZERO=_;var v=i(1);t.ONE=v;var E=i(1,!0);t.UONE=E;var S=i(-1);t.NEG_ONE=S;var b=s(-1,2147483647,!1);t.MAX_VALUE=b;var T=s(-1,-1,!0);t.MAX_UNSIGNED_VALUE=T;var C=s(0,-2147483648,!1);t.MIN_VALUE=C;var I=t.prototype;I.toInt=function(){return this.unsigned?this.low>>>0:this.low};I.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)};I.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(C)){var t=o(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=o(d(e,6),this.unsigned),s=this,a="";;){var c=s.div(i),u=(s.sub(c.mul(i)).toInt()>>>0).toString(e);if((s=c).isZero())return u+a;for(;u.length<6;)u="0"+u;a=""+u+a}};I.getHighBits=function(){return this.high};I.getHighBitsUnsigned=function(){return this.high>>>0};I.getLowBits=function(){return this.low};I.getLowBitsUnsigned=function(){return this.low>>>0};I.getNumBitsAbs=function(){if(this.isNegative())return this.eq(C)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1};I.isZero=function(){return 0===this.high&&0===this.low};I.eqz=I.isZero;I.isNegative=function(){return!this.unsigned&&this.high<0};I.isPositive=function(){return this.unsigned||this.high>=0};I.isOdd=function(){return 1===(1&this.low)};I.isEven=function(){return 0===(1&this.low)};I.equals=function(e){n(e)||(e=c(e));return(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&this.high===e.high&&this.low===e.low};I.eq=I.equals;I.notEquals=function(e){return!this.eq(e)};I.neq=I.notEquals;I.ne=I.notEquals;I.lessThan=function(e){return this.comp(e)<0};I.lt=I.lessThan;I.lessThanOrEqual=function(e){return this.comp(e)<=0};I.lte=I.lessThanOrEqual;I.le=I.lessThanOrEqual;I.greaterThan=function(e){return this.comp(e)>0};I.gt=I.greaterThan;I.greaterThanOrEqual=function(e){return this.comp(e)>=0};I.gte=I.greaterThanOrEqual;I.ge=I.greaterThanOrEqual;I.compare=function(e){n(e)||(e=c(e));if(this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};I.comp=I.compare;I.negate=function(){return!this.unsigned&&this.eq(C)?C:this.not().add(v)};I.neg=I.negate;I.add=function(e){n(e)||(e=c(e));var t=this.high>>>16,r=65535&this.high,i=this.low>>>16,o=65535&this.low,a=e.high>>>16,u=65535&e.high,l=e.low>>>16,f=0,d=0,h=0,p=0;h+=(p+=o+(65535&e.low))>>>16;d+=(h+=i+l)>>>16;f+=(d+=r+u)>>>16;f+=t+a;return s((h&=65535)<<16|(p&=65535),(f&=65535)<<16|(d&=65535),this.unsigned)};I.subtract=function(e){n(e)||(e=c(e));return this.add(e.neg())};I.sub=I.subtract;I.multiply=function(e){if(this.isZero())return this;n(e)||(e=c(e));if(u)return s(u["mul"](this.low,this.high,e.low,e.high),u["get_high"](),this.unsigned);if(e.isZero())return this.unsigned?_:y;if(this.eq(C))return e.isOdd()?C:y;if(e.eq(C))return this.isOdd()?C:y;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(g)&&e.lt(g))return o(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=65535&this.high,i=this.low>>>16,a=65535&this.low,l=e.high>>>16,f=65535&e.high,d=e.low>>>16,h=65535&e.low,p=0,m=0,v=0,E=0;v+=(E+=a*h)>>>16;m+=(v+=i*h)>>>16;v&=65535;m+=(v+=a*d)>>>16;p+=(m+=r*h)>>>16;m&=65535;p+=(m+=i*d)>>>16;m&=65535;p+=(m+=a*f)>>>16;p+=t*h+r*d+i*f+a*l;return s((v&=65535)<<16|(E&=65535),(p&=65535)<<16|(m&=65535),this.unsigned)};I.mul=I.multiply;I.divide=function(e){n(e)||(e=c(e));if(e.isZero())throw Error("division by zero");if(u)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?s((this.unsigned?u["div_u"]:u["div_s"])(this.low,this.high,e.low,e.high),u["get_high"](),this.unsigned):this;if(this.isZero())return this.unsigned?_:y;var t,r,i;if(this.unsigned){e.unsigned||(e=e.toUnsigned());if(e.gt(this))return _;if(e.gt(this.shru(1)))return E;i=_}else{if(this.eq(C)){if(e.eq(v)||e.eq(S))return C;if(e.eq(C))return v;if((t=this.shr(1).div(e).shl(1)).eq(y))return e.isNegative()?v:S;r=this.sub(e.mul(t));return t.add(r.div(e))}if(e.eq(C))return this.unsigned?_:y;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=y}r=this;for(;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(t)/Math.LN2),l=a>48?d(2,a-48):1,f=o(t),h=f.mul(e);h.isNegative()||h.gt(r);)h=(f=o(t-=l,this.unsigned)).mul(e);f.isZero()&&(f=v);i=i.add(f);r=r.sub(h)}return i};I.div=I.divide;I.modulo=function(e){n(e)||(e=c(e));return u?s((this.unsigned?u["rem_u"]:u["rem_s"])(this.low,this.high,e.low,e.high),u["get_high"](),this.unsigned):this.sub(this.div(e).mul(e))};I.mod=I.modulo;I.rem=I.modulo;I.not=function(){return s(~this.low,~this.high,this.unsigned)};I.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};I.clz=I.countLeadingZeros;I.countTrailingZeros=function(){return this.low?r(this.low):r(this.high)+32};I.ctz=I.countTrailingZeros;I.and=function(e){n(e)||(e=c(e));return s(this.low&e.low,this.high&e.high,this.unsigned)};I.or=function(e){n(e)||(e=c(e));return s(this.low|e.low,this.high|e.high,this.unsigned)};I.xor=function(e){n(e)||(e=c(e));return s(this.low^e.low,this.high^e.high,this.unsigned)};I.shiftLeft=function(e){n(e)&&(e=e.toInt());return 0===(e&=63)?this:e<32?s(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):s(0,this.low<<e-32,this.unsigned)};I.shl=I.shiftLeft;I.shiftRight=function(e){n(e)&&(e=e.toInt());return 0===(e&=63)?this:e<32?s(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):s(this.high>>e-32,this.high<0?-1:0,this.unsigned)};I.shr=I.shiftRight;I.shiftRightUnsigned=function(e){n(e)&&(e=e.toInt());return 0===(e&=63)?this:e<32?s(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):s(32===e?this.high:this.high>>>e-32,0,this.unsigned)};I.shru=I.shiftRightUnsigned;I.shr_u=I.shiftRightUnsigned;I.rotateLeft=function(e){var t;n(e)&&(e=e.toInt());if(0===(e&=63))return this;if(32===e)return s(this.high,this.low,this.unsigned);if(e<32){t=32-e;return s(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)}t=32-(e-=32);return s(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned)};I.rotl=I.rotateLeft;I.rotateRight=function(e){var t;n(e)&&(e=e.toInt());if(0===(e&=63))return this;if(32===e)return s(this.high,this.low,this.unsigned);if(e<32){t=32-e;return s(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)}t=32-(e-=32);return s(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned)};I.rotr=I.rotateRight;I.toSigned=function(){return this.unsigned?s(this.low,this.high,!1):this};I.toUnsigned=function(){return this.unsigned?this:s(this.low,this.high,!0)};I.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};I.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]};I.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]};t.fromBytes=function(e,n,r){return r?t.fromBytesLE(e,n):t.fromBytesBE(e,n)};t.fromBytesLE=function(e,n){return new t(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)};t.fromBytesBE=function(e,n){return new t(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};var w=t;e.default=w;return"default"in e?e.default:e}({});n=[],void 0!==(r=function(){return i}.apply(t,n))&&(e.exports=r)},5830:(e,t,n)=>{"use strict";function r(e,t){return"object"!=typeof t||St(t).forEach((function(n){e[n]=t[n]})),e}function i(e,t){return Ct.call(e,t)}function o(e,t){"function"==typeof t&&(t=t(Tt(e))),("undefined"==typeof Reflect?St:Reflect.ownKeys)(t).forEach((n=>{s(e,n,t[n])}))}function s(e,t,n,o){It(e,t,r(n&&i(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},o))}function a(e){return{from:function(t){return e.prototype=Object.create(t.prototype),s(e.prototype,"constructor",e),{extend:o.bind(null,e.prototype)}}}}function c(e,t){let n;return wt(e,t)||(n=Tt(e))&&c(n,t)}function u(e,t,n){return Nt.call(e,t,n)}function l(e,t){return t(e)}function f(e){if(!e)throw new Error("Assertion Failed")}function d(e){Et.setImmediate?setImmediate(e):setTimeout(e,0)}function h(e,t){return e.reduce(((e,n,r)=>{var i=t(n,r);return i&&(e[i[0]]=i[1]),e}),{})}function p(e,t){if(i(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,o=t.length;r<o;++r){var s=p(e,t[r]);n.push(s)}return n}var a=t.indexOf(".");if(-1!==a){var c=e[t.substr(0,a)];return void 0===c?void 0:p(c,t.substr(a+1))}}function m(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){f("string"!=typeof n&&"length"in n);for(var r=0,o=t.length;r<o;++r)m(e,t[r],n[r])}else{var s=t.indexOf(".");if(-1!==s){var a=t.substr(0,s),c=t.substr(s+1);if(""===c)void 0===n?bt(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var u=e[a];u&&i(e,a)||(u=e[a]={}),m(u,c,n)}}else void 0===n?bt(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function g(e){var t={};for(var n in e)i(e,n)&&(t[n]=e[n]);return t}function y(e){return At.apply([],e)}function _(e){Lt="undefined"!=typeof WeakMap&&new WeakMap;const t=v(e);return Lt=null,t}function v(e){if(!e||"object"!=typeof e)return e;let t=Lt&&Lt.get(e);if(t)return t;if(bt(e)){t=[],Lt&&Lt.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(v(e[n]))}else if(Ot.indexOf(e.constructor)<0){const n=Tt(e);for(var o in t=n===Object.prototype?{}:Object.create(n),Lt&&Lt.set(e,t),e)i(e,o)&&(t[o]=v(e[o]))}else t=e;return t}function E(e){return Dt.call(e).slice(8,-1)}function S(e){var t,n,r,i;if(1===arguments.length){if(bt(e))return e.slice();if(this===kt&&"string"==typeof e)return[e];if(i=Pt(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}function b(e,t){Mt=e,Ut=t}function T(){if(Ft)try{throw T.arguments,new Error}catch(e){return e}return new Error}function C(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(Ut).map((e=>"\n"+e)).join("")):""}function I(e,t){this._e=T(),this.name=e,this.message=t}function w(e,t){return e+". Errors: "+Object.keys(t).map((e=>t[e].toString())).filter(((e,t,n)=>n.indexOf(e)===t)).join("\n")}function N(e,t,n,r){this._e=T(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=w(e,t)}function A(e,t){this._e=T(),this.name="BulkError",this.failures=Object.keys(t).map((e=>t[e])),this.failuresByPos=t,this.message=w(e,t)}function R(){}function O(e){return e}function L(e,t){return null==e||e===O?t:function(n){return t(e(n))}}function D(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function x(e,t){return e===R?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?D(r,this.onsuccess):r),i&&(this.onerror=this.onerror?D(i,this.onerror):i),void 0!==o?o:n}}function P(e,t){return e===R?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?D(n,this.onsuccess):n),r&&(this.onerror=this.onerror?D(r,this.onerror):r)}}function k(e,t){return e===R?t:function(n){var i=e.apply(this,arguments);r(n,i);var o=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?D(o,this.onsuccess):o),s&&(this.onerror=this.onerror?D(s,this.onerror):s),void 0===i?void 0===a?void 0:a:r(i,a)}}function B(e,t){return e===R?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function M(e,t){return e===R?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then((function(){return t.apply(r,o)}))}return t.apply(this,arguments)}}function U(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=R,this._lib=!1;var t=this._PSD=dn;if(Mt&&(this._stackHolder=T(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==Yt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&G(this,this._value))}this._state=null,this._value=null,++t.ref,j(this,e)}function F(e,t,n,r,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function j(e,t){try{t((t=>{if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&Y();t&&"function"==typeof t.then?j(e,((e,n)=>{t instanceof U?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,H(e)),n&&$()}}),G.bind(null,e))}catch(t){G(e,t)}}function G(e,t){if(cn.push(t),null===e._state){var n=e._lib&&Y();t=ln(t),e._state=!1,e._value=t,Mt&&null!==t&&"object"==typeof t&&!t._promise&&function(e){try{e.apply(null,void 0)}catch(e){}}((()=>{var n=c(t,"stack");t._promise=e,s(t,"stack",{get:()=>tn?n&&(n.get?n.get.apply(t):n.value):e.stack})})),function(e){an.some((t=>t._value===e._value))||an.push(e)}(e),H(e),n&&$()}}function H(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)V(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===pn&&(++pn,rn((()=>{0==--pn&&Q()}),[]))}function V(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++pn,rn(q,[n,e,t])}else e._listeners.push(t)}function q(e,t,n){try{un=t;var r,i=t._value;t._state?r=e(i):(cn.length&&(cn=[]),r=e(i),-1===cn.indexOf(i)&&function(e){for(var t=an.length;t;)if(an[--t]._value===e._value)return void an.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{un=null,0==--pn&&Q(),--n.psd.ref||n.psd.finalize()}}function W(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var i,o,s=e._value;null!=s?(i=s.name||"Error",o=s.message||s,r=C(s,0)):(i=s,o=""),t.push(i+(o?": "+o:"")+r)}return Mt&&((r=C(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&W(e._prev,t,n)),t}function K(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function z(){Y()&&$()}function Y(){var e=on;return on=!1,sn=!1,e}function $(){var e,t,n;do{for(;hn.length>0;)for(e=hn,hn=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(hn.length>0);on=!0,sn=!0}function Q(){var e=an;an=[],e.forEach((e=>{e._PSD.onunhandled.call(null,e._value,e)}));for(var t=mn.slice(0),n=t.length;n;)t[--n]()}function X(e){return new U(Yt,!1,e)}function J(e,t){var n=dn;return function(){var r=Y(),i=dn;try{return oe(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{oe(i,!1),r&&$()}}}function Z(e,t,n,i){var o=dn,s=Object.create(o);s.parent=o,s.ref=0,s.global=!1,s.id=++bn;var a=fn.env;s.env=en?{Promise:U,PromiseProp:{value:U,configurable:!0,writable:!0},all:U.all,race:U.race,allSettled:U.allSettled,any:U.any,resolve:U.resolve,reject:U.reject,nthen:le(a.nthen,s),gthen:le(a.gthen,s)}:{},t&&r(s,t),++o.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var c=ae(s,e,n,i);return 0===s.ref&&s.finalize(),c}function ee(){return yn.id||(yn.id=++_n),++yn.awaits,yn.echoes+=100,yn.id}function te(){return!!yn.awaits&&(0==--yn.awaits&&(yn.id=0),yn.echoes=100*yn.awaits,!0)}function ne(e){return yn.echoes&&e&&e.constructor===Zt?(ee(),e.then((e=>(te(),e)),(e=>(te(),Tn(e))))):e}function re(e){++Sn,yn.echoes&&0!=--yn.echoes||(yn.echoes=yn.id=0),vn.push(dn),oe(e,!0)}function ie(){var e=vn[vn.length-1];vn.pop(),oe(e,!1)}function oe(e,t){var n=dn;if((t?!yn.echoes||En++&&e===dn:!En||--En&&e===dn)||ce(t?re.bind(null,e):ie),e!==dn&&(dn=e,n===fn&&(fn.env=se()),en)){var r=fn.env.Promise,i=e.env;Qt.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(Et,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function se(){var e=Et.Promise;return en?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(Et,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Qt.then,gthen:e.prototype.then}:{}}function ae(e,t,n,r,i){var o=dn;try{return oe(e,!0),t(n,r,i)}finally{oe(o,!1)}}function ce(e){Jt.call($t,e)}function ue(e,t,n,r){return"function"!=typeof e?e:function(){var i=dn;n&&ee(),oe(t,!0);try{return e.apply(this,arguments)}finally{oe(i,!1),r&&ce(te)}}}function le(e,t){return function(n,r){return e.call(this,ue(n,t),ue(r,t))}}function fe(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var i,o={promise:t,reason:e};if(Et.document&&document.createEvent?((i=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),r(i,o)):Et.CustomEvent&&r(i=new CustomEvent("unhandledrejection",{detail:o}),o),i&&Et.dispatchEvent&&(dispatchEvent(i),!Et.PromiseRejectionEvent&&Et.onunhandledrejection))try{Et.onunhandledrejection(i)}catch(e){}Mt&&i&&i.defaultPrevented}catch(e){}}function de(e,t,n,r){if(e.idbdb&&(e._state.openComplete||dn.letThrough||e._vip)){var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(i){return i.name===Vt.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(e._close(),e.open().then((()=>de(e,t,n,r)))):Tn(i)}return i._promise(t,((e,t)=>Z((()=>(dn.trans=i,r(e,t,i)))))).then((e=>i._completion.then((()=>e))))}if(e._state.openComplete)return Tn(new Wt.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return Tn(new Wt.DatabaseClosed);e.open().catch(R)}return e._state.dbReadyPromise.then((()=>de(e,t,n,r)))}function he(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}function pe(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=_(t))[e],t)}function me(e){function t(e,t,o){if("object"==typeof e)return n(e);t||(t=B),o||(o=R);var s={subscribers:[],fire:o,subscribe:function(e){-1===s.subscribers.indexOf(e)&&(s.subscribers.push(e),s.fire=t(s.fire,e))},unsubscribe:function(e){s.subscribers=s.subscribers.filter((function(t){return t!==e})),s.fire=s.subscribers.reduce(t,o)}};return r[e]=i[e]=s,s}function n(e){St(e).forEach((function(n){var r=e[n];if(bt(r))t(n,e[n][0],e[n][1]);else{if("asap"!==r)throw new Wt.InvalidArgument("Invalid event config");var i=t(n,O,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];i.subscribers.forEach((function(e){d((function(){e.apply(null,t)}))}))}))}}))}var r={},i=function(t,n){if(n){for(var i=arguments.length,o=new Array(i-1);--i;)o[i-1]=arguments[i];return r[t].subscribe.apply(null,o),e}if("string"==typeof t)return r[t]};i.addEventType=t;for(var o=1,s=arguments.length;o<s;++o)t(arguments[o]);return i}function ge(e,t){return a(t).from({prototype:e}),t}function ye(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function _e(e,t){e.filter=he(e.filter,t)}function ve(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>he(r(),t()):t,e.justLimit=n&&!r}function Ee(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new Wt.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Se(e,t,n){const r=Ee(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function be(e,t,n,r){const o=e.replayFilter?he(e.filter,e.replayFilter()):e.filter;if(e.or){const s={},a=(e,n,r)=>{if(!o||o(n,r,(e=>n.stop(e)),(e=>n.fail(e)))){var a=n.primaryKey,c=""+a;"[object ArrayBuffer]"===c&&(c=""+new Uint8Array(a)),i(s,c)||(s[c]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(a,n),Te(Se(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return Te(Se(e,r,n),he(e.algorithm,o),t,!e.keysOnly&&e.valueMapper)}function Te(e,t,n,r){var i=J(r?(e,t,i)=>n(r(e),t,i):n);return e.then((e=>{if(e)return e.start((()=>{var n=()=>e.continue();t&&!t(e,(e=>n=e),(t=>{e.stop(t),n=R}),(t=>{e.fail(t),n=R}))||i(e.value,e,(e=>n=e)),n()}))}))}function Ce(e,t){try{const n=Ie(e),r=Ie(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){const n=e.length,r=t.length,i=n<r?n:r;for(let n=0;n<i;++n)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return n===r?0:n<r?-1:1}(we(e),we(t));case"Array":return function(e,t){const n=e.length,r=t.length,i=n<r?n:r;for(let n=0;n<i;++n){const r=Ce(e[n],t[n]);if(0!==r)return r}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function Ie(e){const t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";const n=E(e);return"ArrayBuffer"===n?"binary":n}function we(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}function Ne(e,t){return e<t?-1:e===t?0:1}function Ae(e,t){return e>t?-1:e===t?0:1}function Re(e,t,n){var r=e instanceof kn?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Oe(e){return new e.Collection(e,(()=>Pe(""))).limit(0)}function Le(e,t,n,r,i,o){for(var s=Math.min(e.length,r.length),a=-1,c=0;c<s;++c){var u=t[c];if(u!==r[c])return i(e[c],n[c])<0?e.substr(0,c)+n[c]+n.substr(c+1):i(e[c],r[c])<0?e.substr(0,c)+r[c]+n.substr(c+1):a<0?null:e.substr(0,a)+t[a]+n.substr(a+1);i(e[c],u)<0&&(a=c)}return s<r.length&&"next"===o?e+n.substr(e.length):s<e.length&&"prev"===o?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}function De(e,t,n,r){function i(e){o=function(e){return"next"===e?e=>e.toUpperCase():e=>e.toLowerCase()}(e),s=function(e){return"next"===e?e=>e.toLowerCase():e=>e.toUpperCase()}(e),a="next"===e?Ne:Ae;var t=n.map((function(e){return{lower:s(e),upper:o(e)}})).sort((function(e,t){return a(e.lower,t.lower)}));c=t.map((function(e){return e.upper})),u=t.map((function(e){return e.lower})),l=e,f="next"===e?"":r}var o,s,a,c,u,l,f,d=n.length;if(!n.every((e=>"string"==typeof e)))return Re(e,"String expected.");i("next");var h=new e.Collection(e,(()=>xe(c[0],u[d-1]+r)));h._ondirectionchange=function(e){i(e)};var p=0;return h._addAlgorithm((function(e,n,r){var i=e.key;if("string"!=typeof i)return!1;var o=s(i);if(t(o,u,p))return!0;for(var h=null,m=p;m<d;++m){var g=Le(i,o,c[m],u[m],a,l);null===g&&null===h?p=m+1:(null===h||a(h,g)>0)&&(h=g)}return n(null!==h?function(){e.continue(h+f)}:r),!1})),h}function xe(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Pe(e){return{type:1,lower:e,upper:e}}function ke(e){return J((function(t){return Be(t),e(t.target.error),!1}))}function Be(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}function Me(e,t,n,r,i,o,s){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:o,src:(n&&!s?"&":"")+(r?"*":"")+(i?"++":"")+Ue(t)}}function Ue(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function Fe(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:h(n,(e=>[e.name,e]))}}function je(e){return null==e?()=>{}:"string"==typeof e?function(e){return 1===e.split(".").length?t=>t[e]:t=>p(t,e)}(e):t=>p(t,e)}function Ge(e){return[].slice.call(e)}function He(e){return null==e?":id":"string"==typeof e?e:`[${e.join("+")}]`}function Ve(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:n,upper:r,lowerOpen:i,upperOpen:o}=e;return void 0===n?void 0===r?null:t.upperBound(r,!!o):void 0===r?t.lowerBound(n,!!i):t.bound(n,r,!!i,!!o)}const{schema:i,hasGetAll:o}=function(e,t){const n=Ge(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((e=>t.objectStore(e))).map((e=>{const{keyPath:t,autoIncrement:n}=e,r=bt(t),i=null==t,o={},s={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:i,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:je(t)},indexes:Ge(e.indexNames).map((t=>e.index(t))).map((e=>{const{name:t,unique:n,multiEntry:r,keyPath:i}=e,s={name:t,compound:bt(i),keyPath:i,unique:n,multiEntry:r,extractKey:je(i)};return o[He(i)]=s,s})),getIndexByKeyPath:e=>o[He(e)]};return o[":id"]=s.primaryKey,null!=t&&(o[He(t)]=s.primaryKey),s}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),s=i.tables.map((e=>function(e){const t=e.name;return{name:t,schema:e,mutate:function({trans:e,type:n,keys:i,values:o,range:s}){return new Promise((a=>{a=J(a);const c=e.objectStore(t),u=null==c.keyPath,l="put"===n||"add"===n;if(!l&&"delete"!==n&&"deleteRange"!==n)throw new Error("Invalid operation type: "+n);const{length:f}=i||o||{length:1};if(i&&o&&i.length!==o.length)throw new Error("Given keys array must have same length as given values array.");if(0===f)return a({numFailures:0,failures:{},results:[],lastResult:void 0});let d;const h=[],p=[];let m=0;const g=e=>{++m,Be(e)};if("deleteRange"===n){if(4===s.type)return a({numFailures:m,failures:p,results:[],lastResult:void 0});3===s.type?h.push(d=c.clear()):h.push(d=c.delete(r(s)))}else{const[e,t]=l?u?[o,i]:[o,null]:[i,null];if(l)for(let r=0;r<f;++r)h.push(d=t&&void 0!==t[r]?c[n](e[r],t[r]):c[n](e[r])),d.onerror=g;else for(let t=0;t<f;++t)h.push(d=c[n](e[t])),d.onerror=g}const y=e=>{const t=e.target.result;h.forEach(((e,t)=>null!=e.error&&(p[t]=e.error))),a({numFailures:m,failures:p,results:"delete"===n?i:h.map((e=>e.result)),lastResult:t})};d.onerror=e=>{g(e),y(e)},d.onsuccess=y}))},getMany:({trans:e,keys:n})=>new Promise(((r,i)=>{r=J(r);const o=e.objectStore(t),s=n.length,a=new Array(s);let c,u=0,l=0;const f=e=>{const t=e.target;a[t._pos]=t.result,++l===u&&r(a)},d=ke(i);for(let e=0;e<s;++e)null!=n[e]&&(c=o.get(n[e]),c._pos=e,c.onsuccess=f,c.onerror=d,++u);0===u&&r(a)})),get:({trans:e,key:n})=>new Promise(((r,i)=>{r=J(r);const o=e.objectStore(t).get(n);o.onsuccess=e=>r(e.target.result),o.onerror=ke(i)})),query:function(e){return n=>new Promise(((i,o)=>{i=J(i);const{trans:s,values:a,limit:c,query:u}=n,l=c===1/0?void 0:c,{index:f,range:d}=u,h=s.objectStore(t),p=f.isPrimaryKey?h:h.index(f.name),m=r(d);if(0===c)return i({result:[]});if(e){const e=a?p.getAll(m,l):p.getAllKeys(m,l);e.onsuccess=e=>i({result:e.target.result}),e.onerror=ke(o)}else{let e=0;const t=a||!("openKeyCursor"in p)?p.openCursor(m):p.openKeyCursor(m),n=[];t.onsuccess=()=>{const r=t.result;return r?(n.push(a?r.value:r.primaryKey),++e===c?i({result:n}):void r.continue()):i({result:n})},t.onerror=ke(o)}}))}(o),openCursor:function({trans:e,values:n,query:i,reverse:o,unique:s}){return new Promise(((a,c)=>{a=J(a);const{index:u,range:l}=i,f=e.objectStore(t),d=u.isPrimaryKey?f:f.index(u.name),h=o?s?"prevunique":"prev":s?"nextunique":"next",p=n||!("openKeyCursor"in d)?d.openCursor(r(l),h):d.openKeyCursor(r(l),h);p.onerror=ke(c),p.onsuccess=J((()=>{const t=p.result;if(!t)return void a(null);t.___id=++Fn,t.done=!1;const n=t.continue.bind(t);let r=t.continuePrimaryKey;r&&(r=r.bind(t));const i=t.advance.bind(t),o=()=>{throw new Error("Cursor not stopped")};t.trans=e,t.stop=t.continue=t.continuePrimaryKey=t.advance=()=>{throw new Error("Cursor not started")},t.fail=J(c),t.next=function(){let e=1;return this.start((()=>e--?this.continue():this.stop())).then((()=>this))},t.start=e=>{const s=new Promise(((e,n)=>{e=J(e),p.onerror=ke(n),t.fail=n,t.stop=n=>{t.stop=t.continue=t.continuePrimaryKey=t.advance=o,e(n)}})),a=()=>{if(p.result)try{e()}catch(e){t.fail(e)}else t.done=!0,t.start=()=>{throw new Error("Cursor behind last entry")},t.stop()};return p.onsuccess=J((()=>{p.onsuccess=a,a()})),t.continue=n,t.continuePrimaryKey=r,t.advance=i,a(),s},a(t)}),c)}))},count({query:e,trans:n}){const{index:i,range:o}=e;return new Promise(((e,s)=>{const a=n.objectStore(t),c=i.isPrimaryKey?a:a.index(i.name),u=r(o),l=u?c.count(u):c.count();l.onsuccess=J((t=>e(t.target.result))),l.onerror=ke(s)}))}}}(e))),a={};return s.forEach((e=>a[e.name]=e)),{stack:"dbcore",transaction:e.transaction.bind(e),table(e){if(!a[e])throw new Error(`Table '${e}' not found`);return a[e]},MIN_KEY:-1/0,MAX_KEY:Un(t),schema:i}}function qe({_novip:e},t){const n=t.db,r=function(e,t,{IDBKeyRange:n,indexedDB:r},i){const o=function(e,t){return t.reduce(((e,{create:t})=>({...e,...t(e)})),e)}(Ve(t,n,i),e.dbcore);return{dbcore:o}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach((t=>{const n=t.name;e.core.schema.tables.some((e=>e.name===n))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function We({_novip:e},t,n,r){n.forEach((n=>{const i=r[n];t.forEach((t=>{const r=c(t,n);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?s(t,n,{get(){return this.table(n)},set(e){It(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,i))}))}))}function Ke({_novip:e},t){t.forEach((t=>{for(let n in t)t[n]instanceof e.Table&&delete t[n]}))}function ze(e,t){return e._cfg.version-t._cfg.version}function Ye(e,t,n,r){const i=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,i);o.create(n),o._completion.catch(r);const s=o._reject.bind(o),a=dn.transless||dn;Z((()=>{dn.trans=o,dn.transless=a,0===t?(St(i).forEach((e=>{Qe(n,e,i[e].primKey,i[e].indexes)})),qe(e,n),U.follow((()=>e.on.populate.fire(o))).catch(s)):function({_novip:e},t,n,r){const i=[],o=e._versions;let s=e._dbSchema=Je(0,e.idbdb,r),a=!1;return o.filter((e=>e._cfg.version>=t)).forEach((o=>{i.push((()=>{const i=s,c=o._cfg.dbschema;Ze(e,i,r),Ze(e,c,r),s=e._dbSchema=c;const u=$e(i,c);u.add.forEach((e=>{Qe(r,e[0],e[1].primKey,e[1].indexes)})),u.change.forEach((e=>{if(e.recreate)throw new Wt.Upgrade("Not yet support for changing primary key");{const t=r.objectStore(e.name);e.add.forEach((e=>Xe(t,e))),e.change.forEach((e=>{t.deleteIndex(e.name),Xe(t,e)})),e.del.forEach((e=>t.deleteIndex(e)))}}));const l=o._cfg.contentUpgrade;if(l&&o._cfg.version>t){qe(e,r),n._memoizedTables={},a=!0;let t=g(c);u.del.forEach((e=>{t[e]=i[e]})),Ke(e,[e.Transaction.prototype]),We(e,[e.Transaction.prototype],St(t),t),n.schema=t;const o=Bt(l);let s;o&&ee();const f=U.follow((()=>{if(s=l(n),s&&o){var e=te.bind(null,null);s.then(e,e)}}));return s&&"function"==typeof s.then?U.resolve(s):f.then((()=>s))}})),i.push((t=>{a&&An||function(e,t){[].slice.call(t.db.objectStoreNames).forEach((n=>null==e[n]&&t.db.deleteObjectStore(n)))}(o._cfg.dbschema,t);Ke(e,[e.Transaction.prototype]),We(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),n.schema=e._dbSchema}))})),function e(){return i.length?U.resolve(i.shift()(n.idbtrans)).then(e):U.resolve()}().then((()=>{var e,t;t=r,St(e=s).forEach((n=>{t.db.objectStoreNames.contains(n)||Qe(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,o,n).catch(s)}))}function $e(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const i=e[r],o=t[r];if(i){const e={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!Nn)e.recreate=!0,n.change.push(e);else{const t=i.idxByName,r=o.idxByName;let s;for(s in t)r[s]||e.del.push(s);for(s in r){const n=t[s],i=r[s];n?n.src!==i.src&&e.change.push(i):e.add.push(i)}(e.del.length>0||e.add.length>0||e.change.length>0)&&n.change.push(e)}}else n.add.push([r,o])}return n}function Qe(e,t,n,r){const i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((e=>Xe(i,e))),i}function Xe(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Je(e,t,n){const r={};return u(t.objectStoreNames,0).forEach((e=>{const t=n.objectStore(e);let i=t.keyPath;const o=Me(Ue(i),i||"",!1,!1,!!t.autoIncrement,i&&"string"!=typeof i,!0),s=[];for(let e=0;e<t.indexNames.length;++e){const n=t.index(t.indexNames[e]);i=n.keyPath;var a=Me(n.name,i,!!n.unique,!!n.multiEntry,!1,i&&"string"!=typeof i,!1);s.push(a)}r[e]=Fe(e,o,s)})),r}function Ze({_novip:e},t,n){const r=n.db.objectStoreNames;for(let i=0;i<r.length;++i){const o=r[i],s=n.objectStore(o);e._hasGetAll="getAll"in s;for(let e=0;e<s.indexNames.length;++e){const n=s.indexNames[e],r=s.index(n).keyPath,i="string"==typeof r?r:"["+u(r).join("+")+"]";if(t[o]){const e=t[o].idxByName[i];e&&(e.name=n,delete t[o].idxByName[i],t[o].idxByName[n]=e)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Et.WorkerGlobalScope&&Et instanceof Et.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function et(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new Kn("__dbnames",{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function tt(e){return e&&"function"==typeof e.databases}function nt(e){return Z((function(){return dn.letThrough=!0,e()}))}function rt(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function it(e){function t(e){return t=>{var n=e(t),o=n.value;return n.done?o:o&&"function"==typeof o.then?o.then(r,i):bt(o)?Promise.all(o).then(r,i):r(o)}}var n=t=>e.next(t),r=t(n),i=t((t=>e.throw(t)));return t(n)()}function ot(e,t,n){var r=arguments.length;if(r<2)throw new Wt.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();return[e,y(i),n]}function st(e,t,n,r,i){return U.resolve().then((()=>{const o=dn.transless||dn,s=e._createTransaction(t,n,e._dbSchema,r),a={trans:s,transless:o};if(r)s.idbtrans=r.idbtrans;else try{s.create(),e._state.PR1398_maxLoop=3}catch(r){return r.name===Vt.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(e._close(),e.open().then((()=>st(e,t,n,null,i)))):Tn(r)}const c=Bt(i);let u;c&&ee();const l=U.follow((()=>{if(u=i.call(s,s),u)if(c){var e=te.bind(null,null);u.then(e,e)}else"function"==typeof u.next&&"function"==typeof u.throw&&(u=it(u))}),a);return(u&&"function"==typeof u.then?U.resolve(u).then((e=>s.active?e:Tn(new Wt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):l.then((()=>u))).then((e=>(r&&s._resolve(),s._completion.then((()=>e))))).catch((e=>(s._reject(e),Tn(e))))}))}function at(e,t,n){const r=bt(e)?e.slice():[e];for(let e=0;e<n;++e)r.push(t);return r}function ct(e,t,n,r){return n=n||{},r=r||"",St(e).forEach((o=>{if(i(t,o)){var s=e[o],a=t[o];if("object"==typeof s&&"object"==typeof a&&s&&a){const e=E(s);e!==E(a)?n[r+o]=t[o]:"Object"===e?ct(s,a,n,r+o+"."):s!==a&&(n[r+o]=t[o])}else s!==a&&(n[r+o]=t[o])}else n[r+o]=void 0})),St(t).forEach((o=>{i(e,o)||(n[r+o]=t[o])})),n}function ut(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;const r=[];for(let i=0,o=0;i<t.keys.length&&o<e.length;++i)0===Ce(t.keys[i],e[o])&&(r.push(n?_(t.values[i]):t.values[i]),++o);return r.length===e.length?r:null}catch(e){return null}}function lt(e){return!("from"in e)}function ft(e,t,n){const i=Ce(t,n);if(isNaN(i))return;if(i>0)throw RangeError();if(lt(e))return r(e,{from:t,to:n,d:1});const o=e.l,s=e.r;if(Ce(n,e.from)<0)return o?ft(o,t,n):e.l={from:t,to:n,d:1,l:null,r:null},mt(e);if(Ce(t,e.to)>0)return s?ft(s,t,n):e.r={from:t,to:n,d:1,l:null,r:null},mt(e);Ce(t,e.from)<0&&(e.from=t,e.l=null,e.d=s?s.d+1:1),Ce(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const a=!e.r;o&&!e.l&&dt(e,o),s&&a&&dt(e,s)}function dt(e,t){lt(t)||function e(t,{from:n,to:r,l:i,r:o}){ft(t,n,r),i&&e(t,i),o&&e(t,o)}(e,t)}function ht(e,t){const n=pt(t);let r=n.next();if(r.done)return!1;let i=r.value;const o=pt(e);let s=o.next(i.from),a=s.value;for(;!r.done&&!s.done;){if(Ce(a.from,i.to)<=0&&Ce(a.to,i.from)>=0)return!0;Ce(i.from,a.from)<0?i=(r=n.next(a.from)).value:a=(s=o.next(i.from)).value}return!1}function pt(e){let t=lt(e)?null:{s:0,n:e};return{next(e){const n=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&Ce(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||Ce(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function mt(e){var t,n;const r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const t="r"===i?"l":"r",n={...e},r=e[i];e.from=r.from,e.to=r.to,e[i]=r[i],n[i]=r[t],e[t]=n,n.d=gt(n)}e.d=gt(e)}function gt({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}function yt(e,t){return St(t).forEach((n=>{dt(e[n]||(e[n]=new qn),t[n])})),e}function _t(e){return new Yn((t=>{function n(){return St(s).some((e=>o[e]&&ht(o[e],s[e])))}const r=Bt(e);let i=!1,o={},s={};const a={get closed(){return i},unsubscribe:()=>{i=!0,Bn.storagemutated.unsubscribe(l)}};t.start&&t.start(a);let c=!1,u=!1;const l=e=>{yt(o,e),n()&&f()},f=()=>{if(c||i)return;o={};const d={},h=function(t){r&&ee();const n=()=>Z(e,{subscr:t,trans:null}),i=dn.trans?ae(dn.transless,n):n();return r&&i.then(te,te),i}(d);u||(Bn("storagemutated",l),u=!0),c=!0,Promise.resolve(h).then((e=>{c=!1,i||(n()?f():(o={},s=d,t.next&&t.next(e)))}),(e=>{c=!1,t.error&&t.error(e),a.unsubscribe()}))};return f(),a}))}function vt(e){let t=Xn;try{Xn=!0,Bn.storagemutated.fire(e)}finally{Xn=t}}n.r(t);n.d(t,{Dexie:()=>Kn,RangeSet:()=>qn,default:()=>Kn,liveQuery:()=>_t,mergeRanges:()=>dt,rangesOverlap:()=>ht});const Et="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,St=Object.keys,bt=Array.isArray;"undefined"==typeof Promise||Et.Promise||(Et.Promise=Promise);const Tt=Object.getPrototypeOf,Ct={}.hasOwnProperty,It=Object.defineProperty,wt=Object.getOwnPropertyDescriptor,Nt=[].slice,At=[].concat,Rt="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(y([8,16,32,64].map((e=>["Int","Uint","Float"].map((t=>t+e+"Array")))))).filter((e=>Et[e])),Ot=Rt.map((e=>Et[e]));h(Rt,(e=>[e,!0]));let Lt=null;const{toString:Dt}={},xt="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",Pt="symbol"==typeof xt?function(e){var t;return null!=e&&(t=e[xt])&&t.apply(e)}:function(){return null},kt={},Bt="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var Mt="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href),Ut=()=>!0;const Ft=!new Error("").stack;var jt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Gt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(jt),Ht={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};a(I).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+C(this._e,2))}},toString:function(){return this.name+": "+this.message}}),a(N).from(I),a(A).from(I);var Vt=Gt.reduce(((e,t)=>(e[t]=t+"Error",e)),{});const qt=I;var Wt=Gt.reduce(((e,t)=>{function n(e,n){this._e=T(),this.name=r,e?"string"==typeof e?(this.message=`${e}${n?"\n "+n:""}`,this.inner=n||null):"object"==typeof e&&(this.message=`${e.name} ${e.message}`,this.inner=e):(this.message=Ht[t]||r,this.inner=null)}var r=t+"Error";return a(n).from(qt),e[t]=n,e}),{});Wt.Syntax=SyntaxError,Wt.Type=TypeError,Wt.Range=RangeError;var Kt=jt.reduce(((e,t)=>(e[t+"Error"]=Wt[t],e)),{}),zt=Gt.reduce(((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=Wt[t]),e)),{});zt.ModifyError=N,zt.DexieError=I,zt.BulkError=A;var Yt={};const[$t,Qt,Xt]="undefined"==typeof Promise?[]:(()=>{let e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,Tt(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Tt(t),e]})(),Jt=Qt&&Qt.then,Zt=$t&&$t.constructor,en=!!Xt;var tn=!1,nn=Xt?()=>{Xt.then(z)}:Et.setImmediate?setImmediate.bind(null,z):Et.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver((()=>{z(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(z,0)},rn=function(e,t){hn.push([e,t]),sn&&(nn(),sn=!1)},on=!0,sn=!0,an=[],cn=[],un=null,ln=O,fn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:fe,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((e=>{try{fe(e[0],e[1])}catch(e){}}))}},dn=fn,hn=[],pn=0,mn=[];const gn={get:function(){function e(e,r){var i=!t.global&&(t!==dn||n!==Sn);const o=i&&!te();var s=new U(((n,s)=>{V(this,new F(ue(e,t,i,o),ue(r,t,i,o),n,s,t))}));return Mt&&K(s,this),s}var t=dn,n=Sn;return e.prototype=Yt,e},set:function(e){s(this,"then",e&&e.prototype===Yt?gn:{get:function(){return e},set:gn.set})}};o(U.prototype,{then:gn,_then:function(e,t){V(this,new F(null,null,e,t,dn))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(e=>e instanceof t?n(e):X(e))):this.then(null,(e=>e&&e.name===t?n(e):X(e)))},finally:function(e){return this.then((t=>(e(),t)),(t=>(e(),X(t))))},stack:{get:function(){if(this._stack)return this._stack;try{tn=!0;var e=W(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{tn=!1}}},timeout:function(e,t){return e<1/0?new U(((n,r)=>{var i=setTimeout((()=>r(new Wt.Timeout(t))),e);this.then(n,r).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&s(U.prototype,Symbol.toStringTag,"Dexie.Promise"),fn.env=se(),o(U,{all:function(){var e=S.apply(null,arguments).map(ne);return new U((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach(((i,o)=>U.resolve(i).then((n=>{e[o]=n,--r||t(e)}),n)))}))},resolve:e=>{if(e instanceof U)return e;if(e&&"function"==typeof e.then)return new U(((t,n)=>{e.then(t,n)}));var t=new U(Yt,!0,e);return K(t,un),t},reject:X,race:function(){var e=S.apply(null,arguments).map(ne);return new U(((t,n)=>{e.map((e=>U.resolve(e).then(t,n)))}))},PSD:{get:()=>dn,set:e=>dn=e},totalEchoes:{get:()=>Sn},newPSD:Z,usePSD:ae,scheduler:{get:()=>rn,set:e=>{rn=e}},rejectionMapper:{get:()=>ln,set:e=>{ln=e}},follow:(e,t)=>new U(((n,r)=>Z(((t,n)=>{var r=dn;r.unhandleds=[],r.onunhandled=n,r.finalize=D((function(){!function(e){mn.push((function t(){e(),mn.splice(mn.indexOf(t),1)})),++pn,rn((()=>{0==--pn&&Q()}),[])}((()=>{0===this.unhandleds.length?t():n(this.unhandleds[0])}))}),r.finalize),e()}),t,n,r)))}),Zt&&(Zt.allSettled&&s(U,"allSettled",(function(){const e=S.apply(null,arguments).map(ne);return new U((t=>{0===e.length&&t([]);let n=e.length;const r=new Array(n);e.forEach(((e,i)=>U.resolve(e).then((e=>r[i]={status:"fulfilled",value:e}),(e=>r[i]={status:"rejected",reason:e})).then((()=>--n||t(r)))))}))})),Zt.any&&"undefined"!=typeof AggregateError&&s(U,"any",(function(){const e=S.apply(null,arguments).map(ne);return new U(((t,n)=>{0===e.length&&n(new AggregateError([]));let r=e.length;const i=new Array(r);e.forEach(((e,o)=>U.resolve(e).then((e=>t(e)),(e=>{i[o]=e,--r||n(new AggregateError(i))}))))}))})));const yn={awaits:0,echoes:0,id:0};var _n=0,vn=[],En=0,Sn=0,bn=0;-1===(""+Jt).indexOf("[native code]")&&(ee=te=R);var Tn=U.reject;const Cn=String.fromCharCode(65535),In="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",wn=[],Nn="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),An=Nn,Rn=Nn,On=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),Ln={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};class Dn{_trans(e,t,n){function r(e,n,r){if(!r.schema[o])throw new Wt.NotFound("Table "+o+" not part of transaction");return t(r.idbtrans,r)}const i=this._tx||dn.trans,o=this.name,s=Y();try{return i&&i.db===this.db?i===dn.trans?i._promise(e,r,n):Z((()=>i._promise(e,r,n)),{trans:i,transless:dn.transless||dn}):de(this.db,e,[this.name],r)}finally{s&&$()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(t=>this.core.get({trans:t,key:e}).then((e=>this.hook.reading.fire(e))))).then(t)}where(e){function t(e,t){try{return 0===o.cmp(e,t)}catch(e){return!1}}if("string"==typeof e)return new this.db.WhereClause(this,e);if(bt(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const n=St(e);if(1===n.length)return this.where(n[0]).equals(e[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter((e=>e.compound&&n.every((t=>e.keyPath.indexOf(t)>=0))&&e.keyPath.every((e=>n.indexOf(e)>=0))))[0];if(r&&this.db._maxKey!==Cn)return this.where(r.name).equals(r.keyPath.map((t=>e[t])));const{idxByName:i}=this.schema,o=this.db._deps.indexedDB,[s,a]=n.reduce((([n,r],o)=>{const s=i[o],a=e[o];return[n||s,n||!s?he(r,s&&s.multi?e=>{const n=p(e,o);return bt(n)&&n.some((e=>t(a,e)))}:e=>t(a,p(e,o))):r]}),[null,null]);return s?this.where(s.name).equals(e[s.keyPath]).filter(a):r?this.filter(a):this.where(n).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,bt(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const t=t=>{if(!t)return t;const n=Object.create(e.prototype);for(var r in t)if(i(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}defineClass(){return this.mapToClass((function(e){r(this,e)}))}add(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let i=e;return r&&n&&(i=pe(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[i]}))).then((e=>e.numFailures?U.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{m(e,r,t)}catch(e){}return t}))}update(e,t){if("object"!=typeof e||bt(e))return this.where(":id").equals(e).modify(t);{const n=p(e,this.schema.primKey.keyPath);if(void 0===n)return Tn(new Wt.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?St(t).forEach((n=>{m(e,n,t[n])})):t(e,{value:e,primKey:n})}catch(e){}return this.where(":id").equals(n).modify(t)}}put(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let i=e;return r&&n&&(i=pe(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"put",values:[i],keys:null!=t?[t]:null}))).then((e=>e.numFailures?U.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{m(e,r,t)}catch(e){}return t}))}delete(e){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:[e]}))).then((e=>e.numFailures?U.reject(e.failures[0]):void 0))}clear(){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"deleteRange",range:Ln}))).then((e=>e.numFailures?U.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans("readonly",(t=>this.core.getMany({keys:e,trans:t}).then((e=>e.map((e=>this.hook.reading.fire(e)))))))}bulkAdd(e,t,n){const r=Array.isArray(t)?t:void 0,i=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:o}=this.schema.primKey;if(o&&r)throw new Wt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new Wt.InvalidArgument("Arguments objects and keys must have the same length");const s=e.length;let a=o&&n?e.map(pe(o)):e;return this.core.mutate({trans:t,type:"add",keys:r,values:a,wantResults:i}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return i?t:n;throw new A(`${this.name}.bulkAdd(): ${e} of ${s} operations failed`,r)}))}))}bulkPut(e,t,n){const r=Array.isArray(t)?t:void 0,i=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:o}=this.schema.primKey;if(o&&r)throw new Wt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new Wt.InvalidArgument("Arguments objects and keys must have the same length");const s=e.length;let a=o&&n?e.map(pe(o)):e;return this.core.mutate({trans:t,type:"put",keys:r,values:a,wantResults:i}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return i?t:n;throw new A(`${this.name}.bulkPut(): ${e} of ${s} operations failed`,r)}))}))}bulkDelete(e){const t=e.length;return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:e}))).then((({numFailures:e,lastResult:n,failures:r})=>{if(0===e)return n;throw new A(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`,r)}))}}class xn{_read(e,t){var n=this._ctx;return n.error?n.table._trans(null,Tn.bind(null,n.error)):n.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,Tn.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=he(t.algorithm,e)}_iterate(e,t){return be(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&r(n,e),t._ctx=n,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read((n=>be(t,e,n,t.table.core)))}count(e){return this._read((e=>{const t=this._ctx,n=t.table.core;if(ye(t,!0))return n.count({trans:e,query:{index:Ee(t,n.schema),range:t.range}}).then((e=>Math.min(e,t.limit)));var r=0;return be(t,(()=>(++r,!1)),e,n).then((()=>r))})).then(e)}sortBy(e,t){function n(e,t){return t?n(e[i[t]],t-1):e[o]}function r(e,t){var r=n(e,s),i=n(t,s);return r<i?-a:r>i?a:0}const i=e.split(".").reverse(),o=i[0],s=i.length-1;var a="next"===this._ctx.dir?1:-1;return this.toArray((function(e){return e.sort(r)})).then(t)}toArray(e){return this._read((e=>{var t=this._ctx;if("next"===t.dir&&ye(t,!0)&&t.limit>0){const{valueMapper:n}=t,r=Ee(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:r,range:t.range}}).then((({result:e})=>n?e.map(n):e))}{const n=[];return be(t,(e=>n.push(e)),e,t.table.core).then((()=>n))}}),e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,ye(t)?ve(t,(()=>{var t=e;return(e,n)=>0===t||(1===t?(--t,!1):(n((()=>{e.advance(t),t=0})),!1))})):ve(t,(()=>{var t=e;return()=>--t<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),ve(this._ctx,(()=>{var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this}until(e,t){return _e(this._ctx,(function(n,r,i){return!e(n.value)||(r(i),t)})),this}first(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,n;return _e(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=he(t.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&ye(t,!0)&&t.limit>0)return this._read((e=>{var n=Ee(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((({result:e})=>e)).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return _e(this._ctx,(function(e){var t=e.primaryKey.toString(),r=i(n,t);return n[t]=!0,!r})),this}modify(e){var t=this._ctx;return this._write((n=>{var r;if("function"==typeof e)r=e;else{var i=St(e),o=i.length;r=function(t){for(var n=!1,r=0;r<o;++r){var s=i[r],a=e[s];p(t,s)!==a&&(m(t,s,a),n=!0)}return n}}const s=t.table.core,{outbound:a,extractKey:c}=s.schema.primaryKey,u=this.db._options.modifyChunkSize||200,l=[];let f=0;const d=[],h=(e,t)=>{const{failures:n,numFailures:r}=t;f+=e-r;for(let e of St(n))l.push(n[e])};return this.clone().primaryKeys().then((i=>{const o=l=>{const f=Math.min(u,i.length-l);return s.getMany({trans:n,keys:i.slice(l,l+f),cache:"immutable"}).then((d=>{const p=[],m=[],g=a?[]:null,y=[];for(let e=0;e<f;++e){const t=d[e],n={value:_(t),primKey:i[l+e]};!1!==r.call(n,n.value,n)&&(null==n.value?y.push(i[l+e]):a||0===Ce(c(t),c(n.value))?(m.push(n.value),a&&g.push(i[l+e])):(y.push(i[l+e]),p.push(n.value)))}const v=ye(t)&&t.limit===1/0&&("function"!=typeof e||e===Pn)&&{index:t.index,range:t.range};return Promise.resolve(p.length>0&&s.mutate({trans:n,type:"add",values:p}).then((e=>{for(let t in e.failures)y.splice(parseInt(t),1);h(p.length,e)}))).then((()=>(m.length>0||v&&"object"==typeof e)&&s.mutate({trans:n,type:"put",keys:g,values:m,criteria:v,changeSpec:"function"!=typeof e&&e}).then((e=>h(m.length,e))))).then((()=>(y.length>0||v&&e===Pn)&&s.mutate({trans:n,type:"delete",keys:y,criteria:v}).then((e=>h(y.length,e))))).then((()=>i.length>l+f&&o(l+u)))}))};return o(0).then((()=>{if(l.length>0)throw new N("Error modifying one or more objects",l,f,d);return i.length}))}))}))}delete(){var e=this._ctx,t=e.range;return ye(e)&&(e.isPrimKey&&!Rn||3===t.type)?this._write((n=>{const{primaryKey:r}=e.table.core.schema,i=t;return e.table.core.count({trans:n,query:{index:r,range:i}}).then((t=>e.table.core.mutate({trans:n,type:"deleteRange",range:i}).then((({failures:e,lastResult:n,results:r,numFailures:i})=>{if(i)throw new N("Could not delete some values",Object.keys(e).map((t=>e[t])),t-i);return t-i}))))})):this.modify(Pn)}}const Pn=(e,t)=>t.value=null;class kn{get Collection(){return this._ctx.table.db.Collection}between(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)<=0&&(0!==this._cmp(e,t)||!n&&!r||n&&r)?new this.Collection(this,(()=>xe(e,t,!n,!r))):Oe(this)}catch(e){return Re(this,In)}}equals(e){return null==e?Re(this,In):new this.Collection(this,(()=>Pe(e)))}above(e){return null==e?Re(this,In):new this.Collection(this,(()=>xe(e,void 0,!0)))}aboveOrEqual(e){return null==e?Re(this,In):new this.Collection(this,(()=>xe(e,void 0,!1)))}below(e){return null==e?Re(this,In):new this.Collection(this,(()=>xe(void 0,e,!1,!0)))}belowOrEqual(e){return null==e?Re(this,In):new this.Collection(this,(()=>xe(void 0,e)))}startsWith(e){return"string"!=typeof e?Re(this,"String expected."):this.between(e,e+Cn,!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):De(this,((e,t)=>0===e.indexOf(t[0])),[e],Cn)}equalsIgnoreCase(e){return De(this,((e,t)=>e===t[0]),[e],"")}anyOfIgnoreCase(){var e=S.apply(kt,arguments);return 0===e.length?Oe(this):De(this,((e,t)=>-1!==t.indexOf(e)),e,"")}startsWithAnyOfIgnoreCase(){var e=S.apply(kt,arguments);return 0===e.length?Oe(this):De(this,((e,t)=>t.some((t=>0===e.indexOf(t)))),e,Cn)}anyOf(){const e=S.apply(kt,arguments);let t=this._cmp;try{e.sort(t)}catch(e){return Re(this,In)}if(0===e.length)return Oe(this);const n=new this.Collection(this,(()=>xe(e[0],e[e.length-1])));n._ondirectionchange=n=>{t="next"===n?this._ascending:this._descending,e.sort(t)};let r=0;return n._addAlgorithm(((n,i,o)=>{const s=n.key;for(;t(s,e[r])>0;)if(++r,r===e.length)return i(o),!1;return 0===t(s,e[r])||(i((()=>{n.continue(e[r])})),!1)})),n}notEqual(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=S.apply(kt,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return Re(this,In)}const t=e.reduce(((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){function n(e,t){return f(e[0],t[0])}const r=this._cmp,i=this._ascending,o=this._descending,s=this._min,a=this._max;if(0===e.length)return Oe(this);if(!e.every((e=>void 0!==e[0]&&void 0!==e[1]&&i(e[0],e[1])<=0)))return Re(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Wt.InvalidArgument);const c=!t||!1!==t.includeLowers,u=t&&!0===t.includeUppers;let l,f=i;try{l=e.reduce((function(e,t){let n=0,i=e.length;for(;n<i;++n){const i=e[n];if(r(t[0],i[1])<0&&r(t[1],i[0])>0){i[0]=s(i[0],t[0]),i[1]=a(i[1],t[1]);break}}return n===i&&e.push(t),e}),[]),l.sort(n)}catch(e){return Re(this,In)}let d=0;const h=u?e=>i(e,l[d][1])>0:e=>i(e,l[d][1])>=0,p=c?e=>o(e,l[d][0])>0:e=>o(e,l[d][0])>=0;let m=h;const g=new this.Collection(this,(()=>xe(l[0][0],l[l.length-1][1],!c,!u)));return g._ondirectionchange=e=>{"next"===e?(m=h,f=i):(m=p,f=o),l.sort(n)},g._addAlgorithm(((e,t,n)=>{for(var r=e.key;m(r);)if(++d,d===l.length)return t(n),!1;return!!function(e){return!h(e)&&!p(e)}(r)||(0===this._cmp(r,l[d][1])||0===this._cmp(r,l[d][0])||t((()=>{f===i?e.continue(l[d][0]):e.continue(l[d][1])})),!1)})),g}startsWithAnyOf(){const e=S.apply(kt,arguments);return e.every((e=>"string"==typeof e))?0===e.length?Oe(this):this.inAnyRange(e.map((e=>[e,e+Cn]))):Re(this,"startsWithAnyOf() only works with strings")}}const Bn=me(null,"storagemutated");class Mn{_lock(){return f(!dn.global),++this._reculock,1!==this._reculock||dn.global||(dn.lockOwnerFor=this),this}_unlock(){if(f(!dn.global),0==--this._reculock)for(dn.global||(dn.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{ae(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&dn.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,n=this.db._state.dbOpenError;if(f(!this.idbtrans),!e&&!t)switch(n&&n.name){case"DatabaseClosedError":throw new Wt.DatabaseClosed(n);case"MissingAPIError":throw new Wt.MissingAPI(n.message,n);default:throw new Wt.OpenFailed(n)}if(!this.active)throw new Wt.TransactionInactive;return f(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=J((t=>{Be(t),this._reject(e.error)})),e.onabort=J((t=>{Be(t),this.active&&this._reject(new Wt.Abort(e.error)),this.active=!1,this.on("abort").fire(t)})),e.oncomplete=J((()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&Bn.storagemutated.fire(e.mutatedParts)})),this}_promise(e,t,n){if("readwrite"===e&&"readwrite"!==this.mode)return Tn(new Wt.ReadOnly("Transaction is readonly"));if(!this.active)return Tn(new Wt.TransactionInactive);if(this._locked())return new U(((r,i)=>{this._blockedFuncs.push([()=>{this._promise(e,t,n).then(r,i)},dn])}));if(n)return Z((()=>{var e=new U(((e,n)=>{this._lock();const r=t(e,n,this);r&&r.then&&r.then(e,n)}));return e.finally((()=>this._unlock())),e._lib=!0,e}));var r=new U(((e,n)=>{var r=t(e,n,this);r&&r.then&&r.then(e,n)}));return r._lib=!0,r}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const n=U.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((()=>n));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var i=t._waitingFor;return new U(((e,r)=>{n.then((n=>t._waitingQueue.push(J(e.bind(null,n)))),(e=>t._waitingQueue.push(J(r.bind(null,e))))).finally((()=>{t._waitingFor===i&&(t._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Wt.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(i(t,e))return t[e];const n=this.schema[e];if(!n)throw new Wt.NotFound("Table "+e+" not part of transaction");const r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r}}let Un=e=>{try{return e.only([[]]),Un=()=>[[]],[[]]}catch(e){return Un=()=>Cn,Cn}},Fn=0;class jn{_parseStoresSpec(e,t){St(e).forEach((n=>{if(null!==e[n]){var r=e[n].split(",").map(((e,t)=>{const n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Me(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),bt(r),0===t)})),i=r.shift();if(i.multi)throw new Wt.Schema("Primary key cannot be multi-valued");r.forEach((e=>{if(e.auto)throw new Wt.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new Wt.Schema("Index must have a name and cannot be an empty string")})),t[n]=Fe(n,i,r)}}))}stores(e){const t=this.db;this._cfg.storesSource=this._cfg.storesSource?r(this._cfg.storesSource,e):e;const n=t._versions,i={};let o={};return n.forEach((e=>{r(i,e._cfg.storesSource),o=e._cfg.dbschema={},e._parseStoresSpec(i,o)})),t._dbSchema=o,Ke(t,[t._allTables,t,t.Transaction.prototype]),We(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],St(o),o),t._storeNames=St(o),this}upgrade(e){return this._cfg.contentUpgrade=M(this._cfg.contentUpgrade||R,e),this}}const Gn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){function n(e,t,r){const i=He(e),o=s[i]=s[i]||[],c=null==e?0:"string"==typeof e?1:e.length,u=t>0,l={...r,isVirtual:u,keyTail:t,keyLength:c,extractKey:je(e),unique:!u&&r.unique};(o.push(l),l.isPrimaryKey||a.push(l),c>1)&&n(2===c?e[0]:e.slice(0,c-1),t+1,r);return o.sort(((e,t)=>e.keyTail-t.keyTail)),l}function r(t){const n=t.query.index;return n.isVirtual?{...t,query:{index:n,range:(r=t.query.range,i=n.keyTail,{type:1===r.type?2:r.type,lower:at(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,i),lowerOpen:!0,upper:at(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,i),upperOpen:!0})}}:t;var r,i}const i=e.table(t),{schema:o}=i,s={},a=[],c=n(o.primaryKey.keyPath,0,o.primaryKey);s[":id"]=[c];for(const e of o.indexes)n(e.keyPath,0,e);const u={...i,schema:{...o,primaryKey:c,indexes:a,getIndexByKeyPath:function(e){const t=s[He(e)];return t&&t[0]}},count:e=>i.count(r(e)),query:e=>i.query(r(e)),openCursor(t){const{keyTail:n,isVirtual:o,keyLength:s}=t.query.index;return o?i.openCursor(r(t)).then((r=>r&&function(r){const i=Object.create(r,{continue:{value:function(i){null!=i?r.continue(at(i,t.reverse?e.MAX_KEY:e.MIN_KEY,n)):t.unique?r.continue(r.key.slice(0,s).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,n)):r.continue()}},continuePrimaryKey:{value(t,i){r.continuePrimaryKey(at(t,e.MAX_KEY,n),i)}},primaryKey:{get:()=>r.primaryKey},key:{get(){const e=r.key;return 1===s?e[0]:e.slice(0,s)}},value:{get:()=>r.value}});return i}(r))):i.openCursor(t)}};return u}}}},Hn={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema,o={...n,mutate(e){function o(e){const t=dn.trans,o=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(r,e);if(!o)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?{...e,keys:o}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),function(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}(n,e,o).then((s=>{const a=o.map(((n,o)=>{const a=s[o],f={onerror:null,onsuccess:null};if("delete"===e.type)c.fire.call(f,n,a,t);else if("add"===e.type||void 0===a){const i=u.fire.call(f,n,e.values[o],t);null==n&&null!=i&&(n=i,e.keys[o]=n,r.outbound||m(e.values[o],r.keyPath,n))}else{const r=ct(a,e.values[o]),s=l.fire.call(f,r,n,a,t);if(s){const t=e.values[o];Object.keys(s).forEach((e=>{i(t,e)?t[e]=s[e]:m(t,e,s[e])}))}}return f}));return n.mutate(e).then((({failures:t,results:n,numFailures:r,lastResult:i})=>{for(let r=0;r<o.length;++r){const i=n?n[r]:o[r],c=a[r];null==i?c.onerror&&c.onerror(t[r]):c.onsuccess&&c.onsuccess("put"===e.type&&s[r]?e.values[r]:i)}return{failures:t,results:n,numFailures:r,lastResult:i}})).catch((e=>(a.forEach((t=>t.onerror&&t.onerror(e))),Promise.reject(e))))}))}function s(e,t,i){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:i}).then((({result:n})=>o({type:"delete",keys:n,trans:e}).then((r=>r.numFailures>0?Promise.reject(r.failures[0]):n.length<i?{failures:[],numFailures:0,lastResult:void 0}:s(e,{...t,lower:n[n.length-1],lowerOpen:!0},i)))))}const a=dn.trans,{deleting:c,creating:u,updating:l}=a.table(t).hook;switch(e.type){case"add":if(u.fire===R)break;return a._promise("readwrite",(()=>o(e)),!0);case"put":if(u.fire===R&&l.fire===R)break;return a._promise("readwrite",(()=>o(e)),!0);case"delete":if(c.fire===R)break;return a._promise("readwrite",(()=>o(e)),!0);case"deleteRange":if(c.fire===R)break;return a._promise("readwrite",(()=>function(e){return s(e.trans,e.range,1e4)}(e)),!0)}return n.mutate(e)}};return o}})},Vn={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:e=>{if(!e.cache)return n.getMany(e);const t=ut(e.keys,e.trans._cache,"clone"===e.cache);return t?U.resolve(t):n.getMany(e).then((t=>(e.trans._cache={keys:e.keys,values:"clone"===e.cache?_(t):t},t)))},mutate:e=>("add"!==e.type&&(e.trans._cache=null),n.mutate(e))}}})},qn=function(e,t){if(!this){const t=new qn;return e&&"d"in e&&r(t,e),t}r(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};o(qn.prototype,{add(e){return dt(this,e),this},addKey(e){return ft(this,e,e),this},addKeys(e){return e.forEach((e=>ft(this,e,e))),this},[xt](){return pt(this)}});const Wn={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new qn(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const i=e.table(r),{schema:o}=i,{primaryKey:s}=o,{extractKey:a,outbound:c}=s,u={...i,mutate:e=>{const s=e.trans,a=s.mutatedParts||(s.mutatedParts={}),c=e=>{const n=`idb://${t}/${r}/${e}`;return a[n]||(a[n]=new qn)},u=c(""),l=c(":dels"),{type:f}=e;let[d,h]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const p=e.trans._cache;return i.mutate(e).then((e=>{if(bt(d)){"delete"!==f&&(d=e.results),u.addKeys(d);const t=ut(d,p);t||"add"===f||l.addKeys(d),(t||h)&&function(e,t,n,r){t.indexes.forEach((function(t){function i(e){return null!=e?t.extractKey(e):null}const o=e(t.name||""),s=e=>t.multiEntry&&bt(e)?e.forEach((e=>o.addKey(e))):o.addKey(e);(n||r).forEach(((e,t)=>{const o=n&&i(n[t]),a=r&&i(r[t]);0!==Ce(o,a)&&(null!=o&&s(o),null!=a&&s(a))}))}))}(c,o,t,h)}else if(d){const e={from:d.lower,to:d.upper};l.add(e),u.add(e)}else u.add(n),l.add(n),o.indexes.forEach((e=>c(e.name).add(n)));return e}))}},l=({query:{index:t,range:n}})=>{var r,i;return[t,new qn(null!==(r=n.lower)&&void 0!==r?r:e.MIN_KEY,null!==(i=n.upper)&&void 0!==i?i:e.MAX_KEY)]},f={get:e=>[s,new qn(e.key)],getMany:e=>[s,(new qn).addKeys(e.keys)],count:l,query:l,openCursor:l};return St(f).forEach((e=>{u[e]=function(o){const{subscr:s}=dn;if(s){const u=e=>{const n=`idb://${t}/${r}/${e}`;return s[n]||(s[n]=new qn)},l=u(""),d=u(":dels"),[h,p]=f[e](o);if(u(h.name||"").add(p),!h.isPrimaryKey){if("count"!==e){const t="query"===e&&c&&o.values&&i.query({...o,values:!1});return i[e].apply(this,arguments).then((n=>{if("query"===e){if(c&&o.values)return t.then((({result:e})=>(l.addKeys(e),n)));const e=o.values?n.result.map(a):n.result;o.values?l.addKeys(e):d.addKeys(e)}else if("openCursor"===e){const e=n,t=o.values;return e&&Object.create(e,{key:{get:()=>(d.addKey(e.primaryKey),e.key)},primaryKey:{get(){const t=e.primaryKey;return d.addKey(t),t}},value:{get:()=>(t&&l.addKey(e.primaryKey),e.value)}})}return n}))}d.add(n)}}return i[e].apply(this,arguments)}})),u}}}};class Kn{constructor(e,t){this._middlewares={},this.verno=0;const n=Kn.dependencies;this._options=t={addons:Kn.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:r}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:R,dbReadyPromise:null,cancelOpen:R,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;i.dbReadyPromise=new U((e=>{i.dbReadyResolve=e})),i.openCanceller=new U(((e,t)=>{i.cancelOpen=t})),this._state=i,this.name=e,this.on=me(this,"populate","blocked","versionchange","close",{ready:[M,R]}),this.on.ready.subscribe=l(this.on.ready.subscribe,(e=>(t,n)=>{Kn.vip((()=>{const r=this._state;if(r.openComplete)r.dbOpenError||U.resolve().then(t),n&&e(t);else if(r.onReadyBeingFired)r.onReadyBeingFired.push(t),n&&e(t);else{e(t);const r=this;n||e((function e(){r.on.ready.unsubscribe(t),r.on.ready.unsubscribe(e)}))}}))})),this.Collection=(o=this,ge(xn.prototype,(function(e,t){this.db=o;let n=Ln,r=null;if(t)try{n=t()}catch(e){r=e}const i=e._ctx,s=i.table,a=s.hook.reading.fire;this._ctx={table:s,index:i.index,isPrimKey:!i.index||s.schema.primKey.keyPath&&i.index===s.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:a!==O?a:null}}))),this.Table=function(e){return ge(Dn.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:me(null,{creating:[x,R],reading:[L,O],updating:[k,R],deleting:[P,R]})}))}(this),this.Transaction=function(e){return ge(Mn.prototype,(function(t,n,r,i,o){this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=i,this.idbtrans=null,this.on=me(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new U(((e,t)=>{this._resolve=e,this._reject=t})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),Tn(e)}))}))}(this),this.Version=function(e){return ge(jn.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return ge(kn.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};const i=e._deps.indexedDB;if(!i)throw new Wt.MissingAPI;this._cmp=this._ascending=i.cmp.bind(i),this._descending=(e,t)=>i.cmp(t,e),this._max=(e,t)=>i.cmp(e,t)>0?e:t,this._min=(e,t)=>i.cmp(e,t)<0?e:t,this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(e=>{e.newVersion,this.close()})),this.on("blocked",(e=>{!e.newVersion||(e.newVersion,e.oldVersion)})),this._maxKey=Un(t.IDBKeyRange),this._createTransaction=(e,t,n,r)=>new this.Transaction(e,t,n,this._options.chromeTransactionDurability,r),this._fireOnBlocked=e=>{this.on("blocked").fire(e),wn.filter((e=>e.name===this.name&&e!==this&&!e._state.vcFired)).map((t=>t.on("versionchange").fire(e)))},this.use(Gn),this.use(Hn),this.use(Wn),this.use(Vn),this.vip=Object.create(this,{_vip:{value:!0}}),r.forEach((e=>e(this)))}version(e){if(isNaN(e)||e<.1)throw new Wt.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new Wt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var n=t.filter((t=>t._cfg.version===e))[0];return n||(n=new this.Version(e),t.push(n),t.sort(ze),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||dn.letThrough||this._vip)?e():new U(((e,t)=>{if(this._state.openComplete)return t(new Wt.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new Wt.DatabaseClosed);this.open().catch(R)}this._state.dbReadyPromise.then(e,t)})).then(e)}use({stack:e,create:t,level:n,name:r}){r&&this.unuse({stack:e,name:r});const i=this._middlewares[e]||(this._middlewares[e]=[]);return i.push({stack:e,create:t,level:null==n?10:n,name:r}),i.sort(((e,t)=>e.level-t.level)),this}unuse({stack:e,name:t,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((e=>n?e.create!==n:!!t&&e.name!==t))),this}open(){return function(e){function t(){if(n.openCanceller!==i)throw new Wt.DatabaseClosed("db.open() was cancelled")}const n=e._state,{indexedDB:r}=e._deps;if(n.isBeingOpened||e.idbdb)return n.dbReadyPromise.then((()=>n.dbOpenError?Tn(n.dbOpenError):e));Mt&&(n.openCanceller._stackHolder=T()),n.isBeingOpened=!0,n.dbOpenError=null,n.openComplete=!1;const i=n.openCanceller;let o=n.dbReadyResolve,s=null,a=!1;return U.race([i,("undefined"==typeof navigator?U.resolve():rt()).then((()=>new U(((i,o)=>{if(t(),!r)throw new Wt.MissingAPI;const c=e.name,l=n.autoSchema?r.open(c):r.open(c,Math.round(10*e.verno));if(!l)throw new Wt.MissingAPI;l.onerror=ke(o),l.onblocked=J(e._fireOnBlocked),l.onupgradeneeded=J((t=>{if(s=l.transaction,n.autoSchema&&!e._options.allowEmptyDB){l.onerror=Be,s.abort(),l.result.close();const e=r.deleteDatabase(c);e.onsuccess=e.onerror=J((()=>{o(new Wt.NoSuchDatabase(`Database ${c} doesnt exist`))}))}else{s.onerror=ke(o);var i=t.oldVersion>Math.pow(2,62)?0:t.oldVersion;a=i<1,e._novip.idbdb=l.result,Ye(e,i/10,s,o)}}),o),l.onsuccess=J((()=>{s=null;const t=e._novip.idbdb=l.result,r=u(t.objectStoreNames);if(r.length>0)try{const i=t.transaction(1===(o=r).length?o[0]:o,"readonly");n.autoSchema?function({_novip:e},t,n){e.verno=t.version/10;const r=e._dbSchema=Je(0,t,n);e._storeNames=u(t.objectStoreNames,0),We(e,[e._allTables],St(r),r)}(e,t,i):(Ze(e,e._dbSchema,i),function(e,t){const n=$e(Je(0,e.idbdb,t),e._dbSchema);n.add.length||n.change.some((e=>e.add.length||e.change.length))}(e,i)),qe(e,i)}catch(e){}var o;wn.push(e),t.onversionchange=J((t=>{n.vcFired=!0,e.on("versionchange").fire(t)})),t.onclose=J((t=>{e.on("close").fire(t)})),a&&function({indexedDB:e,IDBKeyRange:t},n){!tt(e)&&"__dbnames"!==n&&et(e,t).put({name:n}).catch(R)}(e._deps,c),i()}),o)}))))]).then((()=>(t(),n.onReadyBeingFired=[],U.resolve(nt((()=>e.on.ready.fire(e.vip)))).then((function t(){if(n.onReadyBeingFired.length>0){let r=n.onReadyBeingFired.reduce(M,R);return n.onReadyBeingFired=[],U.resolve(nt((()=>r(e.vip)))).then(t)}}))))).finally((()=>{n.onReadyBeingFired=null,n.isBeingOpened=!1})).then((()=>e)).catch((t=>{n.dbOpenError=t;try{s&&s.abort()}catch(e){}return i===n.openCanceller&&e._close(),Tn(t)})).finally((()=>{n.openComplete=!0,o()}))}(this)}_close(){const e=this._state,t=wn.indexOf(this);if(t>=0&&wn.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new U((t=>{e.dbReadyResolve=t})),e.openCanceller=new U(((t,n)=>{e.cancelOpen=n}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new Wt.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new U(((n,r)=>{const i=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=J((()=>{!function({indexedDB:e,IDBKeyRange:t},n){!tt(e)&&"__dbnames"!==n&&et(e,t).delete(n).catch(R)}(this._deps,this.name),n()})),e.onerror=ke(r),e.onblocked=this._fireOnBlocked};if(e)throw new Wt.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(i):i()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return St(this._allTables).map((e=>this._allTables[e]))}transaction(){const e=ot.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,n){let r=dn.trans;r&&r.db===this&&-1===e.indexOf("!")||(r=null);const i=-1!==e.indexOf("?");let o,s;e=e.replace("!","").replace("?","");try{if(s=t.map((e=>{var t=e instanceof this.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||"readonly"===e)o="readonly";else{if("rw"!=e&&"readwrite"!=e)throw new Wt.InvalidArgument("Invalid transaction mode: "+e);o="readwrite"}if(r){if("readonly"===r.mode&&"readwrite"===o){if(!i)throw new Wt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&s.forEach((e=>{if(r&&-1===r.storeNames.indexOf(e)){if(!i)throw new Wt.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),i&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,((t,n)=>{n(e)})):Tn(e)}const a=st.bind(null,this,o,s,r,n);return r?r._promise(o,a,"lock"):dn.trans?ae(dn.transless,(()=>this._whenReady(a))):this._whenReady(a)}table(e){if(!i(this._allTables,e))throw new Wt.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const zn="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class Yn{constructor(e){this._subscribe=e}subscribe(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})}[zn](){return this}}let $n;try{$n={indexedDB:Et.indexedDB||Et.mozIndexedDB||Et.webkitIndexedDB||Et.msIndexedDB,IDBKeyRange:Et.IDBKeyRange||Et.webkitIDBKeyRange}}catch(Et){$n={indexedDB:null,IDBKeyRange:null}}const Qn=Kn;o(Qn,{...zt,delete:e=>new Qn(e,{addons:[]}).delete(),exists:e=>new Qn(e,{addons:[]}).open().then((e=>(e.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(e){try{return function({indexedDB:e,IDBKeyRange:t}){return tt(e)?Promise.resolve(e.databases()).then((e=>e.map((e=>e.name)).filter((e=>"__dbnames"!==e)))):et(e,t).toCollection().primaryKeys()}(Qn.dependencies).then(e)}catch(e){return Tn(new Wt.MissingAPI)}},defineClass:()=>function(e){r(this,e)},ignoreTransaction:e=>dn.trans?ae(dn.transless,e):e(),vip:nt,async:function(e){return function(){try{var t=it(e.apply(this,arguments));return t&&"function"==typeof t.then?t:U.resolve(t)}catch(e){return Tn(e)}}},spawn:function(e,t,n){try{var r=it(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:U.resolve(r)}catch(e){return Tn(e)}},currentTransaction:{get:()=>dn.trans||null},waitFor:function(e,t){const n=U.resolve("function"==typeof e?Qn.ignoreTransaction(e):e).timeout(t||6e4);return dn.trans?dn.trans.waitFor(n):n},Promise:U,debug:{get:()=>Mt,set:e=>{b(e,"dexie"===e?()=>!0:On)}},derive:a,extend:r,props:o,override:l,Events:me,on:Bn,liveQuery:_t,extendObservabilitySet:yt,getByKeyPath:p,setByKeyPath:m,delByKeyPath:function(e,t){"string"==typeof t?m(e,t,void 0):"length"in t&&[].map.call(t,(function(t){m(e,t,void 0)}))},shallowClone:g,deepClone:_,getObjectDiff:ct,cmp:Ce,asap:d,minKey:-1/0,addons:[],connections:wn,errnames:Vt,dependencies:$n,semVer:"3.2.2",version:"3.2.2".split(".").map((e=>parseInt(e))).reduce(((e,t,n)=>e+t/Math.pow(10,2*n)))}),Qn.maxKey=Un(Qn.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(Bn("storagemutated",(e=>{if(!Xn){let t;Nn?(t=document.createEvent("CustomEvent"),t.initCustomEvent("x-storagemutated-1",!0,!0,e)):t=new CustomEvent("x-storagemutated-1",{detail:e}),Xn=!0,dispatchEvent(t),Xn=!1}})),addEventListener("x-storagemutated-1",(({detail:e})=>{Xn||vt(e)})));let Xn=!1;if("undefined"!=typeof BroadcastChannel){const e=new BroadcastChannel("x-storagemutated-1");Bn("storagemutated",(t=>{Xn||e.postMessage(t)})),e.onmessage=e=>{e.data&&vt(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){Bn("storagemutated",(e=>{try{Xn||("undefined"!=typeof localStorage&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:"x-storagemutated-1",changedParts:e}))))}catch(e){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(e=>{if("x-storagemutated-1"===e.key){const t=JSON.parse(e.newValue);t&&vt(t.changedParts)}}));const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",(function({data:e}){e&&"x-storagemutated-1"===e.type&&vt(e.changedParts)}))}U.rejectionMapper=function(e,t){if(!e||e instanceof I||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Kt[e.name])return e;var n=new Kt[e.name](t||e.message,e);return"stack"in e&&s(n,"stack",{get:function(){return this.inner.stack}}),n},b(Mt,On)},1635:(e,t,n)=>{"use strict";function r(e,t){function n(){this.constructor=e}if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");D(e,t);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function o(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function s(e,t){return function(n,r){t(n,r,e)}}function a(e,t,n,r,i,o){function s(e){if(void 0!==e&&"function"!==typeof e)throw new TypeError("Function expected");return e}for(var a,c=r.kind,u="getter"===c?"get":"setter"===c?"set":"value",l=!t&&e?r["static"]?e:e.prototype:null,f=t||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),d=!1,h=n.length-1;h>=0;h--){var p={};for(var m in r)p[m]="access"===m?{}:r[m];for(var m in r.access)p.access[m]=r.access[m];p.addInitializer=function(e){if(d)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(e||null))};var g=(0,n[h])("accessor"===c?{get:f.get,set:f.set}:f[u],p);if("accessor"===c){if(void 0===g)continue;if(null===g||"object"!==typeof g)throw new TypeError("Object expected");(a=s(g.get))&&(f.get=a);(a=s(g.set))&&(f.set=a);(a=s(g.init))&&i.unshift(a)}else(a=s(g))&&("field"===c?i.unshift(a):f[u]=a)}l&&Object.defineProperty(l,r.name,f);d=!0}function c(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function u(e){return"symbol"===typeof e?e:"".concat(e)}function l(e,t,n){"symbol"===typeof t&&(t=t.description?"[".concat(t.description,"]"):"");return Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function f(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function d(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r["throw"](e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function h(e,t){function n(n){return function(c){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,n[0]&&(a=0)),a;)try{if(r=1,i&&(o=2&n[0]?i["return"]:n[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;(i=0,o)&&(n=[2&n[0],o.value]);switch(n[0]){case 0:case 1:o=n;break;case 4:a.label++;return{value:n[1],done:!1};case 5:a.label++;i=n[1];n=[0];continue;case 7:n=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){a.label=n[1];break}if(6===n[0]&&a.label<o[1]){a.label=o[1];o=n;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(n);break}o[2]&&a.ops.pop();a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e];i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,c])}}var r,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function p(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||P(t,e,n)}function m(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){e&&r>=e.length&&(e=void 0);return{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function _(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function v(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)if(r||!(i in t)){r||(r=Array.prototype.slice.call(t,0,i));r[i]=t[i]}return e.concat(r||Array.prototype.slice.call(t))}function E(e){return this instanceof E?(this.v=e,this):new E(e)}function S(e,t,n){function r(e){u[e]&&(c[e]=function(t){return new Promise((function(n,r){l.push([e,t,n,r])>1||i(e,t)}))})}function i(e,t){try{!function(e){e.value instanceof E?Promise.resolve(e.value.v).then(o,s):a(l[0][2],e)}(u[e](t))}catch(e){a(l[0][3],e)}}function o(e){i("next",e)}function s(e){i("throw",e)}function a(e,t){(e(t),l.shift(),l.length)&&i(l[0][0],l[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,u=n.apply(e,t||[]),l=[];return c={},r("next"),r("throw"),r("return"),c[Symbol.asyncIterator]=function(){return this},c}function b(e){function t(t,i){n[t]=e[t]?function(n){return(r=!r)?{value:E(e[t](n)),done:!1}:i?i(n):n}:i}var n,r;return n={},t("next"),t("throw",(function(e){throw e})),t("return"),n[Symbol.iterator]=function(){return this},n}function T(e){function t(t){n[t]=e[t]&&function(n){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(n=e[t](n)).done,n.value)}))}}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,r=e[Symbol.asyncIterator];return r?r.call(e):(e=m(e),n={},t("next"),t("throw"),t("return"),n[Symbol.asyncIterator]=function(){return this},n)}function C(e,t){Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t;return e}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&P(t,e,n);k(t,e);return t}function w(e){return e&&e.__esModule?e:{default:e}}function N(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function A(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function R(e,t){if(null===t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof e?t===e:e.has(t)}function O(e,t,n){if(null!==t&&void 0!==t){if("object"!==typeof t&&"function"!==typeof t)throw new TypeError("Object expected.");var r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if("function"!==typeof r)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}function L(e){function t(t){e.error=e.hasError?new B(t,e.error,"An error was suppressed during disposal."):t;e.hasError=!0}return function n(){for(;e.stack.length;){var r=e.stack.pop();try{var i=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(i).then(n,(function(e){t(e);return n()}))}catch(e){t(e)}}if(e.hasError)throw e.error}()}n.r(t);n.d(t,{__addDisposableResource:()=>O,__assign:()=>x,__asyncDelegator:()=>b,__asyncGenerator:()=>S,__asyncValues:()=>T,__await:()=>E,__awaiter:()=>d,__classPrivateFieldGet:()=>N,__classPrivateFieldIn:()=>R,__classPrivateFieldSet:()=>A,__createBinding:()=>P,__decorate:()=>o,__disposeResources:()=>L,__esDecorate:()=>a,__exportStar:()=>p,__extends:()=>r,__generator:()=>h,__importDefault:()=>w,__importStar:()=>I,__makeTemplateObject:()=>C,__metadata:()=>f,__param:()=>s,__propKey:()=>u,__read:()=>g,__rest:()=>i,__runInitializers:()=>c,__setFunctionName:()=>l,__spread:()=>y,__spreadArray:()=>v,__spreadArrays:()=>_,__values:()=>m,default:()=>M});var D=function(e,t){D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};return D(e,t)},x=function(){x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};return x.apply(this,arguments)},P=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}});Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n);e[r]=t[n]},k=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t},B="function"===typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};const M={__extends:r,__assign:x,__rest:i,__decorate:o,__param:s,__metadata:f,__awaiter:d,__generator:h,__createBinding:P,__exportStar:p,__values:m,__read:g,__spread:y,__spreadArrays:_,__spreadArray:v,__await:E,__asyncGenerator:S,__asyncDelegator:b,__asyncValues:T,__makeTemplateObject:C,__importStar:I,__importDefault:w,__classPrivateFieldGet:N,__classPrivateFieldSet:A,__classPrivateFieldIn:R,__addDisposableResource:O,__disposeResources:L}}},__webpack_module_cache__={};(()=>{__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}})();(()=>{__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})();(()=>{__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})();(()=>{__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});Object.defineProperty(e,"__esModule",{value:!0})}})();(()=>{__webpack_require__.nmd=e=>{e.paths=[];e.children||(e.children=[]);return e}})();var __webpack_exports__={};(()=>{"use strict";__webpack_require__(2363),__webpack_require__(6796),__webpack_require__(3964)})()})();